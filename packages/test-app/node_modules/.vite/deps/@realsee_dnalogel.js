import {
  I,
  L,
  O,
  Q
} from "./chunk-4OM5AGSX.js";
import {
  Camera as Camera2,
  Five,
  InternalWebGLRenderer,
  Subscribe,
  loadAt3d
} from "./chunk-3FKD32UE.js";
import {
  AddEquation,
  AdditiveBlending,
  AmbientLight,
  AnimationClip,
  AnimationMixer,
  Bone,
  Box3,
  BoxGeometry,
  BufferAttribute,
  BufferGeometry,
  Camera,
  CanvasTexture,
  CatmullRomCurve3,
  CircleGeometry,
  ClampToEdgeWrapping,
  Color,
  CompressedTextureLoader,
  ConeGeometry,
  Curve,
  CurvePath,
  CustomBlending,
  CylinderGeometry,
  DirectionalLight,
  DoubleSide,
  DstAlphaFactor,
  DstColorFactor,
  EdgesGeometry,
  EquirectangularReflectionMapping,
  Euler,
  ExtrudeBufferGeometry,
  Face3,
  FileLoader,
  Float32BufferAttribute,
  FrontSide,
  Frustum,
  Group,
  InstancedInterleavedBuffer,
  InterleavedBuffer,
  InterleavedBufferAttribute,
  Interpolant,
  InterpolateDiscrete,
  InterpolateLinear,
  Line,
  Line3,
  LineBasicMaterial,
  LineCurve3,
  LineLoop,
  LineSegments,
  LinearFilter,
  LinearMipmapLinearFilter,
  LinearMipmapNearestFilter,
  Loader,
  LoaderUtils,
  Material,
  MathUtils,
  Matrix3,
  Matrix4,
  Mesh,
  MeshBasicMaterial,
  MeshLambertMaterial,
  MeshPhongMaterial,
  MeshPhysicalMaterial,
  MeshStandardMaterial,
  MirroredRepeatWrapping,
  NearestFilter,
  NearestMipmapLinearFilter,
  NearestMipmapNearestFilter,
  NumberKeyframeTrack,
  Object3D,
  OneFactor,
  OneMinusSrcAlphaFactor,
  OrthographicCamera,
  PerspectiveCamera,
  Plane,
  PlaneBufferGeometry,
  PlaneGeometry,
  PointLight,
  Points,
  PointsMaterial,
  PropertyBinding,
  Quaternion,
  QuaternionKeyframeTrack,
  RGBAFormat,
  RGBA_S3TC_DXT3_Format,
  RGBA_S3TC_DXT5_Format,
  RGBFormat,
  RGB_ETC1_Format,
  RGB_S3TC_DXT1_Format,
  Raycaster,
  RepeatWrapping,
  RingGeometry,
  Scene,
  ShaderMaterial,
  Shape,
  Skeleton,
  SkinnedMesh,
  Sphere,
  SphereBufferGeometry,
  SphereGeometry,
  SpotLight,
  SrcAlphaFactor,
  TangentSpaceNormalMap,
  Texture,
  TextureLoader,
  TriangleFanDrawMode,
  TriangleStripDrawMode,
  TubeBufferGeometry,
  TubeGeometry,
  Uint16BufferAttribute,
  UniformsLib,
  UniformsUtils,
  Vector2,
  Vector3,
  Vector4,
  VectorKeyframeTrack,
  VideoTexture,
  WebGLRenderer,
  sRGBEncoding,
  three_module_exports
} from "./chunk-P7TF6BZ5.js";
import "./chunk-G3PMV62Z.js";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/logger.js
function A() {
  console.debug(
    "%c %c@realsee/dnalogel %cv3.67.2",
    [
      "background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAMCAMAAACHgmeRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAABLFBMVEUAAAAapPoap/oaqvkbrfkbr/gZnfwZoPsaqfnD4v/E4/8Ylv0clPm93/+/4P/B4f8Yj/683/8Wif+33P8Uhv+x2f8ShP+s1v8Pgf+n0/8Nf/+h0f8Lff8Lff8Nf/9dl/+czv8KfP8KfP+Lxf+Uyv+Xy/+Hwv+Jw/+Mxf+Oxv+RyP8aovsapfoap/oZmfwZm/wZnvsYnPsYkf4YlP0NePsDYfgYcfi43f+63v8Xiv8Xjf4EWfwCV/sWZ/qz2v+02/8Vh/8WiP8EUf8CTf4WXv2u1/+v2P8Thf8Thv8ETf8CR/8VV/+o1f+q1f8Qgv8Rg/8DSv8BRf8UVP+j0v+k0v8OgP8Pgf8DR/8DQv9Nhf+dzv+fz/+Kv/+Vyv+Xy/+azf+Oxv+Qx/+SyP////8MUhLdAAAAK3RSTlMACEWQ2bd98uQECPXxqO7c+Pb49vj2+Pb49vj23Oul8fMHA+TwerXXjEIG2P+bHgAAAAFiS0dEY1y+LaoAAAB+SURBVAjXY2BgZGJmYWVgYGBgY9fW0eVg4ORi4NbTNzDk4eXjZxAwMjYxNTO3EGQQsrSytrG1sxdmEHFwdHJ2cXUTZRBz9/D08vbxFWeQ8PMPCAwKDpFkkAoNC4+IjIqWZpCRlZOPiY2LV2BQVGJQTkhMUlEFWaOmrqGpxQAAyg0S9Dq+VPYAAAAASUVORK5CYII=')",
      "background-repeat: no-repeat",
      "background-position: 0 center",
      "padding-left: 8px"
    ].join(";"),
    "",
    "background-color: #12ce9b;color:black;padding:0 6px;border-radius: 3px"
  );
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/offscreenCanvas.js
function c() {
  const e48 = typeof OffscreenCanvas != "undefined", a62 = e48 && new OffscreenCanvas(1, 1).getContext("webgl") !== null;
  e48 && !a62 && Object.assign(window, {
    OffscreenCanvas: function(s60, t43) {
      const n72 = document.createElement("canvas");
      return n72.width = s60, n72.height = t43, n72;
    }
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/components/PaintBrush/utils.js
function m() {
}
var i = () => Promise.resolve();
var c2 = {
  __queue: Promise.resolve()
};
function _(e48 = i) {
  c2.__queue = c2.__queue.then(e48).catch(i);
}
function l(e48, t43, n72) {
  const o71 = e48.x, r66 = e48.y, s60 = Math.floor(o71 / t43 * 1e4) / 1e4, u72 = Math.floor(r66 / n72 * 1e4) / 1e4;
  return { x: s60, y: u72 };
}
function w(e48, t43, n72) {
  const { x: o71, y: r66 } = e48, s60 = o71 * t43, u72 = r66 * n72;
  return { x: s60, y: u72 };
}
function y(e48) {
  if (e48.length < 2)
    return {};
  const t43 = e48.slice(-2), n72 = t43[0], o71 = {
    x: (t43[0].x + t43[1].x) / 2,
    y: (t43[0].y + t43[1].y) / 2
  };
  return { control: n72, end: o71 };
}
function q(e48, t43, n72 = m) {
  new Promise((o71) => {
    setTimeout(() => {
      n72(), o71(true);
    }, t43 * e48);
  });
}
var f = window;
var a = window.requestAnimationFrame || f.webkitRequestAnimationFrame || ((e48) => setTimeout(e48, 16));
function x(e48, t43 = 0) {
  t43 <= 0 ? a(e48) : a(() => x(e48, t43 - 1));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/@tweenjs/tween/dist/tween.esm.js.js
var y2 = Object.freeze({
  Linear: Object.freeze({
    None: function(t43) {
      return t43;
    },
    In: function(t43) {
      return t43;
    },
    Out: function(t43) {
      return t43;
    },
    InOut: function(t43) {
      return t43;
    }
  }),
  Quadratic: Object.freeze({
    In: function(t43) {
      return t43 * t43;
    },
    Out: function(t43) {
      return t43 * (2 - t43);
    },
    InOut: function(t43) {
      return (t43 *= 2) < 1 ? 0.5 * t43 * t43 : -0.5 * (--t43 * (t43 - 2) - 1);
    }
  }),
  Cubic: Object.freeze({
    In: function(t43) {
      return t43 * t43 * t43;
    },
    Out: function(t43) {
      return --t43 * t43 * t43 + 1;
    },
    InOut: function(t43) {
      return (t43 *= 2) < 1 ? 0.5 * t43 * t43 * t43 : 0.5 * ((t43 -= 2) * t43 * t43 + 2);
    }
  }),
  Quartic: Object.freeze({
    In: function(t43) {
      return t43 * t43 * t43 * t43;
    },
    Out: function(t43) {
      return 1 - --t43 * t43 * t43 * t43;
    },
    InOut: function(t43) {
      return (t43 *= 2) < 1 ? 0.5 * t43 * t43 * t43 * t43 : -0.5 * ((t43 -= 2) * t43 * t43 * t43 - 2);
    }
  }),
  Quintic: Object.freeze({
    In: function(t43) {
      return t43 * t43 * t43 * t43 * t43;
    },
    Out: function(t43) {
      return --t43 * t43 * t43 * t43 * t43 + 1;
    },
    InOut: function(t43) {
      return (t43 *= 2) < 1 ? 0.5 * t43 * t43 * t43 * t43 * t43 : 0.5 * ((t43 -= 2) * t43 * t43 * t43 * t43 + 2);
    }
  }),
  Sinusoidal: Object.freeze({
    In: function(t43) {
      return 1 - Math.sin((1 - t43) * Math.PI / 2);
    },
    Out: function(t43) {
      return Math.sin(t43 * Math.PI / 2);
    },
    InOut: function(t43) {
      return 0.5 * (1 - Math.sin(Math.PI * (0.5 - t43)));
    }
  }),
  Exponential: Object.freeze({
    In: function(t43) {
      return t43 === 0 ? 0 : Math.pow(1024, t43 - 1);
    },
    Out: function(t43) {
      return t43 === 1 ? 1 : 1 - Math.pow(2, -10 * t43);
    },
    InOut: function(t43) {
      return t43 === 0 ? 0 : t43 === 1 ? 1 : (t43 *= 2) < 1 ? 0.5 * Math.pow(1024, t43 - 1) : 0.5 * (-Math.pow(2, -10 * (t43 - 1)) + 2);
    }
  }),
  Circular: Object.freeze({
    In: function(t43) {
      return 1 - Math.sqrt(1 - t43 * t43);
    },
    Out: function(t43) {
      return Math.sqrt(1 - --t43 * t43);
    },
    InOut: function(t43) {
      return (t43 *= 2) < 1 ? -0.5 * (Math.sqrt(1 - t43 * t43) - 1) : 0.5 * (Math.sqrt(1 - (t43 -= 2) * t43) + 1);
    }
  }),
  Elastic: Object.freeze({
    In: function(t43) {
      return t43 === 0 ? 0 : t43 === 1 ? 1 : -Math.pow(2, 10 * (t43 - 1)) * Math.sin((t43 - 1.1) * 5 * Math.PI);
    },
    Out: function(t43) {
      return t43 === 0 ? 0 : t43 === 1 ? 1 : Math.pow(2, -10 * t43) * Math.sin((t43 - 0.1) * 5 * Math.PI) + 1;
    },
    InOut: function(t43) {
      return t43 === 0 ? 0 : t43 === 1 ? 1 : (t43 *= 2, t43 < 1 ? -0.5 * Math.pow(2, 10 * (t43 - 1)) * Math.sin((t43 - 1.1) * 5 * Math.PI) : 0.5 * Math.pow(2, -10 * (t43 - 1)) * Math.sin((t43 - 1.1) * 5 * Math.PI) + 1);
    }
  }),
  Back: Object.freeze({
    In: function(t43) {
      var e48 = 1.70158;
      return t43 === 1 ? 1 : t43 * t43 * ((e48 + 1) * t43 - e48);
    },
    Out: function(t43) {
      var e48 = 1.70158;
      return t43 === 0 ? 0 : --t43 * t43 * ((e48 + 1) * t43 + e48) + 1;
    },
    InOut: function(t43) {
      var e48 = 2.5949095;
      return (t43 *= 2) < 1 ? 0.5 * (t43 * t43 * ((e48 + 1) * t43 - e48)) : 0.5 * ((t43 -= 2) * t43 * ((e48 + 1) * t43 + e48) + 2);
    }
  }),
  Bounce: Object.freeze({
    In: function(t43) {
      return 1 - y2.Bounce.Out(1 - t43);
    },
    Out: function(t43) {
      return t43 < 0.36363636363636365 ? 7.5625 * t43 * t43 : t43 < 0.7272727272727273 ? 7.5625 * (t43 -= 0.5454545454545454) * t43 + 0.75 : t43 < 0.9090909090909091 ? 7.5625 * (t43 -= 0.8181818181818182) * t43 + 0.9375 : 7.5625 * (t43 -= 0.9545454545454546) * t43 + 0.984375;
    },
    InOut: function(t43) {
      return t43 < 0.5 ? y2.Bounce.In(t43 * 2) * 0.5 : y2.Bounce.Out(t43 * 2 - 1) * 0.5 + 0.5;
    }
  }),
  generatePow: function(t43) {
    return t43 === void 0 && (t43 = 4), t43 = t43 < Number.EPSILON ? Number.EPSILON : t43, t43 = t43 > 1e4 ? 1e4 : t43, {
      In: function(e48) {
        return Math.pow(e48, t43);
      },
      Out: function(e48) {
        return 1 - Math.pow(1 - e48, t43);
      },
      InOut: function(e48) {
        return e48 < 0.5 ? Math.pow(e48 * 2, t43) / 2 : (1 - Math.pow(2 - e48 * 2, t43)) / 2 + 0.5;
      }
    };
  }
});
var v = function() {
  return performance.now();
};
var P = (
  /** @class */
  function() {
    function t43() {
      this._tweens = {}, this._tweensAddedDuringUpdate = {};
    }
    return t43.prototype.getAll = function() {
      var e48 = this;
      return Object.keys(this._tweens).map(function(i65) {
        return e48._tweens[i65];
      });
    }, t43.prototype.removeAll = function() {
      this._tweens = {};
    }, t43.prototype.add = function(e48) {
      this._tweens[e48.getId()] = e48, this._tweensAddedDuringUpdate[e48.getId()] = e48;
    }, t43.prototype.remove = function(e48) {
      delete this._tweens[e48.getId()], delete this._tweensAddedDuringUpdate[e48.getId()];
    }, t43.prototype.update = function(e48, i65) {
      e48 === void 0 && (e48 = v()), i65 === void 0 && (i65 = false);
      var r66 = Object.keys(this._tweens);
      if (r66.length === 0)
        return false;
      for (; r66.length > 0; ) {
        this._tweensAddedDuringUpdate = {};
        for (var n72 = 0; n72 < r66.length; n72++) {
          var s60 = this._tweens[r66[n72]], a62 = !i65;
          s60 && s60.update(e48, a62) === false && !i65 && delete this._tweens[r66[n72]];
        }
        r66 = Object.keys(this._tweensAddedDuringUpdate);
      }
      return true;
    }, t43;
  }()
);
var d = {
  Linear: function(t43, e48) {
    var i65 = t43.length - 1, r66 = i65 * e48, n72 = Math.floor(r66), s60 = d.Utils.Linear;
    return e48 < 0 ? s60(t43[0], t43[1], r66) : e48 > 1 ? s60(t43[i65], t43[i65 - 1], i65 - r66) : s60(t43[n72], t43[n72 + 1 > i65 ? i65 : n72 + 1], r66 - n72);
  },
  Bezier: function(t43, e48) {
    for (var i65 = 0, r66 = t43.length - 1, n72 = Math.pow, s60 = d.Utils.Bernstein, a62 = 0; a62 <= r66; a62++)
      i65 += n72(1 - e48, r66 - a62) * n72(e48, a62) * t43[a62] * s60(r66, a62);
    return i65;
  },
  CatmullRom: function(t43, e48) {
    var i65 = t43.length - 1, r66 = i65 * e48, n72 = Math.floor(r66), s60 = d.Utils.CatmullRom;
    return t43[0] === t43[i65] ? (e48 < 0 && (n72 = Math.floor(r66 = i65 * (1 + e48))), s60(t43[(n72 - 1 + i65) % i65], t43[n72], t43[(n72 + 1) % i65], t43[(n72 + 2) % i65], r66 - n72)) : e48 < 0 ? t43[0] - (s60(t43[0], t43[0], t43[1], t43[1], -r66) - t43[0]) : e48 > 1 ? t43[i65] - (s60(t43[i65], t43[i65], t43[i65 - 1], t43[i65 - 1], r66 - i65) - t43[i65]) : s60(t43[n72 ? n72 - 1 : 0], t43[n72], t43[i65 < n72 + 1 ? i65 : n72 + 1], t43[i65 < n72 + 2 ? i65 : n72 + 2], r66 - n72);
  },
  Utils: {
    Linear: function(t43, e48, i65) {
      return (e48 - t43) * i65 + t43;
    },
    Bernstein: function(t43, e48) {
      var i65 = d.Utils.Factorial;
      return i65(t43) / i65(e48) / i65(t43 - e48);
    },
    Factorial: /* @__PURE__ */ function() {
      var t43 = [1];
      return function(e48) {
        var i65 = 1;
        if (t43[e48])
          return t43[e48];
        for (var r66 = e48; r66 > 1; r66--)
          i65 *= r66;
        return t43[e48] = i65, i65;
      };
    }(),
    CatmullRom: function(t43, e48, i65, r66, n72) {
      var s60 = (i65 - t43) * 0.5, a62 = (r66 - e48) * 0.5, h66 = n72 * n72, f80 = n72 * h66;
      return (2 * e48 - 2 * i65 + s60 + a62) * f80 + (-3 * e48 + 3 * i65 - 2 * s60 - a62) * h66 + s60 * n72 + e48;
    }
  }
};
var w2 = (
  /** @class */
  function() {
    function t43() {
    }
    return t43.nextId = function() {
      return t43._nextId++;
    }, t43._nextId = 0, t43;
  }()
);
var O2 = new P();
var M = (
  /** @class */
  function() {
    function t43(e48, i65) {
      i65 === void 0 && (i65 = O2), this._object = e48, this._group = i65, this._isPaused = false, this._pauseStart = 0, this._valuesStart = {}, this._valuesEnd = {}, this._valuesStartRepeat = {}, this._duration = 1e3, this._isDynamic = false, this._initialRepeat = 0, this._repeat = 0, this._yoyo = false, this._isPlaying = false, this._reversed = false, this._delayTime = 0, this._startTime = 0, this._easingFunction = y2.Linear.None, this._interpolationFunction = d.Linear, this._chainedTweens = [], this._onStartCallbackFired = false, this._onEveryStartCallbackFired = false, this._id = w2.nextId(), this._isChainStopped = false, this._propertiesAreSetUp = false, this._goToEnd = false;
    }
    return t43.prototype.getId = function() {
      return this._id;
    }, t43.prototype.isPlaying = function() {
      return this._isPlaying;
    }, t43.prototype.isPaused = function() {
      return this._isPaused;
    }, t43.prototype.getDuration = function() {
      return this._duration;
    }, t43.prototype.to = function(e48, i65) {
      if (i65 === void 0 && (i65 = 1e3), this._isPlaying)
        throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");
      return this._valuesEnd = e48, this._propertiesAreSetUp = false, this._duration = i65 < 0 ? 0 : i65, this;
    }, t43.prototype.duration = function(e48) {
      return e48 === void 0 && (e48 = 1e3), this._duration = e48 < 0 ? 0 : e48, this;
    }, t43.prototype.dynamic = function(e48) {
      return e48 === void 0 && (e48 = false), this._isDynamic = e48, this;
    }, t43.prototype.start = function(e48, i65) {
      if (e48 === void 0 && (e48 = v()), i65 === void 0 && (i65 = false), this._isPlaying)
        return this;
      if (this._group && this._group.add(this), this._repeat = this._initialRepeat, this._reversed) {
        this._reversed = false;
        for (var r66 in this._valuesStartRepeat)
          this._swapEndStartRepeatValues(r66), this._valuesStart[r66] = this._valuesStartRepeat[r66];
      }
      if (this._isPlaying = true, this._isPaused = false, this._onStartCallbackFired = false, this._onEveryStartCallbackFired = false, this._isChainStopped = false, this._startTime = e48, this._startTime += this._delayTime, !this._propertiesAreSetUp || i65) {
        if (this._propertiesAreSetUp = true, !this._isDynamic) {
          var n72 = {};
          for (var s60 in this._valuesEnd)
            n72[s60] = this._valuesEnd[s60];
          this._valuesEnd = n72;
        }
        this._setupProperties(this._object, this._valuesStart, this._valuesEnd, this._valuesStartRepeat, i65);
      }
      return this;
    }, t43.prototype.startFromCurrentValues = function(e48) {
      return this.start(e48, true);
    }, t43.prototype._setupProperties = function(e48, i65, r66, n72, s60) {
      for (var a62 in r66) {
        var h66 = e48[a62], f80 = Array.isArray(h66), _32 = f80 ? "array" : typeof h66, l63 = !f80 && Array.isArray(r66[a62]);
        if (!(_32 === "undefined" || _32 === "function")) {
          if (l63) {
            var u72 = r66[a62];
            if (u72.length === 0)
              continue;
            for (var C52 = [h66], p66 = 0, b55 = u72.length; p66 < b55; p66 += 1) {
              var I49 = this._handleRelativeValue(h66, u72[p66]);
              if (isNaN(I49)) {
                l63 = false, console.warn("Found invalid interpolation list. Skipping.");
                break;
              }
              C52.push(I49);
            }
            l63 && (r66[a62] = C52);
          }
          if ((_32 === "object" || f80) && h66 && !l63) {
            i65[a62] = f80 ? [] : {};
            var g67 = h66;
            for (var c85 in g67)
              i65[a62][c85] = g67[c85];
            n72[a62] = f80 ? [] : {};
            var u72 = r66[a62];
            if (!this._isDynamic) {
              var S52 = {};
              for (var c85 in u72)
                S52[c85] = u72[c85];
              r66[a62] = u72 = S52;
            }
            this._setupProperties(g67, i65[a62], u72, n72[a62], s60);
          } else
            (typeof i65[a62] == "undefined" || s60) && (i65[a62] = h66), f80 || (i65[a62] *= 1), l63 ? n72[a62] = r66[a62].slice().reverse() : n72[a62] = i65[a62] || 0;
        }
      }
    }, t43.prototype.stop = function() {
      return this._isChainStopped || (this._isChainStopped = true, this.stopChainedTweens()), this._isPlaying ? (this._group && this._group.remove(this), this._isPlaying = false, this._isPaused = false, this._onStopCallback && this._onStopCallback(this._object), this) : this;
    }, t43.prototype.end = function() {
      return this._goToEnd = true, this.update(1 / 0), this;
    }, t43.prototype.pause = function(e48) {
      return e48 === void 0 && (e48 = v()), this._isPaused || !this._isPlaying ? this : (this._isPaused = true, this._pauseStart = e48, this._group && this._group.remove(this), this);
    }, t43.prototype.resume = function(e48) {
      return e48 === void 0 && (e48 = v()), !this._isPaused || !this._isPlaying ? this : (this._isPaused = false, this._startTime += e48 - this._pauseStart, this._pauseStart = 0, this._group && this._group.add(this), this);
    }, t43.prototype.stopChainedTweens = function() {
      for (var e48 = 0, i65 = this._chainedTweens.length; e48 < i65; e48++)
        this._chainedTweens[e48].stop();
      return this;
    }, t43.prototype.group = function(e48) {
      return e48 === void 0 && (e48 = O2), this._group = e48, this;
    }, t43.prototype.delay = function(e48) {
      return e48 === void 0 && (e48 = 0), this._delayTime = e48, this;
    }, t43.prototype.repeat = function(e48) {
      return e48 === void 0 && (e48 = 0), this._initialRepeat = e48, this._repeat = e48, this;
    }, t43.prototype.repeatDelay = function(e48) {
      return this._repeatDelayTime = e48, this;
    }, t43.prototype.yoyo = function(e48) {
      return e48 === void 0 && (e48 = false), this._yoyo = e48, this;
    }, t43.prototype.easing = function(e48) {
      return e48 === void 0 && (e48 = y2.Linear.None), this._easingFunction = e48, this;
    }, t43.prototype.interpolation = function(e48) {
      return e48 === void 0 && (e48 = d.Linear), this._interpolationFunction = e48, this;
    }, t43.prototype.chain = function() {
      for (var e48 = [], i65 = 0; i65 < arguments.length; i65++)
        e48[i65] = arguments[i65];
      return this._chainedTweens = e48, this;
    }, t43.prototype.onStart = function(e48) {
      return this._onStartCallback = e48, this;
    }, t43.prototype.onEveryStart = function(e48) {
      return this._onEveryStartCallback = e48, this;
    }, t43.prototype.onUpdate = function(e48) {
      return this._onUpdateCallback = e48, this;
    }, t43.prototype.onRepeat = function(e48) {
      return this._onRepeatCallback = e48, this;
    }, t43.prototype.onComplete = function(e48) {
      return this._onCompleteCallback = e48, this;
    }, t43.prototype.onStop = function(e48) {
      return this._onStopCallback = e48, this;
    }, t43.prototype.update = function(e48, i65) {
      var r66 = this, n72;
      if (e48 === void 0 && (e48 = v()), i65 === void 0 && (i65 = true), this._isPaused)
        return true;
      var s60, a62 = this._startTime + this._duration;
      if (!this._goToEnd && !this._isPlaying) {
        if (e48 > a62)
          return false;
        i65 && this.start(e48, true);
      }
      if (this._goToEnd = false, e48 < this._startTime)
        return true;
      this._onStartCallbackFired === false && (this._onStartCallback && this._onStartCallback(this._object), this._onStartCallbackFired = true), this._onEveryStartCallbackFired === false && (this._onEveryStartCallback && this._onEveryStartCallback(this._object), this._onEveryStartCallbackFired = true);
      var h66 = e48 - this._startTime, f80 = this._duration + ((n72 = this._repeatDelayTime) !== null && n72 !== void 0 ? n72 : this._delayTime), _32 = this._duration + this._repeat * f80, l63 = function() {
        if (r66._duration === 0 || h66 > _32)
          return 1;
        var g67 = Math.trunc(h66 / f80), c85 = h66 - g67 * f80, S52 = Math.min(c85 / r66._duration, 1);
        return S52 === 0 && h66 === r66._duration ? 1 : S52;
      }, u72 = l63(), C52 = this._easingFunction(u72);
      if (this._updateProperties(this._object, this._valuesStart, this._valuesEnd, C52), this._onUpdateCallback && this._onUpdateCallback(this._object, u72), this._duration === 0 || h66 >= this._duration)
        if (this._repeat > 0) {
          var p66 = Math.min(Math.trunc((h66 - this._duration) / f80) + 1, this._repeat);
          isFinite(this._repeat) && (this._repeat -= p66);
          for (s60 in this._valuesStartRepeat)
            !this._yoyo && typeof this._valuesEnd[s60] == "string" && (this._valuesStartRepeat[s60] = // eslint-disable-next-line
            // @ts-ignore FIXME?
            this._valuesStartRepeat[s60] + parseFloat(this._valuesEnd[s60])), this._yoyo && this._swapEndStartRepeatValues(s60), this._valuesStart[s60] = this._valuesStartRepeat[s60];
          return this._yoyo && (this._reversed = !this._reversed), this._startTime += f80 * p66, this._onRepeatCallback && this._onRepeatCallback(this._object), this._onEveryStartCallbackFired = false, true;
        } else {
          this._onCompleteCallback && this._onCompleteCallback(this._object);
          for (var b55 = 0, I49 = this._chainedTweens.length; b55 < I49; b55++)
            this._chainedTweens[b55].start(this._startTime + this._duration, false);
          return this._isPlaying = false, false;
        }
      return true;
    }, t43.prototype._updateProperties = function(e48, i65, r66, n72) {
      for (var s60 in r66)
        if (i65[s60] !== void 0) {
          var a62 = i65[s60] || 0, h66 = r66[s60], f80 = Array.isArray(e48[s60]), _32 = Array.isArray(h66), l63 = !f80 && _32;
          l63 ? e48[s60] = this._interpolationFunction(h66, n72) : typeof h66 == "object" && h66 ? this._updateProperties(e48[s60], a62, h66, n72) : (h66 = this._handleRelativeValue(a62, h66), typeof h66 == "number" && (e48[s60] = a62 + (h66 - a62) * n72));
        }
    }, t43.prototype._handleRelativeValue = function(e48, i65) {
      return typeof i65 != "string" ? i65 : i65.charAt(0) === "+" || i65.charAt(0) === "-" ? e48 + parseFloat(i65) : parseFloat(i65);
    }, t43.prototype._swapEndStartRepeatValues = function(e48) {
      var i65 = this._valuesStartRepeat[e48], r66 = this._valuesEnd[e48];
      typeof r66 == "string" ? this._valuesStartRepeat[e48] = this._valuesStartRepeat[e48] + parseFloat(r66) : this._valuesStartRepeat[e48] = this._valuesEnd[e48], this._valuesEnd[e48] = i65;
    }, t43;
  }()
);
var T = "23.1.3";
var E = w2.nextId;
var o = O2;
var R = o.getAll.bind(o);
var k = o.removeAll.bind(o);
var A2 = o.add.bind(o);
var j = o.remove.bind(o);
var F = o.update.bind(o);
var U = {
  Easing: y2,
  Group: P,
  Interpolation: d,
  now: v,
  Sequence: w2,
  nextId: E,
  Tween: M,
  VERSION: T,
  getAll: R,
  removeAll: k,
  add: A2,
  remove: j,
  update: F
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/components/PaintBrush/tween.js
function c3(t43, r66, a62, i65 = y2.Linear.None) {
  const e48 = new M(t43).to(r66, a62).easing(i65).start();
  function n72(o71) {
    e48.update(o71) && requestAnimationFrame(n72);
  }
  return requestAnimationFrame(n72), e48;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/components/PaintBrush/typings.js
var o2 = ((r66) => (r66.Drawline = "Drawline", r66.Undo = "Undo", r66.Exit = "Exit", r66))(o2 || {});

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/components/PaintBrush/Subscribe.js
var i2 = Symbol("$$PAINT_BRUSH_EVENT$$");
function r(f80) {
  return f80[i2] || (f80[i2] = {}), f80[i2];
}
function v2(f80) {
  f80[i2] || delete f80[i2];
}
var E2 = class {
  /**
   * 判断是否注册了事件
   * @param name  事件类型
   */
  hasListener(t43) {
    const e48 = r(this);
    return e48 && e48[t43] && e48[t43].length > 0;
  }
  /**
   * 注册事件
   * @param  name    事件类型
   * @param  callback 事件回调函数
   * @param  once     是否只执行一次
   * @returns 解除事件
   * @template K 预设的监听事件名称
   * @template C 回调函数函数上下文
   */
  on(t43, e48, s60) {
    const o71 = r(this);
    return o71[t43] || (o71[t43] = []), o71[t43].push([e48, s60 || false]), () => this.off(t43, e48);
  }
  /**
   * 注册事件(是否只执行一次)
   * @param  name     事件类型
   * @param  callback 事件回调函数
   * @returns 解除事件
   * @template K 预设的监听事件名称
   * @template C 回调函数函数上下文
   */
  once(t43, e48) {
    return this.on(t43, e48, true);
  }
  /**
   * 解除事件
   *
   * 如果 name 不传的话解除对应所有事件
   * 如果 name, callback 不传的话解除所有name的所有事件
   * @param  name     事件类型
   * @param  callback 事件回调函数
   * @template K 预设的监听事件名称
   */
  off(t43, e48) {
    if (t43 === void 0) {
      v2(this);
      return;
    }
    const s60 = r(this);
    if (s60[t43] || (s60[t43] = []), e48 === void 0) {
      s60[t43].length = 0;
      return;
    }
    let o71 = 0;
    for (; o71 < s60[t43].length && s60[t43][o71][0] !== e48; o71++)
      ;
    o71 < s60[t43].length && s60[t43].splice(o71, 1);
  }
  /**
   * 触发事件
   * @param  name  事件类型
   * @param  data  触发事件的数据
   * @returns canceled 是否被触发取消
   * @template K 预设的监听事件名称
   */
  emit(t43, ...e48) {
    let s60 = false;
    const l63 = r(this)[t43] || [];
    for (let h66 of l63.slice()) {
      const [n72, u72 = false] = h66, c85 = n72(...e48);
      u72 && this.off(t43, n72), c85 === false && (s60 = true);
    }
    return s60;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/uuid.js
function t() {
  return ((1 + Math.random()) * 65536 | 0).toString(16).substring(1);
}
function r2() {
  return (t() + t() + "-" + t() + "-4" + t().substr(0, 3) + "-" + t() + "-" + t() + t() + t()).toLowerCase();
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/components/PaintBrush/style.js
var I2 = `
<style type="text/css">

#_gl_paintBrush {
position: fixed;
top: 0;
bottom: 0;
left: 0;
right: 0;
transform: translateZ(0);
z-index: 1997;
pointer-events: none;
opacity: 0;
transition: all 500ms;
}

#_gl_paintBrush.brushing {
  opacity: 1;
}

#_gl_paintBrush ._paintBrush-canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

#_gl_paintBrush ._paintBrush-canvas--sync {
  pointer-events: none;
  z-index: 0;
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

#_gl_paintBrush ._paintBrush-canvas {
  pointer-events: none;
  z-index: 1;
}

#_gl_paintBrush.brushing ._paintBrush-canvas {
  pointer-events: auto;
}

#_gl_paintBrush ._paintBrush-ctrl {
  width: 140px;
  height: 52px;
  position: absolute;
  bottom: 28px;
  right: 50%;
  transform: translateX(50%);
  font-size: 10px;
  color: white;
  z-index: 2;
}

#_gl_paintBrush.brushing ._paintBrush-ctrl {
  pointer-events: auto;
}

#_gl_paintBrush ._paintBrush-ctrl ._paintBrush-ctrlinner {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  height: 100%;
  border-radius: 26px;
  padding: 8px 16px;
  box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2);
  background-image: linear-gradient(180deg, hsl(0deg 0% 0% / 57%), hsl(0deg 0% 0% / 70%) 117%);
}

._paintBrush-ctrlitem {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  width: 38px;
  height: 38px;
  cursor: pointer;
}

._paintBrush-ctrlitem--undo >.brush-icon{
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjJweCIgaGVpZ2h0PSIyMnB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwJSIgeTE9IjQ1LjY3NTI0OCUiIHgyPSItMTYuOTYxMDIzJSIgeTI9Ijg0LjIzODQxOTglIiBpZD0ibGluZWFyR3JhZGllbnQtMSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRkZGRiIgc3RvcC1vcGFjaXR5PSIwLjMwMzY3Njc5MiIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNDAuMDAwMDAwLCAtNzQwLjAwMDAwMCkiPgogICAgICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNDAuMDAwMDAwLCA3NDAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8cmVjdCBmaWxsPSIjRDhEOEQ4IiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjwvcmVjdD4KICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQuMDAwMDAwLCAyLjk5MDY1OSkiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLXdpZHRoPSIyIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMCwzLjc1ODc1NzA5IEw5Ljg0Mzc1LDMuNzU4NzU3MDkgQzEyLjY5MTQ2ODIsMy43NTg3NTcwOSAxNSw2LjA2NzI4ODg1IDE1LDguOTE1MDA3MDkgQzE1LDExLjc2MjcyNTMgMTIuNjkxNDY4MiwxNC4wNzEyNTcxIDkuODQzNzUsMTQuMDcxMjU3MSBMMSwxNC4wNzEyNTcxIiBzdHJva2U9InVybCgjbGluZWFyR3JhZGllbnQtMSkiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cG9seWxpbmUgc3Ryb2tlPSIjRkZGRkZGIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBwb2ludHM9IjMuNzkwMjI3MDcgNy41Mzk2NjA2NCAwIDMuNzU4NzU3MDkgMy43OTAyMjcwNyAwIj48L3BvbHlsaW5lPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=);
    background-size: 100%;
    width: 22px;
    height: 22px;
}

._paintBrush-ctrlitem--close >.brush-icon {
    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjJweCIgaGVpZ2h0PSIyMnB4IiB2aWV3Qm94PSIwIDAgMjIgMjIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwLjAyMDY5MyUiIHkxPSItMTMuNzMzMzc1MSUiIHgyPSI1MCUiIHkyPSIxMTQuMTEwOTk0JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIHN0b3Atb3BhY2l0eT0iMC42MDEwNDM0ODgiIG9mZnNldD0iNDkuMzA4NDg4MiUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRkZGRiIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwJSIgeTE9IjAlIiB4Mj0iNTAlIiB5Mj0iMTAwJSIgaWQ9ImxpbmVhckdyYWRpZW50LTIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIG9mZnNldD0iNTUuOTY4MTUzNSUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRkZGRiIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnPgogICAgICAgICAgICA8cmVjdCBmaWxsPSIjRDhEOEQ4IiBvcGFjaXR5PSIwIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjIiIGhlaWdodD0iMjIiPjwvcmVjdD4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNC4wMDAwMDAsIDUuMDAwMDAwKSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICAgICAgICAgIDxnPgogICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9Ik03LC0yLjk4ODE2NTY4IEM3LjUxMjgzNTg0LC0yLjk4ODE2NTY4IDcuOTM1NTA3MTYsLTIuNjAyMTI1NDkgNy45OTMyNzIyNywtMi4xMDQ3ODY4MSBMOCwtMS45ODgxNjU2OCBMOCwxMy45OTgxMTQ2IEM4LDE0LjU1MDM5OTMgNy41NTIyODQ3NSwxNC45OTgxMTQ2IDcsMTQuOTk4MTE0NiBDNi40ODcxNjQxNiwxNC45OTgxMTQ2IDYuMDY0NDkyODQsMTQuNjEyMDc0NCA2LjAwNjcyNzczLDE0LjExNDczNTcgTDYsMTMuOTk4MTE0NiBMNiwtMS45ODgxNjU2OCBDNiwtMi41NDA0NTA0MyA2LjQ0NzcxNTI1LC0yLjk4ODE2NTY4IDcsLTIuOTg4MTY1NjggWiIgZmlsbD0idXJsKCNsaW5lYXJHcmFkaWVudC0xKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNy4wMDAwMDAsIDYuMDA0OTc0KSByb3RhdGUoLTQ1LjAwMDAwMCkgdHJhbnNsYXRlKC03LjAwMDAwMCwgLTYuMDA0OTc0KSAiPjwvcGF0aD4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNNywtMi45ODgxNjU2OCBDNy41MTI4MzU4NCwtMi45ODgxNjU2OCA3LjkzNTUwNzE2LC0yLjYwMjEyNTQ5IDcuOTkzMjcyMjcsLTIuMTA0Nzg2ODEgTDgsLTEuOTg4MTY1NjggTDgsMTMuOTk4MTE0NiBDOCwxNC41NTAzOTkzIDcuNTUyMjg0NzUsMTQuOTk4MTE0NiA3LDE0Ljk5ODExNDYgQzYuNDg3MTY0MTYsMTQuOTk4MTE0NiA2LjA2NDQ5Mjg0LDE0LjYxMjA3NDQgNi4wMDY3Mjc3MywxNC4xMTQ3MzU3IEw2LDEzLjk5ODExNDYgTDYsLTEuOTg4MTY1NjggQzYsLTIuNTQwNDUwNDMgNi40NDc3MTUyNSwtMi45ODgxNjU2OCA3LC0yLjk4ODE2NTY4IFoiIGZpbGw9InVybCgjbGluZWFyR3JhZGllbnQtMikiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcuMDAwMDAwLCA2LjAwNDk3NCkgcm90YXRlKC0xMzUuMDAwMDAwKSB0cmFuc2xhdGUoLTcuMDAwMDAwLCAtNi4wMDQ5NzQpICI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=);
    background-size: 100%;
    width: 22px;
    height: 22px;
}

</style>
`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/components/PaintBrush/Controller.js
var N = Object.defineProperty;
var T2 = (v58, p66, t43) => p66 in v58 ? N(v58, p66, { enumerable: true, configurable: true, writable: true, value: t43 }) : v58[p66] = t43;
var f2 = (v58, p66, t43) => (T2(v58, typeof p66 != "symbol" ? p66 + "" : p66, t43), t43);
var X = class extends E2 {
  constructor(t43) {
    super();
    f2(this, "configs");
    f2(this, "clientWidth");
    f2(this, "clientHeight");
    f2(this, "ready", false);
    f2(this, "uuid", r2());
    f2(this, "tween");
    f2(this, "tweening", false);
    f2(this, "container");
    f2(this, "canvas");
    f2(this, "data", {});
    f2(this, "tempLine", {});
    this.configs = t43, this.clientWidth = document.body.clientWidth, this.clientHeight = document.body.clientHeight, this.container = this.ifInsertToDOM(), this.canvas = {}, this.initCtrl();
  }
  get color() {
    return this.configs.currentColor;
  }
  get state() {
    return this.data;
  }
  get dpr() {
    return this.configs.DPR || 1;
  }
  ifInsertToDOM() {
    if (this.container)
      return this.container;
    if (this.configs.container)
      this.configs.container.id = "_gl_paintBrush", this.container = this.configs.container;
    else if (document.getElementById("_gl_paintBrush"))
      this.container = document.getElementById("_gl_paintBrush");
    else {
      const t43 = document.createElement("div");
      t43.id = "_gl_paintBrush", document.body.appendChild(t43), this.container = t43;
    }
    return this.container.innerHTML = I2, this.container;
  }
  /**
   *
   * @param className 初始化画板
   * @returns
   */
  initCanvas(t43) {
    const e48 = document.createElement("canvas");
    e48.className = t43, e48.width = this.clientWidth, e48.height = this.clientHeight;
    const h66 = e48.getContext("2d");
    if (h66)
      return h66.lineWidth = 5 * this.dpr, h66.lineCap = "round", h66.lineJoin = "round", this.container.appendChild(e48), e48;
  }
  /**
   * 初始化操作面板
   * @returns
   */
  initCtrl() {
    const t43 = document.createElement("div");
    t43.className = "_paintBrush-ctrl";
    const e48 = document.createElement("div");
    e48.className = "_paintBrush-ctrlinner";
    const h66 = document.createElement("a");
    h66.className = "_paintBrush-ctrlitem _paintBrush-ctrlitem--undo", h66.addEventListener("click", (n72) => {
      var a62;
      if (n72.stopPropagation(), this.configs.onClickUndo && this.configs.onClickUndo(), !this.canvas[this.uuid] || !this.data[this.uuid] || this.data[this.uuid].length === 0)
        return;
      const u72 = this.data[this.uuid].pop();
      u72 && this.emitStateChange({
        type: o2.Undo,
        color: this.color,
        ready: this.ready,
        state: u72,
        uuid: this.uuid
      });
      const d73 = (a62 = this.canvas[this.uuid]) == null ? void 0 : a62.getContext("2d");
      if (!this.canvas[this.uuid])
        return;
      const { width: m66, height: r66 } = this.canvas[this.uuid];
      d73 && d73.clearRect(0, 0, m66, r66), this.data[this.uuid].forEach((s60) => this.handleDrawLine(this.uuid, s60, { withUndo: true }));
    });
    const i65 = document.createElement("a");
    return i65.className = "_paintBrush-ctrlitem _paintBrush-ctrlitem--close", i65.addEventListener("click", (n72) => {
      n72.stopPropagation(), this.closeBrush(), this.configs.onClickClose && this.configs.onClickClose();
    }), [h66, i65].forEach((n72) => {
      const u72 = document.createElement("i");
      u72.className = "brush-icon";
      const d73 = document.createElement("span");
      d73.className = "brush-txt", d73.innerText = n72.className.endsWith("undo") ? this.configs.onUndoText : this.configs.onExitText, n72.appendChild(u72), n72.appendChild(d73);
    }), e48.appendChild(h66), e48.appendChild(i65), t43.appendChild(e48), this.container.appendChild(t43), t43;
  }
  openBrush() {
    if (this.ready)
      return;
    this.canvas[this.uuid] || (this.canvas[this.uuid] = this.initCanvas("_paintBrush-canvas")), this.container.className = "brushing";
    const t43 = this.canvas[this.uuid];
    t43.getContext("2d").clearRect(0, 0, t43.width, t43.height), this.openBrushHandle(), this.ready = true, this.emit("readyChange", true);
  }
  closeBrush() {
    this.ready && (this.container.className = "", this.data = {}, this.tempLine = {}, Object.keys(this.canvas).forEach((t43) => {
      this.canvas[t43].ontouchstart = () => false, this.canvas[t43].ontouchmove = () => false, this.canvas[t43].ontouchend = () => false, this.canvas[t43].ontouchcancel = () => false;
      const e48 = this.canvas[t43].getContext("2d");
      e48 && e48.clearRect(0, 0, this.canvas[t43].width, this.canvas[t43].height);
    }), this.ready = false, this.emit("readyChange", false), this.emitStateChange({
      type: o2.Exit,
      color: this.color,
      ready: false,
      uuid: this.uuid
    }));
  }
  updateCurrentColor(t43) {
    const e48 = this.canvas[this.uuid];
    if (!e48)
      return;
    const h66 = e48.getContext("2d");
    h66 && (this.configs.currentColor = t43, h66.strokeStyle = t43);
  }
  openBrushHandle() {
    const t43 = this.canvas[this.uuid];
    if (!t43)
      return;
    const e48 = t43.getContext("2d");
    if (!e48)
      return;
    const h66 = this.color || "#6D92FF";
    e48.strokeStyle = h66;
    let i65 = null, o71 = [], n72, u72 = [], d73 = 0;
    const m66 = (r66, a62, s60) => {
      const l63 = this.color || "#ff0000";
      e48.strokeStyle = l63, e48.beginPath(), e48.moveTo(r66.x, r66.y), e48.quadraticCurveTo(a62.x, a62.y, s60.x, s60.y), e48.stroke();
    };
    t43.onmousedown = (r66) => {
      r66.preventDefault(), d73 = Date.now();
      const a62 = r66.clientX, s60 = r66.clientY;
      o71 = [], o71.push({ x: a62, y: s60 }), i65 = { x: a62, y: s60 }, n72 = l({ x: a62, y: s60 }, this.clientWidth, this.clientHeight), u72 = [];
    }, t43.onmousemove = (r66) => {
      if (r66.preventDefault(), !i65)
        return;
      const a62 = Number(r66.clientX), s60 = Number(r66.clientY);
      if (Math.abs(a62 - i65.x) < 5 && Math.abs(s60 - i65.y) < 5 || (o71.push({ x: a62, y: s60 }), u72.push(l({ x: a62, y: s60 }, this.clientWidth, this.clientHeight)), o71.length < 3))
        return;
      const { control: l63, end: c85 } = y(o71);
      !l63 || !c85 || (m66(i65, l63, c85), i65 = c85);
    }, t43.onmouseup = (r66) => {
      if (r66.preventDefault(), i65 = null, o71.length < 3)
        return;
      this.data[this.uuid] || (this.data[this.uuid] = []);
      const a62 = Date.now() - d73, s60 = {
        move: Object.assign({}, n72),
        uuid: this.uuid,
        line: [...u72],
        color: this.color,
        duration: a62 < 1280 ? a62 : a62 < 2e3 ? 1280 : 0
        // 单次笔迹时长超过2000ms不加动画
      };
      this.data[this.uuid].push(s60), x(() => {
        this.emitStateChange({
          type: o2.Drawline,
          color: this.color,
          ready: this.ready,
          state: s60,
          uuid: this.uuid
        });
      });
    }, t43.ontouchstart = (r66) => {
      r66.preventDefault(), d73 = Date.now();
      const a62 = r66.touches[0].clientX, s60 = r66.touches[0].clientY;
      o71 = [], o71.push({ x: a62, y: s60 }), i65 = { x: a62, y: s60 }, n72 = l({ x: a62, y: s60 }, this.clientWidth, this.clientHeight), u72 = [];
    }, t43.ontouchmove = (r66) => {
      if (r66.preventDefault(), !i65)
        return;
      const a62 = Number(r66.touches[0].clientX), s60 = Number(r66.touches[0].clientY);
      if (Math.abs(a62 - i65.x) < 5 && Math.abs(s60 - i65.y) < 5 || (o71.push({ x: a62, y: s60 }), u72.push(l({ x: a62, y: s60 }, this.clientWidth, this.clientHeight)), o71.length < 3))
        return;
      const { control: l63, end: c85 } = y(o71);
      !l63 || !c85 || (m66(i65, l63, c85), i65 = c85);
    }, t43.ontouchend = t43.ontouchcancel = (r66) => {
      if (r66.preventDefault(), i65 = null, o71.length < 3)
        return;
      this.data[this.uuid] || (this.data[this.uuid] = []);
      const a62 = Date.now() - d73, s60 = {
        move: Object.assign({}, n72),
        line: [...u72],
        uuid: this.uuid,
        color: this.color,
        duration: a62 < 1280 ? a62 : a62 < 2e3 ? 1280 : 0
        // 单次笔迹时长超过2000ms不加动画
      };
      this.data[this.uuid].push(s60), x(() => {
        this.emitStateChange({
          type: o2.Drawline,
          color: this.color,
          ready: this.ready,
          state: s60,
          uuid: this.uuid
        });
      });
    };
  }
  emitStateChange(t43, e48 = true) {
    if (t43.type !== o2.Drawline) {
      this.emit("stateChange", t43, e48);
      return;
    }
    const h66 = Date.now(), i65 = t43.state;
    if (!i65 || !i65.line)
      return;
    const o71 = Math.ceil(i65.line.length / 100);
    for (let n72 = 0; n72 < o71; n72++) {
      const u72 = {
        uuid: this.uuid,
        color: this.color,
        ready: this.ready,
        type: t43.type,
        state: {
          uuid: this.uuid,
          move: i65.move,
          duration: i65.duration,
          color: this.color,
          line: i65.line.slice(n72 * 100, (n72 + 1) * 100)
        },
        timestamp: h66,
        end: n72 === o71 - 1
      };
      q(n72, 20, () => {
        this.emit("stateChange", u72, e48);
      });
    }
  }
  action(t43) {
    const { ready: e48, type: h66, uuid: i65 } = t43;
    if (!e48 && this.ready) {
      this.closeBrush();
      return;
    }
    if (e48 && !this.ready) {
      this.openBrush();
      return;
    }
    if (this.ready)
      switch (h66) {
        case o2.Drawline:
          const { state: o71, timestamp: n72, end: u72 } = t43;
          if (!n72 || !o71)
            return;
          this.tempLine[n72] = [].concat(this.tempLine[n72] || [], o71.line), u72 && (Object.assign(o71, { line: this.tempLine[n72] }), this.handleDrawLine(i65, o71, {}, () => delete this.tempLine[n72]));
          break;
        case o2.Undo:
          this.handleUndo(i65);
          break;
      }
  }
  handleDrawLine(t43, e48, { withUndo: h66 = false }, i65 = m) {
    !e48 || Object.prototype.toString.call(e48) != "[object Object]" || Object.keys(e48).length === 0 || _(() => new Promise((o71) => {
      if (h66 || (this.canvas[t43] || (this.canvas[t43] = this.initCanvas("_paintBrush-canvas--sync")), this.data[t43] || (this.data[t43] = []), this.data[t43].push(e48)), !this.canvas[t43])
        return;
      const n72 = this.canvas[t43].getContext("2d");
      if (!n72)
        return;
      const { line: u72 = [], color: d73 = "black", duration: m66 = 0, uuid: r66 } = e48, a62 = w(e48.move || {}, this.clientWidth, this.clientHeight);
      let s60 = [a62];
      if (n72.strokeStyle = d73, n72.beginPath(), n72.moveTo(a62.x, a62.y), m66 && !h66) {
        let l63 = [];
        const c85 = this;
        c85.tween = c3({ step: 0 }, { step: u72.length - 1 }, m66).onUpdate(({ step: C52 }) => {
          var H39;
          if (c85.tweening = true, !c85.ready)
            return n72.clearRect(0, 0, c85.canvas[r66].width, c85.canvas[r66].height), (H39 = c85.tween) == null ? void 0 : H39.stop();
          const b55 = Math.floor(C52);
          if (!l63.find((y51) => y51 === b55)) {
            if (l63.push(b55), s60.push(w(u72[b55], c85.clientWidth, c85.clientHeight)), s60.length < 3)
              return;
            const { control: y51, end: B42 } = y(s60);
            if (!y51 || !B42)
              return;
            n72.quadraticCurveTo(y51.x, y51.y, B42.x, B42.y), n72.stroke();
          }
        }).onComplete((C52) => {
          c85.tween = void 0, c85.tweening = false, l63 = [], s60 = [], i65 && i65(), o71();
        });
      } else {
        for (let l63 = 0; l63 < u72.length; l63++) {
          if (s60.push(w(u72[l63], this.clientWidth, this.clientHeight)), s60.length < 3)
            continue;
          const { control: c85, end: C52 } = y(s60);
          !c85 || !C52 || n72.quadraticCurveTo(c85.x, c85.y, C52.x, C52.y);
        }
        n72.stroke(), s60 = [], i65 && i65(), o71();
      }
    }));
  }
  handleUndo(t43) {
    if (!this.canvas[t43] || !this.data[t43] || this.data[t43].length === 0)
      return;
    this.data[t43].pop();
    const e48 = () => {
      var i65;
      const h66 = (i65 = this.canvas[t43]) == null ? void 0 : i65.getContext("2d");
      h66 && h66.clearRect(0, 0, this.canvas[t43].width, this.canvas[t43].height), this.data[t43].forEach((o71) => this.handleDrawLine(t43, o71, { withUndo: true }));
    };
    if (this.tween && this.tweening) {
      this.tween.stop(), x(e48, 60);
      return;
    }
    e48();
  }
  destroyBrush() {
    this.closeBrush(), this.ready = false, this.emit("readyChange", true);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/components/PaintBrush/index.js
var e = Object.defineProperty;
var s = (r66, o71, t43) => o71 in r66 ? e(r66, o71, { enumerable: true, configurable: true, writable: true, value: t43 }) : r66[o71] = t43;
var n = (r66, o71, t43) => (s(r66, typeof o71 != "symbol" ? o71 + "" : o71, t43), t43);
var h = class {
  constructor(o71 = {}) {
    n(this, "controller");
    const t43 = Object.assign({
      currentColor: "#f44336",
      onUndoText: "回退",
      onExitText: "关闭"
    }, o71);
    this.controller = new X(t43);
  }
  on(o71, t43) {
    this.controller.on(o71, t43);
  }
  off(o71, t43) {
    this.controller.off(o71, t43);
  }
  once(o71, t43) {
    this.controller.once(o71, t43);
  }
  /**
   * 显示画笔。
   */
  show() {
    this.controller.openBrush();
  }
  action(o71) {
    this.controller.action(o71);
  }
  /**
   * 获取画笔状态。
   */
  get state() {
    return this.controller.state;
  }
  get configs() {
    return this.controller.configs;
  }
  /**
   * 销毁。
   *
   * @deprecated
   *
   * @description 画笔应该维护一个 **全局单例**，重复利用。
   */
  dispose() {
    return this.controller.destroyBrush();
  }
  setCurrentColor(o71) {
    this.controller.updateCurrentColor(o71);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Subscribe.js
function v3(f80) {
  return typeof Symbol == "undefined" ? `$Symbol<${f80}>$` : Symbol(f80);
}
var i3 = v3("$$EVENT$$");
function r3(f80) {
  return f80[i3] || (f80[i3] = {}), f80[i3];
}
function d2(f80) {
  f80[i3] && delete f80[i3];
}
var E3 = class {
  /**
   * 判断是否注册了事件
   * @param name - 事件类型
   */
  hasListener(t43) {
    const e48 = r3(this);
    return !!(e48 != null && e48[t43] && e48[t43].length > 0);
  }
  /**
   * 注册事件
   * @param name - 事件类型
   * @param callback - 事件回调函数
   * @param once - 是否只执行一次
   * @returns 解除事件
   * @template K - 预设的监听事件名称
   * @template C - 回调函数函数上下文
   */
  on(t43, e48, o71) {
    const s60 = r3(this);
    return s60[t43] || (s60[t43] = []), s60[t43].push([e48, o71 || false]), () => this.off(t43, e48);
  }
  /**
   * 注册事件(是否只执行一次)
   * @param name - 事件类型
   * @param callback - 事件回调函数
   * @returns 解除事件
   * @template K - 预设的监听事件名称
   * @template C - 回调函数函数上下文
   */
  once(t43, e48) {
    return this.on(t43, e48, true);
  }
  /**
   * 解除事件
   *
   * 如果 name 不传的话解除对应所有事件
   * 如果 name, callback 不传的话解除所有name的所有事件
   * @param name - 事件类型
   * @param callback - 事件回调函数
   * @template K - 预设的监听事件名称
   */
  off(t43, e48) {
    if (t43 === void 0) {
      d2(this);
      return;
    }
    const o71 = r3(this);
    if (o71[t43] || (o71[t43] = []), e48 === void 0) {
      o71[t43].length = 0;
      return;
    }
    let s60 = 0;
    for (; s60 < o71[t43].length && o71[t43][s60][0] !== e48; s60++)
      ;
    s60 < o71[t43].length && o71[t43].splice(s60, 1);
  }
  /**
   * 触发事件
   * @param name - 事件类型
   * @param data - 触发事件的数据
   * @returns canceled 是否被触发取消
   * @template K - 预设的监听事件名称
   */
  emit(t43, ...e48) {
    let o71 = false;
    const l63 = r3(this)[t43] || [];
    for (let u72 of l63.slice()) {
      const [n72, c85 = false] = u72, h66 = n72(...e48);
      c85 && this.off(t43, n72), h66 === false && (o71 = true);
    }
    return o71;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/positionToVector3.js
var f3 = ({ x: r66, y: e48, z: c85 }) => new Vector3(r66, e48, c85);
var a2 = (r66) => new Vector3().fromArray(r66);
var t2 = (r66) => {
  if (r66)
    return r66 instanceof Vector3 ? r66 : Array.isArray(r66) ? a2(r66) : f3(r66);
};
function o3(r66) {
  if (r66)
    return Array.isArray(r66) ? typeof r66[0] == "number" ? t2(r66) : r66.map(t2) : t2(r66);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/vector3ToScreen.js
function i4(t43, n72, o71) {
  const { x: c85, y: e48, z: r66 } = n72.clone().project(t43);
  return r66 > 1 ? void 0 : {
    leftPx: (c85 + 1) / 2 * o71.x,
    topPx: (-e48 + 1) / 2 * o71.y
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/getFiveModel.js
function l2(e48) {
  var o71;
  return ((o71 = e48.models) == null ? void 0 : o71.filter((t43) => t43.name === e48.state.workCode)[0]) || e48.model;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Utils/BaseUtil.js
var i5 = Object.defineProperty;
var o4 = (r66, e48, s60) => e48 in r66 ? i5(r66, e48, { enumerable: true, configurable: true, writable: true, value: s60 }) : r66[e48] = s60;
var t3 = (r66, e48, s60) => (o4(r66, typeof e48 != "symbol" ? e48 + "" : e48, s60), s60);
var u = class extends E3 {
  constructor(s60) {
    super();
    t3(this, "five");
    this.five = s60;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/transformPosition.js
var c4 = (o71, t43) => {
  if (!t43)
    return o71;
  const e48 = new Vector3(), r66 = new Quaternion(), a62 = new Vector3();
  return t43.decompose(e48, r66, a62), o71.clone().multiply(a62).applyQuaternion(r66).add(e48);
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Utils/WorkUtil.js
var a3 = Object.defineProperty;
var h2 = (s60, t43, r66) => t43 in s60 ? a3(s60, t43, { enumerable: true, configurable: true, writable: true, value: r66 }) : s60[t43] = r66;
var k2 = (s60, t43, r66) => (h2(s60, typeof t43 != "symbol" ? t43 + "" : t43, r66), r66);
var n2 = /* @__PURE__ */ new Map();
var c5 = class extends u {
  constructor(r66) {
    super(r66);
    k2(this, "_workCode");
  }
  get fromType() {
    var e48, i65;
    const r66 = this.workCode;
    if (n2.has(r66))
      return n2.get(r66);
    const o71 = (i65 = (e48 = JSON.parse(this.work.raw.works[0])) == null ? void 0 : e48.from_type) != null ? i65 : "vr";
    return n2.set(r66, o71), o71;
  }
  /**
   * @description 设置插件当前的 workCode
   */
  set workCode(r66) {
    this._workCode = r66;
  }
  /**
   * @description 获取插件当前的 workCode
   */
  get workCode() {
    var r66;
    return (r66 = this._workCode) != null ? r66 : this.five.state.workCode;
  }
  /**
   * @description 获取当前的 work
   */
  get work() {
    var r66, o71;
    return (o71 = (r66 = this.five.works) == null ? void 0 : r66.find((e48) => e48.workCode === this.workCode)) != null ? o71 : this.five.work;
  }
  get observers() {
    var r66;
    return (r66 = this.work) == null ? void 0 : r66.observers;
  }
  get transform() {
    var o71, e48, i65, w49;
    const r66 = (w49 = (o71 = this.work) == null ? void 0 : o71.transform) != null ? w49 : (i65 = (e48 = this.work) == null ? void 0 : e48.options) == null ? void 0 : i65.transform;
    return r66 ? r66.clone() : new Matrix4();
  }
  getResolvedObserver(r66) {
    return this.five.works.getResolvedObserver({ workCode: this.workCode, panoIndex: r66 });
  }
  /**
   * @description 获取全景点坐标
   */
  getObserverPosition(r66) {
    var e48;
    const o71 = (e48 = this.getObserver(r66)) == null ? void 0 : e48.position;
    if (o71)
      return c4(o71, this.transform);
  }
  /**
   * @description 获取全景点位和模型的地面坐标
   */
  getObserverStandingPosition(r66) {
    var e48;
    const o71 = (e48 = this.getObserver(r66)) == null ? void 0 : e48.standingPosition;
    if (o71)
      return c4(o71, this.transform);
  }
  /**
   * @description 获取observer
   */
  getObserver(r66) {
    var o71;
    return (o71 = this.observers) == null ? void 0 : o71[r66];
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Utils/FiveUtil.js
var n3 = Object.defineProperty;
var m2 = (r66, e48, o71) => e48 in r66 ? n3(r66, e48, { enumerable: true, configurable: true, writable: true, value: o71 }) : r66[e48] = o71;
var t4 = (r66, e48, o71) => (m2(r66, typeof e48 != "symbol" ? e48 + "" : e48, o71), o71);
var c6 = class extends u {
  constructor(o71) {
    super(o71);
    t4(this, "workUtil", new c5(this.five));
  }
  get version() {
    return this.five.constructor.version;
  }
  get majorVersion() {
    return Number(this.version.split(".")[0]);
  }
  get model() {
    return l2(this.five);
  }
  moveToPano(o71, i65) {
    const s60 = this.majorVersion === 5 ? o71 : {
      workCode: this.workUtil.workCode,
      panoIndex: o71
    };
    return this.five.moveToPano(s60, i65);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/Raycaster.js
var h3 = class extends Raycaster {
  intersectObject(t43, n72 = true, r66 = []) {
    return f4(t43, this, r66, n72), r66.sort(a4), r66;
  }
  intersectObjects(t43, n72 = true, r66 = []) {
    for (let i65 = 0, l63 = t43.length; i65 < l63; i65++)
      f4(t43[i65], this, r66, n72);
    return r66.sort(a4), r66;
  }
};
function a4(e48, t43) {
  return e48.distance - t43.distance;
}
function f4(e48, t43, n72, r66) {
  let i65 = true;
  if (e48.layers.test(t43.layers) && e48.raycast(t43, n72) === false && (i65 = false), i65 === true && r66 === true) {
    const l63 = e48.children;
    for (let u72 = 0, s60 = l63.length; u72 < s60; u72++)
      f4(l63[u72], t43, n72, true);
  }
}
function c7(e48, t43, n72, r66) {
  let i65 = true;
  if (e48.type !== "Line2" && (e48.layers.test(t43.layers) && e48.raycast(t43, n72) === false && (i65 = false), i65 === true && r66 === true)) {
    const l63 = e48.children;
    for (let u72 = 0, s60 = l63.length; u72 < s60; u72++)
      l63[u72].type !== "Line2" && c7(l63[u72], t43, n72, true);
  }
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/temp.js
var t5 = new h3();
t5.params.Points.threshold = 0.02;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/dom/resizeObserver.js
function o5(e48, r66) {
  if (!r66 || typeof ResizeObserver == "undefined" || !ResizeObserver)
    return {
      observe: () => window.addEventListener("resize", e48),
      unobserve: () => window.removeEventListener("resize", e48)
    };
  {
    const s60 = new ResizeObserver(e48);
    return {
      observe: () => s60.observe(r66),
      unobserve: () => s60.unobserve(r66)
    };
  }
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/throttle.js
function o6(n72, e48 = 200) {
  let t43;
  return function(...u72) {
    t43 || (n72(...u72), t43 = setTimeout(function() {
      t43 = null;
    }, e48));
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/fiveEveryReadyListener.js
function i6(e48, n72) {
  let r66 = false;
  const t43 = o6(() => {
    r66 || (r66 = true, e48.ready().then(() => {
      n72(), r66 = false;
    }));
  }, 150);
  return e48.on("camera.update", t43), () => {
    e48.off("camera.update", t43);
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/hammerjs/hammer.js
var Qt = {};
var He = {
  get exports() {
    return Qt;
  },
  set exports(k47) {
    Qt = k47;
  }
};
(function(k47) {
  (function(u72, yt3, jt3, l63) {
    var Pt2 = ["", "webkit", "Moz", "MS", "ms", "o"], Kt4 = yt3.createElement("div"), $t2 = "function", L40 = Math.round, S52 = Math.abs, ot7 = Date.now;
    function ht4(t43, e48, i65) {
      return setTimeout(lt5(t43, i65), e48);
    }
    function x49(t43, e48, i65) {
      return Array.isArray(t43) ? (P55(t43, i65[e48], i65), true) : false;
    }
    function P55(t43, e48, i65) {
      var r66;
      if (t43)
        if (t43.forEach)
          t43.forEach(e48, i65);
        else if (t43.length !== l63)
          for (r66 = 0; r66 < t43.length; )
            e48.call(i65, t43[r66], r66, t43), r66++;
        else
          for (r66 in t43)
            t43.hasOwnProperty(r66) && e48.call(i65, t43[r66], r66, t43);
    }
    function Nt3(t43, e48, i65) {
      var r66 = "DEPRECATED METHOD: " + e48 + `
` + i65 + ` AT 
`;
      return function() {
        var n72 = new Error("get-stack-trace"), s60 = n72 && n72.stack ? n72.stack.replace(/^[^\(]+?[\n$]/gm, "").replace(/^\s+at\s+/gm, "").replace(/^Object.<anonymous>\s*\(/gm, "{anonymous}()@") : "Unknown Stack Trace", a62 = u72.console && (u72.console.warn || u72.console.log);
        return a62 && a62.call(u72.console, r66, s60), t43.apply(this, arguments);
      };
    }
    var g67;
    typeof Object.assign != "function" ? g67 = function(e48) {
      if (e48 === l63 || e48 === null)
        throw new TypeError("Cannot convert undefined or null to object");
      for (var i65 = Object(e48), r66 = 1; r66 < arguments.length; r66++) {
        var n72 = arguments[r66];
        if (n72 !== l63 && n72 !== null)
          for (var s60 in n72)
            n72.hasOwnProperty(s60) && (i65[s60] = n72[s60]);
      }
      return i65;
    } : g67 = Object.assign;
    var Ot4 = Nt3(function(e48, i65, r66) {
      for (var n72 = Object.keys(i65), s60 = 0; s60 < n72.length; )
        (!r66 || r66 && e48[n72[s60]] === l63) && (e48[n72[s60]] = i65[n72[s60]]), s60++;
      return e48;
    }, "extend", "Use `assign`."), te10 = Nt3(function(e48, i65) {
      return Ot4(e48, i65, true);
    }, "merge", "Use `assign`.");
    function T38(t43, e48, i65) {
      var r66 = e48.prototype, n72;
      n72 = t43.prototype = Object.create(r66), n72.constructor = t43, n72._super = r66, i65 && g67(n72, i65);
    }
    function lt5(t43, e48) {
      return function() {
        return t43.apply(e48, arguments);
      };
    }
    function ct5(t43, e48) {
      return typeof t43 == $t2 ? t43.apply(e48 && e48[0] || l63, e48) : t43;
    }
    function At2(t43, e48) {
      return t43 === l63 ? e48 : t43;
    }
    function z28(t43, e48, i65) {
      P55(B42(e48), function(r66) {
        t43.addEventListener(r66, i65, false);
      });
    }
    function Z18(t43, e48, i65) {
      P55(B42(e48), function(r66) {
        t43.removeEventListener(r66, i65, false);
      });
    }
    function Ct4(t43, e48) {
      for (; t43; ) {
        if (t43 == e48)
          return true;
        t43 = t43.parentNode;
      }
      return false;
    }
    function D52(t43, e48) {
      return t43.indexOf(e48) > -1;
    }
    function B42(t43) {
      return t43.trim().split(/\s+/g);
    }
    function Y23(t43, e48, i65) {
      if (t43.indexOf && !i65)
        return t43.indexOf(e48);
      for (var r66 = 0; r66 < t43.length; ) {
        if (i65 && t43[r66][i65] == e48 || !i65 && t43[r66] === e48)
          return r66;
        r66++;
      }
      return -1;
    }
    function J33(t43) {
      return Array.prototype.slice.call(t43, 0);
    }
    function St3(t43, e48, i65) {
      for (var r66 = [], n72 = [], s60 = 0; s60 < t43.length; ) {
        var a62 = e48 ? t43[s60][e48] : t43[s60];
        Y23(n72, a62) < 0 && r66.push(t43[s60]), n72[s60] = a62, s60++;
      }
      return i65 && (e48 ? r66 = r66.sort(function(c85, v58) {
        return c85[e48] > v58[e48];
      }) : r66 = r66.sort()), r66;
    }
    function Q29(t43, e48) {
      for (var i65, r66, n72 = e48[0].toUpperCase() + e48.slice(1), s60 = 0; s60 < Pt2.length; ) {
        if (i65 = Pt2[s60], r66 = i65 ? i65 + n72 : e48, r66 in t43)
          return r66;
        s60++;
      }
      return l63;
    }
    var ee10 = 1;
    function ie10() {
      return ee10++;
    }
    function Dt3(t43) {
      var e48 = t43.ownerDocument || t43;
      return e48.defaultView || e48.parentWindow || u72;
    }
    var re7 = /mobile|tablet|ip(ad|hone|od)|android/i, Mt2 = "ontouchstart" in u72, ne14 = Q29(u72, "PointerEvent") !== l63, se6 = Mt2 && re7.test(navigator.userAgent), b55 = "touch", ae7 = "pen", ut6 = "mouse", oe11 = "kinect", he6 = 25, f80 = 1, M48 = 2, o71 = 4, p66 = 8, j37 = 1, X24 = 2, F45 = 4, V25 = 8, W25 = 16, I49 = X24 | F45, U33 = V25 | W25, Ut2 = I49 | U33, Rt3 = ["x", "y"], K32 = ["clientX", "clientY"];
    function m66(t43, e48) {
      var i65 = this;
      this.manager = t43, this.callback = e48, this.element = t43.element, this.target = t43.options.inputTarget, this.domHandler = function(r66) {
        ct5(t43.options.enable, [t43]) && i65.handler(r66);
      }, this.init();
    }
    m66.prototype = {
      /**
       * should handle the inputEvent data and trigger the callback
       * @virtual
       */
      handler: function() {
      },
      /**
       * bind the events
       */
      init: function() {
        this.evEl && z28(this.element, this.evEl, this.domHandler), this.evTarget && z28(this.target, this.evTarget, this.domHandler), this.evWin && z28(Dt3(this.element), this.evWin, this.domHandler);
      },
      /**
       * unbind the events
       */
      destroy: function() {
        this.evEl && Z18(this.element, this.evEl, this.domHandler), this.evTarget && Z18(this.target, this.evTarget, this.domHandler), this.evWin && Z18(Dt3(this.element), this.evWin, this.domHandler);
      }
    };
    function le5(t43) {
      var e48, i65 = t43.options.inputClass;
      return i65 ? e48 = i65 : ne14 ? e48 = vt3 : se6 ? e48 = et4 : Mt2 ? e48 = pt3 : e48 = tt5, new e48(t43, ce6);
    }
    function ce6(t43, e48, i65) {
      var r66 = i65.pointers.length, n72 = i65.changedPointers.length, s60 = e48 & f80 && r66 - n72 === 0, a62 = e48 & (o71 | p66) && r66 - n72 === 0;
      i65.isFirst = !!s60, i65.isFinal = !!a62, s60 && (t43.session = {}), i65.eventType = e48, ue8(t43, i65), t43.emit("hammer.input", i65), t43.recognize(i65), t43.session.prevInput = i65;
    }
    function ue8(t43, e48) {
      var i65 = t43.session, r66 = e48.pointers, n72 = r66.length;
      i65.firstInput || (i65.firstInput = Lt4(e48)), n72 > 1 && !i65.firstMultiple ? i65.firstMultiple = Lt4(e48) : n72 === 1 && (i65.firstMultiple = false);
      var s60 = i65.firstInput, a62 = i65.firstMultiple, h66 = a62 ? a62.center : s60.center, c85 = e48.center = xt3(r66);
      e48.timeStamp = ot7(), e48.deltaTime = e48.timeStamp - s60.timeStamp, e48.angle = ft4(h66, c85), e48.distance = $23(h66, c85), fe10(i65, e48), e48.offsetDirection = Ht4(e48.deltaX, e48.deltaY);
      var v58 = Yt3(e48.deltaTime, e48.deltaX, e48.deltaY);
      e48.overallVelocityX = v58.x, e48.overallVelocityY = v58.y, e48.overallVelocity = S52(v58.x) > S52(v58.y) ? v58.x : v58.y, e48.scale = a62 ? Te5(a62.pointers, r66) : 1, e48.rotation = a62 ? pe7(a62.pointers, r66) : 0, e48.maxPointers = i65.prevInput ? e48.pointers.length > i65.prevInput.maxPointers ? e48.pointers.length : i65.prevInput.maxPointers : e48.pointers.length, ve5(i65, e48);
      var y51 = t43.element;
      Ct4(e48.srcEvent.target, y51) && (y51 = e48.srcEvent.target), e48.target = y51;
    }
    function fe10(t43, e48) {
      var i65 = e48.center, r66 = t43.offsetDelta || {}, n72 = t43.prevDelta || {}, s60 = t43.prevInput || {};
      (e48.eventType === f80 || s60.eventType === o71) && (n72 = t43.prevDelta = {
        x: s60.deltaX || 0,
        y: s60.deltaY || 0
      }, r66 = t43.offsetDelta = {
        x: i65.x,
        y: i65.y
      }), e48.deltaX = n72.x + (i65.x - r66.x), e48.deltaY = n72.y + (i65.y - r66.y);
    }
    function ve5(t43, e48) {
      var i65 = t43.lastInterval || e48, r66 = e48.timeStamp - i65.timeStamp, n72, s60, a62, h66;
      if (e48.eventType != p66 && (r66 > he6 || i65.velocity === l63)) {
        var c85 = e48.deltaX - i65.deltaX, v58 = e48.deltaY - i65.deltaY, y51 = Yt3(r66, c85, v58);
        s60 = y51.x, a62 = y51.y, n72 = S52(y51.x) > S52(y51.y) ? y51.x : y51.y, h66 = Ht4(c85, v58), t43.lastInterval = e48;
      } else
        n72 = i65.velocity, s60 = i65.velocityX, a62 = i65.velocityY, h66 = i65.direction;
      e48.velocity = n72, e48.velocityX = s60, e48.velocityY = a62, e48.direction = h66;
    }
    function Lt4(t43) {
      for (var e48 = [], i65 = 0; i65 < t43.pointers.length; )
        e48[i65] = {
          clientX: L40(t43.pointers[i65].clientX),
          clientY: L40(t43.pointers[i65].clientY)
        }, i65++;
      return {
        timeStamp: ot7(),
        pointers: e48,
        center: xt3(e48),
        deltaX: t43.deltaX,
        deltaY: t43.deltaY
      };
    }
    function xt3(t43) {
      var e48 = t43.length;
      if (e48 === 1)
        return {
          x: L40(t43[0].clientX),
          y: L40(t43[0].clientY)
        };
      for (var i65 = 0, r66 = 0, n72 = 0; n72 < e48; )
        i65 += t43[n72].clientX, r66 += t43[n72].clientY, n72++;
      return {
        x: L40(i65 / e48),
        y: L40(r66 / e48)
      };
    }
    function Yt3(t43, e48, i65) {
      return {
        x: e48 / t43 || 0,
        y: i65 / t43 || 0
      };
    }
    function Ht4(t43, e48) {
      return t43 === e48 ? j37 : S52(t43) >= S52(e48) ? t43 < 0 ? X24 : F45 : e48 < 0 ? V25 : W25;
    }
    function $23(t43, e48, i65) {
      i65 || (i65 = Rt3);
      var r66 = e48[i65[0]] - t43[i65[0]], n72 = e48[i65[1]] - t43[i65[1]];
      return Math.sqrt(r66 * r66 + n72 * n72);
    }
    function ft4(t43, e48, i65) {
      i65 || (i65 = Rt3);
      var r66 = e48[i65[0]] - t43[i65[0]], n72 = e48[i65[1]] - t43[i65[1]];
      return Math.atan2(n72, r66) * 180 / Math.PI;
    }
    function pe7(t43, e48) {
      return ft4(e48[1], e48[0], K32) + ft4(t43[1], t43[0], K32);
    }
    function Te5(t43, e48) {
      return $23(e48[0], e48[1], K32) / $23(t43[0], t43[1], K32);
    }
    var me7 = {
      mousedown: f80,
      mousemove: M48,
      mouseup: o71
    }, de9 = "mousedown", Ee5 = "mousemove mouseup";
    function tt5() {
      this.evEl = de9, this.evWin = Ee5, this.pressed = false, m66.apply(this, arguments);
    }
    T38(tt5, m66, {
      /**
       * handle mouse events
       * @param {Object} ev
       */
      handler: function(e48) {
        var i65 = me7[e48.type];
        i65 & f80 && e48.button === 0 && (this.pressed = true), i65 & M48 && e48.which !== 1 && (i65 = o71), this.pressed && (i65 & o71 && (this.pressed = false), this.callback(this.manager, i65, {
          pointers: [e48],
          changedPointers: [e48],
          pointerType: ut6,
          srcEvent: e48
        }));
      }
    });
    var ge10 = {
      pointerdown: f80,
      pointermove: M48,
      pointerup: o71,
      pointercancel: p66,
      pointerout: p66
    }, Ie4 = {
      2: b55,
      3: ae7,
      4: ut6,
      5: oe11
      // see https://twitter.com/jacobrossi/status/480596438489890816
    }, bt4 = "pointerdown", Xt4 = "pointermove pointerup pointercancel";
    u72.MSPointerEvent && !u72.PointerEvent && (bt4 = "MSPointerDown", Xt4 = "MSPointerMove MSPointerUp MSPointerCancel");
    function vt3() {
      this.evEl = bt4, this.evWin = Xt4, m66.apply(this, arguments), this.store = this.manager.session.pointerEvents = [];
    }
    T38(vt3, m66, {
      /**
       * handle mouse events
       * @param {Object} ev
       */
      handler: function(e48) {
        var i65 = this.store, r66 = false, n72 = e48.type.toLowerCase().replace("ms", ""), s60 = ge10[n72], a62 = Ie4[e48.pointerType] || e48.pointerType, h66 = a62 == b55, c85 = Y23(i65, e48.pointerId, "pointerId");
        s60 & f80 && (e48.button === 0 || h66) ? c85 < 0 && (i65.push(e48), c85 = i65.length - 1) : s60 & (o71 | p66) && (r66 = true), !(c85 < 0) && (i65[c85] = e48, this.callback(this.manager, s60, {
          pointers: i65,
          changedPointers: [e48],
          pointerType: a62,
          srcEvent: e48
        }), r66 && i65.splice(c85, 1));
      }
    });
    var _e8 = {
      touchstart: f80,
      touchmove: M48,
      touchend: o71,
      touchcancel: p66
    }, ye5 = "touchstart", Pe4 = "touchstart touchmove touchend touchcancel";
    function Ft3() {
      this.evTarget = ye5, this.evWin = Pe4, this.started = false, m66.apply(this, arguments);
    }
    T38(Ft3, m66, {
      handler: function(e48) {
        var i65 = _e8[e48.type];
        if (i65 === f80 && (this.started = true), !!this.started) {
          var r66 = Ne4.call(this, e48, i65);
          i65 & (o71 | p66) && r66[0].length - r66[1].length === 0 && (this.started = false), this.callback(this.manager, i65, {
            pointers: r66[0],
            changedPointers: r66[1],
            pointerType: b55,
            srcEvent: e48
          });
        }
      }
    });
    function Ne4(t43, e48) {
      var i65 = J33(t43.touches), r66 = J33(t43.changedTouches);
      return e48 & (o71 | p66) && (i65 = St3(i65.concat(r66), "identifier", true)), [i65, r66];
    }
    var Oe2 = {
      touchstart: f80,
      touchmove: M48,
      touchend: o71,
      touchcancel: p66
    }, Ae5 = "touchstart touchmove touchend touchcancel";
    function et4() {
      this.evTarget = Ae5, this.targetIds = {}, m66.apply(this, arguments);
    }
    T38(et4, m66, {
      handler: function(e48) {
        var i65 = Oe2[e48.type], r66 = Ce4.call(this, e48, i65);
        r66 && this.callback(this.manager, i65, {
          pointers: r66[0],
          changedPointers: r66[1],
          pointerType: b55,
          srcEvent: e48
        });
      }
    });
    function Ce4(t43, e48) {
      var i65 = J33(t43.touches), r66 = this.targetIds;
      if (e48 & (f80 | M48) && i65.length === 1)
        return r66[i65[0].identifier] = true, [i65, i65];
      var n72, s60, a62 = J33(t43.changedTouches), h66 = [], c85 = this.target;
      if (s60 = i65.filter(function(v58) {
        return Ct4(v58.target, c85);
      }), e48 === f80)
        for (n72 = 0; n72 < s60.length; )
          r66[s60[n72].identifier] = true, n72++;
      for (n72 = 0; n72 < a62.length; )
        r66[a62[n72].identifier] && h66.push(a62[n72]), e48 & (o71 | p66) && delete r66[a62[n72].identifier], n72++;
      if (h66.length)
        return [
          // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'
          St3(s60.concat(h66), "identifier", true),
          h66
        ];
    }
    var Se = 2500, Vt2 = 25;
    function pt3() {
      m66.apply(this, arguments);
      var t43 = lt5(this.handler, this);
      this.touch = new et4(this.manager, t43), this.mouse = new tt5(this.manager, t43), this.primaryTouch = null, this.lastTouches = [];
    }
    T38(pt3, m66, {
      /**
       * handle mouse and touch events
       * @param {Hammer} manager
       * @param {String} inputEvent
       * @param {Object} inputData
       */
      handler: function(e48, i65, r66) {
        var n72 = r66.pointerType == b55, s60 = r66.pointerType == ut6;
        if (!(s60 && r66.sourceCapabilities && r66.sourceCapabilities.firesTouchEvents)) {
          if (n72)
            De7.call(this, i65, r66);
          else if (s60 && Me3.call(this, r66))
            return;
          this.callback(e48, i65, r66);
        }
      },
      /**
       * remove the event listeners
       */
      destroy: function() {
        this.touch.destroy(), this.mouse.destroy();
      }
    });
    function De7(t43, e48) {
      t43 & f80 ? (this.primaryTouch = e48.changedPointers[0].identifier, Wt4.call(this, e48)) : t43 & (o71 | p66) && Wt4.call(this, e48);
    }
    function Wt4(t43) {
      var e48 = t43.changedPointers[0];
      if (e48.identifier === this.primaryTouch) {
        var i65 = { x: e48.clientX, y: e48.clientY };
        this.lastTouches.push(i65);
        var r66 = this.lastTouches, n72 = function() {
          var s60 = r66.indexOf(i65);
          s60 > -1 && r66.splice(s60, 1);
        };
        setTimeout(n72, Se);
      }
    }
    function Me3(t43) {
      for (var e48 = t43.srcEvent.clientX, i65 = t43.srcEvent.clientY, r66 = 0; r66 < this.lastTouches.length; r66++) {
        var n72 = this.lastTouches[r66], s60 = Math.abs(e48 - n72.x), a62 = Math.abs(i65 - n72.y);
        if (s60 <= Vt2 && a62 <= Vt2)
          return true;
      }
      return false;
    }
    var qt4 = Q29(Kt4.style, "touchAction"), wt3 = qt4 !== l63, Gt4 = "compute", kt3 = "auto", Tt3 = "manipulation", R43 = "none", q38 = "pan-x", w49 = "pan-y", it8 = Re4();
    function mt3(t43, e48) {
      this.manager = t43, this.set(e48);
    }
    mt3.prototype = {
      /**
       * set the touchAction value on the element or enable the polyfill
       * @param {String} value
       */
      set: function(t43) {
        t43 == Gt4 && (t43 = this.compute()), wt3 && this.manager.element.style && it8[t43] && (this.manager.element.style[qt4] = t43), this.actions = t43.toLowerCase().trim();
      },
      /**
       * just re-set the touchAction value
       */
      update: function() {
        this.set(this.manager.options.touchAction);
      },
      /**
       * compute the value for the touchAction property based on the recognizer's settings
       * @returns {String} value
       */
      compute: function() {
        var t43 = [];
        return P55(this.manager.recognizers, function(e48) {
          ct5(e48.options.enable, [e48]) && (t43 = t43.concat(e48.getTouchAction()));
        }), Ue2(t43.join(" "));
      },
      /**
       * this method is called on each input cycle and provides the preventing of the browser behavior
       * @param {Object} input
       */
      preventDefaults: function(t43) {
        var e48 = t43.srcEvent, i65 = t43.offsetDirection;
        if (this.manager.session.prevented) {
          e48.preventDefault();
          return;
        }
        var r66 = this.actions, n72 = D52(r66, R43) && !it8[R43], s60 = D52(r66, w49) && !it8[w49], a62 = D52(r66, q38) && !it8[q38];
        if (n72) {
          var h66 = t43.pointers.length === 1, c85 = t43.distance < 2, v58 = t43.deltaTime < 250;
          if (h66 && c85 && v58)
            return;
        }
        if (!(a62 && s60) && (n72 || s60 && i65 & I49 || a62 && i65 & U33))
          return this.preventSrc(e48);
      },
      /**
       * call preventDefault to prevent the browser's default behavior (scrolling in most cases)
       * @param {Object} srcEvent
       */
      preventSrc: function(t43) {
        this.manager.session.prevented = true, t43.preventDefault();
      }
    };
    function Ue2(t43) {
      if (D52(t43, R43))
        return R43;
      var e48 = D52(t43, q38), i65 = D52(t43, w49);
      return e48 && i65 ? R43 : e48 || i65 ? e48 ? q38 : w49 : D52(t43, Tt3) ? Tt3 : kt3;
    }
    function Re4() {
      if (!wt3)
        return false;
      var t43 = {}, e48 = u72.CSS && u72.CSS.supports;
      return ["auto", "manipulation", "pan-y", "pan-x", "pan-x pan-y", "none"].forEach(function(i65) {
        t43[i65] = e48 ? u72.CSS.supports("touch-action", i65) : true;
      }), t43;
    }
    var rt7 = 1, d73 = 2, H39 = 4, C52 = 8, N33 = C52, G31 = 16, _32 = 32;
    function O40(t43) {
      this.options = g67({}, this.defaults, t43 || {}), this.id = ie10(), this.manager = null, this.options.enable = At2(this.options.enable, true), this.state = rt7, this.simultaneous = {}, this.requireFail = [];
    }
    O40.prototype = {
      /**
       * @virtual
       * @type {Object}
       */
      defaults: {},
      /**
       * set options
       * @param {Object} options
       * @return {Recognizer}
       */
      set: function(t43) {
        return g67(this.options, t43), this.manager && this.manager.touchAction.update(), this;
      },
      /**
       * recognize simultaneous with an other recognizer.
       * @param {Recognizer} otherRecognizer
       * @returns {Recognizer} this
       */
      recognizeWith: function(t43) {
        if (x49(t43, "recognizeWith", this))
          return this;
        var e48 = this.simultaneous;
        return t43 = nt7(t43, this), e48[t43.id] || (e48[t43.id] = t43, t43.recognizeWith(this)), this;
      },
      /**
       * drop the simultaneous link. it doesnt remove the link on the other recognizer.
       * @param {Recognizer} otherRecognizer
       * @returns {Recognizer} this
       */
      dropRecognizeWith: function(t43) {
        return x49(t43, "dropRecognizeWith", this) ? this : (t43 = nt7(t43, this), delete this.simultaneous[t43.id], this);
      },
      /**
       * recognizer can only run when an other is failing
       * @param {Recognizer} otherRecognizer
       * @returns {Recognizer} this
       */
      requireFailure: function(t43) {
        if (x49(t43, "requireFailure", this))
          return this;
        var e48 = this.requireFail;
        return t43 = nt7(t43, this), Y23(e48, t43) === -1 && (e48.push(t43), t43.requireFailure(this)), this;
      },
      /**
       * drop the requireFailure link. it does not remove the link on the other recognizer.
       * @param {Recognizer} otherRecognizer
       * @returns {Recognizer} this
       */
      dropRequireFailure: function(t43) {
        if (x49(t43, "dropRequireFailure", this))
          return this;
        t43 = nt7(t43, this);
        var e48 = Y23(this.requireFail, t43);
        return e48 > -1 && this.requireFail.splice(e48, 1), this;
      },
      /**
       * has require failures boolean
       * @returns {boolean}
       */
      hasRequireFailures: function() {
        return this.requireFail.length > 0;
      },
      /**
       * if the recognizer can recognize simultaneous with an other recognizer
       * @param {Recognizer} otherRecognizer
       * @returns {Boolean}
       */
      canRecognizeWith: function(t43) {
        return !!this.simultaneous[t43.id];
      },
      /**
       * You should use `tryEmit` instead of `emit` directly to check
       * that all the needed recognizers has failed before emitting.
       * @param {Object} input
       */
      emit: function(t43) {
        var e48 = this, i65 = this.state;
        function r66(n72) {
          e48.manager.emit(n72, t43);
        }
        i65 < C52 && r66(e48.options.event + zt5(i65)), r66(e48.options.event), t43.additionalEvent && r66(t43.additionalEvent), i65 >= C52 && r66(e48.options.event + zt5(i65));
      },
      /**
       * Check that all the require failure recognizers has failed,
       * if true, it emits a gesture event,
       * otherwise, setup the state to FAILED.
       * @param {Object} input
       */
      tryEmit: function(t43) {
        if (this.canEmit())
          return this.emit(t43);
        this.state = _32;
      },
      /**
       * can we emit?
       * @returns {boolean}
       */
      canEmit: function() {
        for (var t43 = 0; t43 < this.requireFail.length; ) {
          if (!(this.requireFail[t43].state & (_32 | rt7)))
            return false;
          t43++;
        }
        return true;
      },
      /**
       * update the recognizer
       * @param {Object} inputData
       */
      recognize: function(t43) {
        var e48 = g67({}, t43);
        if (!ct5(this.options.enable, [this, e48])) {
          this.reset(), this.state = _32;
          return;
        }
        this.state & (N33 | G31 | _32) && (this.state = rt7), this.state = this.process(e48), this.state & (d73 | H39 | C52 | G31) && this.tryEmit(e48);
      },
      /**
       * return the state of the recognizer
       * the actual recognizing happens in this method
       * @virtual
       * @param {Object} inputData
       * @returns {Const} STATE
       */
      process: function(t43) {
      },
      // jshint ignore:line
      /**
       * return the preferred touch-action
       * @virtual
       * @returns {Array}
       */
      getTouchAction: function() {
      },
      /**
       * called when the gesture isn't allowed to recognize
       * like when another is being recognized or it is disabled
       * @virtual
       */
      reset: function() {
      }
    };
    function zt5(t43) {
      return t43 & G31 ? "cancel" : t43 & C52 ? "end" : t43 & H39 ? "move" : t43 & d73 ? "start" : "";
    }
    function Zt3(t43) {
      return t43 == W25 ? "down" : t43 == V25 ? "up" : t43 == X24 ? "left" : t43 == F45 ? "right" : "";
    }
    function nt7(t43, e48) {
      var i65 = e48.manager;
      return i65 ? i65.get(t43) : t43;
    }
    function E53() {
      O40.apply(this, arguments);
    }
    T38(E53, O40, {
      /**
       * @namespace
       * @memberof AttrRecognizer
       */
      defaults: {
        /**
         * @type {Number}
         * @default 1
         */
        pointers: 1
      },
      /**
       * Used to check if it the recognizer receives valid input, like input.distance > 10.
       * @memberof AttrRecognizer
       * @param {Object} input
       * @returns {Boolean} recognized
       */
      attrTest: function(t43) {
        var e48 = this.options.pointers;
        return e48 === 0 || t43.pointers.length === e48;
      },
      /**
       * Process the input and return the state for the recognizer
       * @memberof AttrRecognizer
       * @param {Object} input
       * @returns {*} State
       */
      process: function(t43) {
        var e48 = this.state, i65 = t43.eventType, r66 = e48 & (d73 | H39), n72 = this.attrTest(t43);
        return r66 && (i65 & p66 || !n72) ? e48 | G31 : r66 || n72 ? i65 & o71 ? e48 | C52 : e48 & d73 ? e48 | H39 : d73 : _32;
      }
    });
    function st6() {
      E53.apply(this, arguments), this.pX = null, this.pY = null;
    }
    T38(st6, E53, {
      /**
       * @namespace
       * @memberof PanRecognizer
       */
      defaults: {
        event: "pan",
        threshold: 10,
        pointers: 1,
        direction: Ut2
      },
      getTouchAction: function() {
        var t43 = this.options.direction, e48 = [];
        return t43 & I49 && e48.push(w49), t43 & U33 && e48.push(q38), e48;
      },
      directionTest: function(t43) {
        var e48 = this.options, i65 = true, r66 = t43.distance, n72 = t43.direction, s60 = t43.deltaX, a62 = t43.deltaY;
        return n72 & e48.direction || (e48.direction & I49 ? (n72 = s60 === 0 ? j37 : s60 < 0 ? X24 : F45, i65 = s60 != this.pX, r66 = Math.abs(t43.deltaX)) : (n72 = a62 === 0 ? j37 : a62 < 0 ? V25 : W25, i65 = a62 != this.pY, r66 = Math.abs(t43.deltaY))), t43.direction = n72, i65 && r66 > e48.threshold && n72 & e48.direction;
      },
      attrTest: function(t43) {
        return E53.prototype.attrTest.call(this, t43) && (this.state & d73 || !(this.state & d73) && this.directionTest(t43));
      },
      emit: function(t43) {
        this.pX = t43.deltaX, this.pY = t43.deltaY;
        var e48 = Zt3(t43.direction);
        e48 && (t43.additionalEvent = this.options.event + e48), this._super.emit.call(this, t43);
      }
    });
    function dt4() {
      E53.apply(this, arguments);
    }
    T38(dt4, E53, {
      /**
       * @namespace
       * @memberof PinchRecognizer
       */
      defaults: {
        event: "pinch",
        threshold: 0,
        pointers: 2
      },
      getTouchAction: function() {
        return [R43];
      },
      attrTest: function(t43) {
        return this._super.attrTest.call(this, t43) && (Math.abs(t43.scale - 1) > this.options.threshold || this.state & d73);
      },
      emit: function(t43) {
        if (t43.scale !== 1) {
          var e48 = t43.scale < 1 ? "in" : "out";
          t43.additionalEvent = this.options.event + e48;
        }
        this._super.emit.call(this, t43);
      }
    });
    function Et4() {
      O40.apply(this, arguments), this._timer = null, this._input = null;
    }
    T38(Et4, O40, {
      /**
       * @namespace
       * @memberof PressRecognizer
       */
      defaults: {
        event: "press",
        pointers: 1,
        time: 251,
        // minimal time of the pointer to be pressed
        threshold: 9
        // a minimal movement is ok, but keep it low
      },
      getTouchAction: function() {
        return [kt3];
      },
      process: function(t43) {
        var e48 = this.options, i65 = t43.pointers.length === e48.pointers, r66 = t43.distance < e48.threshold, n72 = t43.deltaTime > e48.time;
        if (this._input = t43, !r66 || !i65 || t43.eventType & (o71 | p66) && !n72)
          this.reset();
        else if (t43.eventType & f80)
          this.reset(), this._timer = ht4(function() {
            this.state = N33, this.tryEmit();
          }, e48.time, this);
        else if (t43.eventType & o71)
          return N33;
        return _32;
      },
      reset: function() {
        clearTimeout(this._timer);
      },
      emit: function(t43) {
        this.state === N33 && (t43 && t43.eventType & o71 ? this.manager.emit(this.options.event + "up", t43) : (this._input.timeStamp = ot7(), this.manager.emit(this.options.event, this._input)));
      }
    });
    function gt6() {
      E53.apply(this, arguments);
    }
    T38(gt6, E53, {
      /**
       * @namespace
       * @memberof RotateRecognizer
       */
      defaults: {
        event: "rotate",
        threshold: 0,
        pointers: 2
      },
      getTouchAction: function() {
        return [R43];
      },
      attrTest: function(t43) {
        return this._super.attrTest.call(this, t43) && (Math.abs(t43.rotation) > this.options.threshold || this.state & d73);
      }
    });
    function It2() {
      E53.apply(this, arguments);
    }
    T38(It2, E53, {
      /**
       * @namespace
       * @memberof SwipeRecognizer
       */
      defaults: {
        event: "swipe",
        threshold: 10,
        velocity: 0.3,
        direction: I49 | U33,
        pointers: 1
      },
      getTouchAction: function() {
        return st6.prototype.getTouchAction.call(this);
      },
      attrTest: function(t43) {
        var e48 = this.options.direction, i65;
        return e48 & (I49 | U33) ? i65 = t43.overallVelocity : e48 & I49 ? i65 = t43.overallVelocityX : e48 & U33 && (i65 = t43.overallVelocityY), this._super.attrTest.call(this, t43) && e48 & t43.offsetDirection && t43.distance > this.options.threshold && t43.maxPointers == this.options.pointers && S52(i65) > this.options.velocity && t43.eventType & o71;
      },
      emit: function(t43) {
        var e48 = Zt3(t43.offsetDirection);
        e48 && this.manager.emit(this.options.event + e48, t43), this.manager.emit(this.options.event, t43);
      }
    });
    function at6() {
      O40.apply(this, arguments), this.pTime = false, this.pCenter = false, this._timer = null, this._input = null, this.count = 0;
    }
    T38(at6, O40, {
      /**
       * @namespace
       * @memberof PinchRecognizer
       */
      defaults: {
        event: "tap",
        pointers: 1,
        taps: 1,
        interval: 300,
        // max time between the multi-tap taps
        time: 250,
        // max time of the pointer to be down (like finger on the screen)
        threshold: 9,
        // a minimal movement is ok, but keep it low
        posThreshold: 10
        // a multi-tap can be a bit off the initial position
      },
      getTouchAction: function() {
        return [Tt3];
      },
      process: function(t43) {
        var e48 = this.options, i65 = t43.pointers.length === e48.pointers, r66 = t43.distance < e48.threshold, n72 = t43.deltaTime < e48.time;
        if (this.reset(), t43.eventType & f80 && this.count === 0)
          return this.failTimeout();
        if (r66 && n72 && i65) {
          if (t43.eventType != o71)
            return this.failTimeout();
          var s60 = this.pTime ? t43.timeStamp - this.pTime < e48.interval : true, a62 = !this.pCenter || $23(this.pCenter, t43.center) < e48.posThreshold;
          this.pTime = t43.timeStamp, this.pCenter = t43.center, !a62 || !s60 ? this.count = 1 : this.count += 1, this._input = t43;
          var h66 = this.count % e48.taps;
          if (h66 === 0)
            return this.hasRequireFailures() ? (this._timer = ht4(function() {
              this.state = N33, this.tryEmit();
            }, e48.interval, this), d73) : N33;
        }
        return _32;
      },
      failTimeout: function() {
        return this._timer = ht4(function() {
          this.state = _32;
        }, this.options.interval, this), _32;
      },
      reset: function() {
        clearTimeout(this._timer);
      },
      emit: function() {
        this.state == N33 && (this._input.tapCount = this.count, this.manager.emit(this.options.event, this._input));
      }
    });
    function A62(t43, e48) {
      return e48 = e48 || {}, e48.recognizers = At2(e48.recognizers, A62.defaults.preset), new _t3(t43, e48);
    }
    A62.VERSION = "2.0.7", A62.defaults = {
      /**
       * set if DOM events are being triggered.
       * But this is slower and unused by simple implementations, so disabled by default.
       * @type {Boolean}
       * @default false
       */
      domEvents: false,
      /**
       * The value for the touchAction property/fallback.
       * When set to `compute` it will magically set the correct value based on the added recognizers.
       * @type {String}
       * @default compute
       */
      touchAction: Gt4,
      /**
       * @type {Boolean}
       * @default true
       */
      enable: true,
      /**
       * EXPERIMENTAL FEATURE -- can be removed/changed
       * Change the parent input target element.
       * If Null, then it is being set the to main element.
       * @type {Null|EventTarget}
       * @default null
       */
      inputTarget: null,
      /**
       * force an input class
       * @type {Null|Function}
       * @default null
       */
      inputClass: null,
      /**
       * Default recognizer setup when calling `Hammer()`
       * When creating a new Manager these will be skipped.
       * @type {Array}
       */
      preset: [
        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]
        [gt6, { enable: false }],
        [dt4, { enable: false }, ["rotate"]],
        [It2, { direction: I49 }],
        [st6, { direction: I49 }, ["swipe"]],
        [at6],
        [at6, { event: "doubletap", taps: 2 }, ["tap"]],
        [Et4]
      ],
      /**
       * Some CSS properties can be used to improve the working of Hammer.
       * Add them to this method and they will be set when creating a new Manager.
       * @namespace
       */
      cssProps: {
        /**
         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.
         * @type {String}
         * @default 'none'
         */
        userSelect: "none",
        /**
         * Disable the Windows Phone grippers when pressing an element.
         * @type {String}
         * @default 'none'
         */
        touchSelect: "none",
        /**
         * Disables the default callout shown when you touch and hold a touch target.
         * On iOS, when you touch and hold a touch target such as a link, Safari displays
         * a callout containing information about the link. This property allows you to disable that callout.
         * @type {String}
         * @default 'none'
         */
        touchCallout: "none",
        /**
         * Specifies whether zooming is enabled. Used by IE10>
         * @type {String}
         * @default 'none'
         */
        contentZooming: "none",
        /**
         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.
         * @type {String}
         * @default 'none'
         */
        userDrag: "none",
        /**
         * Overrides the highlight color shown when the user taps a link or a JavaScript
         * clickable element in iOS. This property obeys the alpha value, if specified.
         * @type {String}
         * @default 'rgba(0,0,0,0)'
         */
        tapHighlightColor: "rgba(0,0,0,0)"
      }
    };
    var Le3 = 1, Bt4 = 2;
    function _t3(t43, e48) {
      this.options = g67({}, A62.defaults, e48 || {}), this.options.inputTarget = this.options.inputTarget || t43, this.handlers = {}, this.session = {}, this.recognizers = [], this.oldCssProps = {}, this.element = t43, this.input = le5(this), this.touchAction = new mt3(this, this.options.touchAction), Jt4(this, true), P55(this.options.recognizers, function(i65) {
        var r66 = this.add(new i65[0](i65[1]));
        i65[2] && r66.recognizeWith(i65[2]), i65[3] && r66.requireFailure(i65[3]);
      }, this);
    }
    _t3.prototype = {
      /**
       * set options
       * @param {Object} options
       * @returns {Manager}
       */
      set: function(t43) {
        return g67(this.options, t43), t43.touchAction && this.touchAction.update(), t43.inputTarget && (this.input.destroy(), this.input.target = t43.inputTarget, this.input.init()), this;
      },
      /**
       * stop recognizing for this session.
       * This session will be discarded, when a new [input]start event is fired.
       * When forced, the recognizer cycle is stopped immediately.
       * @param {Boolean} [force]
       */
      stop: function(t43) {
        this.session.stopped = t43 ? Bt4 : Le3;
      },
      /**
       * run the recognizers!
       * called by the inputHandler function on every movement of the pointers (touches)
       * it walks through all the recognizers and tries to detect the gesture that is being made
       * @param {Object} inputData
       */
      recognize: function(t43) {
        var e48 = this.session;
        if (!e48.stopped) {
          this.touchAction.preventDefaults(t43);
          var i65, r66 = this.recognizers, n72 = e48.curRecognizer;
          (!n72 || n72 && n72.state & N33) && (n72 = e48.curRecognizer = null);
          for (var s60 = 0; s60 < r66.length; )
            i65 = r66[s60], e48.stopped !== Bt4 && // 1
            (!n72 || i65 == n72 || // 2
            i65.canRecognizeWith(n72)) ? i65.recognize(t43) : i65.reset(), !n72 && i65.state & (d73 | H39 | C52) && (n72 = e48.curRecognizer = i65), s60++;
        }
      },
      /**
       * get a recognizer by its event name.
       * @param {Recognizer|String} recognizer
       * @returns {Recognizer|Null}
       */
      get: function(t43) {
        if (t43 instanceof O40)
          return t43;
        for (var e48 = this.recognizers, i65 = 0; i65 < e48.length; i65++)
          if (e48[i65].options.event == t43)
            return e48[i65];
        return null;
      },
      /**
       * add a recognizer to the manager
       * existing recognizers with the same event name will be removed
       * @param {Recognizer} recognizer
       * @returns {Recognizer|Manager}
       */
      add: function(t43) {
        if (x49(t43, "add", this))
          return this;
        var e48 = this.get(t43.options.event);
        return e48 && this.remove(e48), this.recognizers.push(t43), t43.manager = this, this.touchAction.update(), t43;
      },
      /**
       * remove a recognizer by name or instance
       * @param {Recognizer|String} recognizer
       * @returns {Manager}
       */
      remove: function(t43) {
        if (x49(t43, "remove", this))
          return this;
        if (t43 = this.get(t43), t43) {
          var e48 = this.recognizers, i65 = Y23(e48, t43);
          i65 !== -1 && (e48.splice(i65, 1), this.touchAction.update());
        }
        return this;
      },
      /**
       * bind event
       * @param {String} events
       * @param {Function} handler
       * @returns {EventEmitter} this
       */
      on: function(t43, e48) {
        if (t43 !== l63 && e48 !== l63) {
          var i65 = this.handlers;
          return P55(B42(t43), function(r66) {
            i65[r66] = i65[r66] || [], i65[r66].push(e48);
          }), this;
        }
      },
      /**
       * unbind event, leave emit blank to remove all handlers
       * @param {String} events
       * @param {Function} [handler]
       * @returns {EventEmitter} this
       */
      off: function(t43, e48) {
        if (t43 !== l63) {
          var i65 = this.handlers;
          return P55(B42(t43), function(r66) {
            e48 ? i65[r66] && i65[r66].splice(Y23(i65[r66], e48), 1) : delete i65[r66];
          }), this;
        }
      },
      /**
       * emit event to the listeners
       * @param {String} event
       * @param {Object} data
       */
      emit: function(t43, e48) {
        this.options.domEvents && xe3(t43, e48);
        var i65 = this.handlers[t43] && this.handlers[t43].slice();
        if (!(!i65 || !i65.length)) {
          e48.type = t43, e48.preventDefault = function() {
            e48.srcEvent.preventDefault();
          };
          for (var r66 = 0; r66 < i65.length; )
            i65[r66](e48), r66++;
        }
      },
      /**
       * destroy the manager and unbinds all events
       * it doesn't unbind dom events, that is the user own responsibility
       */
      destroy: function() {
        this.element && Jt4(this, false), this.handlers = {}, this.session = {}, this.input.destroy(), this.element = null;
      }
    };
    function Jt4(t43, e48) {
      var i65 = t43.element;
      if (i65.style) {
        var r66;
        P55(t43.options.cssProps, function(n72, s60) {
          r66 = Q29(i65.style, s60), e48 ? (t43.oldCssProps[r66] = i65.style[r66], i65.style[r66] = n72) : i65.style[r66] = t43.oldCssProps[r66] || "";
        }), e48 || (t43.oldCssProps = {});
      }
    }
    function xe3(t43, e48) {
      var i65 = yt3.createEvent("Event");
      i65.initEvent(t43, true, true), i65.gesture = e48, e48.target.dispatchEvent(i65);
    }
    g67(A62, {
      INPUT_START: f80,
      INPUT_MOVE: M48,
      INPUT_END: o71,
      INPUT_CANCEL: p66,
      STATE_POSSIBLE: rt7,
      STATE_BEGAN: d73,
      STATE_CHANGED: H39,
      STATE_ENDED: C52,
      STATE_RECOGNIZED: N33,
      STATE_CANCELLED: G31,
      STATE_FAILED: _32,
      DIRECTION_NONE: j37,
      DIRECTION_LEFT: X24,
      DIRECTION_RIGHT: F45,
      DIRECTION_UP: V25,
      DIRECTION_DOWN: W25,
      DIRECTION_HORIZONTAL: I49,
      DIRECTION_VERTICAL: U33,
      DIRECTION_ALL: Ut2,
      Manager: _t3,
      Input: m66,
      TouchAction: mt3,
      TouchInput: et4,
      MouseInput: tt5,
      PointerEventInput: vt3,
      TouchMouseInput: pt3,
      SingleTouchInput: Ft3,
      Recognizer: O40,
      AttrRecognizer: E53,
      Tap: at6,
      Pan: st6,
      Swipe: It2,
      Pinch: dt4,
      Rotate: gt6,
      Press: Et4,
      on: z28,
      off: Z18,
      each: P55,
      merge: te10,
      extend: Ot4,
      assign: g67,
      inherit: T38,
      bindFn: lt5,
      prefixed: Q29
    });
    var Ye2 = typeof u72 != "undefined" ? u72 : typeof self != "undefined" ? self : {};
    Ye2.Hammer = A62, typeof l63 == "function" && l63.amd ? l63(function() {
      return A62;
    }) : k47.exports ? k47.exports = A62 : u72[jt3] = A62;
  })(window, document, "Hammer");
})(He);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/Magnifier.js
var b = Object.defineProperty;
var C = (r66, t43, e48) => t43 in r66 ? b(r66, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[t43] = e48;
var n4 = (r66, t43, e48) => (C(r66, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var S = class {
  constructor(t43, e48) {
    n4(this, "width");
    n4(this, "height");
    n4(this, "containerDom");
    n4(this, "hooks", new E3());
    n4(this, "canvas", document.createElement("canvas"));
    n4(this, "config");
    n4(this, "state", { enabled: false });
    n4(this, "five");
    n4(this, "scale");
    n4(this, "offset", { x: 0, y: 0 });
    n4(this, "context");
    n4(this, "renderCenter", new Vector3());
    n4(this, "hammer");
    n4(this, "offsetRange");
    n4(this, "isPanning", false);
    n4(this, "imageData", new ImageData(1, 1));
    n4(this, "onPanstart", () => {
      this.isPanning = true, this.canvas.style.boxShadow = "0 2px 30px 0 rgba(0,0,0,0.20)";
    });
    n4(this, "onPan", (t44) => {
      if (!this.isPanning || !this.offsetRange || this.hooks.emit("wantsPanGesture", t44))
        return;
      const { translateX: i66, translateY: s61 } = this.getPanOffset(t44, this.offsetRange);
      this.canvas.style.transform = `translate3d(${i66}px, ${s61}px, 100px)`;
    });
    n4(this, "onPanend", (t44) => {
      if (this.isPanning = false, this.canvas.style.boxShadow = "none", !this.offsetRange)
        return;
      const { translateX: e49, translateY: i66 } = this.getPanOffset(t44, this.offsetRange);
      this.canvas.style.transform = `translate3d(${e49}px, ${i66}px, 100px)`, this.offset = { x: e49, y: i66 };
    });
    var s60, h66, o71, a62;
    if (!t43.renderer) {
      console.error("Five Render 未初始化");
      return;
    }
    this.five = t43, this.scale = (s60 = e48 == null ? void 0 : e48.scale) != null ? s60 : 2, this.width = (h66 = e48 == null ? void 0 : e48.width) != null ? h66 : 190, this.height = (a62 = (o71 = e48 == null ? void 0 : e48.height) != null ? o71 : e48 == null ? void 0 : e48.width) != null ? a62 : 190, this.config = {
      dragEnabled: (e48 == null ? void 0 : e48.dragEnabled) || false,
      autoFixPCPosition: (e48 == null ? void 0 : e48.autoFixPCPosition) || false,
      initialPosition: (e48 == null ? void 0 : e48.initialPosition) || { left: "0", top: "0" }
    };
    const i65 = this.canvas.getContext("2d");
    if (!i65)
      throw new Error("CANNOT CREATE CONTEXT2D");
    this.context = i65, this.config.dragEnabled && (this.hammer = new Qt(this.canvas), this.hammer.on("pan", this.onPan), this.hammer.on("panstart", this.onPanstart), this.hammer.on("panend", this.onPanend)), this.initStyle();
  }
  enable() {
    if (!this.state.enabled)
      return this.state.enabled = true, this.containerDom && this._appendTo(this.containerDom), this;
  }
  disable() {
    if (this.state.enabled)
      return this.state.enabled = false, this.canvas.style.visibility = "hidden", this.canvas.remove(), this;
  }
  dispose() {
    var t43;
    this.clear(), this.disable(), (t43 = this.hammer) == null || t43.destroy();
  }
  /** 把放大镜放到某一个容器中 */
  appendTo(t43) {
    var e48;
    return this.containerDom && ((e48 = this.containerDom) == null || e48.removeChild(this.canvas)), this.containerDom = t43, this.state.enabled && this._appendTo(t43), this;
  }
  /** 清除放大镜渲染内容 */
  clear() {
    var t43;
    return (t43 = this.context) == null || t43.clearRect(0, 0, this.canvas.width, this.canvas.height), this;
  }
  /** 放大传入点位周围的内容 */
  renderWithPoint(t43) {
    this.containerDom && this.state.enabled && (this.renderCenter = t43, this.render(), this.config.autoFixPCPosition && this.autoFixPCPosition());
  }
  /** 放大传入点位周围的内容 */
  renderWithScreenPoint(t43) {
    this.containerDom && this.state.enabled && (this.renderCenter = t43, this.render(), this.config.autoFixPCPosition && this.autoFixPCPosition());
  }
  resetOffset() {
    this.offset = { x: 0, y: 0 }, this.canvas.style.transform = "translate3d(0px, 0px, 100px)";
  }
  render() {
    if (!this.five.renderer || !this.containerDom)
      return;
    const { scale: t43, context: e48, width: i65, height: s60 } = this, h66 = this.five.renderer.getSize(new Vector2()), [o71, a62] = (() => {
      if (this.renderCenter.isVector3) {
        const c85 = this.renderCenter.clone().project(this.five.camera);
        return [(c85.x + 1) / 2 * h66.x, (c85.y + 1) / 2 * h66.y];
      } else
        return [this.renderCenter.x, h66.y - this.renderCenter.y];
    })(), f80 = 1, l63 = i65 / t43, x49 = s60 / t43, P55 = f80 * t43, v58 = /* @__PURE__ */ new Map();
    this.five.scene.traverse((c85) => {
      c85.disableGetPixel === true && (v58.set(c85, c85.visible), c85.visible = false);
    });
    const u72 = this.five.getPixels(o71 - l63 / 2, a62 - l63 / 2, l63, x49, P55);
    v58.forEach((c85, p66) => {
      p66.visible = c85;
    });
    const g67 = Math.floor(i65 * f80), m66 = Math.floor(s60 * f80);
    R2(u72, g67, m66), (this.imageData.width !== g67 || this.imageData.height !== m66) && (this.imageData = new ImageData(g67, m66)), this.imageData.data.set(u72), e48.putImageData(this.imageData, 0, 0), this.canvas.style.visibility = "visible";
  }
  getRenderCenter() {
    return this.renderCenter;
  }
  _appendTo(t43) {
    if (this.resetOffset(), t43.appendChild(this.canvas), !this.offsetRange) {
      const e48 = this.canvas.getBoundingClientRect(), i65 = t43.getBoundingClientRect(), s60 = i65.right - e48.right, h66 = i65.bottom - e48.bottom, o71 = i65.left - e48.left, a62 = i65.top - e48.top;
      this.offsetRange = {
        min: { x: o71, y: a62 },
        max: { x: s60, y: h66 }
      };
    }
  }
  autoFixPCPosition() {
    if (!this.containerDom)
      return;
    const { width: t43, height: e48 } = this, { clientWidth: i65, clientHeight: s60 } = this.containerDom, [h66, o71, a62] = (() => {
      if (this.renderCenter.isVector3) {
        const f80 = this.renderCenter.clone().project(this.five.camera);
        return [
          //
          (f80.x + 1) / 2 * i65,
          -(f80.x - 1) / 2 * i65,
          -(f80.y - 1) / 2 * s60
        ];
      } else
        return [this.renderCenter.x, i65 - this.renderCenter.x, this.renderCenter.y];
    })();
    h66 < 183 ? (this.canvas.style.top = -e48 / 2 + "px", this.canvas.style.left = "90px") : a62 < 183 ? (this.canvas.style.top = "90px", this.canvas.style.left = -t43 / 2 + "px") : o71 < 183 ? (this.canvas.style.top = -e48 / 2 + "px", this.canvas.style.left = -t43 - 90 + "px") : (this.canvas.style.left = -t43 / 2 + "px", this.canvas.style.top = -e48 - 90 + "px"), this.canvas.style.transform = `translate3d(${h66}px, ${a62}px, 10px)`, this.offset = { x: h66, y: a62 };
  }
  initStyle() {
    const t43 = this.canvas;
    t43.classList.add("five-plugin__magnifier"), t43.style.position = "absolute", t43.style.pointerEvents = this.config.dragEnabled ? "all" : "none", t43.style.borderRadius = "50%", t43.style.zIndex = "99";
    const e48 = 1;
    t43.setAttribute("width", (this.width * e48).toString()), t43.setAttribute("height", (this.height * e48).toString()), t43.style.border = "2px solid rgba(255,255,255,0.20)", t43.style.width = this.width + "px", t43.style.height = this.height + "px", t43.style.top = this.config.initialPosition.top, t43.style.left = this.config.initialPosition.left, t43.style.transform = "translate(0,0,100px)", t43.style.visibility = "hidden", this.config.dragEnabled && (this.canvas.style.cursor = "pointer");
  }
  getPanOffset(t43, e48) {
    const {
      min: { x: i65, y: s60 },
      max: { x: h66, y: o71 }
    } = e48, a62 = this.offset.x + t43.deltaX, f80 = this.offset.y + t43.deltaY, l63 = Math.min(Math.max(a62, i65), h66), x49 = Math.min(Math.max(f80, s60), o71);
    return { translateX: l63, translateY: x49 };
  }
};
function d3(r66, t43, e48) {
  const i65 = r66[t43], s60 = r66[e48];
  i65 === void 0 || s60 === void 0 || (r66[t43] = s60, r66[e48] = i65);
}
function R2(r66, t43, e48) {
  const i65 = e48 / 2;
  for (let s60 = 1; s60 <= i65; s60++) {
    const h66 = e48 - (s60 - 1);
    for (let o71 = 1; o71 <= t43; o71++) {
      const a62 = (s60 - 1) * t43 + o71 - 1, f80 = (h66 - 1) * t43 + o71 - 1;
      d3(r66, a62 * 4 + 0, f80 * 4 + 0), d3(r66, a62 * 4 + 1, f80 * 4 + 1), d3(r66, a62 * 4 + 2, f80 * 4 + 2), d3(r66, a62 * 4 + 3, f80 * 4 + 3);
    }
  }
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/Assets/index.js
var A3 = "data:image/png;base64,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";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/even.js
function t6(e48, r66) {
  const u72 = Math.round(e48);
  return u72 % 2 === 0 ? u72 : u72 + (r66 != null && r66.floor ? -1 : 1);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/CSS3DRender/OpacityMesh.js
var c8 = Object.defineProperty;
var m3 = (r66, t43, e48) => t43 in r66 ? c8(r66, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[t43] = e48;
var o7 = (r66, t43, e48) => (m3(r66, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var p = class extends Mesh {
  constructor(e48, a62) {
    const n72 = new MeshBasicMaterial({ opacity: 0, color: 0, transparent: false, side: DoubleSide }), i65 = new PlaneGeometry(e48, a62);
    super(i65, n72);
    o7(this, "name", "opacity-mesh");
  }
  removeFromParent() {
    const e48 = this.parent;
    return e48 !== null && e48.remove(this), this;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/centerPoint.js
function c9(...t43) {
  const e48 = new Vector3();
  return t43.forEach((n72) => e48.add(n72)), e48.divideScalar(t43.length), e48;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/getObjectVisible.js
var r4 = (e48) => e48 ? e48.visible === false ? false : r4(e48.parent) : true;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/CSS3DRenderer/index.js
var c10 = function(p66) {
  Object3D.call(this), this.element = p66, this.element.style.position = "absolute", this.element.style.pointerEvents = "auto", this.element.style.userSelect = "none", this.element.setAttribute("draggable", false), this.addEventListener("removed", function() {
    this.traverse(function(y51) {
      y51.element instanceof Element && y51.element.parentNode !== null && y51.element.remove();
    });
  });
};
c10.prototype = Object.create(Object3D.prototype);
c10.prototype.constructor = c10;
var C2 = function(p66) {
  c10.call(this, p66);
};
C2.prototype = Object.create(c10.prototype);
C2.prototype.constructor = C2;
var I3 = function(p66) {
  let y51 = this, x49, S52, M48, g67, o71 = new Matrix4(), f80 = {
    camera: { fov: 0, style: "" },
    objects: /* @__PURE__ */ new Map()
  }, a62 = document.createElement("div");
  a62.style.overflow = "hidden", this.domElement = a62;
  let n72 = document.createElement("div");
  n72.style.WebkitTransformStyle = "preserve-3d", n72.style.transformStyle = "preserve-3d", n72.style.pointerEvents = "none", a62.appendChild(n72), this.getSize = function() {
    return {
      width: x49,
      height: S52
    };
  }, this.setSize = function(t43, e48) {
    x49 = t43, S52 = e48, M48 = x49 / 2, g67 = S52 / 2, a62.style.width = t43 + "px", a62.style.height = e48 + "px", n72.style.width = t43 + "px", n72.style.height = e48 + "px";
  };
  function r66(t43) {
    return Math.abs(t43) < 1e-10 ? 0 : t43;
  }
  function O40(t43) {
    let e48 = t43.elements;
    return "matrix3d(" + r66(e48[0]) + "," + r66(-e48[1]) + "," + r66(e48[2]) + "," + r66(e48[3]) + "," + r66(e48[4]) + "," + r66(-e48[5]) + "," + r66(e48[6]) + "," + r66(e48[7]) + "," + r66(e48[8]) + "," + r66(-e48[9]) + "," + r66(e48[10]) + "," + r66(e48[11]) + "," + r66(e48[12]) + "," + r66(-e48[13]) + "," + r66(e48[14]) + "," + r66(e48[15]) + ")";
  }
  function W25(t43, e48) {
    let l63 = t43.elements;
    return "translate(-50%,-50%)" + ("matrix3d(" + r66(l63[0]) + "," + r66(l63[1]) + "," + r66(l63[2]) + "," + r66(l63[3]) + "," + r66(-l63[4]) + "," + r66(-l63[5]) + "," + r66(-l63[6]) + "," + r66(-l63[7]) + "," + r66(l63[8]) + "," + r66(l63[9]) + "," + r66(l63[10]) + "," + r66(l63[11]) + "," + r66(l63[12]) + "," + r66(l63[13]) + "," + r66(l63[14]) + "," + r66(l63[15]) + ")");
  }
  function E53(t43) {
    var e48;
    if (t43.isCSS3DObject) {
      const l63 = (e48 = t43.mode) != null ? e48 : "front";
      (!p66 || l63 === p66) && (t43.element.style.display = "none");
    }
    for (let l63 = 0, h66 = t43.children.length; l63 < h66; l63++)
      E53(t43.children[l63]);
  }
  function D52(t43, e48, l63, h66, v58) {
    var u72;
    if (t43.visible === false) {
      E53(t43);
      return;
    }
    if (t43.isCSS3DObject) {
      const i65 = (u72 = t43.mode) != null ? u72 : "front";
      if (p66 && i65 !== p66)
        return;
      t43.flag = v58;
      const d73 = t43.layers.test(l63.layers) === true, m66 = t43.element;
      if (m66.style.display = d73 === true ? "" : "none", d73) {
        t43.onBeforeRender(y51, e48, l63);
        let s60;
        t43.isCSS3DSprite ? (o71.copy(l63.matrixWorldInverse), o71.transpose(), o71.copyPosition(t43.matrixWorld), o71.scale(t43.scale), o71.elements[3] = 0, o71.elements[7] = 0, o71.elements[11] = 0, o71.elements[15] = 1, s60 = W25(o71)) : s60 = W25(t43.matrixWorld);
        let b55 = f80.objects.get(t43);
        if (b55 === void 0 || b55.style !== s60) {
          m66.style.WebkitTransform = s60, m66.style.transform = s60;
          let _32 = { style: s60 };
          f80.objects.set(t43, _32);
        }
        m66.style.display = t43.visible ? "" : "none", m66.parentNode !== n72 && n72.appendChild(m66), t43.onAfterRender(y51, e48, l63);
      }
    }
    for (let i65 = 0, d73 = t43.children.length; i65 < d73; i65++)
      D52(t43.children[i65], e48, l63, h66, v58);
  }
  this.render = function(t43, e48) {
    let l63 = e48.projectionMatrix.elements[5] * g67;
    if (f80.camera.fov !== l63 && (e48.isPerspectiveCamera ? (a62.style.WebkitPerspective = l63 + "px", a62.style.perspective = l63 + "px") : (a62.style.WebkitPerspective = "", a62.style.perspective = ""), f80.camera.fov = l63), t43.autoUpdate === true && t43.updateMatrixWorld(), e48.parent === null && e48.updateMatrixWorld(), e48.isOrthographicCamera)
      var h66 = -(e48.right + e48.left) / 2, v58 = (e48.top + e48.bottom) / 2;
    let u72 = e48.isOrthographicCamera ? "scale(" + l63 + ")translate(" + r66(h66) + "px," + r66(v58) + "px)" + O40(e48.matrixWorldInverse) : "translateZ(" + l63 + "px)" + O40(e48.matrixWorldInverse), i65 = u72 + "translate(" + M48 + "px," + g67 + "px)";
    f80.camera.style !== i65 && (n72.style.WebkitTransform = i65, n72.style.transform = i65, f80.camera.style = i65);
    const d73 = t43.uuid + "_" + performance.now().toString();
    D52(t43, t43, e48, u72, d73), f80.objects.forEach(function(m66, s60) {
      s60.flag !== d73 && (s60.element.remove(), f80.objects.delete(s60));
    });
  };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CSS3DRenderPlugin/utils/generateBehindFiveElement.js
var e2 = document.createElement("div");
e2.classList.add("behindFiveElement");
e2.style.position = "absolute";
e2.style.top = "0";
e2.style.left = "0";
e2.style.width = "100%";
e2.style.height = "100%";
e2.style.pointerEvents = "none";
function d4(t43) {
  var o71, a62, i65, l63, s60;
  const n72 = (s60 = (a62 = c11(t43.getElement())) != null ? a62 : c11((o71 = t43.getElement()) == null ? void 0 : o71.parentElement)) != null ? s60 : c11((l63 = (i65 = t43.getElement()) == null ? void 0 : i65.parentElement) == null ? void 0 : l63.parentElement), r66 = n72 == null ? void 0 : n72.parentElement;
  if (r66)
    return r66.contains(e2) || n72.parentElement.insertBefore(e2, n72), e2;
  console.error(
    "Can not find a valid element to insert behindFiveElement. How to fix it: https://github.com/realsee-developer/dnalogel/tree/main/plugins/src/CSS3DRenderPlugin/README.md"
  );
}
function c11(t43) {
  var s60;
  if (!t43)
    return;
  const n72 = (s60 = t43.style.position) != null ? s60 : getComputedStyle(t43).position;
  if (n72 !== "fixed" && n72 !== "absolute" && n72 !== "relative")
    return;
  const r66 = getComputedStyle(t43), o71 = r66.backgroundColor, a62 = r66.backgroundImage;
  if (!(o71 !== "transparent" && o71 !== "rgba(0, 0, 0, 0)" && o71 !== "" || a62 !== "none" && a62 !== ""))
    return t43;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/isNil.js
function t7(n72) {
  return !i7(n72);
}
function i7(n72) {
  return n72 != null;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/Five_LineMaterial2.js
var o8 = Object.defineProperty;
var c12 = (n72, t43, i65) => t43 in n72 ? o8(n72, t43, { enumerable: true, configurable: true, writable: true, value: i65 }) : n72[t43] = i65;
var a5 = (n72, t43, i65) => (c12(n72, typeof t43 != "symbol" ? t43 + "" : t43, i65), i65);
var s2 = {
  uniforms: UniformsUtils.merge([
    UniformsLib.common,
    UniformsLib.fog,
    {
      linewidth: { value: 1 },
      resolution: { value: new Vector2(1, 1) },
      dashScale: { value: 1 },
      dashSize: { value: 1 },
      gapSize: { value: 1 },
      // todo FIX - maybe change to totalSize
      opacity: { value: 1 }
    }
  ]),
  vertexShader: `
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		varying vec2 vUv;

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;

			#endif

			float aspect = resolution.x / resolution.y;

			vUv = uv;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec2 ndcStart = clipStart.xy / clipStart.w;
			vec2 ndcEnd = clipEnd.xy / clipEnd.w;

			// direction
			vec2 dir = ndcEnd - ndcStart;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			// perpendicular to dir
			vec2 offset = vec2( dir.y, - dir.x );

			// undo aspect ratio adjustment
			dir.x /= aspect;
			offset.x /= aspect;

			// sign flip
			if ( position.x < 0.0 ) offset *= - 1.0;

			// endcaps
			if ( position.y < 0.0 ) {

				offset += - dir;

			} else if ( position.y > 1.0 ) {

				offset += dir;

			}

			// adjust for linewidth
			offset *= linewidth;

			// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
			offset /= resolution.y;

			// select end
			vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

			// back to clip space
			offset *= clip.w;

			clip.xy += offset;

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,
  fragmentShader: `
		uniform vec3 diffuse;
		uniform float opacity;

		#ifdef USE_DASH

			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		varying vec2 vUv;

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance, dashSize + gapSize ) < dashSize ) discard; // todo - FIX

			#endif

			if ( abs( vUv.y ) > 1.0 ) {

				float a = vUv.x;
				float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
				float len2 = a * a + b * b;

				if ( len2 > 1.0 ) discard;

			}

			vec4 diffuseColor = vec4( diffuse, opacity );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );

			#include <tonemapping_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`
};
var l3 = class extends ShaderMaterial {
  // to be set by renderer
  constructor(i65) {
    super({
      uniforms: UniformsUtils.clone(s2.uniforms),
      vertexShader: s2.vertexShader,
      fragmentShader: s2.fragmentShader,
      clipping: true
      // required for clipping support
    });
    a5(this, "color");
    a5(this, "dashed");
    a5(this, "dashScale");
    a5(this, "dashSize");
    a5(this, "gapSize");
    a5(this, "resolution");
    this.type = "LineMaterial", this.dashed = false, Object.defineProperties(this, {
      color: {
        enumerable: true,
        get() {
          return this.uniforms.diffuse.value;
        },
        set(e48) {
          this.uniforms.diffuse.value = e48;
        }
      },
      linewidth: {
        enumerable: true,
        get() {
          return this.uniforms.linewidth.value;
        },
        set(e48) {
          this.uniforms.linewidth.value = e48;
        }
      },
      dashScale: {
        enumerable: true,
        get() {
          return this.uniforms.dashScale.value;
        },
        set(e48) {
          this.uniforms.dashScale.value = e48;
        }
      },
      dashSize: {
        enumerable: true,
        get() {
          return this.uniforms.dashSize.value;
        },
        set(e48) {
          this.uniforms.dashSize.value = e48;
        }
      },
      gapSize: {
        enumerable: true,
        get() {
          return this.uniforms.gapSize.value;
        },
        set(e48) {
          this.uniforms.gapSize.value = e48;
        }
      },
      opacity: {
        enumerable: true,
        get() {
          return this.uniforms.opacity.value;
        },
        set(e48) {
          this.uniforms.opacity.value = e48;
        }
      },
      resolution: {
        enumerable: true,
        get() {
          return this.uniforms.resolution.value;
        },
        set(e48) {
          this.uniforms.resolution.value.copy(e48);
        }
      }
    }), this.setValues(i65);
  }
};
Object.assign(l3.prototype, { isLineMaterial: true });

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/Sphere.js
var t8 = new Vector3();
var c13 = class extends Sphere {
  expandByPoint(s60) {
    if (this.isEmpty())
      return this.center.copy(s60), this.radius = 0, this;
    t8.subVectors(s60, this.center);
    const e48 = t8.lengthSq();
    if (e48 > this.radius * this.radius) {
      const r66 = Math.sqrt(e48), i65 = (r66 - this.radius) * 0.5;
      this.center.addScaledVector(t8, i65 / r66), this.radius += i65;
    }
    return this;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/animejs/lib/anime.es.js
var pr = {
  update: null,
  begin: null,
  loopBegin: null,
  changeBegin: null,
  change: null,
  changeComplete: null,
  loopComplete: null,
  complete: null,
  loop: 1,
  direction: "normal",
  autoplay: true,
  timelineOffset: 0
};
var Y = {
  duration: 1e3,
  delay: 0,
  endDelay: 0,
  easing: "easeOutElastic(1, .5)",
  round: 0
};
var Fr = ["translateX", "translateY", "translateZ", "rotate", "rotateX", "rotateY", "rotateZ", "scale", "scaleX", "scaleY", "scaleZ", "skew", "skewX", "skewY", "perspective", "matrix", "matrix3d"];
var U2 = {
  CSS: {},
  springs: {}
};
function D(r66, e48, n72) {
  return Math.min(Math.max(r66, e48), n72);
}
function R3(r66, e48) {
  return r66.indexOf(e48) > -1;
}
function K(r66, e48) {
  return r66.apply(null, e48);
}
var c14 = {
  arr: function(r66) {
    return Array.isArray(r66);
  },
  obj: function(r66) {
    return R3(Object.prototype.toString.call(r66), "Object");
  },
  pth: function(r66) {
    return c14.obj(r66) && r66.hasOwnProperty("totalLength");
  },
  svg: function(r66) {
    return r66 instanceof SVGElement;
  },
  inp: function(r66) {
    return r66 instanceof HTMLInputElement;
  },
  dom: function(r66) {
    return r66.nodeType || c14.svg(r66);
  },
  str: function(r66) {
    return typeof r66 == "string";
  },
  fnc: function(r66) {
    return typeof r66 == "function";
  },
  und: function(r66) {
    return typeof r66 == "undefined";
  },
  nil: function(r66) {
    return c14.und(r66) || r66 === null;
  },
  hex: function(r66) {
    return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(r66);
  },
  rgb: function(r66) {
    return /^rgb/.test(r66);
  },
  hsl: function(r66) {
    return /^hsl/.test(r66);
  },
  col: function(r66) {
    return c14.hex(r66) || c14.rgb(r66) || c14.hsl(r66);
  },
  key: function(r66) {
    return !pr.hasOwnProperty(r66) && !Y.hasOwnProperty(r66) && r66 !== "targets" && r66 !== "keyframes";
  }
};
function mr(r66) {
  var e48 = /\(([^)]+)\)/.exec(r66);
  return e48 ? e48[1].split(",").map(function(n72) {
    return parseFloat(n72);
  }) : [];
}
function yr(r66, e48) {
  var n72 = mr(r66), a62 = D(c14.und(n72[0]) ? 1 : n72[0], 0.1, 100), t43 = D(c14.und(n72[1]) ? 100 : n72[1], 0.1, 100), u72 = D(c14.und(n72[2]) ? 10 : n72[2], 0.1, 100), o71 = D(c14.und(n72[3]) ? 0 : n72[3], 0.1, 100), f80 = Math.sqrt(t43 / a62), i65 = u72 / (2 * Math.sqrt(t43 * a62)), p66 = i65 < 1 ? f80 * Math.sqrt(1 - i65 * i65) : 0, s60 = 1, l63 = i65 < 1 ? (i65 * f80 + -o71) / p66 : -o71 + f80;
  function h66(m66) {
    var v58 = e48 ? e48 * m66 / 1e3 : m66;
    return i65 < 1 ? v58 = Math.exp(-v58 * i65 * f80) * (s60 * Math.cos(p66 * v58) + l63 * Math.sin(p66 * v58)) : v58 = (s60 + l63 * v58) * Math.exp(-v58 * f80), m66 === 0 || m66 === 1 ? m66 : 1 - v58;
  }
  function w49() {
    var m66 = U2.springs[r66];
    if (m66)
      return m66;
    for (var v58 = 1 / 6, y51 = 0, M48 = 0; ; )
      if (y51 += v58, h66(y51) === 1) {
        if (M48++, M48 >= 16)
          break;
      } else
        M48 = 0;
    var g67 = y51 * v58 * 1e3;
    return U2.springs[r66] = g67, g67;
  }
  return e48 ? h66 : w49;
}
function Vr(r66) {
  return r66 === void 0 && (r66 = 10), function(e48) {
    return Math.ceil(D(e48, 1e-6, 1) * r66) * (1 / r66);
  };
}
var jr = function() {
  var r66 = 11, e48 = 1 / (r66 - 1);
  function n72(s60, l63) {
    return 1 - 3 * l63 + 3 * s60;
  }
  function a62(s60, l63) {
    return 3 * l63 - 6 * s60;
  }
  function t43(s60) {
    return 3 * s60;
  }
  function u72(s60, l63, h66) {
    return ((n72(l63, h66) * s60 + a62(l63, h66)) * s60 + t43(l63)) * s60;
  }
  function o71(s60, l63, h66) {
    return 3 * n72(l63, h66) * s60 * s60 + 2 * a62(l63, h66) * s60 + t43(l63);
  }
  function f80(s60, l63, h66, w49, m66) {
    var v58, y51, M48 = 0;
    do
      y51 = l63 + (h66 - l63) / 2, v58 = u72(y51, w49, m66) - s60, v58 > 0 ? h66 = y51 : l63 = y51;
    while (Math.abs(v58) > 1e-7 && ++M48 < 10);
    return y51;
  }
  function i65(s60, l63, h66, w49) {
    for (var m66 = 0; m66 < 4; ++m66) {
      var v58 = o71(l63, h66, w49);
      if (v58 === 0)
        return l63;
      var y51 = u72(l63, h66, w49) - s60;
      l63 -= y51 / v58;
    }
    return l63;
  }
  function p66(s60, l63, h66, w49) {
    if (!(0 <= s60 && s60 <= 1 && 0 <= h66 && h66 <= 1))
      return;
    var m66 = new Float32Array(r66);
    if (s60 !== l63 || h66 !== w49)
      for (var v58 = 0; v58 < r66; ++v58)
        m66[v58] = u72(v58 * e48, s60, h66);
    function y51(M48) {
      for (var g67 = 0, d73 = 1, P55 = r66 - 1; d73 !== P55 && m66[d73] <= M48; ++d73)
        g67 += e48;
      --d73;
      var E53 = (M48 - m66[d73]) / (m66[d73 + 1] - m66[d73]), b55 = g67 + E53 * e48, S52 = o71(b55, s60, h66);
      return S52 >= 1e-3 ? i65(M48, b55, s60, h66) : S52 === 0 ? b55 : f80(M48, g67, g67 + e48, s60, h66);
    }
    return function(M48) {
      return s60 === l63 && h66 === w49 || M48 === 0 || M48 === 1 ? M48 : u72(y51(M48), l63, w49);
    };
  }
  return p66;
}();
var br = function() {
  var r66 = { linear: function() {
    return function(a62) {
      return a62;
    };
  } }, e48 = {
    Sine: function() {
      return function(a62) {
        return 1 - Math.cos(a62 * Math.PI / 2);
      };
    },
    Expo: function() {
      return function(a62) {
        return a62 ? Math.pow(2, 10 * a62 - 10) : 0;
      };
    },
    Circ: function() {
      return function(a62) {
        return 1 - Math.sqrt(1 - a62 * a62);
      };
    },
    Back: function() {
      return function(a62) {
        return a62 * a62 * (3 * a62 - 2);
      };
    },
    Bounce: function() {
      return function(a62) {
        for (var t43, u72 = 4; a62 < ((t43 = Math.pow(2, --u72)) - 1) / 11; )
          ;
        return 1 / Math.pow(4, 3 - u72) - 7.5625 * Math.pow((t43 * 3 - 2) / 22 - a62, 2);
      };
    },
    Elastic: function(a62, t43) {
      a62 === void 0 && (a62 = 1), t43 === void 0 && (t43 = 0.5);
      var u72 = D(a62, 1, 10), o71 = D(t43, 0.1, 2);
      return function(f80) {
        return f80 === 0 || f80 === 1 ? f80 : -u72 * Math.pow(2, 10 * (f80 - 1)) * Math.sin((f80 - 1 - o71 / (Math.PI * 2) * Math.asin(1 / u72)) * (Math.PI * 2) / o71);
      };
    }
  }, n72 = ["Quad", "Cubic", "Quart", "Quint"];
  return n72.forEach(function(a62, t43) {
    e48[a62] = function() {
      return function(u72) {
        return Math.pow(u72, t43 + 2);
      };
    };
  }), Object.keys(e48).forEach(function(a62) {
    var t43 = e48[a62];
    r66["easeIn" + a62] = t43, r66["easeOut" + a62] = function(u72, o71) {
      return function(f80) {
        return 1 - t43(u72, o71)(1 - f80);
      };
    }, r66["easeInOut" + a62] = function(u72, o71) {
      return function(f80) {
        return f80 < 0.5 ? t43(u72, o71)(f80 * 2) / 2 : 1 - t43(u72, o71)(f80 * -2 + 2) / 2;
      };
    }, r66["easeOutIn" + a62] = function(u72, o71) {
      return function(f80) {
        return f80 < 0.5 ? (1 - t43(u72, o71)(1 - f80 * 2)) / 2 : (t43(u72, o71)(f80 * 2 - 1) + 1) / 2;
      };
    };
  }), r66;
}();
function G(r66, e48) {
  if (c14.fnc(r66))
    return r66;
  var n72 = r66.split("(")[0], a62 = br[n72], t43 = mr(r66);
  switch (n72) {
    case "spring":
      return yr(r66, e48);
    case "cubicBezier":
      return K(jr, t43);
    case "steps":
      return K(Vr, t43);
    default:
      return K(a62, t43);
  }
}
function xr(r66) {
  try {
    var e48 = document.querySelectorAll(r66);
    return e48;
  } catch (n72) {
    return;
  }
}
function W(r66, e48) {
  for (var n72 = r66.length, a62 = arguments.length >= 2 ? arguments[1] : void 0, t43 = [], u72 = 0; u72 < n72; u72++)
    if (u72 in r66) {
      var o71 = r66[u72];
      e48.call(a62, o71, u72, r66) && t43.push(o71);
    }
  return t43;
}
function q2(r66) {
  return r66.reduce(function(e48, n72) {
    return e48.concat(c14.arr(n72) ? q2(n72) : n72);
  }, []);
}
function lr(r66) {
  return c14.arr(r66) ? r66 : (c14.str(r66) && (r66 = xr(r66) || r66), r66 instanceof NodeList || r66 instanceof HTMLCollection ? [].slice.call(r66) : [r66]);
}
function X2(r66, e48) {
  return r66.some(function(n72) {
    return n72 === e48;
  });
}
function rr(r66) {
  var e48 = {};
  for (var n72 in r66)
    e48[n72] = r66[n72];
  return e48;
}
function _2(r66, e48) {
  var n72 = rr(r66);
  for (var a62 in r66)
    n72[a62] = e48.hasOwnProperty(a62) ? e48[a62] : r66[a62];
  return n72;
}
function N2(r66, e48) {
  var n72 = rr(r66);
  for (var a62 in e48)
    n72[a62] = c14.und(r66[a62]) ? e48[a62] : r66[a62];
  return n72;
}
function zr(r66) {
  var e48 = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(r66);
  return e48 ? "rgba(" + e48[1] + ",1)" : r66;
}
function Rr(r66) {
  var e48 = /^#?([a-f\d])([a-f\d])([a-f\d])$/i, n72 = r66.replace(e48, function(f80, i65, p66, s60) {
    return i65 + i65 + p66 + p66 + s60 + s60;
  }), a62 = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n72), t43 = parseInt(a62[1], 16), u72 = parseInt(a62[2], 16), o71 = parseInt(a62[3], 16);
  return "rgba(" + t43 + "," + u72 + "," + o71 + ",1)";
}
function Hr(r66) {
  var e48 = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(r66) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(r66), n72 = parseInt(e48[1], 10) / 360, a62 = parseInt(e48[2], 10) / 100, t43 = parseInt(e48[3], 10) / 100, u72 = e48[4] || 1;
  function o71(h66, w49, m66) {
    return m66 < 0 && (m66 += 1), m66 > 1 && (m66 -= 1), m66 < 1 / 6 ? h66 + (w49 - h66) * 6 * m66 : m66 < 1 / 2 ? w49 : m66 < 2 / 3 ? h66 + (w49 - h66) * (2 / 3 - m66) * 6 : h66;
  }
  var f80, i65, p66;
  if (a62 == 0)
    f80 = i65 = p66 = t43;
  else {
    var s60 = t43 < 0.5 ? t43 * (1 + a62) : t43 + a62 - t43 * a62, l63 = 2 * t43 - s60;
    f80 = o71(l63, s60, n72 + 1 / 3), i65 = o71(l63, s60, n72), p66 = o71(l63, s60, n72 - 1 / 3);
  }
  return "rgba(" + f80 * 255 + "," + i65 * 255 + "," + p66 * 255 + "," + u72 + ")";
}
function Ur(r66) {
  if (c14.rgb(r66))
    return zr(r66);
  if (c14.hex(r66))
    return Rr(r66);
  if (c14.hsl(r66))
    return Hr(r66);
}
function O3(r66) {
  var e48 = /[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(r66);
  if (e48)
    return e48[1];
}
function Wr(r66) {
  if (R3(r66, "translate") || r66 === "perspective")
    return "px";
  if (R3(r66, "rotate") || R3(r66, "skew"))
    return "deg";
}
function J(r66, e48) {
  return c14.fnc(r66) ? r66(e48.target, e48.id, e48.total) : r66;
}
function k3(r66, e48) {
  return r66.getAttribute(e48);
}
function er(r66, e48, n72) {
  var a62 = O3(e48);
  if (X2([n72, "deg", "rad", "turn"], a62))
    return e48;
  var t43 = U2.CSS[e48 + n72];
  if (!c14.und(t43))
    return t43;
  var u72 = 100, o71 = document.createElement(r66.tagName), f80 = r66.parentNode && r66.parentNode !== document ? r66.parentNode : document.body;
  f80.appendChild(o71), o71.style.position = "absolute", o71.style.width = u72 + n72;
  var i65 = u72 / o71.offsetWidth;
  f80.removeChild(o71);
  var p66 = i65 * parseFloat(e48);
  return U2.CSS[e48 + n72] = p66, p66;
}
function Mr(r66, e48, n72) {
  if (e48 in r66.style) {
    var a62 = e48.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase(), t43 = r66.style[e48] || getComputedStyle(r66).getPropertyValue(a62) || "0";
    return n72 ? er(r66, t43, n72) : t43;
  }
}
function nr(r66, e48) {
  if (c14.dom(r66) && !c14.inp(r66) && (!c14.nil(k3(r66, e48)) || c14.svg(r66) && r66[e48]))
    return "attribute";
  if (c14.dom(r66) && X2(Fr, e48))
    return "transform";
  if (c14.dom(r66) && e48 !== "transform" && Mr(r66, e48))
    return "css";
  if (r66[e48] != null)
    return "object";
}
function Tr(r66) {
  if (c14.dom(r66)) {
    for (var e48 = r66.style.transform || "", n72 = /(\w+)\(([^)]*)\)/g, a62 = /* @__PURE__ */ new Map(), t43; t43 = n72.exec(e48); )
      a62.set(t43[1], t43[2]);
    return a62;
  }
}
function qr(r66, e48, n72, a62) {
  var t43 = R3(e48, "scale") ? 1 : 0 + Wr(e48), u72 = Tr(r66).get(e48) || t43;
  return n72 && (n72.transforms.list.set(e48, u72), n72.transforms.last = e48), a62 ? er(r66, u72, a62) : u72;
}
function tr(r66, e48, n72, a62) {
  switch (nr(r66, e48)) {
    case "transform":
      return qr(r66, e48, a62, n72);
    case "css":
      return Mr(r66, e48, n72);
    case "attribute":
      return k3(r66, e48);
    default:
      return r66[e48] || 0;
  }
}
function ar(r66, e48) {
  var n72 = /^(\*=|\+=|-=)/.exec(r66);
  if (!n72)
    return r66;
  var a62 = O3(r66) || 0, t43 = parseFloat(e48), u72 = parseFloat(r66.replace(n72[0], ""));
  switch (n72[0][0]) {
    case "+":
      return t43 + u72 + a62;
    case "-":
      return t43 - u72 + a62;
    case "*":
      return t43 * u72 + a62;
  }
}
function wr(r66, e48) {
  if (c14.col(r66))
    return Ur(r66);
  if (/\s/g.test(r66))
    return r66;
  var n72 = O3(r66), a62 = n72 ? r66.substr(0, r66.length - n72.length) : r66;
  return e48 ? a62 + e48 : a62;
}
function ir(r66, e48) {
  return Math.sqrt(Math.pow(e48.x - r66.x, 2) + Math.pow(e48.y - r66.y, 2));
}
function Nr(r66) {
  return Math.PI * 2 * k3(r66, "r");
}
function Zr(r66) {
  return k3(r66, "width") * 2 + k3(r66, "height") * 2;
}
function $r(r66) {
  return ir(
    { x: k3(r66, "x1"), y: k3(r66, "y1") },
    { x: k3(r66, "x2"), y: k3(r66, "y2") }
  );
}
function Pr(r66) {
  for (var e48 = r66.points, n72 = 0, a62, t43 = 0; t43 < e48.numberOfItems; t43++) {
    var u72 = e48.getItem(t43);
    t43 > 0 && (n72 += ir(a62, u72)), a62 = u72;
  }
  return n72;
}
function Qr(r66) {
  var e48 = r66.points;
  return Pr(r66) + ir(e48.getItem(e48.numberOfItems - 1), e48.getItem(0));
}
function Ir(r66) {
  if (r66.getTotalLength)
    return r66.getTotalLength();
  switch (r66.tagName.toLowerCase()) {
    case "circle":
      return Nr(r66);
    case "rect":
      return Zr(r66);
    case "line":
      return $r(r66);
    case "polyline":
      return Pr(r66);
    case "polygon":
      return Qr(r66);
  }
}
function Kr(r66) {
  var e48 = Ir(r66);
  return r66.setAttribute("stroke-dasharray", e48), e48;
}
function _r(r66) {
  for (var e48 = r66.parentNode; c14.svg(e48) && c14.svg(e48.parentNode); )
    e48 = e48.parentNode;
  return e48;
}
function Cr(r66, e48) {
  var n72 = e48 || {}, a62 = n72.el || _r(r66), t43 = a62.getBoundingClientRect(), u72 = k3(a62, "viewBox"), o71 = t43.width, f80 = t43.height, i65 = n72.viewBox || (u72 ? u72.split(" ") : [0, 0, o71, f80]);
  return {
    el: a62,
    viewBox: i65,
    x: i65[0] / 1,
    y: i65[1] / 1,
    w: o71,
    h: f80,
    vW: i65[2],
    vH: i65[3]
  };
}
function Jr(r66, e48) {
  var n72 = c14.str(r66) ? xr(r66)[0] : r66, a62 = e48 || 100;
  return function(t43) {
    return {
      property: t43,
      el: n72,
      svg: Cr(n72),
      totalLength: Ir(n72) * (a62 / 100)
    };
  };
}
function Yr(r66, e48, n72) {
  function a62(s60) {
    s60 === void 0 && (s60 = 0);
    var l63 = e48 + s60 >= 1 ? e48 + s60 : 0;
    return r66.el.getPointAtLength(l63);
  }
  var t43 = Cr(r66.el, r66.svg), u72 = a62(), o71 = a62(-1), f80 = a62(1), i65 = n72 ? 1 : t43.w / t43.vW, p66 = n72 ? 1 : t43.h / t43.vH;
  switch (r66.property) {
    case "x":
      return (u72.x - t43.x) * i65;
    case "y":
      return (u72.y - t43.y) * p66;
    case "angle":
      return Math.atan2(f80.y - o71.y, f80.x - o71.x) * 180 / Math.PI;
  }
}
function vr(r66, e48) {
  var n72 = /[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g, a62 = wr(c14.pth(r66) ? r66.totalLength : r66, e48) + "";
  return {
    original: a62,
    numbers: a62.match(n72) ? a62.match(n72).map(Number) : [0],
    strings: c14.str(r66) || e48 ? a62.split(n72) : []
  };
}
function ur(r66) {
  var e48 = r66 ? q2(c14.arr(r66) ? r66.map(lr) : lr(r66)) : [];
  return W(e48, function(n72, a62, t43) {
    return t43.indexOf(n72) === a62;
  });
}
function Dr(r66) {
  var e48 = ur(r66);
  return e48.map(function(n72, a62) {
    return { target: n72, id: a62, total: e48.length, transforms: { list: Tr(n72) } };
  });
}
function Gr(r66, e48) {
  var n72 = rr(e48);
  if (/^spring/.test(n72.easing) && (n72.duration = yr(n72.easing)), c14.arr(r66)) {
    var a62 = r66.length, t43 = a62 === 2 && !c14.obj(r66[0]);
    t43 ? r66 = { value: r66 } : c14.fnc(e48.duration) || (n72.duration = e48.duration / a62);
  }
  var u72 = c14.arr(r66) ? r66 : [r66];
  return u72.map(function(o71, f80) {
    var i65 = c14.obj(o71) && !c14.pth(o71) ? o71 : { value: o71 };
    return c14.und(i65.delay) && (i65.delay = f80 ? 0 : e48.delay), c14.und(i65.endDelay) && (i65.endDelay = f80 === u72.length - 1 ? e48.endDelay : 0), i65;
  }).map(function(o71) {
    return N2(o71, n72);
  });
}
function Xr(r66) {
  for (var e48 = W(q2(r66.map(function(u72) {
    return Object.keys(u72);
  })), function(u72) {
    return c14.key(u72);
  }).reduce(function(u72, o71) {
    return u72.indexOf(o71) < 0 && u72.push(o71), u72;
  }, []), n72 = {}, a62 = function(u72) {
    var o71 = e48[u72];
    n72[o71] = r66.map(function(f80) {
      var i65 = {};
      for (var p66 in f80)
        c14.key(p66) ? p66 == o71 && (i65.value = f80[p66]) : i65[p66] = f80[p66];
      return i65;
    });
  }, t43 = 0; t43 < e48.length; t43++)
    a62(t43);
  return n72;
}
function re(r66, e48) {
  var n72 = [], a62 = e48.keyframes;
  a62 && (e48 = N2(Xr(a62), e48));
  for (var t43 in e48)
    c14.key(t43) && n72.push({
      name: t43,
      tweens: Gr(e48[t43], r66)
    });
  return n72;
}
function ee(r66, e48) {
  var n72 = {};
  for (var a62 in r66) {
    var t43 = J(r66[a62], e48);
    c14.arr(t43) && (t43 = t43.map(function(u72) {
      return J(u72, e48);
    }), t43.length === 1 && (t43 = t43[0])), n72[a62] = t43;
  }
  return n72.duration = parseFloat(n72.duration), n72.delay = parseFloat(n72.delay), n72;
}
function ne(r66, e48) {
  var n72;
  return r66.tweens.map(function(a62) {
    var t43 = ee(a62, e48), u72 = t43.value, o71 = c14.arr(u72) ? u72[1] : u72, f80 = O3(o71), i65 = tr(e48.target, r66.name, f80, e48), p66 = n72 ? n72.to.original : i65, s60 = c14.arr(u72) ? u72[0] : p66, l63 = O3(s60) || O3(i65), h66 = f80 || l63;
    return c14.und(o71) && (o71 = p66), t43.from = vr(s60, h66), t43.to = vr(ar(o71, s60), h66), t43.start = n72 ? n72.end : 0, t43.end = t43.start + t43.delay + t43.duration + t43.endDelay, t43.easing = G(t43.easing, t43.duration), t43.isPath = c14.pth(u72), t43.isPathTargetInsideSVG = t43.isPath && c14.svg(e48.target), t43.isColor = c14.col(t43.from.original), t43.isColor && (t43.round = 1), n72 = t43, t43;
  });
}
var kr = {
  css: function(r66, e48, n72) {
    return r66.style[e48] = n72;
  },
  attribute: function(r66, e48, n72) {
    return r66.setAttribute(e48, n72);
  },
  object: function(r66, e48, n72) {
    return r66[e48] = n72;
  },
  transform: function(r66, e48, n72, a62, t43) {
    if (a62.list.set(e48, n72), e48 === a62.last || t43) {
      var u72 = "";
      a62.list.forEach(function(o71, f80) {
        u72 += f80 + "(" + o71 + ") ";
      }), r66.style.transform = u72;
    }
  }
};
function Or(r66, e48) {
  var n72 = Dr(r66);
  n72.forEach(function(a62) {
    for (var t43 in e48) {
      var u72 = J(e48[t43], a62), o71 = a62.target, f80 = O3(u72), i65 = tr(o71, t43, f80, a62), p66 = f80 || O3(i65), s60 = ar(wr(u72, p66), i65), l63 = nr(o71, t43);
      kr[l63](o71, t43, s60, a62.transforms, true);
    }
  });
}
function te(r66, e48) {
  var n72 = nr(r66.target, e48.name);
  if (n72) {
    var a62 = ne(e48, r66), t43 = a62[a62.length - 1];
    return {
      type: n72,
      property: e48.name,
      animatable: r66,
      tweens: a62,
      duration: t43.end,
      delay: a62[0].delay,
      endDelay: t43.endDelay
    };
  }
}
function ae(r66, e48) {
  return W(q2(r66.map(function(n72) {
    return e48.map(function(a62) {
      return te(n72, a62);
    });
  })), function(n72) {
    return !c14.und(n72);
  });
}
function Er(r66, e48) {
  var n72 = r66.length, a62 = function(u72) {
    return u72.timelineOffset ? u72.timelineOffset : 0;
  }, t43 = {};
  return t43.duration = n72 ? Math.max.apply(Math, r66.map(function(u72) {
    return a62(u72) + u72.duration;
  })) : e48.duration, t43.delay = n72 ? Math.min.apply(Math, r66.map(function(u72) {
    return a62(u72) + u72.delay;
  })) : e48.delay, t43.endDelay = n72 ? t43.duration - Math.max.apply(Math, r66.map(function(u72) {
    return a62(u72) + u72.duration - u72.endDelay;
  })) : e48.endDelay, t43;
}
var dr = 0;
function ie(r66) {
  var e48 = _2(pr, r66), n72 = _2(Y, r66), a62 = re(n72, r66), t43 = Dr(r66.targets), u72 = ae(t43, a62), o71 = Er(u72, n72), f80 = dr;
  return dr++, N2(e48, {
    id: f80,
    children: [],
    animatables: t43,
    animations: u72,
    duration: o71.duration,
    delay: o71.delay,
    endDelay: o71.endDelay
  });
}
var C3 = [];
var Sr = function() {
  var r66;
  function e48() {
    !r66 && (!gr() || !x2.suspendWhenDocumentHidden) && C3.length > 0 && (r66 = requestAnimationFrame(n72));
  }
  function n72(t43) {
    for (var u72 = C3.length, o71 = 0; o71 < u72; ) {
      var f80 = C3[o71];
      f80.paused ? (C3.splice(o71, 1), u72--) : (f80.tick(t43), o71++);
    }
    r66 = o71 > 0 ? requestAnimationFrame(n72) : void 0;
  }
  function a62() {
    x2.suspendWhenDocumentHidden && (gr() ? r66 = cancelAnimationFrame(r66) : (C3.forEach(
      function(t43) {
        return t43._onDocumentVisibility();
      }
    ), Sr()));
  }
  return typeof document != "undefined" && document.addEventListener("visibilitychange", a62), e48;
}();
function gr() {
  return !!document && document.hidden;
}
function x2(r66) {
  r66 === void 0 && (r66 = {});
  var e48 = 0, n72 = 0, a62 = 0, t43, u72 = 0, o71 = null;
  function f80(g67) {
    var d73 = window.Promise && new Promise(function(P55) {
      return o71 = P55;
    });
    return g67.finished = d73, d73;
  }
  var i65 = ie(r66);
  f80(i65);
  function p66() {
    var g67 = i65.direction;
    g67 !== "alternate" && (i65.direction = g67 !== "normal" ? "normal" : "reverse"), i65.reversed = !i65.reversed, t43.forEach(function(d73) {
      return d73.reversed = i65.reversed;
    });
  }
  function s60(g67) {
    return i65.reversed ? i65.duration - g67 : g67;
  }
  function l63() {
    e48 = 0, n72 = s60(i65.currentTime) * (1 / x2.speed);
  }
  function h66(g67, d73) {
    d73 && d73.seek(g67 - d73.timelineOffset);
  }
  function w49(g67) {
    if (i65.reversePlayback)
      for (var P55 = u72; P55--; )
        h66(g67, t43[P55]);
    else
      for (var d73 = 0; d73 < u72; d73++)
        h66(g67, t43[d73]);
  }
  function m66(g67) {
    for (var d73 = 0, P55 = i65.animations, E53 = P55.length; d73 < E53; ) {
      var b55 = P55[d73], S52 = b55.animatable, F45 = b55.tweens, L40 = F45.length - 1, T38 = F45[L40];
      L40 && (T38 = W(F45, function(Br) {
        return g67 < Br.end;
      })[0] || T38);
      for (var A62 = D(g67 - T38.start - T38.delay, 0, T38.duration) / T38.duration, H39 = isNaN(A62) ? 1 : T38.easing(A62), I49 = T38.to.strings, Z18 = T38.round, $23 = [], Ar = T38.to.numbers.length, B42 = void 0, V25 = 0; V25 < Ar; V25++) {
        var j37 = void 0, or = T38.to.numbers[V25], fr2 = T38.from.numbers[V25] || 0;
        T38.isPath ? j37 = Yr(T38.value, H39 * or, T38.isPathTargetInsideSVG) : j37 = fr2 + H39 * (or - fr2), Z18 && (T38.isColor && V25 > 2 || (j37 = Math.round(j37 * Z18) / Z18)), $23.push(j37);
      }
      var sr = I49.length;
      if (!sr)
        B42 = $23[0];
      else {
        B42 = I49[0];
        for (var z28 = 0; z28 < sr; z28++) {
          I49[z28];
          var cr = I49[z28 + 1], Q29 = $23[z28];
          isNaN(Q29) || (cr ? B42 += Q29 + cr : B42 += Q29 + " ");
        }
      }
      kr[b55.type](S52.target, b55.property, B42, S52.transforms), b55.currentValue = B42, d73++;
    }
  }
  function v58(g67) {
    i65[g67] && !i65.passThrough && i65[g67](i65);
  }
  function y51() {
    i65.remaining && i65.remaining !== true && i65.remaining--;
  }
  function M48(g67) {
    var d73 = i65.duration, P55 = i65.delay, E53 = d73 - i65.endDelay, b55 = s60(g67);
    i65.progress = D(b55 / d73 * 100, 0, 100), i65.reversePlayback = b55 < i65.currentTime, t43 && w49(b55), !i65.began && i65.currentTime > 0 && (i65.began = true, v58("begin")), !i65.loopBegan && i65.currentTime > 0 && (i65.loopBegan = true, v58("loopBegin")), b55 <= P55 && i65.currentTime !== 0 && m66(0), (b55 >= E53 && i65.currentTime !== d73 || !d73) && m66(d73), b55 > P55 && b55 < E53 ? (i65.changeBegan || (i65.changeBegan = true, i65.changeCompleted = false, v58("changeBegin")), v58("change"), m66(b55)) : i65.changeBegan && (i65.changeCompleted = true, i65.changeBegan = false, v58("changeComplete")), i65.currentTime = D(b55, 0, d73), i65.began && v58("update"), g67 >= d73 && (n72 = 0, y51(), i65.remaining ? (e48 = a62, v58("loopComplete"), i65.loopBegan = false, i65.direction === "alternate" && p66()) : (i65.paused = true, i65.completed || (i65.completed = true, v58("loopComplete"), v58("complete"), !i65.passThrough && "Promise" in window && (o71(), f80(i65)))));
  }
  return i65.reset = function() {
    var g67 = i65.direction;
    i65.passThrough = false, i65.currentTime = 0, i65.progress = 0, i65.paused = true, i65.began = false, i65.loopBegan = false, i65.changeBegan = false, i65.completed = false, i65.changeCompleted = false, i65.reversePlayback = false, i65.reversed = g67 === "reverse", i65.remaining = i65.loop, t43 = i65.children, u72 = t43.length;
    for (var d73 = u72; d73--; )
      i65.children[d73].reset();
    (i65.reversed && i65.loop !== true || g67 === "alternate" && i65.loop === 1) && i65.remaining++, m66(i65.reversed ? i65.duration : 0);
  }, i65._onDocumentVisibility = l63, i65.set = function(g67, d73) {
    return Or(g67, d73), i65;
  }, i65.tick = function(g67) {
    a62 = g67, e48 || (e48 = a62), M48((a62 + (n72 - e48)) * x2.speed);
  }, i65.seek = function(g67) {
    M48(s60(g67));
  }, i65.pause = function() {
    i65.paused = true, l63();
  }, i65.play = function() {
    i65.paused && (i65.completed && i65.reset(), i65.paused = false, C3.push(i65), l63(), Sr());
  }, i65.reverse = function() {
    p66(), i65.completed = !i65.reversed, l63();
  }, i65.restart = function() {
    i65.reset(), i65.play();
  }, i65.remove = function(g67) {
    var d73 = ur(g67);
    Lr(d73, i65);
  }, i65.reset(), i65.autoplay && i65.play(), i65;
}
function hr(r66, e48) {
  for (var n72 = e48.length; n72--; )
    X2(r66, e48[n72].animatable.target) && e48.splice(n72, 1);
}
function Lr(r66, e48) {
  var n72 = e48.animations, a62 = e48.children;
  hr(r66, n72);
  for (var t43 = a62.length; t43--; ) {
    var u72 = a62[t43], o71 = u72.animations;
    hr(r66, o71), !o71.length && !u72.children.length && a62.splice(t43, 1);
  }
  !n72.length && !a62.length && e48.pause();
}
function ue(r66) {
  for (var e48 = ur(r66), n72 = C3.length; n72--; ) {
    var a62 = C3[n72];
    Lr(e48, a62);
  }
}
function oe(r66, e48) {
  e48 === void 0 && (e48 = {});
  var n72 = e48.direction || "normal", a62 = e48.easing ? G(e48.easing) : null, t43 = e48.grid, u72 = e48.axis, o71 = e48.from || 0, f80 = o71 === "first", i65 = o71 === "center", p66 = o71 === "last", s60 = c14.arr(r66), l63 = parseFloat(s60 ? r66[0] : r66), h66 = s60 ? parseFloat(r66[1]) : 0, w49 = O3(s60 ? r66[1] : r66) || 0, m66 = e48.start || 0 + (s60 ? l63 : 0), v58 = [], y51 = 0;
  return function(M48, g67, d73) {
    if (f80 && (o71 = 0), i65 && (o71 = (d73 - 1) / 2), p66 && (o71 = d73 - 1), !v58.length) {
      for (var P55 = 0; P55 < d73; P55++) {
        if (!t43)
          v58.push(Math.abs(o71 - P55));
        else {
          var E53 = i65 ? (t43[0] - 1) / 2 : o71 % t43[0], b55 = i65 ? (t43[1] - 1) / 2 : Math.floor(o71 / t43[0]), S52 = P55 % t43[0], F45 = Math.floor(P55 / t43[0]), L40 = E53 - S52, T38 = b55 - F45, A62 = Math.sqrt(L40 * L40 + T38 * T38);
          u72 === "x" && (A62 = -L40), u72 === "y" && (A62 = -T38), v58.push(A62);
        }
        y51 = Math.max.apply(Math, v58);
      }
      a62 && (v58 = v58.map(function(I49) {
        return a62(I49 / y51) * y51;
      })), n72 === "reverse" && (v58 = v58.map(function(I49) {
        return u72 ? I49 < 0 ? I49 * -1 : -I49 : Math.abs(y51 - I49);
      }));
    }
    var H39 = s60 ? (h66 - l63) / y51 : l63;
    return m66 + H39 * (Math.round(v58[g67] * 100) / 100) + w49;
  };
}
function fe(r66) {
  r66 === void 0 && (r66 = {});
  var e48 = x2(r66);
  return e48.duration = 0, e48.add = function(n72, a62) {
    var t43 = C3.indexOf(e48), u72 = e48.children;
    t43 > -1 && C3.splice(t43, 1);
    function o71(h66) {
      h66.passThrough = true;
    }
    for (var f80 = 0; f80 < u72.length; f80++)
      o71(u72[f80]);
    var i65 = N2(n72, _2(Y, r66));
    i65.targets = i65.targets || r66.targets;
    var p66 = e48.duration;
    i65.autoplay = false, i65.direction = e48.direction, i65.timelineOffset = c14.und(a62) ? p66 : ar(a62, p66), o71(e48), e48.seek(i65.timelineOffset);
    var s60 = x2(i65);
    o71(s60), u72.push(s60);
    var l63 = Er(u72, r66);
    return e48.delay = l63.delay, e48.endDelay = l63.endDelay, e48.duration = l63.duration, e48.seek(0), e48.reset(), e48.autoplay && e48.play(), e48;
  }, e48;
}
x2.version = "3.2.1";
x2.speed = 1;
x2.suspendWhenDocumentHidden = true;
x2.running = C3;
x2.remove = ue;
x2.get = tr;
x2.set = Or;
x2.convertPx = er;
x2.path = Jr;
x2.setDashoffset = Kr;
x2.stagger = oe;
x2.timeline = fe;
x2.easing = G;
x2.penner = br;
x2.random = function(r66, e48) {
  return Math.floor(Math.random() * (e48 - r66 + 1)) + r66;
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/createResizeObserver.js
function u2(e48, i65, n72 = true) {
  if (!e48)
    return console.error("createResizeObserver: element is undefined"), { observe: () => {
    }, unobserve: () => {
    } };
  const r66 = () => {
    const t43 = t6(e48.clientWidth, { floor: true }), v58 = t6(e48.clientHeight, { floor: true });
    i65(t43, v58);
  };
  if (typeof ResizeObserver == "undefined" || !ResizeObserver)
    return console.warn("createResizeObserver: ResizeObserver is undefined"), { observe: () => r66(), unobserve: () => {
    } };
  const s60 = new ResizeObserver(r66);
  return n72 && r66(), {
    observe: () => s60.observe(e48),
    unobserve: () => s60.unobserve(e48)
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/CSS3DRender/CSS3DRenderer.js
var l4 = Object.defineProperty;
var a6 = (i65, t43, e48) => t43 in i65 ? l4(i65, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : i65[t43] = e48;
var n5 = (i65, t43, e48) => (a6(i65, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var W2 = class extends I3 {
  constructor(e48) {
    super(e48);
    n5(this, "wrapper");
    n5(this, "domElementWrapper", document.createElement("div"));
    n5(this, "requestAnimationFrameId");
    n5(this, "resizeDisoper");
    this.domElementWrapper.classList.add("ICSS3DRendererWrapper"), this.domElementWrapper.style.position = "absolute", this.domElementWrapper.style.top = "0", this.domElementWrapper.style.left = "0", this.domElementWrapper.style.width = "100%", this.domElementWrapper.style.height = "100%", this.domElementWrapper.style.userSelect = "none", this.domElementWrapper.style.pointerEvents = "none", this.domElement.classList.add("ICSS3DRenderer"), this.domElement.style.position = "absolute", this.domElement.style.top = "0", this.domElement.style.left = "0", this.domElement.style.userSelect = "none", this.domElement.style.pointerEvents = "none", this.domElementWrapper.appendChild(this.domElement);
  }
  setWrapper(e48) {
    if (!e48)
      throw new Error("CSS3DRenderer: wrapper is required");
    if ((() => {
      for (let s60 = 0; s60 < e48.children.length; s60++)
        if (e48.children.item(s60) === this.domElementWrapper)
          return true;
      return false;
    })())
      return;
    const r66 = this.wrapper;
    return r66 && r66.contains(this.domElementWrapper) && this.domElementWrapper.remove(), this.appendToElement(e48), this.wrapper = e48, this;
  }
  appendToElement(e48) {
    e48.appendChild(this.domElementWrapper);
    const o71 = (m66, p66) => this.setSize(m66, p66), { observe: r66, unobserve: s60 } = u2(this.domElementWrapper, o71, true);
    r66(), this.resizeDisoper = s60, this.wrapper = e48;
  }
  renderEveryFrame(e48, o71) {
    if (this.wrapper || console.warn("wrapper is not find, creating a html element and call setWrapper(wrapper)", this, e48), this.requestAnimationFrameId)
      return;
    const r66 = () => {
      this.requestAnimationFrameId = requestAnimationFrame(r66), e48.visible && this.render(e48, o71);
    };
    r66();
  }
  stopRender() {
    this.requestAnimationFrameId && cancelAnimationFrame(this.requestAnimationFrameId);
  }
  dispose() {
    var e48;
    this.stopRender(), (e48 = this.resizeDisoper) == null || e48.call(this), this.domElementWrapper.remove();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/util.js
function t9(r66) {
  return arguments.length === 0 ? [] : Array.isArray(r66) ? r66 : [r66];
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CSS3DRenderPlugin/utils/getAllCSS3DObject.js
function o9(r66) {
  const t43 = [];
  return t9(r66).forEach((e48) => {
    e48.traverse((s60) => {
      (s60.isCSS3DObjectPlus || s60.isCSS3DObject || s60.isCSS3DSprite) && t43.push(s60);
    });
  }), t43;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CSS3DRenderPlugin/utils/three/CSS3DScene.js
var a7 = Object.defineProperty;
var h4 = (n72, r66, e48) => r66 in n72 ? a7(n72, r66, { enumerable: true, configurable: true, writable: true, value: e48 }) : n72[r66] = e48;
var i8 = (n72, r66, e48) => (h4(n72, typeof r66 != "symbol" ? r66 + "" : r66, e48), e48);
var m4 = class extends Scene {
  constructor() {
    super();
  }
  add(...r66) {
    return super.add(...r66), o9(r66).forEach((e48) => {
      e48.mode = "front";
    }), this;
  }
};
var u3 = class extends Scene {
  constructor(e48) {
    super();
    i8(this, "scene");
    if (!e48)
      throw new Error("CSS3DBehindScene: scene is required");
    this.scene = e48;
  }
  add(...e48) {
    return super.add(...e48), o9(e48).forEach((t43) => {
      t43.mode = "behind", this.scene.add(t43.getOpacityMesh());
    }), this;
  }
  remove(...e48) {
    return o9(e48).forEach((t43) => {
      var d73;
      (d73 = t43.opacityMesh) == null || d73.removeFromParent(), t43.opacityMesh = null;
    }), super.remove(...e48), this;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CSS3DRenderPlugin/utils/three/CSS3DGroup.js
var d5 = Object.defineProperty;
var n6 = (r66, t43, e48) => t43 in r66 ? d5(r66, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[t43] = e48;
var i9 = (r66, t43, e48) => (n6(r66, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var o10 = class extends Group {
  constructor(e48) {
    super();
    i9(this, "isCSS3DGroup", true);
    i9(this, "mode");
    i9(this, "CSS3DObjectLength", 0);
    this.mode = e48;
  }
  add(...e48) {
    return o9(e48).forEach((s60) => {
      s60.mode = this.mode;
    }), super.add(...e48), this.updateLength(), this;
  }
  setVisible(e48) {
    this.visible = e48, this.traverse((s60) => {
      s60.isCSS3DObjectPlus && s60.updateVisible();
    });
  }
  remove(...e48) {
    return super.remove(...e48), this.updateLength(), this;
  }
  updateLength() {
    this.CSS3DObjectLength = o9(this).length;
  }
};
var c15 = class extends o10 {
  constructor() {
    super("front");
  }
};
var m5 = class extends o10 {
  constructor(e48) {
    super("behind");
    i9(this, "scene");
    if (!e48)
      throw new Error("CSS3DBehindScene: scene is required");
    this.scene = e48;
  }
  add(...e48) {
    return o9(e48).forEach((s60) => {
      this.scene.add(s60.getOpacityMesh());
    }), super.add(...e48), this;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/PointSelector/utils/html.js
var A4 = "data:image/png;base64,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";
var e3 = "data:image/png;base64,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";
var n7 = `
  <style>
  .range-piece__container {
    position: absolute;
    top: 39%;
    left: 50%;
    margin-left: -54px;
    width: 108px;
    height: 108px;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pieceContainer 0.3s ease-in-out;
    animation-fill-mode: forwards;
  }
  .range-piece__content {
    width: 100%;
    height: 100%;
    background-image: url(${A4});
    opacity: 0.4;
    background-size: 100%;
    background-repeat: no-repeat;
    transition: linear transform 0.1s;
  }
  .range-piece__content--active {
    animation: dotting ease-in-out 0.5s;
  }
  .range-piece__aim {
    width: 100%;
    height: 100%;
    opacity: 1;
    position: absolute;
    background: url(${e3}) center / contain no-repeat;
  }
  @keyframes dotting {
    0% {
      opacity: 0.4;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(0.8);
    }
    100% {
      opacity: 0.4;
      transform: scale(1);
    }
  }
  @keyframes pieceContainer {
    from {
      top: 49%;
    }
    to {
      top: 39%;
    }
  }
  </style>
  <div class="range-piece__container">
    <div class='range-piece__content'></div>
    <div class="range-piece__aim"></div>
  </div>
`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/fiveModelLoad.js
var r5 = (o71, e48, d73) => new Promise((a62, t43) => {
  var c85 = (n72) => {
    try {
      i65(d73.next(n72));
    } catch (l63) {
      t43(l63);
    }
  }, f80 = (n72) => {
    try {
      i65(d73.throw(n72));
    } catch (l63) {
      t43(l63);
    }
  }, i65 = (n72) => n72.done ? a62(n72.value) : Promise.resolve(n72.value).then(c85, f80);
  i65((d73 = d73.apply(o71, e48)).next());
});
function M2(o71) {
  return r5(this, null, function* () {
    return new Promise((e48) => {
      if (s3(o71))
        e48();
      else {
        const d73 = (a62) => {
          const t43 = l2(o71);
          a62 === t43 && (o71.off("modelLoaded", d73), e48());
        };
        o71.on("modelLoaded", d73);
      }
    });
  });
}
function s3(o71) {
  var e48;
  return (e48 = l2(o71)) == null ? void 0 : e48.loaded;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/CSS3DRender/index.js
var r6 = [null, null, () => null];
function E4(e48) {
  var s60;
  if (r6) {
    if (r6[0] === e48)
      return r6[2];
    (s60 = r6[1]) == null || s60.dispose();
  }
  const n72 = new W2("front");
  n72.domElementWrapper.style.zIndex = "1";
  const t43 = new W2("behind");
  M2(e48).then(() => {
    var d73;
    const l63 = (d73 = e48.getElement()) == null ? void 0 : d73.parentElement, i65 = d4(e48);
    if (!l63)
      return console.error("initialCSS3DRender: five element is not exist"), () => null;
    if (n72.appendToElement(l63), n72.renderEveryFrame(e48.scene, e48.camera), !i65)
      return console.error("initialCSS3DRender: behindWrapper is not exist"), () => null;
    t43.appendToElement(i65), t43.renderEveryFrame(e48.scene, e48.camera);
  });
  const o71 = () => {
    n72.dispose(), t43.dispose();
  };
  return r6 = [e48, n72, o71], o71;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/typings/style.js
var L2 = 16777215;
var T3 = 16777215;
var _3 = 1;
var A5 = 0.5;
var E5 = 0.6;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/IObject3D.js
var s4 = Object.defineProperty;
var h5 = (n72, t43, e48) => t43 in n72 ? s4(n72, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : n72[t43] = e48;
var i10 = (n72, t43, e48) => (h5(n72, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var c16 = class extends Object3D {
  constructor() {
    super();
    i10(this, "name", "IObject3D");
    i10(this, "needsRender");
  }
  removeChildren() {
    for (; this.children.length > 0; )
      this.remove(this.children[0]);
    return this;
  }
  add(...e48) {
    const r66 = e48.filter(Boolean);
    return r66.length === 0 ? this : super.add(...r66);
  }
  addIfNotExists(...e48) {
    return e48.forEach((r66) => {
      this.children.includes(r66) || this.add(r66);
    }), this;
  }
  remove(...e48) {
    if (e48.length === 0)
      return this;
    const r66 = e48.filter(Boolean);
    return super.remove(...r66);
  }
  removeFromParent() {
    const e48 = this.parent;
    return e48 !== null && e48.remove(this), this;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/Meshes/getLengthHTML.js
function c17(i65, e48) {
  if (!document.getElementById("LineLengthTagStyle")) {
    const n72 = document.createElement("style");
    n72.id = "LineLengthTagStyle", document.head.appendChild(n72), n72.innerHTML = `
    .LineLengthTag {
      cursor: default;
      position: absolute;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: Arial-BoldMT;
      font-weight: BoldMT;
      color: #041066;
      letter-spacing: 0;
      line-height: 20px;
      background-color: #FFFFFF;
      border-radius: 12px;
      padding: 2px 8px;
      left: 50%;
      transform: translate(-50%, -50%);
      word-break: keep-all;
      --distance-scale: 1; /* Default scale if not provided */
      transition: font-size 0.5s ease; /* Smooth transition for font size */
    }
    
    /* sm screen */
    @media screen and (max-width: 499px) {
      .LineLengthTag {
        font-size: calc(12px + (14px - 12px) * var(--distance-scale));
      }
    }
    
    /* md screen */
    @media screen and (min-width: 500px) and (max-width: 929px) {
      .LineLengthTag {
        font-size: calc(12px + (14px - 12px) * var(--distance-scale));
      }
    }
    
    /* lg screen */
    @media screen and (min-width: 930px) and (max-width: 1365px) {
      .LineLengthTag {
        font-size: calc(14px + (16px - 14px) * var(--distance-scale));
      }
    }
    
    /* xl screen */
    @media screen and (min-width: 1366px) and (max-width: 2549px) {
      .LineLengthTag {
        font-size: calc(14px + (16px - 14px) * var(--distance-scale));
      }
    }
    
    /* xxl screen */
    @media screen and (min-width: 2550px) {
      .LineLengthTag {
        font-size: calc(0.875rem + (1rem - 0.875rem) * var(--distance-scale));
      }
    }
    `;
  }
  const t43 = e48 != null && e48.offsetY ? `translateY(${e48.offsetY}px)` : "";
  return `
    <div class="LineLengthTag" style="${t43 ? `transform: translate(-50%, -50%) ${t43};` : ""}${e48 != null && e48.style ? " " + e48.style : ""}">
      ${i65}
    </div>
  `;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/applyObjectMatrixWorld.js
function a8(n72, o71) {
  const r66 = t9(o71).map((l63) => n72.localToWorld(l63.clone()));
  return Array.isArray(o71) ? r66 : r66[0];
}
function e4(n72, o71) {
  const r66 = t9(o71).map((l63) => n72.worldToLocal(l63.clone()));
  return Array.isArray(o71) ? r66 : r66[0];
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/LineGeometry.js
var a9 = class extends O {
  constructor(...e48) {
    super(...e48), this.setAttribute("instanceStart", new BufferAttribute(new Float32Array(), 3)), this.setAttribute("instanceEnd", new BufferAttribute(new Float32Array(), 3));
  }
  fromEdgesGeometry(e48) {
    if (e48.attributes.position.array.length < 6)
      return this.setAttribute("position", new BufferAttribute(new Float32Array(), 3)), this.setAttribute("instanceStart", new BufferAttribute(new Float32Array(), 3)), this.setAttribute("instanceEnd", new BufferAttribute(new Float32Array(), 3)), this;
    if (e48 instanceof EdgesGeometry) {
      const r66 = new InstancedInterleavedBuffer(e48.attributes.position.array, 6, 1);
      this.setPositions(e48.attributes.position.array), this.setAttribute("instanceStart", new InterleavedBufferAttribute(r66, 3, 0)), this.setAttribute("instanceEnd", new InterleavedBufferAttribute(r66, 3, 3));
    } else
      super.fromEdgesGeometry(e48);
    return this;
  }
  toJSON() {
    return {
      type: "FiveLineGeometry",
      attributes: this.attributes
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/LineMaterial.js
var s5 = Object.defineProperty;
var l5 = (o71, t43, e48) => t43 in o71 ? s5(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var r7 = (o71, t43, e48) => (l5(o71, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var S2 = class extends L {
  constructor(e48) {
    var h66;
    super(e48);
    r7(this, "_three_color");
    r7(this, "_dashed");
    i7(e48 == null ? void 0 : e48.color) && (this.three_color = (h66 = e48 == null ? void 0 : e48.color) != null ? h66 : 16777215), Object.keys(e48).forEach((i65) => {
      ["color", "dashed", "dashScale", "dashSize", "gapSize", "resolution"].includes(i65) || i65 in this && (this[i65] = e48[i65]);
    }), Object.defineProperties(this, {
      dashed: {
        get() {
          return this._dashed;
        },
        set(i65) {
          this._dashed = i65, i65 ? this.defines.USE_DASH = "" : delete this.defines.USE_DASH, this.needsUpdate = true;
        }
      }
    });
  }
  get three_color() {
    return this._three_color;
  }
  set three_color(e48) {
    this._three_color = e48, this.color = e48;
  }
  toJSON() {
    return {
      type: "FiveLineMaterial",
      color: this.color
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/Line2.js
var o11 = class extends I {
  constructor(e48, t43) {
    super(e48, t43);
  }
  toJSON() {
    return {
      type: "Five_THREE_Line2",
      geometryAttributes: this.geometry.attributes
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/LineMaterial2.js
var s6 = Object.defineProperty;
var c18 = (o71, t43, e48) => t43 in o71 ? s6(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var r8 = (o71, t43, e48) => (c18(o71, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var S3 = class extends l3 {
  constructor(e48) {
    var h66;
    super(e48);
    r8(this, "_three_color");
    r8(this, "_dashed");
    i7(e48 == null ? void 0 : e48.color) && (this.three_color = (h66 = e48 == null ? void 0 : e48.color) != null ? h66 : 16777215), Object.keys(e48).forEach((i65) => {
      ["color", "dashed", "dashScale", "dashSize", "gapSize", "resolution"].includes(i65) || i65 in this && (this[i65] = e48[i65]);
    }), Object.defineProperties(this, {
      dashed: {
        get() {
          return this._dashed;
        },
        set(i65) {
          this._dashed = i65, i65 ? this.defines.USE_DASH = "" : delete this.defines.USE_DASH, this.needsUpdate = true;
        }
      }
    });
  }
  get three_color() {
    return this._three_color;
  }
  set three_color(e48) {
    this._three_color = e48, this.color = e48;
  }
  toJSON() {
    return {
      type: "FiveLineMaterial",
      color: this.color
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/unit.js
function i11(t43, e48 = "m") {
  let r66;
  if (e48 === "m")
    return r66 = t43.toFixed(2), r66 === "0.00" ? void 0 : r66 + "m";
  if (e48 === "mm")
    return r66 = (t43 * 1e3).toFixed(0), r66 === "0" ? void 0 : r66 + "mm";
  if (e48 === "ft") {
    const n72 = Math.floor(t43 / 0.3048), f80 = Math.floor(t43 % 0.3048 / 0.0254);
    return n72 === 0 && f80 === 0 ? void 0 : `${n72}′${f80}″`;
  }
}
function o12(t43, e48 = "m") {
  let r66;
  if (e48 === "m")
    return r66 = t43.toFixed(2), r66 === "0.00" ? void 0 : r66 + "m²";
  if (e48 === "mm")
    return r66 = (t43 * 1e3 * 1e3).toFixed(0), r66 === "0" ? void 0 : r66 + "mm²";
  if (e48 === "ft") {
    const n72 = (t43 * 10.76).toFixed(1);
    return n72 === "0.0" ? void 0 : n72 + "ft²";
  }
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/renderDom.js
var s7 = Object.defineProperty;
var m6 = (a62, e48, c85) => e48 in a62 ? s7(a62, e48, { enumerable: true, configurable: true, writable: true, value: c85 }) : a62[e48] = c85;
var n8 = (a62, e48, c85) => (m6(a62, typeof e48 != "symbol" ? e48 + "" : e48, c85), c85);
var t10 = class {
  static checkDom(e48) {
    let c85 = e48, i65 = true;
    for (; c85.parent; )
      i65 === true && c85.visible === false && (i65 = false), c85 = c85.parent;
    c85.type === "Scene" ? (e48._onAdded(), i65 ? e48._onShowed() : e48._onHidden()) : e48._onRemoved();
  }
  static checkDomEveryFrame() {
    t10.checkDomEveryFrameIsRunning || (t10.checkDomEveryFrameIsRunning = true, t10._checkDomEveryFrame());
  }
  static _checkDomEveryFrame() {
    t10.cacheObject.forEach((e48) => t10.checkDom(e48)), requestAnimationFrame(t10._checkDomEveryFrame);
  }
};
var r9 = t10;
n8(r9, "cacheObject", /* @__PURE__ */ new Set()), n8(r9, "checkDomEveryFrameIsRunning", false);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/FivePuppet.js
var m7 = Object.defineProperty;
var p2 = (a62, e48, t43) => e48 in a62 ? m7(a62, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : a62[e48] = t43;
var r10 = (a62, e48, t43) => (p2(a62, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var l6 = new Vector2();
var u4 = class {
  constructor(e48, t43) {
    r10(this, "scene", new Scene());
    r10(this, "five");
    r10(this, "renderer");
    r10(this, "cancelRequestAnimationFrameId");
    r10(this, "camera", new Camera());
    r10(this, "domInited", false);
    r10(this, "canvasWrapper");
    r10(this, "params");
    r10(this, "_rendererCache");
    r10(this, "_cameraCache");
    r10(this, "animate", () => {
      var s60, c85, o71;
      if (this.cancelRequestAnimationFrameId = requestAnimationFrame(this.animate), !this.five.renderer)
        return;
      const e49 = this.five.renderer.getSize(l6), t44 = e49.toArray().join(",");
      t44 !== this._rendererCache && (this._rendererCache = t44, this.renderer.setSize(e49.x, e49.y));
      const n72 = this.five.camera.projectionMatrix.toArray().join(",") + this.five.camera.matrixWorld.toArray().join(",");
      if (n72 !== this._cameraCache && (this._cameraCache = n72, this.camera.copy(this.five.camera)), this.renderer.render(this.scene, this.camera), !this.domInited) {
        const h66 = (s60 = this.five.getElement()) == null ? void 0 : s60.parentElement;
        h66 && (this.canvasWrapper = document.createElement("div"), this.canvasWrapper.classList.add("five-puppet"), this.canvasWrapper.style.position = "absolute", this.canvasWrapper.style.pointerEvents = "none", this.canvasWrapper.style.left = "0", this.canvasWrapper.style.top = "0", this.canvasWrapper.style.zIndex = `${(o71 = (c85 = this.params) == null ? void 0 : c85.zIndex) != null ? o71 : 1}`, this.canvasWrapper.appendChild(this.renderer.domElement), h66.appendChild(this.canvasWrapper), this.domInited = true);
      }
    });
    r10(this, "stopAnimate", () => {
      this.cancelRequestAnimationFrameId && cancelAnimationFrame(this.cancelRequestAnimationFrameId);
    });
    r10(this, "destory", () => {
      var e49;
      this.stopAnimate(), this.renderer.dispose(), this.renderer.domElement.remove(), (e49 = this.canvasWrapper) == null || e49.remove();
    });
    this.five = e48, this.params = t43, this.renderer = new InternalWebGLRenderer({
      webgl2: true,
      pixelRatio: window.devicePixelRatio,
      backgroundAlpha: 0,
      backgroundColor: 0
    }), this.renderer.domElement.style.pointerEvents = "none", this.renderer.setSize(1, 1), window.__FIVEPUPPET_DEBUG__ = this, this.animate();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Line.js
var $ = Object.defineProperty;
var Y2 = Object.defineProperties;
var q3 = Object.getOwnPropertyDescriptors;
var B = Object.getOwnPropertySymbols;
var J2 = Object.prototype.hasOwnProperty;
var K2 = Object.prototype.propertyIsEnumerable;
var L3 = (a62, n72, e48) => n72 in a62 ? $(a62, n72, { enumerable: true, configurable: true, writable: true, value: e48 }) : a62[n72] = e48;
var p3 = (a62, n72) => {
  for (var e48 in n72 || (n72 = {}))
    J2.call(n72, e48) && L3(a62, e48, n72[e48]);
  if (B)
    for (var e48 of B(n72))
      K2.call(n72, e48) && L3(a62, e48, n72[e48]);
  return a62;
};
var E6 = (a62, n72) => Y2(a62, q3(n72));
var o13 = (a62, n72, e48) => (L3(a62, typeof n72 != "symbol" ? n72 + "" : n72, e48), e48);
var Oe = class extends c16 {
  constructor(e48) {
    var h66, l63, f80, d73;
    super();
    o13(this, "name", "LineMesh");
    o13(this, "type", "Line2");
    o13(this, "object");
    o13(this, "points", []);
    o13(this, "doms", []);
    o13(this, "highlighted", false);
    o13(this, "_geometry");
    o13(this, "line1");
    o13(this, "line2");
    o13(this, "opacityBeforeHighlight");
    o13(this, "colorBeforeHighlight");
    o13(this, "paramsStyle", {});
    o13(this, "lastRenderDomItem");
    o13(this, "lastFOV");
    o13(this, "_onAdded", () => {
      this.doms.length === 0 && this.paramsStyle.lengthEnable && this.updateDomItems();
    });
    o13(this, "_onRemoved", () => {
      this.doms.forEach((e49) => e49.destroy()), this.doms = [];
    });
    o13(this, "_onShowed", () => {
      this.doms.forEach((e49) => e49.container.style.display = "block");
    });
    o13(this, "_onHidden", () => {
      this.doms.forEach((e49) => e49.container.style.display = "none");
    });
    o13(this, "onCameraUpdate", () => {
      var e49;
      (e49 = this.five) != null && e49.camera && this.lastFOV !== this.five.camera.fov && (this.lastFOV = this.five.camera.fov, this.updateDomItems({ force: true }));
    });
    o13(this, "onPanoArrived", () => {
      setTimeout(() => this.updateDomItems({ force: true }), 100);
    });
    this.paramsStyle = p3({ dashed: false, lineOpacity: 1 }, e48), this.geometry = new a9();
    const i65 = {
      color: new Color((h66 = e48 == null ? void 0 : e48.lineColor) != null ? h66 : T3),
      linewidth: (l63 = e48 == null ? void 0 : e48.lineWidth) != null ? l63 : _3,
      dashScale: 1,
      dashSize: 0.02,
      gapSize: 0.02,
      opacity: (f80 = e48 == null ? void 0 : e48.lineOpacity) != null ? f80 : 1,
      depthWrite: false,
      transparent: true
    }, s60 = new S2(E6(p3({}, i65), { dashed: false, depthTest: true })), t43 = new S3(E6(p3({}, i65), { dashed: true, depthTest: false }));
    if (this.line1 = new o11(this.geometry, s60), this.line2 = new o11(this.geometry, t43), this.line1.renderOrder = 2, this.line2.renderOrder = 2, this.line1.name = "line1", this.line2.name = "line2", this.add(this.line1), this.five) {
      const y51 = (d73 = this.five.renderer) == null ? void 0 : d73.getSize(new Vector2());
      y51 && this.setResolution(y51.width, y51.height), this.five.on("cameraUpdate", this.onCameraUpdate), this.five.on("cameraFovUpdate", this.onCameraUpdate), this.five.on("panoArrived", this.onPanoArrived);
    }
    e48 && this.setStyle(e48), e48 != null && e48.points && this.setPoints(e48.points), this.addEventListener("removed", () => {
      this.five && (this.five.off("cameraUpdate", this.onCameraUpdate), this.five.off("cameraFovUpdate", this.onCameraUpdate), this.five.off("panoArrived", this.onPanoArrived)), r9.cacheObject.delete(this), r9.checkDom(this);
    }), this.addEventListener("added", () => {
      r9.cacheObject.add(this);
    }), r9.checkDomEveryFrame();
  }
  get style() {
    return {
      lineColor: this.color,
      lineWidth: this.lineWidth,
      lineOpacity: this.lineOpacity,
      dashed: this.dashed,
      occlusionVisibility: this.occlusionVisibility,
      occlusionMode: this.occlusionMode,
      lengthEnable: this.paramsStyle.lengthEnable,
      tip: this.paramsStyle.tip
    };
  }
  get lineOpacity() {
    var e48;
    return (e48 = this.line1.material.opacity) != null ? e48 : this.paramsStyle.lineOpacity;
  }
  get lineWidth() {
    var e48;
    return (e48 = this.line1.material.linewidth) != null ? e48 : this.paramsStyle.lineWidth;
  }
  get color() {
    var e48;
    return new Color((e48 = this.line1.material.three_color) != null ? e48 : this.paramsStyle.lineColor);
  }
  get dashed() {
    return this.paramsStyle.dashed;
  }
  get occlusionVisibility() {
    return this.paramsStyle.occlusionVisibility;
  }
  get occlusionMode() {
    return this.paramsStyle.occlusionMode;
  }
  get five() {
    var i65, s60;
    const e48 = (s60 = (i65 = window.globalModules) == null ? void 0 : i65.five) != null ? s60 : window.$five;
    return e48 || console.error("请先调用 Sculpt.modules.init(five) "), e48;
  }
  set geometry(e48) {
    var i65;
    this._geometry = e48, this.line1 && (this.line1.geometry = e48), this.line2 && (this.line2.geometry = e48), (i65 = this.line1) == null || i65.computeLineDistances();
  }
  get geometry() {
    return this._geometry;
  }
  updateMatrixWorld(e48) {
    var i65;
    if (super.updateMatrixWorld(e48), this.points) {
      const s60 = (i65 = a8(this, this.points)) == null ? void 0 : i65.map((t43) => t43.toArray().join(",")).join(",");
      s60 !== this.lastRenderDomItem && (this.updateDomItems(), this.lastRenderDomItem = s60);
    }
  }
  setPoints(e48) {
    if (this.points.length === 0 && e48.length === 0)
      return;
    const i65 = e48.map(t2).filter(i7);
    if (this.points = i65, i65.length < 2) {
      const t43 = new a9();
      this.line1.geometry = t43, this.line2.geometry = t43, this.updateDomItems();
      return;
    }
    const s60 = i65.flatMap((t43) => [t43.x, t43.y, t43.z]);
    if (s60.length > 2) {
      this.line1.geometry.dispose();
      const t43 = new a9();
      this.line1.geometry = t43, this.line2.geometry = t43;
    }
    this.line1.geometry.setPositions(s60), this.line1.computeLineDistances(), this.updateDomItems(), this.needsRender = true;
  }
  setResolution(e48, i65) {
    const s60 = this.line1.material.resolution;
    (s60.x !== e48 || s60.y !== i65) && (s60.set(e48, i65), this.needsRender = true);
    const t43 = this.line2.material.resolution;
    (t43.x !== e48 || t43.y !== i65) && (t43.set(e48, i65), this.needsRender = true);
  }
  setStyle(e48) {
    var t43, h66, l63, f80;
    if (this.paramsStyle = p3(p3({}, this.paramsStyle), e48), i7(e48.lineColor)) {
      const d73 = new Color(e48.lineColor);
      this.line1.material.three_color = d73, this.line2.material.three_color = d73;
    }
    i7(e48.lineWidth) && (this.line1.material.linewidth = e48.lineWidth, this.line2.material.linewidth = e48.lineWidth), i7(e48.dashed) && (this.line1.material.dashed = e48.dashed), i7(e48.lineOpacity) && (this.line1.material.opacity = e48.lineOpacity, this.line2.material.opacity = e48.lineOpacity), this.updateDomItems({ force: true });
    const i65 = (h66 = (t43 = e48.occlusionVisibility) != null ? t43 : this.paramsStyle.occlusionVisibility) != null ? h66 : true, s60 = (f80 = (l63 = e48.occlusionMode) != null ? l63 : this.paramsStyle.occlusionMode) != null ? f80 : "translucence";
    i65 ? this.dashed ? (this.remove(this.line2), this.line1.material.dashed = true, this.line1.material.depthTest = false) : s60 === "depthTest" ? (this.remove(this.line2), this.line1.material.dashed = false, this.line1.material.depthTest = false) : s60 === "translucence" && (this.line1.material.depthTest = true, this.line2.material.depthTest = false, this.line1.material.dashed = true, this.line2.material.dashed = true, this.addIfNotExists(this.line2)) : (this.remove(this.line2), this.line1.material.depthTest = true, this.line1.material.dashed = this.paramsStyle.dashed), this.doms.forEach((d73) => d73.intersectCheck = !i65), this.needsRender = true;
  }
  highlight(e48) {
    var i65, s60;
    if (this.highlighted = true, e48 != null && e48.color) {
      const t43 = new Color(e48.color);
      this.colorBeforeHighlight = (i65 = this.colorBeforeHighlight) != null ? i65 : this.line1.material.three_color, this.line1.material.three_color = t43, this.line2.material.three_color = t43;
    } else {
      this.opacityBeforeHighlight = (s60 = this.opacityBeforeHighlight) != null ? s60 : this.line1.material.opacity;
      const t43 = this.opacityBeforeHighlight * E5;
      this.line1.material.opacity = t43, this.line2.material.opacity = t43;
    }
    this.needsRender = true;
  }
  unhighlight() {
    this.highlighted && (this.highlighted = false, i7(this.opacityBeforeHighlight) && (this.line1.material.opacity = this.opacityBeforeHighlight, this.line2.material.opacity = this.line1.material.opacity, this.opacityBeforeHighlight = void 0), i7(this.colorBeforeHighlight) && (this.line1.material.three_color = this.colorBeforeHighlight, this.line2.material.three_color = this.colorBeforeHighlight, this.colorBeforeHighlight = void 0), this.needsRender = true);
  }
  updateDomItems(e48) {
    const i65 = () => {
      this.doms.forEach((t43) => t43.destroy()), this.doms = [];
    };
    if (!this.points || this.points.length < 2 || !this.paramsStyle.lengthEnable && !this.paramsStyle.tip)
      return i65();
    if (!this.five)
      return console.error("Five not found");
    const s60 = this.points.map((t43, h66) => h66 !== 0 ? [this.points[h66 - 1], t43] : null).filter(i7).map((t43) => a8(this, t43));
    s60.forEach(([t43, h66], l63) => {
      var y51;
      const f80 = c9(t43, h66);
      this.doms[l63] = (y51 = this.doms[l63]) != null ? y51 : (() => {
        var S52;
        const r66 = new R4(this.five), u72 = (S52 = this.paramsStyle.occlusionVisibility) != null ? S52 : true;
        return r66.intersectCheck = !u72, r66.simulate3D = true, r66;
      })(), this.doms[l63].setPosition(f80, [t43, h66]);
      const d73 = (r66, u72) => {
        var _32, D52, b55;
        const S52 = (_32 = u72 == null ? void 0 : u72.force) != null ? _32 : false;
        if (!(this.doms[l63].__text === r66 && !S52))
          if (this.doms[l63].__text = r66, r66 instanceof HTMLElement)
            this.doms[l63].container.innerHTML = "", this.doms[l63].container.appendChild(r66);
          else if (r66) {
            const w49 = (() => {
              if (!this.five || !this.five.camera)
                return 0;
              const g67 = this.five.getElement();
              if (!g67)
                return 0;
              const c85 = g67.clientWidth, M48 = g67.clientHeight, C52 = c85 / 2, I49 = M48 / 2, O40 = t43.clone().project(this.five.camera), W25 = h66.clone().project(this.five.camera), P55 = {
                x: O40.x * C52,
                y: O40.y * I49
              }, R43 = {
                x: W25.x * C52,
                y: W25.y * I49
              };
              return Math.sqrt(Math.pow(R43.x - P55.x, 2) + Math.pow(R43.y - P55.y, 2));
            })(), A62 = (() => !this.five || !this.five.camera ? 20 : c9(t43, h66).distanceTo(this.five.camera.position))(), j37 = ((b55 = (D52 = this.five) == null ? void 0 : D52.camera) == null ? void 0 : b55.fov) || 60, z28 = 2 * Math.tan(0.5 * j37 / 180 * Math.PI), k47 = `--distance-scale: ${Math.max(Math.min(1 - z28 * A62 / 40, 1), 0)};`, G31 = (g67) => {
              const c85 = document.createElement("div");
              c85.classList.add("LineLengthTag"), c85.style.visibility = "hidden", c85.style.position = "absolute", c85.style.padding = "2px 8px", c85.style.fontFamily = "Arial-BoldMT", c85.style.fontSize = "14px", c85.innerText = g67, document.body.appendChild(c85);
              const M48 = c85.offsetWidth;
              return document.body.removeChild(c85), M48;
            };
            let x49 = 0;
            const N33 = G31(r66);
            w49 > 0 && N33 > w49 && (x49 = -20), this.doms[l63].container.innerHTML = c17(r66, {
              style: `${k47} ${this.paramsStyle.cssStyle || ""}`,
              offsetY: x49
            });
          } else
            this.doms[l63].container.innerHTML = "";
      };
      if (this.paramsStyle.tip)
        d73(this.paramsStyle.tip, e48);
      else {
        const r66 = i11(t43.distanceTo(h66), this.paramsStyle.lengthUnit);
        d73(r66 || null, e48);
      }
    }), this.doms.length > s60.length && (this.doms.slice(s60.length).forEach((t43) => t43.destroy()), this.doms.length = s60.length);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CSS3DRenderPlugin/utils/three/CSS3DSprite.js
var i12 = Object.defineProperty;
var p4 = (t43, S52, e48) => S52 in t43 ? i12(t43, S52, { enumerable: true, configurable: true, writable: true, value: e48 }) : t43[S52] = e48;
var r11 = (t43, S52, e48) => (p4(t43, typeof S52 != "symbol" ? S52 + "" : S52, e48), e48);
var m8 = class extends C2 {
  constructor() {
    super(...arguments);
    r11(this, "isCSS3DSprite", true);
    r11(this, "isCSS3DObject", true);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/PointSelector/utils/PointHelper2.js
var M3 = Object.defineProperty;
var v4 = Object.defineProperties;
var p5 = Object.getOwnPropertyDescriptors;
var d6 = Object.getOwnPropertySymbols;
var f5 = Object.prototype.hasOwnProperty;
var m9 = Object.prototype.propertyIsEnumerable;
var l7 = (s60, t43, r66) => t43 in s60 ? M3(s60, t43, { enumerable: true, configurable: true, writable: true, value: r66 }) : s60[t43] = r66;
var c19 = (s60, t43) => {
  for (var r66 in t43 || (t43 = {}))
    f5.call(t43, r66) && l7(s60, r66, t43[r66]);
  if (d6)
    for (var r66 of d6(t43))
      m9.call(t43, r66) && l7(s60, r66, t43[r66]);
  return s60;
};
var h6 = (s60, t43) => v4(s60, p5(t43));
var o14 = (s60, t43, r66) => (l7(s60, typeof t43 != "symbol" ? t43 + "" : t43, r66), r66);
var w3 = (
  /* glsl */
  `
varying vec2 vUv;
varying float vRadius;
varying float vDistanceToCamera;
varying float vCenterDistanceToCamera;
void main() {
  vUv = uv;
  // 计算顶点到圆心的距离
  vRadius = length(position.xy);
  // 计算顶点到摄像机的距离
  vec3 worldPosition = vec3(modelViewMatrix * vec4(position, 1.0));
  vDistanceToCamera = distance(cameraPosition, worldPosition);
  vCenterDistanceToCamera = distance(cameraPosition, vec3(0.0));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1);
}
`
);
var y3 = (
  /* glsl */
  `
varying vec2 vUv;
varying float vRadius;

uniform float borderWidth;
uniform float radius;

void main() {
  vec2 uv = vUv;

  if (vRadius > radius - borderWidth && vRadius < radius) {
    // 如果顶点在边框区域，则使用边框颜色
    gl_FragColor = vec4(1.0, 1.0, 1.0, 0.3);
  } else {
    // 如果顶点在填充区域，则使用填充颜色
    gl_FragColor = vec4(1.0, 1.0, 1.0, 0.2);
  }
}
`
);
function P2() {
  const t43 = new CircleGeometry(0.2, 64), r66 = new ShaderMaterial({
    side: DoubleSide,
    uniforms: {
      borderWidth: { value: 0.01 },
      radius: { value: 0.2 }
    },
    vertexShader: w3,
    fragmentShader: y3,
    depthTest: false,
    transparent: true,
    blending: CustomBlending,
    blendEquation: AddEquation,
    blendSrc: DstColorFactor,
    blendDst: SrcAlphaFactor,
    blendDstAlpha: DstAlphaFactor
  });
  return new Mesh(t43, r66);
}
function b2() {
  const t43 = new Group(), r66 = {
    lineWidth: 1,
    lineColor: 3407837,
    lineOpacity: 0.7,
    occlusionVisibility: true
  }, i65 = new Oe(h6(c19({ points: [{ x: -0.5 }, { x: 0.5 }] }, r66), { lineColor: 3407837 })), a62 = new Oe(h6(c19({ points: [{ y: -0.5 }, { y: 0.5 }] }, r66), { lineColor: 3407837 }));
  return t43.add(i65, a62), t43;
}
function V(s60) {
  const t43 = new CurvePath();
  t43.add(new LineCurve3(new Vector3(0, 0, 0), new Vector3(0, 0, s60)));
  const r66 = new TubeGeometry(t43, 32, 3e-3), i65 = new MeshBasicMaterial({
    color: 10994687,
    depthTest: false,
    transparent: true
    // 必须要开启透明度，要和PlaneMesh一起渲染
  });
  return new Mesh(r66, i65);
}
function C4() {
  const s60 = new RingGeometry(0.03, 0.035, 64), t43 = new MeshBasicMaterial({
    color: 16777215,
    depthTest: false,
    transparent: true,
    // 必须要开启透明度，要和PlaneMesh一起渲染
    side: DoubleSide
  });
  return new Mesh(s60, t43);
}
function x3() {
  const s60 = new SphereGeometry(0.018, 32, 32), t43 = new MeshBasicMaterial({
    color: 5085183,
    depthTest: false,
    transparent: true
    // 必须要开启透明度，要和PlaneMesh一起渲染
  });
  return new Mesh(s60, t43);
}
function S4() {
  const s60 = document.createElement("img");
  s60.src = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAVCAMAAAB8FU7dAAAAw1BMVEUAAACDuuiAsu11q/x8r/+HxtKHxtKIx9J4ut6Hx9Jcn/uNwNlmmf+RuP9ppf9orel3ud2HxtJrpf9oremev/9ppP9orelQmP9ZoPWSuP92q/9cnv9prel4ut53qv9orelYoPWIxdJPmP+HxtGRuP9oo/+Suf9Qmf92q/+RuP+DsP9Pmv+FxdFtre2SyMiRuP9PmP+evv9ppf9cnv+rxf9orepZofV4ut52q/+Dsf+Esv+5y/93q/9aofbF0f93rP9qpf8IzZ1iAAAAL3RSTlMAEg4s3dK5nodgVQoF/Pf39vbt7evr39rV1NTOzs6srJ+fiIZ9fWlpW09ERCwcHMH8LhIAAADRSURBVBjTjdDHkoMwEIThBrzOm3POOQwSYCRhe/f9n2p75FD2zX/VXL5qOAjzkixLsFL6fOFF5PwpXUj/eEwx7Oh9Jq+FdV5MqZkXlU9K4KZsmqY02x/A8LSwv14o0ylJWkP087WVhDfcjmjj5b/E3+CEpDPdGY58C7tKfzSiiA9uB4dV/NIF7yVQ7AGuq0lOIzrvnLP2Et2aMzUqryge8FVX0Zjl5XkG3KsR593pM2zVEScjvbMU7IdGjF19IzZ43Ceyve4Ai5Jep93u9BJs3j/gXjHbRgy31AAAAABJRU5ErkJggg==";
  const t43 = new m8(s60);
  return s60.style.pointerEvents = "none", t43.scale.set(3e-3, 3e-3, 3e-3), t43;
}
var E7 = class extends Object3D {
  constructor(r66) {
    super();
    o14(this, "disableGetPixel", true);
    o14(this, "planeMesh");
    o14(this, "ringMesh");
    o14(this, "crossline");
    o14(this, "lineMesh");
    o14(this, "ballMesh");
    o14(this, "cssBallMesh");
    const i65 = 0.18;
    this.planeMesh = P2(), this.ringMesh = C4(), this.crossline = b2(), this.lineMesh = V(i65), this.ballMesh = x3(), this.cssBallMesh = S4(), this.ballMesh.position.setZ(i65), this.cssBallMesh.position.setZ(i65), this.planeMesh.renderOrder = 0, this.ringMesh.renderOrder = 1, this.crossline.renderOrder = 2, this.lineMesh.renderOrder = 3, this.ballMesh.renderOrder = 4, this.add(this.planeMesh, this.lineMesh, this.ballMesh, this.ringMesh, this.cssBallMesh), E4(r66);
  }
  updateWithIntersect(r66) {
    if (!r66.face)
      return;
    const i65 = (() => {
      const n72 = r66.face.normal.clone().normalize();
      return n72.y > 0.99 ? new Vector3(0, 1, 0) : n72.y < -0.99 ? new Vector3(0, -1, 0) : n72.x > 0.99 ? new Vector3(1, 0, 0) : n72.x < -0.99 ? new Vector3(-1, 0, 0) : n72.z > 0.99 ? new Vector3(0, 0, 1) : n72.z < -0.99 ? new Vector3(0, 0, -1) : n72.y < 0.01 && n72.y > -0.01 ? new Vector3(n72.x, 0, n72.z) : n72;
    })(), a62 = new Vector3().addVectors(r66.point, i65);
    this.position.copy(r66.point), this.lookAt(a62);
  }
  show() {
    this.visible = true, this.add(this.cssBallMesh);
  }
  hide() {
    this.visible = false, this.remove(this.cssBallMesh);
  }
  dispose() {
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/isTouchDevice.js
var o15 = "ontouchstart" in window || navigator.maxTouchPoints > 0 || navigator.msMaxTouchPoints > 0;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/getPosition.js
var u5 = Object.defineProperty;
var m10 = Object.defineProperties;
var d7 = Object.getOwnPropertyDescriptors;
var c20 = Object.getOwnPropertySymbols;
var p6 = Object.prototype.hasOwnProperty;
var y4 = Object.prototype.propertyIsEnumerable;
var s8 = (e48, t43, n72) => t43 in e48 ? u5(e48, t43, { enumerable: true, configurable: true, writable: true, value: n72 }) : e48[t43] = n72;
var l8 = (e48, t43) => {
  for (var n72 in t43 || (t43 = {}))
    p6.call(t43, n72) && s8(e48, n72, t43[n72]);
  if (c20)
    for (var n72 of c20(t43))
      y4.call(t43, n72) && s8(e48, n72, t43[n72]);
  return e48;
};
var a10 = (e48, t43) => m10(e48, d7(t43));
function w4(e48, t43, n72) {
  const r66 = V2(e48, t43);
  return n72 != null && n72.virtualPoint ? r66 != null ? r66 : f6(t43) : r66;
}
function f6(e48, t43 = 3) {
  const n72 = new Vector3().addVectors(
    e48.ray.origin,
    e48.ray.direction.clone().normalize().multiplyScalar(t43)
  ), r66 = e48.ray.direction.clone().negate();
  return {
    distance: t43,
    point: n72,
    object: new Object3D(),
    face: new Face3(0, 0, 0, r66),
    raycaster: e48,
    isVirtual: true
  };
}
function V2(e48, t43) {
  const o71 = l2(e48).intersectRaycaster(t43)[0];
  if (o71)
    return a10(l8({}, o71), { raycaster: t43, isVirtual: false });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/getRaycasterByNdcPosition.js
function m11(o71, r66) {
  const { x: a62, y: s60 } = r66, e48 = a62 * 2 - 1, c85 = s60 * 2 - 1, t43 = new Raycaster();
  return t43.setFromCamera({ x: e48, y: c85 }, o71.camera), t43.params.Points.threshold = 0.02, t43;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/PointSelector/utils/contents.js
var e5 = `url("data:image/svg+xml,%3Csvg width='12px' height='12px' viewBox='0 0 12 12' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cpath d='M6,12 C9.3137085,12 12,9.3137085 12,6 C12,2.6862915 9.3137085,0 6,0 C2.6862915,0 0,2.6862915 0,6 C0,9.3137085 2.6862915,12 6,12 Z' fill='%23FF5959'%3E%3C/path%3E%3Cg transform='translate(2, 2)' stroke='%23FFFFFF'%3E%3Ccircle cx='4' cy='4' r='4'%3E%3C/circle%3E%3Cline x1='1.07141075' y1='1.23997894' x2='6.64700843' y2='6.81557662'%3E%3C/line%3E%3C/g%3E%3C/g%3E%3C/svg%3E") 6 6, auto`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/three/rayOnLine.js
var u6 = new Vector3();
function w5(P55) {
  const { raycaster: a62, line: n72, clampToLine: p66 = true } = P55, r66 = new Plane().setFromNormalAndCoplanarPoint(a62.ray.direction.clone().normalize(), new Vector3()), t43 = r66.projectPoint(n72.start, new Vector3()), s60 = r66.projectPoint(n72.end, new Vector3()), l63 = new Line3(t43, s60), o71 = l63.closestPointToPoint(a62.ray.origin, p66, u6), d73 = o71.distanceTo(s60), m66 = o71.distanceTo(t43), c85 = l63.distance();
  if (d73 > m66 && d73 > c85) {
    const i65 = -o71.distanceTo(t43) / c85, T38 = n72.start.clone().sub(n72.end).normalize();
    return n72.start.clone().sub(T38.clone().multiplyScalar(i65 * n72.distance()));
  } else {
    const i65 = o71.distanceTo(t43) / c85;
    return new Vector3().lerpVectors(n72.start, n72.end, i65);
  }
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CSS3DRenderPlugin/utils/three/CSS3DRender.js
var $2 = Object.defineProperty;
var _4 = Object.defineProperties;
var k4 = Object.getOwnPropertyDescriptors;
var R5 = Object.getOwnPropertySymbols;
var P3 = Object.prototype.hasOwnProperty;
var L4 = Object.prototype.propertyIsEnumerable;
var C5 = (o71, e48, t43) => e48 in o71 ? $2(o71, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[e48] = t43;
var g = (o71, e48) => {
  for (var t43 in e48 || (e48 = {}))
    P3.call(e48, t43) && C5(o71, t43, e48[t43]);
  if (R5)
    for (var t43 of R5(e48))
      L4.call(e48, t43) && C5(o71, t43, e48[t43]);
  return o71;
};
var v5 = (o71, e48) => _4(o71, k4(e48));
var n9 = (o71, e48, t43) => (C5(o71, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var l9 = (o71, e48, t43) => new Promise((r66, s60) => {
  var d73 = (c85) => {
    try {
      m66(t43.next(c85));
    } catch (a62) {
      s60(a62);
    }
  }, u72 = (c85) => {
    try {
      m66(t43.throw(c85));
    } catch (a62) {
      s60(a62);
    }
  }, m66 = (c85) => c85.done ? r66(c85.value) : Promise.resolve(c85.value).then(d73, u72);
  m66((t43 = t43.apply(o71, e48)).next());
});
var J3 = 3;
var G2 = "CSS3DRenderer";
var f7 = `${G2}@${J3}`;
var S5 = () => {
  console.error(`${f7} is disposed`);
};
var i13 = {
  css3DObjects: [],
  frontModeStore: {
    css3DRenderer: new W2()
  },
  behindModeStore: {
    css3DRenderer: new W2()
  }
};
function w6(o71) {
  return i13.css3DObjects.find((e48) => e48.id === o71);
}
function K3(o71) {
  i13.frontModeStore.css3DRenderer.setWrapper(o71);
}
function Q2(o71) {
  i13.behindModeStore.css3DRenderer.setWrapper(o71);
}
var y5 = class {
  // eslint-disable-next-line @typescript-eslint/no-useless-constructor
  constructor(e48) {
    n9(this, "hooks", new E3());
    n9(this, "state", {
      enabled: true,
      visible: true,
      disposed: false
    });
    n9(this, "_scene");
    n9(this, "store", {
      frontModeGroup: new c15()
    });
    n9(this, "create3DElement", (e49, t43, r66) => {
      if (this.state.disposed)
        return S5();
      const s60 = (() => {
        const h66 = {
          ratio: 216e-5,
          devicePixelRatio: 1,
          mode: "front",
          autoRender: true,
          container: document.createElement("div"),
          pointerEvents: "none",
          wrapperStyle: {}
        };
        return Object.assign(h66, r66);
      })(), d73 = t43.map(t2);
      if ((d73 == null ? void 0 : d73.length) < 4)
        return console.error(`${f7}: requires 4 point but params may have fewer`);
      const { ratio: u72, devicePixelRatio: m66, mode: c85, autoRender: a62, container: O40, pointerEvents: F45, wrapperStyle: I49 } = s60;
      let b55 = false;
      const p66 = this.createObject(d73, { ratio: u72, dpr: m66, container: O40, mode: c85, pointerEvents: F45, wrapperStyle: I49 });
      i13.css3DObjects.push(p66), s60.scene && this.setScene(s60.scene);
      const N33 = () => {
        if (b55)
          return;
        const h66 = p66.mode === "front" ? this.getFrontCSS3DObjectGroup() : this.getBehindCSS3DObjectGroup();
        h66 && h66.add(p66);
      }, E53 = () => {
        b55 || (N33(), this.render(e49), this.hooks.emit("render"));
      }, D52 = (h66) => this.setVisibleById(p66.id, h66), M48 = (h66) => this.setEnabledById(p66.id, h66), x49 = () => (b55 = true, p66.removeFromParent(), true), V25 = c85 === "front" ? i13.frontModeStore.css3DRenderer : i13.behindModeStore.css3DRenderer;
      return a62 && E53(), {
        id: p66.uuid,
        container: O40,
        css3DObject: p66,
        render: a62 ? void 0 : E53,
        show: () => D52(true),
        hide: () => D52(false),
        setVisible: D52,
        enable: () => M48(true),
        disable: () => M48(false),
        setEnabled: M48,
        dispose: x49,
        appendToElement: (h66) => V25.setWrapper(h66)
      };
    });
    n9(this, "setVisibleById", (e49, t43) => {
      var r66;
      (r66 = w6(e49)) == null || r66.setVisible(t43);
    });
    n9(this, "setEnabledById", (e49, t43) => {
      const r66 = w6(e49);
      if (!r66)
        return;
      const s60 = r66.mode === "front" ? this.getFrontCSS3DObjectGroup({ addGroupIfNotExists: false }) : this.getBehindCSS3DObjectGroup({ addGroupIfNotExists: false });
      s60 && (t43 ? s60.add(r66) : s60.remove(r66));
    });
    n9(this, "createObject", (e49, t43) => {
      const r66 = new ti(v5(g({ cornerPoints: e49 }, t43), { style: t43.wrapperStyle }));
      return r66.element.classList.add(`${G2}__container`), r66.element.id = `${G2}__container--${r66.uuid}`, r66;
    });
    e48 && this.setScene(e48);
  }
  get scene() {
    return this._scene || console.error("scene doesn't exist!, please call setScene(scene) first"), this._scene;
  }
  static get frontModeCSS3DRenderer() {
    return i13.frontModeStore.css3DRenderer;
  }
  static get behindModeCSS3DRenderer() {
    return i13.behindModeStore.css3DRenderer;
  }
  get frontModeCSS3DRenderer() {
    return i13.frontModeStore.css3DRenderer;
  }
  get behindModeCSS3DRenderer() {
    return i13.behindModeStore.css3DRenderer;
  }
  setScene(e48) {
    this._scene = e48;
  }
  getCurrentState() {
    return this.state;
  }
  setState(e48, t43 = { userAction: true }) {
    if (this.state.disposed)
      return S5();
    const r66 = g({}, this.state);
    this.state = Object.assign(this.state, e48), r66.visible !== this.state.visible && (e48.visible ? this.handleShow() : this.handleHide()), r66.enabled !== this.state.enabled && (e48.enabled ? this.handleEnable() : this.handleDisable()), r66.disposed !== this.state.disposed && this.handleDispose(), this.hooks.emit("stateChange", { state: this.state, prevState: r66, userAction: t43.userAction });
  }
  dispose() {
    this.setState({ disposed: true }), this.hooks.emit("dispose");
  }
  show() {
    return l9(this, arguments, function* ({ userAction: e48 } = { userAction: true }) {
      if (this.state.disposed)
        return S5();
      this.setState({ visible: true }, { userAction: e48 }), this.hooks.emit("show", { userAction: e48 });
    });
  }
  hide() {
    return l9(this, arguments, function* ({ userAction: e48 } = { userAction: true }) {
      if (this.state.disposed)
        return S5();
      this.setState({ visible: false }, { userAction: e48 }), this.hooks.emit("hide", { userAction: e48 });
    });
  }
  enable({ userAction: e48 } = { userAction: true }) {
    if (this.state.disposed)
      return S5();
    this.setState({ enabled: true }, { userAction: e48 }), this.hooks.emit("enable", { userAction: e48 });
  }
  disable({ userAction: e48 } = { userAction: true }) {
    if (this.state.disposed)
      return S5();
    this.setState({ enabled: false }, { userAction: e48 }), this.hooks.emit("disable", { userAction: e48 });
  }
  getFrontCSS3DScene({ createSceneIfNotExists: e48 = false } = {}) {
    var r66;
    const t43 = (r66 = i13.frontModeStore) == null ? void 0 : r66.css3DScene;
    if (t43)
      return t43;
    if (e48) {
      const s60 = new m4();
      i13.frontModeStore.css3DScene = s60;
    }
    return i13.frontModeStore.css3DScene;
  }
  getBehindCSS3DScene({ createSceneIfNotExists: e48 = false } = {}) {
    var r66, s60;
    const t43 = (r66 = i13.behindModeStore) == null ? void 0 : r66.css3DScene;
    if (t43)
      return t43;
    if (e48) {
      const d73 = (s60 = i13.behindModeStore.scene) != null ? s60 : this.scene;
      if (!d73) {
        console.error(`${f7}: scene is required when mode is behind`);
        return;
      }
      const u72 = new u3(d73);
      i13.behindModeStore.css3DScene = u72, i13.behindModeStore.scene = d73;
    }
    return i13.behindModeStore.css3DScene;
  }
  getFrontCSS3DObjectGroup({ addGroupIfNotExists: e48 = true } = {}) {
    const t43 = this.getFrontCSS3DScene({ createSceneIfNotExists: e48 });
    return e48 && t43 && (t43.getObjectById(this.store.frontModeGroup.id) || t43.add(this.store.frontModeGroup)), this.store.frontModeGroup;
  }
  getBehindCSS3DObjectGroup({ addGroupIfNotExists: e48 = true } = {}) {
    var r66;
    const t43 = this.getBehindCSS3DScene({ createSceneIfNotExists: e48 });
    if (e48 && t43 && this.scene) {
      const s60 = (r66 = this.store.behindModeGroup) != null ? r66 : new m5(this.scene);
      this.store.behindModeGroup = s60, t43.getObjectById(s60.id) || t43.add(s60);
    }
    return this.store.behindModeGroup;
  }
  render(e48) {
    var t43, r66;
    if (this.getFrontCSS3DObjectGroup({ addGroupIfNotExists: false }).CSS3DObjectLength > 0) {
      const s60 = this.getFrontCSS3DScene({ createSceneIfNotExists: true });
      if (!s60)
        return console.error(`${f7}: css3DScene is required when mode is front`);
      i13.frontModeStore.css3DRenderer.renderEveryFrame(s60, e48);
    }
    if (((r66 = (t43 = this.getBehindCSS3DObjectGroup({ addGroupIfNotExists: false })) == null ? void 0 : t43.CSS3DObjectLength) != null ? r66 : 0) > 0) {
      const s60 = this.getBehindCSS3DScene({ createSceneIfNotExists: true });
      if (!s60)
        return console.error(`${f7}: css3DScene is required when mode is behind`);
      i13.behindModeStore.css3DRenderer.renderEveryFrame(s60, e48);
    }
  }
  handleShow() {
    return l9(this, null, function* () {
      var e48;
      this.store.frontModeGroup.setVisible(true), (e48 = this.store.behindModeGroup) == null || e48.setVisible(true);
    });
  }
  handleHide() {
    return l9(this, null, function* () {
      var e48;
      this.store.frontModeGroup.setVisible(false), (e48 = this.store.behindModeGroup) == null || e48.setVisible(false);
    });
  }
  handleEnable() {
    var e48, t43;
    (e48 = this.getFrontCSS3DScene()) == null || e48.add(this.store.frontModeGroup), this.store.behindModeGroup && ((t43 = this.getBehindCSS3DScene()) == null || t43.add(this.store.behindModeGroup));
  }
  handleDisable() {
    var e48, t43, r66;
    this.store.frontModeGroup.children.forEach((s60) => {
      s60 instanceof c10 && s60.element instanceof Element && s60.element.parentNode !== null && s60.element.remove();
    }), (e48 = this.store.behindModeGroup) == null || e48.children.forEach((s60) => {
      s60 instanceof c10 && s60.element instanceof Element && s60.element.parentNode !== null && s60.element.remove();
    }), (t43 = this.getFrontCSS3DScene()) == null || t43.remove(this.store.frontModeGroup), this.store.behindModeGroup && ((r66 = this.getBehindCSS3DScene()) == null || r66.remove(this.store.behindModeGroup));
  }
  handleDispose() {
    this.handleDisable();
  }
};
n9(y5, "setFrontModeContainer", K3), n9(y5, "setBehindModeContainer", Q2);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CSS3DRenderPlugin/utils/three/CSS3DObject.js
var A6 = Object.defineProperty;
var D2 = (c85, p66, t43) => p66 in c85 ? A6(c85, p66, { enumerable: true, configurable: true, writable: true, value: t43 }) : c85[p66] = t43;
var o16 = (c85, p66, t43) => (D2(c85, typeof p66 != "symbol" ? p66 + "" : p66, t43), t43);
var $3 = 1;
var W3 = `CSS3DObjectPlus@${$3}`;
var k5 = 216e-5;
var z = 3e-3;
var ti = class extends c10 {
  constructor(t43) {
    var x49, b55, w49, g67, V25;
    if (t7(t43.cornerPoints) && t7(t43.width))
      throw new Error("cornerPoints and width cannot be both empty");
    const i65 = (x49 = t43.container) != null ? x49 : document.createElement("div"), r66 = (b55 = t43.cornerPoints) != null ? b55 : (() => {
      const e48 = t43.width / 2;
      return [
        new Vector3(-e48, e48, 0),
        new Vector3(-e48, -e48, 0),
        new Vector3(e48, -e48, 0),
        new Vector3(e48, e48, 0)
      ];
    })(), s60 = (w49 = t43.ratio) != null ? w49 : z, P55 = (g67 = t43.dpr) != null ? g67 : 1, F45 = (V25 = t43.pointerEvents) != null ? V25 : "auto", h66 = Math.max(k5, s60), l63 = r66[0].distanceTo(r66[1]), d73 = r66[1].distanceTo(r66[2]), m66 = t6(l63 / s60 * P55), a62 = t6(d73 / s60 * P55), y51 = c9(...r66);
    let u72;
    if (h66 === s60)
      i65.style.width = `${m66}px`, i65.style.height = `${a62}px`, u72 = i65;
    else {
      const e48 = document.createElement("div");
      e48.style.width = `${m66}px`, e48.style.height = `${a62}px`, e48.style.pointerEvents = "none";
      const S52 = s60 / h66;
      i65.style.position = "absolute", i65.style.left = "0", i65.style.top = "0", i65.style.width = `${S52 * m66}px`, i65.style.height = `${S52 * a62}px`, e48.appendChild(i65), u72 = e48;
    }
    super(u72);
    o16(this, "version", $3);
    o16(this, "isCSS3DObjectPlus", true);
    o16(this, "isCSS3DObject", true);
    o16(this, "name", W3);
    o16(this, "container");
    o16(this, "width");
    o16(this, "height");
    o16(this, "domWidthPx");
    o16(this, "domHeightPx");
    o16(this, "cornerPoints");
    o16(this, "centerPosition");
    o16(this, "ratio");
    o16(this, "mode", "front");
    o16(this, "hooks", new E3());
    o16(this, "opacityMesh");
    o16(this, "selfVisible", true);
    o16(this, "setVisible", (t44) => {
      this.selfVisible = t44, this.visible = r4(this.parent) && this.selfVisible, this.opacityMesh && (this.opacityMesh.visible = this.visible);
    });
    o16(this, "updateVisible", () => {
      this.setVisible(this.selfVisible);
    });
    o16(this, "createOpacityMesh", (t44) => {
      const { domWidthPx: i66, domHeightPx: r67 } = t44, s61 = new p(i66, r67);
      return s61.position.copy(t44.position), s61.rotation.copy(t44.rotation), s61.scale.copy(t44.scale), s61;
    });
    if (i65.style.pointerEvents = F45, Object.assign(i65.style, t43.style), this.scale.set(h66, h66, h66), this.cornerPoints = r66, this.ratio = s60, this.container = i65, t43.mode && (this.mode = t43.mode), h66 === s60)
      this.width = l63, this.height = d73, this.domWidthPx = m66, this.domHeightPx = a62, this.centerPosition = y51;
    else {
      const e48 = s60 / h66;
      this.width = e48 * l63, this.height = e48 * d73, this.domWidthPx = e48 * m66, this.domHeightPx = e48 * a62, this.centerPosition = new Vector3().subVectors(y51, r66[0]).multiplyScalar(e48).add(r66[0]);
    }
    i65.classList.add(`${W3}__container`);
    const C52 = new Vector3().subVectors(r66[1], r66[0]), M48 = new Vector3().subVectors(r66[3], r66[0]), H39 = new Vector3().crossVectors(C52, M48).normalize();
    this.lookAt(H39);
    const f80 = this.up.clone().applyQuaternion(this.quaternion), v58 = M48.clone(), j37 = new Vector3().crossVectors(f80, v58).normalize();
    this.rotateOnWorldAxis(j37, f80.angleTo(v58)), this.position.copy(y51), this.addEventListener("added", () => {
      var e48;
      this.mode === "front" && ((e48 = this.opacityMesh) == null || e48.removeFromParent());
    }), this.addEventListener("removed", () => {
      var e48;
      (e48 = this.opacityMesh) == null || e48.removeFromParent();
    });
  }
  removeFromParent() {
    var i65;
    const t43 = this.parent;
    return t43 !== null && t43.remove(this), (i65 = this.opacityMesh) == null || i65.removeFromParent(), this;
  }
  removeOpacityMesh() {
    var t43;
    return (t43 = this.opacityMesh) == null || t43.removeFromParent(), this.opacityMesh = void 0, this;
  }
  dispose() {
    var t43;
    this.container.remove(), this.removeFromParent(), (t43 = this.opacityMesh) == null || t43.removeFromParent();
  }
  getOpacityMesh() {
    if (this.opacityMesh)
      return this.opacityMesh;
    {
      const t43 = this.createOpacityMesh(this);
      return this.opacityMesh = t43, t43;
    }
  }
  applyMatrix4(t43) {
    var i65;
    super.applyMatrix4(t43), (i65 = this.opacityMesh) == null || i65.applyMatrix4(t43);
  }
  applyQuaternion(t43) {
    var i65;
    return super.applyQuaternion(t43), (i65 = this.opacityMesh) == null || i65.applyQuaternion(t43), this;
  }
  applyScaleMatrix4(t43) {
    var i65;
    this.scale.applyMatrix4(t43), (i65 = this.opacityMesh) == null || i65.scale.applyMatrix4(t43);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/PointSelector/utils/PointHelper.js
var a11 = Object.defineProperty;
var h7 = (r66, s60, e48) => s60 in r66 ? a11(r66, s60, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[s60] = e48;
var n10 = (r66, s60, e48) => (h7(r66, typeof s60 != "symbol" ? s60 + "" : s60, e48), e48);
var M4 = `
varying vec2 vUv;
void main() {
  vUv = uv;
  vec4 mvPosition = modelViewMatrix * vec4(position, 1);
  gl_Position = projectionMatrix * mvPosition;
}
`;
var u7 = `
varying vec2 vUv;
void main() {
  vec2 uv = vec2(vUv.x, vUv.y);
  float a = 1.0;
  float match = 1.0 - uv.x;
  gl_FragColor = vec4(1.0,1.0,1.0,match);
}
`;
function v6() {
  const r66 = new PlaneGeometry(0.4, 0.4), s60 = A3, e48 = new TextureLoader().load(s60);
  e48.encoding = sRGBEncoding, e48.minFilter = LinearFilter;
  const o71 = new MeshBasicMaterial({
    map: e48,
    transparent: true,
    depthTest: false
  });
  return new Mesh(r66, o71);
}
function m12() {
  const r66 = new CurvePath();
  r66.add(new LineCurve3(new Vector3(0, 0, 0), new Vector3(0, 0, 0.1)));
  const s60 = new TubeGeometry(r66, 8, 3e-3), e48 = new ShaderMaterial({
    vertexShader: M4,
    fragmentShader: u7,
    depthTest: false,
    transparent: true
  });
  return new Mesh(s60, e48);
}
function b3() {
  const r66 = new SphereGeometry(0.01, 20, 20), s60 = new MeshBasicMaterial({
    color: 10349931,
    depthTest: false,
    transparent: true,
    side: DoubleSide
  }), e48 = new Mesh(r66, s60);
  return e48.position.set(0, 0, 0.1), e48;
}
function w7() {
  const s60 = new ti({
    pointerEvents: "none",
    cornerPoints: [
      new Vector3(-0.2, 0.2, 0),
      new Vector3(-0.2, -0.2, 0),
      new Vector3(0.2, -0.2, 0),
      new Vector3(0.2, 0.2, 0)
    ]
  }), e48 = document.createElement("div");
  return e48.style.width = "100%", e48.style.height = "100%", e48.style.backgroundImage = `url(${A4})`, e48.style.backgroundSize = "100%", e48.style.backgroundRepeat = "no-repeat", s60.container.appendChild(e48), s60;
}
var T4 = class extends Object3D {
  constructor(e48) {
    super();
    n10(this, "planeMesh");
    n10(this, "lineMesh");
    n10(this, "ballMesh");
    n10(this, "borderMesh");
    n10(this, "five");
    this.planeMesh = v6(), this.lineMesh = m12(), this.ballMesh = b3(), this.borderMesh = w7(), this.addEventListener("added", () => {
      this.add(this.planeMesh, this.lineMesh, this.ballMesh, this.borderMesh);
    }), this.addEventListener("removed", () => {
      this.remove(this.planeMesh, this.lineMesh, this.ballMesh, this.borderMesh);
    }), E4(e48), this.five = e48;
  }
  updateWithIntersect(e48) {
    var i65;
    const o71 = (i65 = e48 == null ? void 0 : e48.face) != null && i65.normal ? new Vector3().addVectors(e48.point, e48.face.normal) : this.five.camera.position;
    this.position.copy(e48.point), this.lookAt(o71);
  }
  show() {
    this.visible = true, this.borderMesh.parent || this.add(this.borderMesh);
  }
  hide() {
    this.visible = false, this.remove(this.borderMesh);
  }
  dispose() {
    var e48;
    (e48 = this.planeMesh.material.map) == null || e48.dispose();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/PointSelector/utils/PointSelectorHelper.js
var d8 = Object.defineProperty;
var m13 = (a62, i65, e48) => i65 in a62 ? d8(a62, i65, { enumerable: true, configurable: true, writable: true, value: e48 }) : a62[i65] = e48;
var t11 = (a62, i65, e48) => (m13(a62, typeof i65 != "symbol" ? i65 + "" : i65, e48), e48);
var T5 = class {
  constructor(i65, e48) {
    t11(this, "five");
    t11(this, "hooks", new E3());
    t11(this, "position", null);
    t11(this, "magnifier", null);
    t11(this, "pointHelper", null);
    t11(this, "state", { enabled: false, visible: true });
    t11(this, "group", new Group());
    t11(this, "show", () => {
      var i66, e49;
      this.state.visible || (this.state.visible = true, (i66 = this.pointHelper) == null || i66.show(), (e49 = this.magnifier) == null || e49.enable(), this.five.needsRender = true);
    });
    t11(this, "hide", () => {
      var i66, e49;
      this.state.visible && (this.state.visible = false, (i66 = this.pointHelper) == null || i66.hide(), (e49 = this.magnifier) == null || e49.disable(), this.five.needsRender = true);
    });
    t11(this, "updateWithIntersect", (i66, e49 = { emitEvent: true }) => {
      var s61;
      if (!i66)
        return;
      this.abortUpdateMagnifier(), this.position = i66, e49.emitEvent && this.hooks.emit("intersectionUpdate", i66), (s61 = this.pointHelper) == null || s61.updateWithIntersect(i66);
      const r67 = () => {
        var n73;
        return (n73 = this.magnifier) == null ? void 0 : n73.renderWithPoint(i66.point);
      };
      this.abortUpdateMagnifier = () => this.five.off("renderFrame", r67), this.five.once("renderFrame", r67), this.five.needsRender = true;
    });
    t11(this, "abortUpdateMagnifier", () => {
    });
    var s60, n72, l63, h66, f80;
    this.five = i65, this.magnifier = (e48 == null ? void 0 : e48.magnifier) !== void 0 ? e48.magnifier : new S(i65, (s60 = e48 == null ? void 0 : e48.magnifierParams) != null ? s60 : { dragEnabled: true });
    let r66;
    (e48 == null ? void 0 : e48.pointHelper) === "default" || (e48 == null ? void 0 : e48.pointHelper) === void 0 ? r66 = new T4(i65) : (e48 == null ? void 0 : e48.pointHelper) === "highlight" ? r66 = new E7(i65) : r66 = e48.pointHelper, this.pointHelper = r66, this.group.name = "five-point-selector", this.five.scene.add(this.group), (f80 = this.magnifier) == null || f80.appendTo((h66 = (l63 = e48.container) != null ? l63 : (n72 = i65.getElement()) == null ? void 0 : n72.parentElement) != null ? h66 : document.body);
  }
  enable() {
    var i65;
    this.state.enabled || (this.state.enabled = true, this.pointHelper && this.group.add(this.pointHelper), (i65 = this.magnifier) == null || i65.enable(), this.five.needsRender = true, this.hooks.emit("enabled"));
  }
  disable() {
    var i65;
    this.state.enabled && (this.state.enabled = false, this.pointHelper && this.group.remove(this.pointHelper), (i65 = this.magnifier) == null || i65.disable(), this.hooks.emit("disabled"));
  }
  dispose() {
    this.hooks.off(), this.disable(), this.magnifier = null, this.pointHelper = null;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/PointSelector/index.js
var R6 = Object.defineProperty;
var O4 = Object.defineProperties;
var X3 = Object.getOwnPropertyDescriptors;
var N3 = Object.getOwnPropertySymbols;
var Y3 = Object.prototype.hasOwnProperty;
var B2 = Object.prototype.propertyIsEnumerable;
var E8 = (l63, h66, e48) => h66 in l63 ? R6(l63, h66, { enumerable: true, configurable: true, writable: true, value: e48 }) : l63[h66] = e48;
var P4 = (l63, h66) => {
  for (var e48 in h66 || (h66 = {}))
    Y3.call(h66, e48) && E8(l63, e48, h66[e48]);
  if (N3)
    for (var e48 of N3(h66))
      B2.call(h66, e48) && E8(l63, e48, h66[e48]);
  return l63;
};
var M5 = (l63, h66) => O4(l63, X3(h66));
var i14 = (l63, h66, e48) => (E8(l63, typeof h66 != "symbol" ? h66 + "" : h66, e48), e48);
var _5 = new Vector3();
var w8 = () => false;
var se = class extends E3 {
  constructor(e48, t43) {
    var u72, d73, n72, f80;
    super();
    i14(this, "_cursorError", false);
    i14(this, "actionIfNoIntersection", "virtualPoint");
    i14(this, "plane");
    i14(this, "planeMode", "onlyVirtual");
    i14(this, "pointSelectorHelper");
    i14(this, "five");
    i14(this, "hook", this);
    i14(this, "adhereEnabled", true);
    i14(this, "adhereRadius", 0.1);
    i14(this, "adherePlane", []);
    i14(this, "adhereLine", []);
    i14(this, "_outOfFive", false);
    i14(this, "_enabled", false);
    i14(this, "mode");
    i14(this, "pressDown", false);
    i14(this, "adherePoints");
    i14(this, "setPressDown");
    i14(this, "lastFiveHelperVisible");
    i14(this, "lastIntersection");
    i14(this, "mousePosition");
    i14(this, "_mouseDownInfo");
    i14(this, "_touchStartInfo");
    i14(this, "config", {});
    i14(this, "select", (e49) => {
      e49 && this.updatePointSelectorHelperIntersect(e49);
      const t44 = this.emit("wantsSelect", this.position);
      return t44 || (this.pointSelectorHelper.hide(), this.emit("select", this.position), console.debug(this.position)), !t44;
    });
    i14(this, "onKeyDown", (e49) => {
      e49.key === "Shift" && (this.adhereEnabled = false);
    });
    i14(this, "onKeyUp", (e49) => {
      e49.key === "Shift" && (this.adhereEnabled = true);
    });
    i14(this, "onMouseWheel", (e49) => {
      this.updateByMousePosition(e49);
      const t44 = () => this.updateByMousePosition();
      this.five.off("render.prepare", t44), this.five.on("render.prepare", t44), setTimeout(() => {
        this.five.off("render.prepare", t44);
      }, 200);
    });
    i14(this, "onEnter", () => {
      this.cursorError || this.pointSelectorHelper.show(), this.outOfFive = false;
    });
    i14(this, "onMouseEnter", () => {
      this.onEnter(), this.emit("intersectionUpdate", this.position);
    });
    i14(this, "onMouseLeave", () => {
      this.pointSelectorHelper.hide(), this.outOfFive = true, this.emit("intersectionUpdate", void 0);
    });
    i14(this, "onMouseDown", (e49) => {
      this._mouseDownInfo = {
        clientX: e49.clientX,
        clientY: e49.clientY,
        timestamp: performance.now()
      };
    });
    i14(this, "onMouseUp", (e49) => {
      if (!this._mouseDownInfo)
        return;
      const { clientX: t44, clientY: s61, timestamp: c86 } = this._mouseDownInfo;
      Math.abs(e49.clientX - t44) < 2 && Math.abs(e49.clientY - s61) < 2 && performance.now() - c86 < 500 ? this.select() : this._mouseDownInfo = null;
    });
    i14(this, "onTouchStart", (e49) => {
      this._touchStartInfo = {
        clientX: e49.touches[0].clientX,
        clientY: e49.touches[0].clientY,
        timestamp: performance.now()
      }, this.setPressDown = setTimeout(() => {
        if (this.setPressDown = void 0, this.mousePosition = {
          clientX: e49.touches[0].clientX,
          clientY: e49.touches[0].clientY
        }, !this.mouseNdcPosition)
          return;
        const t44 = this.updateByNdcPosition(this.mouseNdcPosition);
        this.pressDown = t44;
      }, 200);
    });
    i14(this, "onTouchMove", (e49) => {
      if (this.setPressDown) {
        let t44 = false;
        if (this._touchStartInfo) {
          const { clientX: s61, clientY: c86 } = this._touchStartInfo;
          (Math.abs(e49.touches[0].clientX - s61) > 2 || Math.abs(e49.touches[0].clientY - c86) > 2) && (t44 = true);
        }
        t44 && (clearTimeout(this.setPressDown), this.setPressDown = void 0);
        return;
      }
      if (this.pressDown) {
        if (this.mousePosition = {
          clientX: e49.touches[0].clientX,
          clientY: e49.touches[0].clientY
        }, !this.mouseNdcPosition)
          return;
        this.updateByNdcPosition(this.mouseNdcPosition);
      }
    });
    i14(this, "onTouchEnd", (e49) => {
      if (this.setPressDown) {
        clearTimeout(this.setPressDown), this.setPressDown = void 0;
        return;
      }
      this.pressDown && (setTimeout(() => {
        this.pressDown = false;
      }, 100), this.select());
    });
    i14(this, "updateByMousePosition", (e49) => {
      if (this.five.getElement()) {
        if (!e49 || (e49 == null ? void 0 : e49.buttons) !== 0) {
          this.pointSelectorHelper.hide();
          return;
        } else
          this.pointSelectorHelper.show();
        e49 && (this.mousePosition = {
          clientX: e49.clientX,
          clientY: e49.clientY
        }), this.updateByNdcPosition(this.mouseNdcPosition);
      }
    });
    i14(this, "updateByNdcPosition", (e49) => {
      var c86, u73, d74;
      const t44 = m11(this.five, e49);
      let s61 = w4(this.five, t44);
      if (s61) {
        if (this.plane && this.planeMode === "vertical" && (s61 = M5(P4({}, s61), {
          point: this.plane.projectPoint(s61.point, new Vector3()),
          face: new Face3(0, 0, 0, this.plane.normal.clone()),
          originalPoint: s61.point.clone()
        })), this.plane && this.planeMode === "onlyPlane") {
          const n73 = t44.ray.intersectPlane(this.plane, _5);
          if (!n73)
            return false;
          s61 = {
            distance: this.five.camera.position.distanceTo(n73),
            point: n73.clone(),
            originalPoint: s61.point.clone(),
            face: new Face3(0, 0, 0, this.plane.normal.clone()),
            raycaster: t44
          };
        }
        return this.updatePointSelectorHelperIntersect(s61), this.lastIntersection = s61, true;
      }
      if (this.plane) {
        const n73 = t44.ray.intersectPlane(this.plane, _5);
        if (n73) {
          const f81 = {
            distance: this.five.camera.position.distanceTo(n73),
            point: n73.clone(),
            object: new Object3D(),
            face: new Face3(0, 0, 0, this.plane.normal.clone()),
            raycaster: t44,
            isVirtual: true
          };
          return this.updatePointSelectorHelperIntersect(f81), true;
        }
      }
      if (this.actionIfNoIntersection === "lastPoint")
        return this.updatePointSelectorHelperIntersect(this.lastIntersection), true;
      if (this.actionIfNoIntersection === "virtualPoint") {
        const n73 = f6(t44, (c86 = this.lastIntersection) == null ? void 0 : c86.distance);
        return n73.face = new Face3(0, 0, 0, (d74 = (u73 = this.lastIntersection) == null ? void 0 : u73.face) == null ? void 0 : d74.normal), n73.isVirtual = true, this.lastIntersection = n73, this.updatePointSelectorHelperIntersect(n73), true;
      } else if (this.actionIfNoIntersection === "disable")
        return this.updatePointSelectorHelperIntersect(null), false;
    });
    i14(this, "updatePointSelectorHelperIntersect", (e49) => {
      var s61, c86, u73, d74, n73, f81, T38, L40;
      if (!e49) {
        this.pointSelectorHelper.hide(), this.pointSelectorHelper.position = e49, this.emit("intersectionUpdate", e49), this.five.getElement().style.cursor = e5;
        return;
      }
      this.onEnter(), this.cursorError || (this.five.getElement().style.cursor = "");
      const t44 = P4({}, e49);
      if (this.adhereEnabled && this.mouseNdcPosition && this.five.renderer) {
        const S52 = {
          x: this.mouseNdcPosition.x,
          y: 1 - this.mouseNdcPosition.y
        }, H39 = this.five.renderer.getSize(new Vector2());
        if (this.adhereEnabled && typeof this.adherePoints == "function" && typeof this.adhereRadius == "number") {
          for (const r66 of this.adherePlane) {
            const a62 = r66.distanceToPoint(e49.point);
            let p66 = r66.projectPoint(e49.point, new Vector3());
            (!this.plane || this.plane.distanceToPoint(p66) < 0.01) && (p66 = (c86 = (s61 = this.plane) == null ? void 0 : s61.projectPoint(p66, new Vector3())) != null ? c86 : p66, a62 < this.adhereRadius && (t44.point = p66.clone(), t44.adherePoint = p66.clone(), this.plane || (t44.face = new Face3(0, 0, 0, r66.normal.clone())), t44.isAdsorbed = true));
          }
          for (const r66 of this.adhereLine) {
            let a62 = r66.closestPointToPoint(e49.point, false, new Vector3());
            if (a62.distanceTo(e49.point) < this.adhereRadius)
              (!this.plane || this.plane.distanceToPoint(a62) < 0.01) && (a62 = (d74 = (u73 = this.plane) == null ? void 0 : u73.projectPoint(a62, new Vector3())) != null ? d74 : a62, t44.point = a62.clone(), t44.adhereLine = r66.clone(), t44.isAdsorbed = true);
            else {
              const p66 = w5({
                raycaster: new h3(this.five.camera.position, e49.point.clone().sub(this.five.camera.position).normalize()),
                line: r66,
                clampToLine: false
              }), v58 = p66.clone().project(this.five.camera);
              if (v58.z <= 1) {
                const y51 = {
                  x: (v58.x + 1) / 2,
                  y: (1 - v58.y) / 2
                }, b55 = {
                  x: Math.abs(y51.x - S52.x) * H39.width,
                  y: Math.abs(y51.y - S52.y) * H39.height
                };
                let m66 = p66.clone();
                b55.x < 10 && b55.y < 10 && (!this.plane || this.plane.distanceToPoint(m66) < 0.01) && (m66 = (f81 = (n73 = this.plane) == null ? void 0 : n73.projectPoint(m66, new Vector3())) != null ? f81 : m66, t44.point = m66.clone(), t44.adhereLine = r66.clone(), t44.isAdsorbed = true);
              }
            }
          }
          for (const r66 of this.adherePoints({ intersection: e49, pointSelectorInstance: this })) {
            const a62 = r66 instanceof Face3 ? new Vector3(r66.a, r66.b, r66.c) : r66;
            if (a62.IsAlwaysVisible = r66.IsAlwaysVisible, this.plane && this.plane.distanceToPoint(a62) > 0.01)
              continue;
            if (a62.distanceTo(e49.point) < this.adhereRadius) {
              t44.point = (L40 = (T38 = this.plane) == null ? void 0 : T38.projectPoint(a62, new Vector3())) != null ? L40 : a62.clone(), !this.plane && r66 instanceof Face3 && (t44.face = r66), t44.isAdsorbed = true;
              break;
            } else {
              const v58 = a62.clone().project(this.five.camera);
              if (v58.z > 1)
                continue;
              const y51 = this.five.renderer.getSize(new Vector2()), b55 = {
                x: (v58.x + 1) / 2,
                y: (1 - v58.y) / 2
              }, m66 = {
                x: Math.abs(b55.x - S52.x) * y51.width,
                y: Math.abs(b55.y - S52.y) * y51.height
              };
              if (m66.x < 10 && m66.y < 10) {
                let I49 = false;
                if (a62.IsAlwaysVisible)
                  I49 = true;
                else {
                  const D52 = new Raycaster();
                  D52.setFromCamera(a62.clone(), this.five.camera);
                  const F45 = this.five.model.intersectRaycaster(D52, void 0, true)[0], x49 = 0.1, U33 = this.five.camera.position.distanceTo(a62);
                  F45 && F45.distance < U33 + x49 && (I49 = true);
                }
                if (I49) {
                  t44.point = a62.clone(), !this.plane && r66 instanceof Face3 && (t44.face = r66), t44.isAdsorbed = true;
                  break;
                }
              }
            }
          }
        }
      }
      this.pointSelectorHelper.updateWithIntersect(t44, { emitEvent: false }), this.emit("intersectionUpdate", t44);
    });
    i14(this, "mousePositionToNdcPosition", (e49) => {
      const t44 = this.five.getElement();
      if (!t44)
        return null;
      const { top: s61, left: c86, width: u73, height: d74 } = t44.getBoundingClientRect(), { clientX: n73, clientY: f81 } = e49;
      return {
        x: (n73 - c86) / u73,
        y: 1 - (f81 - s61) / d74
      };
    });
    i14(this, "onFiveWantsPanGesture", () => {
      if (this.pressDown)
        return false;
    });
    i14(this, "renderScreenCenter", () => {
      this.updateByNdcPosition({ x: 0.5, y: 0.5 });
    });
    i14(this, "emitIntersectionUpdate", (e49) => {
      this.emit("intersectionUpdate", e49);
    });
    this.five = e48, this.config = P4(P4({}, this.config), t43), this.actionIfNoIntersection = (d73 = (u72 = t43 == null ? void 0 : t43.actionIfNoIntersection) != null ? u72 : t43 == null ? void 0 : t43.actionIfNoModelUnderMouse) != null ? d73 : "virtualPoint";
    const s60 = (n72 = t43 == null ? void 0 : t43.mode) != null ? n72 : "auto";
    s60 === "auto" ? this.mode = o15 ? "fixed" : "cursor" : this.mode = s60;
    const c85 = {
      autoFixPCPosition: this.mode === "cursor",
      initialPosition: this.mode === "fixed" ? { left: "35%", top: "20%" } : void 0
    };
    this.pointSelectorHelper = new T5(this.five, M5(P4({}, t43 == null ? void 0 : t43.helper), {
      magnifierParams: P4(P4({}, c85), (f80 = t43 == null ? void 0 : t43.helper) == null ? void 0 : f80.magnifierParams)
    })), this.pointSelectorHelper.hide();
  }
  get position() {
    if (!this.outOfFive)
      return this.pointSelectorHelper.position;
  }
  /**
   * @description: 不在 five canvas 上时为 true
   */
  get outOfFive() {
    return this._outOfFive;
  }
  get enabled() {
    return this._enabled;
  }
  get cursorError() {
    return this._cursorError;
  }
  set cursorError(e48) {
    this._cursorError = e48, this.five.getElement().style.cursor = e48 ? e5 : "", e48 ? this.pointSelectorHelper.hide() : this.pointSelectorHelper.show();
  }
  set outOfFive(e48) {
    this._outOfFive = e48;
  }
  set enabled(e48) {
    this._enabled = e48;
  }
  get mouseNdcPosition() {
    return this.mousePosition ? this.mousePositionToNdcPosition(this.mousePosition) : null;
  }
  enable() {
    if (this.enabled)
      return;
    this.enabled = true, this.outOfFive = false, this.pointSelectorHelper.enable(), this.pointSelectorHelper.hide();
    const e48 = this.five.getElement();
    if (!e48)
      throw new Error("five element not found");
    this.mode === "cursor" ? (this.five.on("wantsMoveToPano", w8), this.five.on("wantsChangeMode", w8), this.five.on("wantsTapGesture", w8), e48.addEventListener("touchstart", this.onTouchStart, { passive: true }), e48.addEventListener("touchmove", this.onTouchMove), e48.addEventListener("touchend", this.onTouchEnd), e48.addEventListener("mousedown", this.onMouseDown), e48.addEventListener("mouseup", this.onMouseUp), e48.addEventListener("mousemove", this.updateByMousePosition), e48.addEventListener("wheel", this.onMouseWheel), e48.addEventListener("mouseenter", this.onMouseEnter), e48.addEventListener("mouseout", this.onMouseLeave), this.five.on("wantsPanGesture", this.onFiveWantsPanGesture)) : this.mode === "fixed" && (this.five.on("panoArrived", this.renderScreenCenter), this.five.on("panGesture", this.renderScreenCenter), this.five.on("interiaPan", this.renderScreenCenter), this.renderScreenCenter(), this.pointSelectorHelper.show()), document.addEventListener("keydown", this.onKeyDown), document.addEventListener("keyup", this.onKeyUp), this.pointSelectorHelper.hooks.on("intersectionUpdate", this.emitIntersectionUpdate), this.lastFiveHelperVisible = this.five.helperVisible, this.five.helperVisible = false, this.emit("enable");
  }
  disable() {
    if (!this.enabled)
      return;
    this.enabled = false, this.adherePoints = null, this.adhereLine = [], this.adherePlane = [], this.plane = void 0, this.pointSelectorHelper.disable(), this.five.getElement().style.cursor = "";
    const e48 = this.five.getElement();
    this.five.off("wantsPanGesture", this.onFiveWantsPanGesture), this.five.off("wantsMoveToPano", w8), this.five.off("wantsChangeMode", w8), this.five.off("wantsTapGesture", w8), this.five.helperVisible = this.lastFiveHelperVisible, e48 == null || e48.removeEventListener("touchstart", this.onTouchStart), e48 == null || e48.removeEventListener("touchmove", this.onTouchMove), e48 == null || e48.removeEventListener("touchend", this.onTouchEnd), e48 == null || e48.removeEventListener("mousedown", this.onMouseDown), e48 == null || e48.removeEventListener("mouseup", this.onMouseUp), e48 == null || e48.removeEventListener("mousemove", this.updateByMousePosition), e48 == null || e48.removeEventListener("wheel", this.onMouseWheel), e48 == null || e48.removeEventListener("mouseenter", this.onMouseEnter), e48 == null || e48.removeEventListener("mouseout", this.onMouseLeave), this.five.off("panoArrived", this.renderScreenCenter), this.five.off("panGesture", this.renderScreenCenter), this.five.off("interiaPan", this.renderScreenCenter), document.removeEventListener("keydown", this.onKeyDown), document.removeEventListener("keyup", this.onKeyUp), this.pointSelectorHelper.hooks.off("intersectionUpdate", this.emitIntersectionUpdate), this.emit("disable");
  }
  dispose() {
    this.disable(), this.pointSelectorHelper.dispose();
  }
  setAdherePoints(e48, t43) {
    e48 ? typeof e48 == "function" ? this.adherePoints = e48 : this.adherePoints = () => e48 : this.adherePoints = null;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/tag.js
var P5 = Object.defineProperty;
var C6 = (p66, e48, t43) => e48 in p66 ? P5(p66, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : p66[e48] = t43;
var r12 = (p66, e48, t43) => (C6(p66, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var u8 = (p66, e48, t43) => new Promise((o71, n72) => {
  var a62 = (i65) => {
    try {
      s60(t43.next(i65));
    } catch (h66) {
      n72(h66);
    }
  }, l63 = (i65) => {
    try {
      s60(t43.throw(i65));
    } catch (h66) {
      n72(h66);
    }
  }, s60 = (i65) => i65.done ? o71(i65.value) : Promise.resolve(i65.value).then(a62, l63);
  s60((t43 = t43.apply(p66, e48)).next());
});
var M6 = new Vector2();
var R4 = class {
  constructor(e48, t43, o71) {
    r12(this, "container");
    r12(this, "visible", false);
    r12(this, "enabled", false);
    r12(this, "visibles", []);
    r12(this, "wrapper");
    r12(this, "positionsForRotate");
    r12(this, "intersectCheck", true);
    r12(this, "extraObjectsForIntersectCheck", []);
    r12(this, "simulate3D", false);
    r12(this, "tagWrapper");
    r12(this, "five");
    r12(this, "originPosition");
    r12(this, "transformedPosition");
    r12(this, "disposer");
    r12(this, "config");
    r12(this, "fiveUtil");
    r12(this, "disposers", []);
    r12(this, "onModeChange", () => {
      this.visibles[3] = void 0, this.updateVisible();
    });
    r12(this, "onPanoArrived", () => {
      this.visibles[3] = void 0, this.updateVisible();
    });
    r12(this, "onCameraUpdate", () => {
      this.visible !== false && this.updateScreenPosition();
    });
    r12(this, "onCameraFovUpdate", () => {
      this.onCameraUpdate(), this.five.off("render.prepare", this.onCameraUpdate), this.five.on("render.prepare", this.onCameraUpdate), setTimeout(() => {
        this.five.off("render.prepare", this.onCameraUpdate);
      }, 1e3);
    });
    r12(this, "onFiveEveryReady", () => {
      this.five.state.mode !== "Panorama" && this.updateVisible();
    });
    r12(this, "updateVisible", () => {
      this.visible && (this.updateIntersectCheckVisible(), this.needsRender = true);
    });
    r12(this, "applyVisible", () => {
      this.visibles[3] === true || this.visibles.every((t44) => t44 !== false) ? (this.container.style.opacity = "1", this.container.style.pointerEvents = "auto") : (this.container.style.opacity = "0", this.container.style.pointerEvents = "none");
    });
    r12(this, "updateIntersectCheckVisible", () => {
      var i65, h66;
      if (!this.position)
        return;
      if (!this.intersectCheck) {
        this.visibles[1] = true;
        return;
      }
      let e49 = false, t44 = 0.01;
      this.fiveUtil.workUtil.fromType === "poincare" && (t44 = 0.05);
      const o72 = this.transformedPosition.clone().sub(this.five.camera.position).normalize();
      t5.set(this.five.camera.position, o72);
      const n73 = (i65 = l2(this.five).intersectRaycaster(t5)) != null ? i65 : [], a63 = (h66 = t5.intersectObjects(this.extraObjectsForIntersectCheck, true)) != null ? h66 : [], s60 = [...n73, ...a63].sort((c85, d73) => c85.distance - d73.distance)[0];
      s60 ? e49 = (s60 == null ? void 0 : s60.distance) + t44 > this.transformedPosition.distanceTo(this.five.camera.position) : e49 = true, this.visibles[1] = e49;
    });
    var n72, a62, l63;
    this.five = e48, this.fiveUtil = (n72 = e48.__fiveUtil__) != null ? n72 : e48.__fiveUtil__ = new c6(e48), this.originPosition = t43 ? t2(t43).clone() : void 0, this.transformedPosition = (a62 = this.originPosition) == null ? void 0 : a62.clone(), this.positionsForRotate = (l63 = o71 == null ? void 0 : o71.positionsForRotate) == null ? void 0 : l63.map((s60) => t2(s60).clone()), this.config = o71 != null ? o71 : {}, this.container = (() => {
      const s60 = document.createElement("div");
      return s60.classList.add("light-tag"), s60.style.width = "0", s60.style.height = "0", s60.style.position = "absolute", o71 != null && o71.disableOpacityTransition || (s60.style.transition = "opacity 0.2s linear"), s60;
    })(), this.addResizeListener(), this.show(), this.enable(), setTimeout(() => {
      this.updateVisible(), this.needsRender = true;
    }, 0);
  }
  get position() {
    return this.transformedPosition;
  }
  // eslint-disable-next-line accessor-pairs
  set needsRender(e48) {
    this.applyVisible();
  }
  /**
   * @description 显示标签
   */
  show(e48) {
    this.visible = true, this.visibles[0] = true, e48 != null && e48.force && (this.visibles[3] = true), this.container.style.opacity = "1", this.container.style.pointerEvents = "auto", this.updateVisible(), this.onCameraUpdate();
  }
  /**
   * @description 隐藏标签
   */
  hide() {
    this.visible = false, this.visibles[0] = false, this.container.style.opacity = "0", this.container.style.pointerEvents = "none";
  }
  /**
   * @description 启用标签
   */
  enable() {
    return u8(this, null, function* () {
      var o71, n72, a62, l63;
      if (this.enabled || (this.enabled = true, yield M2(this.five), !this.enabled))
        return;
      if (this.wrapper = (n72 = this.config.wrapper) != null ? n72 : (o71 = this.five.getElement()) == null ? void 0 : o71.parentElement, !this.wrapper) {
        console.error("lighttag: wrapper is required");
        return;
      }
      const e48 = `light-tag-wrapper-${(l63 = (a62 = this.config) == null ? void 0 : a62.namespace) != null ? l63 : "default"}`;
      if (!this.tagWrapper) {
        let s60 = Array.from(this.wrapper.children).find((i65) => i65.id === e48);
        if (!s60) {
          const i65 = document.createElement("div");
          s60 = i65, i65.id = e48, i65.style.position = "absolute", i65.style.overflow = "hidden", i65.style.top = "0", i65.style.left = "0", i65.style.width = "100%", i65.style.height = "100%", i65.style.pointerEvents = "none", i65.style.zIndex = "1", this.wrapper.appendChild(s60);
        }
        this.tagWrapper = s60;
      }
      this.tagWrapper.appendChild(this.container), this.updateVisible();
      const t43 = i6(this.five, this.onFiveEveryReady);
      this.five.on("cameraUpdate", this.onCameraUpdate), this.five.on("cameraFovUpdate", this.onCameraFovUpdate), this.five.on("panoArrived", this.onPanoArrived), this.five.on("modeChange", this.onModeChange), this.disposer = () => {
        t43(), this.five.off("cameraUpdate", this.onCameraUpdate), this.five.off("cameraFovUpdate", this.onCameraFovUpdate), this.five.off("panoArrived", this.onPanoArrived), this.five.off("modeChange", this.onModeChange);
      };
    });
  }
  /**
   * @description 禁用标签
   */
  disable() {
    var e48, t43;
    this.enabled && (this.enabled = false, (e48 = this.tagWrapper) == null || e48.removeChild(this.container), (t43 = this.disposer) == null || t43.call(this));
  }
  /**
   * @description 销毁标签，并释放相关资源
   */
  destroy() {
    this.disable(), this.container.remove(), this.disposers.forEach((e48) => e48());
  }
  /**
   * @description 设置标签位置
   * @param position 位置
   * @param positionsForRotate 用于 css 旋转的斜线的两个端点
   */
  setPosition(e48, t43) {
    this.transformedPosition = t2(e48).clone(), this.positionsForRotate = t43 == null ? void 0 : t43.map((o71) => t2(o71).clone()), this.onCameraUpdate(), setTimeout(() => this.onCameraUpdate(), 0);
  }
  setTransformMatrix(e48) {
    var t43;
    this.transformedPosition = (t43 = this.originPosition) == null ? void 0 : t43.clone().applyMatrix4(e48), this.onCameraUpdate();
  }
  updateScreenPosition() {
    var a62;
    if (!this.transformedPosition) {
      this.container.style.left = "-100%", this.container.style.top = "-100%";
      return;
    }
    const e48 = (a62 = this.five.renderer) == null ? void 0 : a62.getSize(M6);
    if (!e48) {
      this.container.style.left = "-100%", this.container.style.top = "-100%";
      return;
    }
    const t43 = i4(this.five.camera, this.transformedPosition, e48);
    if (!t43) {
      this.container.style.left = "-100%", this.container.style.top = "-100%";
      return;
    }
    const o71 = (() => {
      if (!this.simulate3D)
        return 1;
      const s60 = 3 * Math.tan(0.5 * this.five.camera.fov / 180 * Math.PI), i65 = this.transformedPosition.distanceTo(this.five.camera.position);
      return Math.max(Math.min(1 - s60 * i65 / 40, 1), 0.75);
    })(), n72 = (() => {
      if (this.positionsForRotate === void 0 || this.positionsForRotate.length !== 2)
        return 0;
      const [l63, s60] = this.positionsForRotate, i65 = i4(this.five.camera, l63, e48), h66 = i4(this.five.camera, s60, e48);
      if (!i65 || !h66)
        return 0;
      const c85 = i65.leftPx > h66.leftPx ? h66 : i65, d73 = i65.leftPx > h66.leftPx ? i65 : h66, y51 = d73.leftPx - c85.leftPx, b55 = d73.topPx - c85.topPx;
      return Math.atan2(b55, y51) * (180 / Math.PI);
    })();
    this.container.style.left = t43.leftPx + "px", this.container.style.top = t43.topPx + "px", this.container.style.transformOrigin = "center", this.container.style.transform = `scale(${o71})`, n72 && (this.container.style.transform += ` rotate(${n72}deg)`);
  }
  addResizeListener() {
    const e48 = this.five.getElement();
    if (e48) {
      const { observe: t43, unobserve: o71 } = o5(this.onCameraUpdate, e48);
      t43(), this.disposers.push(o71);
    }
  }
};
function Q3(...p66) {
  return new R4(...p66);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/boundingBox.js
function O5(u72) {
  const { max: t43, min: n72 } = u72;
  return [
    new Vector3(t43.x, t43.y, t43.z),
    new Vector3(n72.x, t43.y, t43.z),
    new Vector3(n72.x, n72.y, t43.z),
    new Vector3(t43.x, n72.y, t43.z),
    new Vector3(t43.x, t43.y, n72.z),
    new Vector3(n72.x, t43.y, n72.z),
    new Vector3(n72.x, n72.y, n72.z),
    new Vector3(t43.x, n72.y, n72.z)
  ];
}
function P6(u72, t43) {
  const { max: n72, min: e48 } = u72;
  switch (t43) {
    case 0:
      return new Vector3(n72.x, n72.y, n72.z);
    case 1:
      return new Vector3(e48.x, n72.y, n72.z);
    case 2:
      return new Vector3(e48.x, e48.y, n72.z);
    case 3:
      return new Vector3(n72.x, e48.y, n72.z);
    case 4:
      return new Vector3(n72.x, n72.y, e48.z);
    case 5:
      return new Vector3(e48.x, n72.y, e48.z);
    case 6:
      return new Vector3(e48.x, e48.y, e48.z);
    case 7:
      return new Vector3(n72.x, e48.y, e48.z);
  }
}
function R7(u72) {
  return M7(u72, "box3");
}
function T6(u72) {
  return M7(u72, "sphere");
}
function A7(u72) {
  return h8(u72, "box3");
}
function I4(u72) {
  return h8(u72, "sphere");
}
function h8(u72, t43) {
  const n72 = t43 === "box3" ? new Box3() : new c13(), e48 = new Vector3();
  if (u72.updateWorldMatrix(false, false), u72.traverse((r66) => {
    var x49;
    if (r66.name === "shadow" || r66.type === "Line2")
      return;
    const o71 = r66.geometry;
    if (r66.updateWorldMatrix(false, false), o71 !== void 0) {
      const s60 = (x49 = o71 == null ? void 0 : o71.attributes) == null ? void 0 : x49.position;
      if (s60)
        for (let c85 = 0, i65 = s60.count; c85 < i65; c85++)
          e48.fromBufferAttribute(s60, c85).applyMatrix4(r66.matrixWorld), n72.expandByPoint(e48);
      else
        o71.vertices && o71.vertices.forEach((c85) => {
          const i65 = c85.clone().applyMatrix4(r66.matrixWorld);
          n72.expandByPoint(i65);
        });
    }
  }), !n72.isEmpty())
    return n72;
}
function M7(u72, t43) {
  const n72 = h8(u72, t43);
  return n72 && n72.applyMatrix4(W4(u72.matrixWorld.clone())), n72;
}
var W4 = (u72) => {
  const t43 = u72.elements, n72 = t43[0], e48 = t43[1], r66 = t43[2], o71 = t43[3], x49 = t43[4], s60 = t43[5], c85 = t43[6], i65 = t43[7], a62 = t43[8], f80 = t43[9], p66 = t43[10], w49 = t43[11], y51 = t43[12], d73 = t43[13], l63 = t43[14], V25 = t43[15], B42 = f80 * l63 * i65 - d73 * p66 * i65 + d73 * c85 * w49 - s60 * l63 * w49 - f80 * c85 * V25 + s60 * p66 * V25, v58 = y51 * p66 * i65 - a62 * l63 * i65 - y51 * c85 * w49 + x49 * l63 * w49 + a62 * c85 * V25 - x49 * p66 * V25, g67 = a62 * d73 * i65 - y51 * f80 * i65 + y51 * s60 * w49 - x49 * d73 * w49 - a62 * s60 * V25 + x49 * f80 * V25, E53 = y51 * f80 * c85 - a62 * d73 * c85 - y51 * s60 * p66 + x49 * d73 * p66 + a62 * s60 * l63 - x49 * f80 * l63, b55 = n72 * B42 + e48 * v58 + r66 * g67 + o71 * E53;
  if (b55 === 0)
    return u72.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
  const m66 = 1 / b55;
  return t43[0] = B42 * m66, t43[1] = (d73 * p66 * o71 - f80 * l63 * o71 - d73 * r66 * w49 + e48 * l63 * w49 + f80 * r66 * V25 - e48 * p66 * V25) * m66, t43[2] = (s60 * l63 * o71 - d73 * c85 * o71 + d73 * r66 * i65 - e48 * l63 * i65 - s60 * r66 * V25 + e48 * c85 * V25) * m66, t43[3] = (f80 * c85 * o71 - s60 * p66 * o71 - f80 * r66 * i65 + e48 * p66 * i65 + s60 * r66 * w49 - e48 * c85 * w49) * m66, t43[4] = v58 * m66, t43[5] = (a62 * l63 * o71 - y51 * p66 * o71 + y51 * r66 * w49 - n72 * l63 * w49 - a62 * r66 * V25 + n72 * p66 * V25) * m66, t43[6] = (y51 * c85 * o71 - x49 * l63 * o71 - y51 * r66 * i65 + n72 * l63 * i65 + x49 * r66 * V25 - n72 * c85 * V25) * m66, t43[7] = (x49 * p66 * o71 - a62 * c85 * o71 + a62 * r66 * i65 - n72 * p66 * i65 - x49 * r66 * w49 + n72 * c85 * w49) * m66, t43[8] = g67 * m66, t43[9] = (y51 * f80 * o71 - a62 * d73 * o71 - y51 * e48 * w49 + n72 * d73 * w49 + a62 * e48 * V25 - n72 * f80 * V25) * m66, t43[10] = (x49 * d73 * o71 - y51 * s60 * o71 + y51 * e48 * i65 - n72 * d73 * i65 - x49 * e48 * V25 + n72 * s60 * V25) * m66, t43[11] = (a62 * s60 * o71 - x49 * f80 * o71 - a62 * e48 * i65 + n72 * f80 * i65 + x49 * e48 * w49 - n72 * s60 * w49) * m66, t43[12] = E53 * m66, t43[13] = (a62 * d73 * r66 - y51 * f80 * r66 + y51 * e48 * p66 - n72 * d73 * p66 - a62 * e48 * l63 + n72 * f80 * l63) * m66, t43[14] = (y51 * s60 * r66 - x49 * d73 * r66 - y51 * e48 * c85 + n72 * d73 * c85 + x49 * e48 * l63 - n72 * s60 * l63) * m66, t43[15] = (x49 * f80 * r66 - a62 * s60 * r66 + a62 * e48 * c85 - n72 * f80 * c85 - x49 * e48 * p66 + n72 * s60 * p66) * m66, u72;
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelViewPlugin/Plugin.js
var _6 = Object.defineProperty;
var D3 = Object.getOwnPropertySymbols;
var q4 = Object.prototype.hasOwnProperty;
var X4 = Object.prototype.propertyIsEnumerable;
var I5 = (e48, o71, r66) => o71 in e48 ? _6(e48, o71, { enumerable: true, configurable: true, writable: true, value: r66 }) : e48[o71] = r66;
var C7 = (e48, o71) => {
  for (var r66 in o71 || (o71 = {}))
    q4.call(o71, r66) && I5(e48, r66, o71[r66]);
  if (D3)
    for (var r66 of D3(o71))
      X4.call(o71, r66) && I5(e48, r66, o71[r66]);
  return e48;
};
var S6 = (e48, o71, r66) => new Promise((p66, f80) => {
  var g67 = (n72) => {
    try {
      x49(r66.next(n72));
    } catch (d73) {
      f80(d73);
    }
  }, i65 = (n72) => {
    try {
      x49(r66.throw(n72));
    } catch (d73) {
      f80(d73);
    }
  }, x49 = (n72) => n72.done ? p66(n72.value) : Promise.resolve(n72.value).then(g67, i65);
  x49((r66 = r66.apply(e48, o71)).next());
});
var me = (e48, o71) => {
  var M48, N33;
  const r66 = new E3();
  let p66 = (N33 = (M48 = o71 == null ? void 0 : o71.initialState) == null ? void 0 : M48.enabled) != null ? N33 : true, f80 = false, g67 = true, i65 = null;
  const n72 = C7(C7({}, {
    lookAtCurrentCamera: false,
    lockedPanoIndex: null,
    lockedLatitude: null,
    lockedLongitude: null
  }), o71 == null ? void 0 : o71.config), d73 = new Scene(), c85 = new Camera2(60);
  c85.near = 1, c85.updateTime(Date.now());
  let u72 = new Object3D(), b55, k47;
  {
    const t43 = new DirectionalLight(16777215, 0.5);
    t43.position.copy(new Vector3(1, 1, 1)), d73.add(t43);
  }
  {
    const t43 = new DirectionalLight(16777215, 0.3);
    d73.add(t43);
  }
  {
    const t43 = new AmbientLight(16777215, 0.3);
    d73.add(t43);
  }
  d73.add(u72);
  const y51 = () => S6(void 0, null, function* () {
    var h66, E53, B42, R43;
    if (f80 || !((E53 = (h66 = e48.work) == null ? void 0 : h66.model) != null && E53.file))
      return;
    d73.remove(u72), u72 = yield loadAt3d(e48.work.model.file, {
      textureOptions: { size: 128, quality: 70 },
      textureArray: (B42 = e48.work.model) == null ? void 0 : B42.textures,
      textureBaseUri: (R43 = e48.work.model) == null ? void 0 : R43.textureBase
    }).then((H39) => {
      const z28 = H39.scene;
      return z28.rotateX(-Math.PI / 2), z28;
    });
    const t43 = R7(u72), a62 = new Box3();
    a62.expandByPoint(new Vector3(t43.min.x, t43.min.z, -t43.min.y)), a62.expandByPoint(new Vector3(t43.max.x, t43.max.z, -t43.max.y));
    const s60 = Math.pow(
      Math.pow(a62.max.x - a62.min.x + 1, 2) + Math.pow(a62.max.y - a62.min.y + 1, 2) + Math.pow(a62.max.z - a62.min.z + 1, 2),
      1 / 2
    );
    let l63 = s60 / 2 / Math.tan(Math.PI * c85.fov / 360);
    c85.aspect < 1 && (l63 = b55 / c85.aspect), b55 = isNaN(l63) ? s60 : l63, k47 = a62.getCenter(new Vector3()), d73.add(u72), f80 = true, r66.emit("loaded"), w49();
  });
  p66 && y51();
  const A62 = () => {
    if (e48.renderer)
      return i65 || (i65 = new WebGLRenderer({ antialias: false, alpha: true }), i65.setPixelRatio(e48.renderer.getPixelRatio()), i65.outputEncoding = sRGBEncoding, i65.setClearColor(1579548, 0), i65.autoClear = true), i65;
  }, V25 = () => {
    d73.remove(u72), u72 = new Object3D(), d73.add(u72), f80 = false, r66.emit("willLoad"), w49();
  }, j37 = () => {
    p66 && (f80 || y51());
  }, F45 = () => {
    var t43, a62;
    p66 || (p66 = true, d73.add(u72), !f80 && ((a62 = (t43 = e48.work) == null ? void 0 : t43.model) != null && a62.file) && y51(), w49());
  }, O40 = () => {
    p66 && (d73.remove(u72), g67 = true, P55(), p66 = false);
  }, T38 = (t43, a62 = {}) => {
    const s60 = A62();
    if (!s60)
      return;
    t43.appendChild(s60.domElement), L40(a62);
    const l63 = window.getComputedStyle(t43).position;
    l63 !== "relative" && l63 !== "absolute" && l63 !== "fixed" && l63 !== "sticky" && (t43.style.position = "relative");
  }, L40 = (t43 = {}) => {
    if (!i65)
      return;
    const s60 = i65.domElement.parentNode;
    if (s60 != null && s60.nodeName) {
      const { width: l63 = s60.offsetWidth, height: h66 = s60.offsetHeight } = t43;
      i65.setSize(l63, h66), c85.aspect = l63 / h66, c85.updateProjectionMatrix();
    }
    w49();
  }, w49 = () => {
    if (!p66 || !b55 || !k47)
      return;
    const t43 = e48.getPose();
    t43.fov = c85.fov, t43.offset = k47, t43.distance = b55, typeof n72.lockedLatitude == "number" && (t43.latitude = n72.lockedLatitude), typeof n72.lockedLongitude == "number" && (t43.longitude = n72.lockedLongitude), typeof n72.lockedPanoIndex == "number" && (t43.offset = e48.work.observers[n72.lockedPanoIndex].standingPosition.clone()), n72.lookAtCurrentCamera && (t43.offset = e48.camera.position.clone().setY(e48.camera.position.y + 1)), c85.setFromPose(t43), g67 = true;
  }, P55 = () => {
    !p66 || g67 !== true || !i65 || !i65.domElement.parentNode || i65.domElement.parentNode.offsetWidth === 0 || (i65.render(d73, c85), g67 = false);
  }, W25 = () => {
    i65 && i65.dispose(), i65 = null;
  }, U33 = (t43) => {
    Object.assign(n72, t43), w49();
  }, G31 = () => ({
    enabled: p66
  });
  return e48.on("loaded", j37), e48.on("willLoad", V25), e48.on("cameraDirectionUpdate", w49), e48.on("dispose", W25), e48.on("renderFrame", P55), e48.on("cameraPositionUpdate", w49), { appendTo: T38, refresh: L40, changeConfigs: U33, enable: F45, disable: O40, getCurrentState: G31, hooks: r66 };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/url/absoluteUrl.js
function n11(t43) {
  return /^https?:\/\/|^\/\//.test(t43) || /^data:/.test(t43);
}
function s9(t43, e48) {
  return n11(e48) ? e48 : `${t43}${e48}`;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CSS3DRenderPlugin/Controller.js
var b4 = Object.defineProperty;
var F2 = Object.defineProperties;
var C8 = Object.getOwnPropertyDescriptors;
var v7 = Object.getOwnPropertySymbols;
var S7 = Object.prototype.hasOwnProperty;
var O6 = Object.prototype.propertyIsEnumerable;
var d9 = (r66, i65, e48) => i65 in r66 ? b4(r66, i65, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[i65] = e48;
var a12 = (r66, i65) => {
  for (var e48 in i65 || (i65 = {}))
    S7.call(i65, e48) && d9(r66, e48, i65[e48]);
  if (v7)
    for (var e48 of v7(i65))
      O6.call(i65, e48) && d9(r66, e48, i65[e48]);
  return r66;
};
var l10 = (r66, i65) => F2(r66, C8(i65));
var n12 = (r66, i65, e48) => (d9(r66, typeof i65 != "symbol" ? i65 + "" : i65, e48), e48);
var E9 = "v2.0.1";
var f8 = `CSS3DRenderPlugin@${E9}`;
var _e = class extends y5 {
  constructor(e48) {
    super();
    n12(this, "five");
    n12(this, "behindFiveContainer");
    n12(this, "frontFiveContainer");
    n12(this, "VERSION", E9);
    n12(this, "staticPrefix", "//vr-image-4.realsee-cdn.cn");
    n12(this, "created3DElementResults", []);
    n12(this, "create3DDomContainer", (e49, t43) => {
      if (this.state.disposed)
        return;
      const s60 = (() => {
        var p66;
        (t43 == null ? void 0 : t43.dpr) !== void 0 && console.warn(`${f8}: please use "config.devicePixelRatio" replace "config.dpr"`);
        const m66 = {
          ratio: 216e-5,
          devicePixelRatio: (p66 = t43 == null ? void 0 : t43.dpr) != null ? p66 : 1,
          mode: "front",
          autoRender: true,
          wrapperStyle: {}
        };
        return Object.assign(m66, t43, (t43 == null ? void 0 : t43.mode) === "behind" ? { scene: this.five.scene } : void 0);
      })(), { autoRender: h66 } = s60;
      s60.mode === "behind" && s60.behindFiveContainer && (this.behindFiveContainer = s60.behindFiveContainer);
      const o71 = this.create3DElement(this.five.camera, e49, l10(a12({}, s60), { autoRender: false }));
      if (!o71)
        return;
      const R43 = o71.dispose;
      o71.dispose = () => (this.created3DElementResults.includes(o71) && this.created3DElementResults.splice(this.created3DElementResults.indexOf(o71), 1), R43());
      const D52 = () => {
        var p66, u72;
        const m66 = o71.css3DObject.mode === "front" ? (u72 = this.frontFiveContainer) != null ? u72 : (p66 = this.five.getElement()) == null ? void 0 : p66.parentElement : this.getBehindFiveElement();
        if (!m66)
          return console.error(`${f8}: wrapper is ${m66}; mode is ${o71.css3DObject.mode}`);
        o71.appendToElement(m66), o71.render(), this.created3DElementResults.push(o71);
      }, c85 = () => {
        M2(this.five).then(() => D52());
      };
      return h66 && c85(), l10(a12({}, o71), { render: h66 ? void 0 : c85 });
    });
    this.five = e48;
  }
  /** @deprecated disposeAll() renamed as dispose() */
  disposeAll() {
    return this.dispose();
  }
  setState(...e48) {
    const t43 = super.setState(...e48);
    return this.five.needsRender = true, t43;
  }
  appendToFrontFiveContainer(e48) {
    this.frontFiveContainer = e48, this.created3DElementResults.forEach((t43) => {
      t43.css3DObject.mode === "front" && t43.appendToElement(e48);
    });
  }
  appendToBehindFiveContainer(e48) {
    this.behindFiveContainer = e48, this.created3DElementResults.forEach((t43) => {
      t43.css3DObject.mode === "behind" && t43.appendToElement(e48);
    });
  }
  getBehindFiveElement() {
    return this.behindFiveContainer ? this.behindFiveContainer : (this.behindFiveContainer = d4(this.five), this.behindFiveContainer);
  }
  /**
   * @description: 获取静态资源的url
   */
  absoluteUrl(e48) {
    return s9(this.staticPrefix, e48);
  }
  clear() {
    this.created3DElementResults.forEach((e48) => {
      e48.dispose();
    }), this.created3DElementResults = [];
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CSS3DRenderPlugin/index.js
var ar2 = (r66) => new _e(r66);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/FiveLine.js
var n13 = class extends Q {
  constructor(...t43) {
    super(...t43);
  }
  toJSON() {
    return {
      type: "FiveLine",
      points: this.points.toJSON()
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/createLine/index.js
function f9(t43, i65, n72 = new Vector3(1, 1, 1), r66 = false) {
  const e48 = new n13(t43, i65);
  return e48.setMaterial({ dashed: r66, color: n72, linewidth: 1 }), e48.remove(e48.points), e48;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoCursorRaycasterPlugin/index.js
var U3 = (e48) => {
  const a62 = {
    intersection: null,
    disposers: []
  }, p66 = (t43) => {
    a62.intersection = t43;
  }, l63 = () => {
    a62.intersection = null;
  };
  e48.on("modelLoaded", () => {
    e48.on("intersectionOnModelUpdate", p66), e48.on("intersectionHidden", l63);
  }), e48.on("dispose", () => {
    e48.off("intersectionOnModelUpdate", p66), e48.off("intersectionHidden", l63);
  });
  const P55 = (t43, c85 = 2, o71 = 0.1) => {
    const s60 = c85 / 2, n72 = x49(t43, o71), i65 = new Group();
    i65.add(
      f9(
        new Vector3(n72.x + s60, n72.y, n72.z),
        new Vector3(n72.x - s60, n72.y, n72.z),
        new Vector3(1, 0, 0)
      ),
      f9(
        new Vector3(n72.x, n72.y + s60, n72.z),
        new Vector3(n72.x, n72.y - s60, n72.z),
        new Vector3(0, 1, 0)
      ),
      f9(
        new Vector3(n72.x, n72.y, n72.z + s60),
        new Vector3(n72.x, n72.y, n72.z - s60),
        new Vector3(0, 0, 1)
      )
    ), e48.scene.add(i65), e48.needsRender = true;
    const d73 = () => {
      e48.scene.remove(i65);
    };
    return a62.disposers.push(d73), { clear: d73, pointAxesHelperMesh: i65 };
  }, h66 = (t43, c85 = 0) => {
    var d73, y51;
    const o71 = (d73 = e48 == null ? void 0 : e48.camera) == null ? void 0 : d73.position;
    if (!o71)
      return false;
    const s60 = t43.distanceTo(o71), m66 = t43.sub(o71).normalize(), n72 = new Raycaster(o71, m66), i65 = (y51 = e48.model.intersectRaycaster(n72)) == null ? void 0 : y51[0];
    return !(i65 && i65.distance + c85 < s60);
  }, z28 = () => a62.intersection, w49 = () => {
    var t43, c85;
    (c85 = (t43 = a62.disposers) == null ? void 0 : t43.forEach) == null || c85.call(t43, (o71) => o71 == null ? void 0 : o71()), e48.off("intersectionOnModelUpdate", p66), e48.off("intersectionHidden", l63);
  }, H39 = w49, x49 = (t43, c85) => {
    const o71 = t43.clone();
    return e48.camera.position.clone().sub(o71).setLength(c85).add(o71);
  };
  return { intersection: z28, pointAxesHelper: P55, movePointTowardsCamera: x49, destroy: w49, dispose: H39, canSeePoint: h66 };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte/internal/index.js
function N4() {
}
var Z = (t43) => t43;
function kt(t43, e48) {
  for (const n72 in e48)
    t43[n72] = e48[n72];
  return t43;
}
function xt(t43) {
  return !!t43 && (typeof t43 == "object" || typeof t43 == "function") && typeof t43.then == "function";
}
function at(t43) {
  return t43();
}
function ut() {
  return /* @__PURE__ */ Object.create(null);
}
function M8(t43) {
  t43.forEach(at);
}
function L5(t43) {
  return typeof t43 == "function";
}
function Ft(t43, e48) {
  return t43 != t43 ? e48 == e48 : t43 !== e48 || t43 && typeof t43 == "object" || typeof t43 == "function";
}
var F3;
function Wt(t43, e48) {
  return F3 || (F3 = document.createElement("a")), F3.href = e48, t43 === F3.href;
}
function Et(t43) {
  return Object.keys(t43).length === 0;
}
function Bt(t43, e48, n72, i65) {
  if (t43) {
    const r66 = dt(t43, e48, n72, i65);
    return t43[0](r66);
  }
}
function dt(t43, e48, n72, i65) {
  return t43[1] && i65 ? kt(n72.ctx.slice(), t43[1](i65(e48))) : n72.ctx;
}
function Ht(t43, e48, n72, i65) {
  if (t43[2] && i65) {
    const r66 = t43[2](i65(n72));
    if (e48.dirty === void 0)
      return r66;
    if (typeof r66 == "object") {
      const s60 = [], c85 = Math.max(e48.dirty.length, r66.length);
      for (let o71 = 0; o71 < c85; o71 += 1)
        s60[o71] = e48.dirty[o71] | r66[o71];
      return s60;
    }
    return e48.dirty | r66;
  }
  return e48.dirty;
}
function It(t43, e48, n72, i65, r66, s60) {
  if (r66) {
    const c85 = dt(e48, n72, i65, s60);
    t43.p(c85, r66);
  }
}
function Ut(t43) {
  if (t43.ctx.length > 32) {
    const e48 = [], n72 = t43.ctx.length / 32;
    for (let i65 = 0; i65 < n72; i65++)
      e48[i65] = -1;
    return e48;
  }
  return -1;
}
function Gt(t43) {
  return t43 == null ? "" : t43;
}
function Jt(t43) {
  return t43 && L5(t43.destroy) ? t43.destroy : N4;
}
function Kt(t43) {
  const e48 = typeof t43 == "string" && t43.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);
  return e48 ? [parseFloat(e48[1]), e48[2] || "px"] : [t43, "px"];
}
var ht = typeof window != "undefined";
var tt = ht ? () => window.performance.now() : () => Date.now();
var et = ht ? (t43) => requestAnimationFrame(t43) : N4;
var j2 = /* @__PURE__ */ new Set();
function _t(t43) {
  j2.forEach((e48) => {
    e48.c(t43) || (j2.delete(e48), e48.f());
  }), j2.size !== 0 && et(_t);
}
function nt(t43) {
  let e48;
  return j2.size === 0 && et(_t), {
    promise: new Promise((n72) => {
      j2.add(e48 = { c: t43, f: n72 });
    }),
    abort() {
      j2.delete(e48);
    }
  };
}
function pt(t43, e48) {
  t43.appendChild(e48);
}
function Qt2(t43, e48, n72) {
  const i65 = it(t43);
  if (!i65.getElementById(e48)) {
    const r66 = K4("style");
    r66.id = e48, r66.textContent = n72, mt(i65, r66);
  }
}
function it(t43) {
  if (!t43)
    return document;
  const e48 = t43.getRootNode ? t43.getRootNode() : t43.ownerDocument;
  return e48 && e48.host ? e48 : t43.ownerDocument;
}
function vt(t43) {
  const e48 = K4("style");
  return mt(it(t43), e48), e48.sheet;
}
function mt(t43, e48) {
  return pt(t43.head || t43, e48), e48.sheet;
}
function Nt(t43, e48, n72) {
  t43.insertBefore(e48, n72 || null);
}
function J4(t43) {
  t43.parentNode && t43.parentNode.removeChild(t43);
}
function Vt(t43, e48) {
  for (let n72 = 0; n72 < t43.length; n72 += 1)
    t43[n72] && t43[n72].d(e48);
}
function K4(t43) {
  return document.createElement(t43);
}
function Mt(t43) {
  return document.createElementNS("http://www.w3.org/2000/svg", t43);
}
function gt(t43) {
  return document.createTextNode(t43);
}
function Xt() {
  return gt(" ");
}
function Yt() {
  return gt("");
}
function lt(t43, e48, n72, i65) {
  return t43.addEventListener(e48, n72, i65), () => t43.removeEventListener(e48, n72, i65);
}
function Zt(t43) {
  return function(e48) {
    return e48.stopPropagation(), t43.call(this, e48);
  };
}
function te2(t43, e48, n72) {
  n72 == null ? t43.removeAttribute(e48) : t43.getAttribute(e48) !== n72 && t43.setAttribute(e48, n72);
}
function At(t43) {
  return Array.from(t43.childNodes);
}
function ee2(t43, e48) {
  e48 = "" + e48, t43.data !== e48 && (t43.data = e48);
}
function ne2(t43, e48, n72, i65) {
  n72 === null ? t43.style.removeProperty(e48) : t43.style.setProperty(e48, n72, i65 ? "important" : "");
}
var W5;
function Tt() {
  if (W5 === void 0) {
    W5 = false;
    try {
      typeof window != "undefined" && window.parent && window.parent.document;
    } catch (t43) {
      W5 = true;
    }
  }
  return W5;
}
function ie2(t43, e48) {
  getComputedStyle(t43).position === "static" && (t43.style.position = "relative");
  const i65 = K4("iframe");
  i65.setAttribute("style", "display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"), i65.setAttribute("aria-hidden", "true"), i65.tabIndex = -1;
  const r66 = Tt();
  let s60;
  return r66 ? (i65.src = "data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>", s60 = lt(window, "message", (c85) => {
    c85.source === i65.contentWindow && e48();
  })) : (i65.src = "about:blank", i65.onload = () => {
    s60 = lt(i65.contentWindow, "resize", e48), e48();
  }), pt(t43, i65), () => {
    (r66 || s60 && i65.contentWindow) && s60(), J4(i65);
  };
}
function re2(t43, e48, n72) {
  t43.classList[n72 ? "add" : "remove"](e48);
}
function yt(t43, e48, { bubbles: n72 = false, cancelable: i65 = false } = {}) {
  const r66 = document.createEvent("CustomEvent");
  return r66.initCustomEvent(t43, n72, i65, e48), r66;
}
var se2 = class {
  constructor(e48 = false) {
    this.is_svg = false, this.is_svg = e48, this.e = this.n = null;
  }
  c(e48) {
    this.h(e48);
  }
  m(e48, n72, i65 = null) {
    this.e || (this.is_svg ? this.e = Mt(n72.nodeName) : this.e = K4(n72.nodeType === 11 ? "TEMPLATE" : n72.nodeName), this.t = n72.tagName !== "TEMPLATE" ? n72 : n72.content, this.c(e48)), this.i(i65);
  }
  h(e48) {
    this.e.innerHTML = e48, this.n = Array.from(this.e.nodeName === "TEMPLATE" ? this.e.content.childNodes : this.e.childNodes);
  }
  i(e48) {
    for (let n72 = 0; n72 < this.n.length; n72 += 1)
      Nt(this.t, this.n[n72], e48);
  }
  p(e48) {
    this.d(), this.h(e48), this.i(this.a);
  }
  d() {
    this.n.forEach(J4);
  }
};
var H = /* @__PURE__ */ new Map();
var I6 = 0;
function Ct(t43) {
  let e48 = 5381, n72 = t43.length;
  for (; n72--; )
    e48 = (e48 << 5) - e48 ^ t43.charCodeAt(n72);
  return e48 >>> 0;
}
function Pt(t43, e48) {
  const n72 = { stylesheet: vt(e48), rules: {} };
  return H.set(t43, n72), n72;
}
function U4(t43, e48, n72, i65, r66, s60, c85, o71 = 0) {
  const l63 = 16.666 / i65;
  let u72 = `{
`;
  for (let p66 = 0; p66 <= 1; p66 += l63) {
    const y51 = e48 + (n72 - e48) * s60(p66);
    u72 += p66 * 100 + `%{${c85(y51, 1 - y51)}}
`;
  }
  const _32 = u72 + `100% {${c85(n72, 1 - n72)}}
}`, a62 = `__svelte_${Ct(_32)}_${o71}`, d73 = it(t43), { stylesheet: f80, rules: h66 } = H.get(d73) || Pt(d73, t43);
  h66[a62] || (h66[a62] = true, f80.insertRule(`@keyframes ${a62} ${_32}`, f80.cssRules.length));
  const m66 = t43.style.animation || "";
  return t43.style.animation = `${m66 ? `${m66}, ` : ""}${a62} ${i65}ms linear ${r66}ms 1 both`, I6 += 1, a62;
}
function G3(t43, e48) {
  const n72 = (t43.style.animation || "").split(", "), i65 = n72.filter(
    e48 ? (s60) => s60.indexOf(e48) < 0 : (s60) => s60.indexOf("__svelte") === -1
    // remove all Svelte animations
  ), r66 = n72.length - i65.length;
  r66 && (t43.style.animation = i65.join(", "), I6 -= r66, I6 || jt());
}
function jt() {
  et(() => {
    I6 || (H.forEach((t43) => {
      const { ownerNode: e48 } = t43.stylesheet;
      e48 && J4(e48);
    }), H.clear());
  });
}
var D4;
function v8(t43) {
  D4 = t43;
}
function A8() {
  if (!D4)
    throw new Error("Function called outside component initialization");
  return D4;
}
function oe2(t43) {
  A8().$$.before_update.push(t43);
}
function ce(t43) {
  A8().$$.on_mount.push(t43);
}
function ue2(t43) {
  A8().$$.after_update.push(t43);
}
function le(t43) {
  A8().$$.on_destroy.push(t43);
}
function fe2() {
  const t43 = A8();
  return (e48, n72, { cancelable: i65 = false } = {}) => {
    const r66 = t43.$$.callbacks[e48];
    if (r66) {
      const s60 = yt(e48, n72, { cancelable: i65 });
      return r66.slice().forEach((c85) => {
        c85.call(t43, s60);
      }), !s60.defaultPrevented;
    }
    return true;
  };
}
function ae2(t43, e48) {
  return A8().$$.context.set(t43, e48), e48;
}
function de(t43) {
  return A8().$$.context.get(t43);
}
function he(t43, e48) {
  const n72 = t43.$$.callbacks[e48.type];
  n72 && n72.slice().forEach((i65) => i65.call(this, e48));
}
var P7 = [];
var ft = [];
var S8 = [];
var X5 = [];
var bt = Promise.resolve();
var Y4 = false;
function wt() {
  Y4 || (Y4 = true, bt.then(rt));
}
function _e2() {
  return wt(), bt;
}
function z2(t43) {
  S8.push(t43);
}
function pe(t43) {
  X5.push(t43);
}
var V3 = /* @__PURE__ */ new Set();
var C9 = 0;
function rt() {
  if (C9 !== 0)
    return;
  const t43 = D4;
  do {
    try {
      for (; C9 < P7.length; ) {
        const e48 = P7[C9];
        C9++, v8(e48), St(e48.$$);
      }
    } catch (e48) {
      throw P7.length = 0, C9 = 0, e48;
    }
    for (v8(null), P7.length = 0, C9 = 0; ft.length; )
      ft.pop()();
    for (let e48 = 0; e48 < S8.length; e48 += 1) {
      const n72 = S8[e48];
      V3.has(n72) || (V3.add(n72), n72());
    }
    S8.length = 0;
  } while (P7.length);
  for (; X5.length; )
    X5.pop()();
  Y4 = false, V3.clear(), v8(t43);
}
function St(t43) {
  if (t43.fragment !== null) {
    t43.update(), M8(t43.before_update);
    const e48 = t43.dirty;
    t43.dirty = [-1], t43.fragment && t43.fragment.p(t43.ctx, e48), t43.after_update.forEach(z2);
  }
}
function zt(t43) {
  const e48 = [], n72 = [];
  S8.forEach((i65) => t43.indexOf(i65) === -1 ? e48.push(i65) : n72.push(i65)), n72.forEach((i65) => i65()), S8 = e48;
}
var O7;
function st() {
  return O7 || (O7 = Promise.resolve(), O7.then(() => {
    O7 = null;
  })), O7;
}
function T7(t43, e48, n72) {
  t43.dispatchEvent(yt(`${e48 ? "intro" : "outro"}${n72}`));
}
var B3 = /* @__PURE__ */ new Set();
var x4;
function Lt() {
  x4 = {
    r: 0,
    c: [],
    p: x4
    // parent group
  };
}
function Ot() {
  x4.r || M8(x4.c), x4 = x4.p;
}
function ot(t43, e48) {
  t43 && t43.i && (B3.delete(t43), t43.i(e48));
}
function $t(t43, e48, n72, i65) {
  if (t43 && t43.o) {
    if (B3.has(t43))
      return;
    B3.add(t43), x4.c.push(() => {
      B3.delete(t43), i65 && (n72 && t43.d(1), i65());
    }), t43.o(e48);
  } else
    i65 && i65();
}
var ct = { duration: 0 };
function me2(t43, e48, n72) {
  const i65 = { direction: "in" };
  let r66 = e48(t43, n72, i65), s60 = false, c85, o71, l63 = 0;
  function u72() {
    c85 && G3(t43, c85);
  }
  function _32() {
    const { delay: d73 = 0, duration: f80 = 300, easing: h66 = Z, tick: m66 = N4, css: p66 } = r66 || ct;
    p66 && (c85 = U4(t43, 0, 1, f80, d73, h66, p66, l63++)), m66(0, 1);
    const y51 = tt() + d73, E53 = y51 + f80;
    o71 && o71.abort(), s60 = true, z2(() => T7(t43, true, "start")), o71 = nt((b55) => {
      if (s60) {
        if (b55 >= E53)
          return m66(1, 0), T7(t43, true, "end"), u72(), s60 = false;
        if (b55 >= y51) {
          const w49 = h66((b55 - y51) / f80);
          m66(w49, 1 - w49);
        }
      }
      return s60;
    });
  }
  let a62 = false;
  return {
    start() {
      a62 || (a62 = true, G3(t43), L5(r66) ? (r66 = r66(i65), st().then(_32)) : _32());
    },
    invalidate() {
      a62 = false;
    },
    end() {
      s60 && (u72(), s60 = false);
    }
  };
}
function ge(t43, e48, n72) {
  const i65 = { direction: "out" };
  let r66 = e48(t43, n72, i65), s60 = true, c85;
  const o71 = x4;
  o71.r += 1;
  function l63() {
    const { delay: u72 = 0, duration: _32 = 300, easing: a62 = Z, tick: d73 = N4, css: f80 } = r66 || ct;
    f80 && (c85 = U4(t43, 1, 0, _32, u72, a62, f80));
    const h66 = tt() + u72, m66 = h66 + _32;
    z2(() => T7(t43, false, "start")), nt((p66) => {
      if (s60) {
        if (p66 >= m66)
          return d73(0, 1), T7(t43, false, "end"), --o71.r || M8(o71.c), false;
        if (p66 >= h66) {
          const y51 = a62((p66 - h66) / _32);
          d73(1 - y51, y51);
        }
      }
      return s60;
    });
  }
  return L5(r66) ? st().then(() => {
    r66 = r66(i65), l63();
  }) : l63(), {
    end(u72) {
      u72 && r66.tick && r66.tick(1, 0), s60 && (c85 && G3(t43, c85), s60 = false);
    }
  };
}
function ye(t43, e48, n72, i65) {
  const r66 = { direction: "both" };
  let s60 = e48(t43, n72, r66), c85 = i65 ? 0 : 1, o71 = null, l63 = null, u72 = null;
  function _32() {
    u72 && G3(t43, u72);
  }
  function a62(f80, h66) {
    const m66 = f80.b - c85;
    return h66 *= Math.abs(m66), {
      a: c85,
      b: f80.b,
      d: m66,
      duration: h66,
      start: f80.start,
      end: f80.start + h66,
      group: f80.group
    };
  }
  function d73(f80) {
    const { delay: h66 = 0, duration: m66 = 300, easing: p66 = Z, tick: y51 = N4, css: E53 } = s60 || ct, b55 = {
      start: tt() + h66,
      b: f80
    };
    f80 || (b55.group = x4, x4.r += 1), o71 || l63 ? l63 = b55 : (E53 && (_32(), u72 = U4(t43, c85, f80, m66, h66, p66, E53)), f80 && y51(0, 1), o71 = a62(b55, m66), z2(() => T7(t43, f80, "start")), nt((w49) => {
      if (l63 && w49 > l63.start && (o71 = a62(l63, m66), l63 = null, T7(t43, o71.b, "start"), E53 && (_32(), u72 = U4(t43, c85, o71.b, o71.duration, 0, p66, s60.css))), o71) {
        if (w49 >= o71.end)
          y51(c85 = o71.b, 1 - c85), T7(t43, o71.b, "end"), l63 || (o71.b ? _32() : --o71.group.r || M8(o71.group.c)), o71 = null;
        else if (w49 >= o71.start) {
          const R43 = w49 - o71.start;
          c85 = o71.a + o71.d * p66(R43 / o71.duration), y51(c85, 1 - c85);
        }
      }
      return !!(o71 || l63);
    }));
  }
  return {
    run(f80) {
      L5(s60) ? st().then(() => {
        s60 = s60(r66), d73(f80);
      }) : d73(f80);
    },
    end() {
      _32(), o71 = l63 = null;
    }
  };
}
function be(t43, e48) {
  const n72 = e48.token = {};
  function i65(r66, s60, c85, o71) {
    if (e48.token !== n72)
      return;
    e48.resolved = o71;
    let l63 = e48.ctx;
    c85 !== void 0 && (l63 = l63.slice(), l63[c85] = o71);
    const u72 = r66 && (e48.current = r66)(l63);
    let _32 = false;
    e48.block && (e48.blocks ? e48.blocks.forEach((a62, d73) => {
      d73 !== s60 && a62 && (Lt(), $t(a62, 1, 1, () => {
        e48.blocks[d73] === a62 && (e48.blocks[d73] = null);
      }), Ot());
    }) : e48.block.d(1), u72.c(), ot(u72, 1), u72.m(e48.mount(), e48.anchor), _32 = true), e48.block = u72, e48.blocks && (e48.blocks[s60] = u72), _32 && rt();
  }
  if (xt(t43)) {
    const r66 = A8();
    if (t43.then((s60) => {
      v8(r66), i65(e48.then, 1, e48.value, s60), v8(null);
    }, (s60) => {
      if (v8(r66), i65(e48.catch, 2, e48.error, s60), v8(null), !e48.hasCatch)
        throw s60;
    }), e48.current !== e48.pending)
      return i65(e48.pending, 0), true;
  } else {
    if (e48.current !== e48.then)
      return i65(e48.then, 1, e48.value, t43), true;
    e48.resolved = t43;
  }
}
function we(t43, e48, n72) {
  const i65 = e48.slice(), { resolved: r66 } = t43;
  t43.current === t43.then && (i65[t43.value] = r66), t43.current === t43.catch && (i65[t43.error] = r66), t43.block.p(i65, n72);
}
var $e = typeof window != "undefined" ? window : typeof globalThis != "undefined" ? globalThis : global;
function ke(t43, e48) {
  t43.d(1), e48.delete(t43.key);
}
function xe(t43, e48) {
  $t(t43, 1, 1, () => {
    e48.delete(t43.key);
  });
}
function Ee(t43, e48, n72, i65, r66, s60, c85, o71, l63, u72, _32, a62) {
  let d73 = t43.length, f80 = s60.length, h66 = d73;
  const m66 = {};
  for (; h66--; )
    m66[t43[h66].key] = h66;
  const p66 = [], y51 = /* @__PURE__ */ new Map(), E53 = /* @__PURE__ */ new Map(), b55 = [];
  for (h66 = f80; h66--; ) {
    const g67 = a62(r66, s60, h66), $23 = n72(g67);
    let k47 = c85.get($23);
    k47 ? i65 && b55.push(() => k47.p(g67, e48)) : (k47 = u72($23, g67), k47.c()), y51.set($23, p66[h66] = k47), $23 in m66 && E53.set($23, Math.abs(h66 - m66[$23]));
  }
  const w49 = /* @__PURE__ */ new Set(), R43 = /* @__PURE__ */ new Set();
  function Q29(g67) {
    ot(g67, 1), g67.m(o71, _32), c85.set(g67.key, g67), _32 = g67.first, f80--;
  }
  for (; d73 && f80; ) {
    const g67 = p66[f80 - 1], $23 = t43[d73 - 1], k47 = g67.key, q38 = $23.key;
    g67 === $23 ? (_32 = g67.first, d73--, f80--) : y51.has(q38) ? !c85.has(k47) || w49.has(k47) ? Q29(g67) : R43.has(q38) ? d73-- : E53.get(k47) > E53.get(q38) ? (R43.add(k47), Q29(g67)) : (w49.add(q38), d73--) : (l63($23, c85), d73--);
  }
  for (; d73--; ) {
    const g67 = t43[d73];
    y51.has(g67.key) || l63(g67, c85);
  }
  for (; f80; )
    Q29(p66[f80 - 1]);
  return M8(b55), p66;
}
function ve(t43, e48) {
  const n72 = {}, i65 = {}, r66 = { $$scope: 1 };
  let s60 = t43.length;
  for (; s60--; ) {
    const c85 = t43[s60], o71 = e48[s60];
    if (o71) {
      for (const l63 in c85)
        l63 in o71 || (i65[l63] = 1);
      for (const l63 in o71)
        r66[l63] || (n72[l63] = o71[l63], r66[l63] = 1);
      t43[s60] = o71;
    } else
      for (const l63 in c85)
        r66[l63] = 1;
  }
  for (const c85 in i65)
    c85 in n72 || (n72[c85] = void 0);
  return n72;
}
function Ne(t43) {
  return typeof t43 == "object" && t43 !== null ? t43 : {};
}
function Me(t43, e48, n72) {
  const i65 = t43.$$.props[e48];
  i65 !== void 0 && (t43.$$.bound[i65] = n72, n72(t43.$$.ctx[i65]));
}
function Ae(t43) {
  t43 && t43.c();
}
function Dt(t43, e48, n72, i65) {
  const { fragment: r66, after_update: s60 } = t43.$$;
  r66 && r66.m(e48, n72), i65 || z2(() => {
    const c85 = t43.$$.on_mount.map(at).filter(L5);
    t43.$$.on_destroy ? t43.$$.on_destroy.push(...c85) : M8(c85), t43.$$.on_mount = [];
  }), s60.forEach(z2);
}
function Rt(t43, e48) {
  const n72 = t43.$$;
  n72.fragment !== null && (zt(n72.after_update), M8(n72.on_destroy), n72.fragment && n72.fragment.d(e48), n72.on_destroy = n72.fragment = null, n72.ctx = []);
}
function qt(t43, e48) {
  t43.$$.dirty[0] === -1 && (P7.push(t43), wt(), t43.$$.dirty.fill(0)), t43.$$.dirty[e48 / 31 | 0] |= 1 << e48 % 31;
}
function Te(t43, e48, n72, i65, r66, s60, c85, o71 = [-1]) {
  const l63 = D4;
  v8(t43);
  const u72 = t43.$$ = {
    fragment: null,
    ctx: [],
    // state
    props: s60,
    update: N4,
    not_equal: r66,
    bound: ut(),
    // lifecycle
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(e48.context || (l63 ? l63.$$.context : [])),
    // everything else
    callbacks: ut(),
    dirty: o71,
    skip_bound: false,
    root: e48.target || l63.$$.root
  };
  c85 && c85(u72.root);
  let _32 = false;
  if (u72.ctx = n72 ? n72(t43, e48.props || {}, (a62, d73, ...f80) => {
    const h66 = f80.length ? f80[0] : d73;
    return u72.ctx && r66(u72.ctx[a62], u72.ctx[a62] = h66) && (!u72.skip_bound && u72.bound[a62] && u72.bound[a62](h66), _32 && qt(t43, a62)), d73;
  }) : [], u72.update(), _32 = true, M8(u72.before_update), u72.fragment = i65 ? i65(u72.ctx) : false, e48.target) {
    if (e48.hydrate) {
      const a62 = At(e48.target);
      u72.fragment && u72.fragment.l(a62), a62.forEach(J4);
    } else
      u72.fragment && u72.fragment.c();
    e48.intro && ot(t43.$$.fragment), Dt(t43, e48.target, e48.anchor, e48.customElement), rt();
  }
  v8(l63);
}
var Ce = class {
  $destroy() {
    Rt(this, 1), this.$destroy = N4;
  }
  $on(e48, n72) {
    if (!L5(n72))
      return N4;
    const i65 = this.$$.callbacks[e48] || (this.$$.callbacks[e48] = []);
    return i65.push(n72), () => {
      const r66 = i65.indexOf(n72);
      r66 !== -1 && i65.splice(r66, 1);
    };
  }
  $set(e48) {
    this.$$set && !Et(e48) && (this.$$.skip_bound = true, this.$$set(e48), this.$$.skip_bound = false);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelRoomLabelPlugin/Assets/roomLabelBg.js
var A9 = "data:image/png;base64,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";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelRoomLabelPlugin/RoomLabelItem.js
function C10(t43) {
  Qt2(t43, "svelte-1d7uzh5", ".room-label-item.svelte-1d7uzh5{position:absolute;font-size:0.5rem;z-index:0;transform:none;cursor:pointer;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.room-label-item__text.svelte-1d7uzh5{position:absolute;left:0;top:-4rem;transform:translate(-50%, 0);display:flex;justify-content:center;align-items:center;height:1.25rem;min-width:2rem;padding:0 0.375rem;pointer-events:all;background-size:100% 100%;background-repeat:no-repeat;white-space:nowrap}.room-label-item__bar.svelte-1d7uzh5{position:absolute;top:-2.75rem;height:3rem;width:0.0625rem;background-image:linear-gradient(to bottom, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0))}.wide.svelte-1d7uzh5{font-size:0.625rem}");
}
function O8(t43) {
  let e48, n72, i65 = (
    /*roomLabel*/
    t43[0].name + ""
  ), a62, m66, l63, u72, c85;
  return {
    c() {
      e48 = K4("div"), n72 = K4("span"), a62 = gt(i65), m66 = Xt(), l63 = K4("div"), te2(n72, "class", "room-label-item__text svelte-1d7uzh5"), ne2(n72, "background-image", "url(" + A9 + ")"), re2(
        n72,
        "wide",
        /*roomLabel*/
        t43[0].name.length > 3
      ), te2(l63, "class", "room-label-item__bar svelte-1d7uzh5"), te2(e48, "class", "room-label-item svelte-1d7uzh5"), ne2(
        e48,
        "z-index",
        /*roomLabel*/
        t43[0].zIndex
      ), ne2(
        e48,
        "transform",
        /*roomLabel*/
        t43[0].transform
      ), ne2(
        e48,
        "opacity",
        /*roomLabel*/
        t43[0].visible ? 1 : 0
      );
    },
    m(o71, s60) {
      Nt(o71, e48, s60), pt(e48, n72), pt(n72, a62), pt(e48, m66), pt(e48, l63), u72 || (c85 = lt(
        n72,
        "click",
        /*onClick*/
        t43[1]
      ), u72 = true);
    },
    p(o71, [s60]) {
      s60 & /*roomLabel*/
      1 && i65 !== (i65 = /*roomLabel*/
      o71[0].name + "") && ee2(a62, i65), s60 & /*roomLabel*/
      1 && re2(
        n72,
        "wide",
        /*roomLabel*/
        o71[0].name.length > 3
      ), s60 & /*roomLabel*/
      1 && ne2(
        e48,
        "z-index",
        /*roomLabel*/
        o71[0].zIndex
      ), s60 & /*roomLabel*/
      1 && ne2(
        e48,
        "transform",
        /*roomLabel*/
        o71[0].transform
      ), s60 & /*roomLabel*/
      1 && ne2(
        e48,
        "opacity",
        /*roomLabel*/
        o71[0].visible ? 1 : 0
      );
    },
    i: N4,
    o: N4,
    d(o71) {
      o71 && J4(e48), u72 = false, c85();
    }
  };
}
function R8(t43, e48, n72) {
  let { five: i65 } = e48, { roomLabel: a62 } = e48;
  function m66() {
    i65.setState({
      panoIndex: a62.panoIndex,
      mode: "Panorama",
      longitude: a62.longitude
    });
  }
  return t43.$$set = (l63) => {
    "five" in l63 && n72(2, i65 = l63.five), "roomLabel" in l63 && n72(0, a62 = l63.roomLabel);
  }, [a62, m66, i65];
}
var q5 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, R8, O8, Ft, { five: 2, roomLabel: 0 }, C10);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/resize-observer-polyfill/dist/ResizeObserver.es.js
var _7 = function() {
  if (typeof Map != "undefined")
    return Map;
  function e48(t43, n72) {
    var r66 = -1;
    return t43.some(function(i65, o71) {
      return i65[0] === n72 ? (r66 = o71, true) : false;
    }), r66;
  }
  return (
    /** @class */
    function() {
      function t43() {
        this.__entries__ = [];
      }
      return Object.defineProperty(t43.prototype, "size", {
        /**
         * @returns {boolean}
         */
        get: function() {
          return this.__entries__.length;
        },
        enumerable: true,
        configurable: true
      }), t43.prototype.get = function(n72) {
        var r66 = e48(this.__entries__, n72), i65 = this.__entries__[r66];
        return i65 && i65[1];
      }, t43.prototype.set = function(n72, r66) {
        var i65 = e48(this.__entries__, n72);
        ~i65 ? this.__entries__[i65][1] = r66 : this.__entries__.push([n72, r66]);
      }, t43.prototype.delete = function(n72) {
        var r66 = this.__entries__, i65 = e48(r66, n72);
        ~i65 && r66.splice(i65, 1);
      }, t43.prototype.has = function(n72) {
        return !!~e48(this.__entries__, n72);
      }, t43.prototype.clear = function() {
        this.__entries__.splice(0);
      }, t43.prototype.forEach = function(n72, r66) {
        r66 === void 0 && (r66 = null);
        for (var i65 = 0, o71 = this.__entries__; i65 < o71.length; i65++) {
          var s60 = o71[i65];
          n72.call(r66, s60[1], s60[0]);
        }
      }, t43;
    }()
  );
}();
var v9 = typeof window != "undefined" && typeof document != "undefined" && window.document === document;
var f10 = function() {
  return typeof global != "undefined" && global.Math === Math ? global : typeof self != "undefined" && self.Math === Math ? self : typeof window != "undefined" && window.Math === Math ? window : Function("return this")();
}();
var O9 = function() {
  return typeof requestAnimationFrame == "function" ? requestAnimationFrame.bind(f10) : function(e48) {
    return setTimeout(function() {
      return e48(Date.now());
    }, 1e3 / 60);
  };
}();
var E10 = 2;
function R9(e48, t43) {
  var n72 = false, r66 = false, i65 = 0;
  function o71() {
    n72 && (n72 = false, e48()), r66 && a62();
  }
  function s60() {
    O9(o71);
  }
  function a62() {
    var u72 = Date.now();
    if (n72) {
      if (u72 - i65 < E10)
        return;
      r66 = true;
    } else
      n72 = true, r66 = false, setTimeout(s60, t43);
    i65 = u72;
  }
  return a62;
}
var M9 = 20;
var x5 = ["top", "right", "bottom", "left", "width", "height", "size", "weight"];
var A10 = typeof MutationObserver != "undefined";
var z3 = (
  /** @class */
  function() {
    function e48() {
      this.connected_ = false, this.mutationEventsAdded_ = false, this.mutationsObserver_ = null, this.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh = R9(this.refresh.bind(this), M9);
    }
    return e48.prototype.addObserver = function(t43) {
      ~this.observers_.indexOf(t43) || this.observers_.push(t43), this.connected_ || this.connect_();
    }, e48.prototype.removeObserver = function(t43) {
      var n72 = this.observers_, r66 = n72.indexOf(t43);
      ~r66 && n72.splice(r66, 1), !n72.length && this.connected_ && this.disconnect_();
    }, e48.prototype.refresh = function() {
      var t43 = this.updateObservers_();
      t43 && this.refresh();
    }, e48.prototype.updateObservers_ = function() {
      var t43 = this.observers_.filter(function(n72) {
        return n72.gatherActive(), n72.hasActive();
      });
      return t43.forEach(function(n72) {
        return n72.broadcastActive();
      }), t43.length > 0;
    }, e48.prototype.connect_ = function() {
      !v9 || this.connected_ || (document.addEventListener("transitionend", this.onTransitionEnd_), window.addEventListener("resize", this.refresh), A10 ? (this.mutationsObserver_ = new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, {
        attributes: true,
        childList: true,
        characterData: true,
        subtree: true
      })) : (document.addEventListener("DOMSubtreeModified", this.refresh), this.mutationEventsAdded_ = true), this.connected_ = true);
    }, e48.prototype.disconnect_ = function() {
      !v9 || !this.connected_ || (document.removeEventListener("transitionend", this.onTransitionEnd_), window.removeEventListener("resize", this.refresh), this.mutationsObserver_ && this.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document.removeEventListener("DOMSubtreeModified", this.refresh), this.mutationsObserver_ = null, this.mutationEventsAdded_ = false, this.connected_ = false);
    }, e48.prototype.onTransitionEnd_ = function(t43) {
      var n72 = t43.propertyName, r66 = n72 === void 0 ? "" : n72, i65 = x5.some(function(o71) {
        return !!~r66.indexOf(o71);
      });
      i65 && this.refresh();
    }, e48.getInstance = function() {
      return this.instance_ || (this.instance_ = new e48()), this.instance_;
    }, e48.instance_ = null, e48;
  }()
);
var m14 = function(e48, t43) {
  for (var n72 = 0, r66 = Object.keys(t43); n72 < r66.length; n72++) {
    var i65 = r66[n72];
    Object.defineProperty(e48, i65, {
      value: t43[i65],
      enumerable: false,
      writable: false,
      configurable: true
    });
  }
  return e48;
};
var c21 = function(e48) {
  var t43 = e48 && e48.ownerDocument && e48.ownerDocument.defaultView;
  return t43 || f10;
};
var y6 = d10(0, 0, 0, 0);
function h9(e48) {
  return parseFloat(e48) || 0;
}
function b5(e48) {
  for (var t43 = [], n72 = 1; n72 < arguments.length; n72++)
    t43[n72 - 1] = arguments[n72];
  return t43.reduce(function(r66, i65) {
    var o71 = e48["border-" + i65 + "-width"];
    return r66 + h9(o71);
  }, 0);
}
function T8(e48) {
  for (var t43 = ["top", "right", "bottom", "left"], n72 = {}, r66 = 0, i65 = t43; r66 < i65.length; r66++) {
    var o71 = i65[r66], s60 = e48["padding-" + o71];
    n72[o71] = h9(s60);
  }
  return n72;
}
function C11(e48) {
  var t43 = e48.getBBox();
  return d10(0, 0, t43.width, t43.height);
}
function S9(e48) {
  var t43 = e48.clientWidth, n72 = e48.clientHeight;
  if (!t43 && !n72)
    return y6;
  var r66 = c21(e48).getComputedStyle(e48), i65 = T8(r66), o71 = i65.left + i65.right, s60 = i65.top + i65.bottom, a62 = h9(r66.width), u72 = h9(r66.height);
  if (r66.boxSizing === "border-box" && (Math.round(a62 + o71) !== t43 && (a62 -= b5(r66, "left", "right") + o71), Math.round(u72 + s60) !== n72 && (u72 -= b5(r66, "top", "bottom") + s60)), !G4(e48)) {
    var l63 = Math.round(a62 + o71) - t43, p66 = Math.round(u72 + s60) - n72;
    Math.abs(l63) !== 1 && (a62 -= l63), Math.abs(p66) !== 1 && (u72 -= p66);
  }
  return d10(i65.left, i65.top, a62, u72);
}
var D5 = /* @__PURE__ */ function() {
  return typeof SVGGraphicsElement != "undefined" ? function(e48) {
    return e48 instanceof c21(e48).SVGGraphicsElement;
  } : function(e48) {
    return e48 instanceof c21(e48).SVGElement && typeof e48.getBBox == "function";
  };
}();
function G4(e48) {
  return e48 === c21(e48).document.documentElement;
}
function L6(e48) {
  return v9 ? D5(e48) ? C11(e48) : S9(e48) : y6;
}
function P8(e48) {
  var t43 = e48.x, n72 = e48.y, r66 = e48.width, i65 = e48.height, o71 = typeof DOMRectReadOnly != "undefined" ? DOMRectReadOnly : Object, s60 = Object.create(o71.prototype);
  return m14(s60, {
    x: t43,
    y: n72,
    width: r66,
    height: i65,
    top: n72,
    right: t43 + r66,
    bottom: i65 + n72,
    left: t43
  }), s60;
}
function d10(e48, t43, n72, r66) {
  return { x: e48, y: t43, width: n72, height: r66 };
}
var W6 = (
  /** @class */
  function() {
    function e48(t43) {
      this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = d10(0, 0, 0, 0), this.target = t43;
    }
    return e48.prototype.isActive = function() {
      var t43 = L6(this.target);
      return this.contentRect_ = t43, t43.width !== this.broadcastWidth || t43.height !== this.broadcastHeight;
    }, e48.prototype.broadcastRect = function() {
      var t43 = this.contentRect_;
      return this.broadcastWidth = t43.width, this.broadcastHeight = t43.height, t43;
    }, e48;
  }()
);
var j3 = (
  /** @class */
  /* @__PURE__ */ function() {
    function e48(t43, n72) {
      var r66 = P8(n72);
      m14(this, { target: t43, contentRect: r66 });
    }
    return e48;
  }()
);
var F4 = (
  /** @class */
  function() {
    function e48(t43, n72, r66) {
      if (this.activeObservations_ = [], this.observations_ = new _7(), typeof t43 != "function")
        throw new TypeError("The callback provided as parameter 1 is not a function.");
      this.callback_ = t43, this.controller_ = n72, this.callbackCtx_ = r66;
    }
    return e48.prototype.observe = function(t43) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element == "undefined" || !(Element instanceof Object))) {
        if (!(t43 instanceof c21(t43).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var n72 = this.observations_;
        n72.has(t43) || (n72.set(t43, new W6(t43)), this.controller_.addObserver(this), this.controller_.refresh());
      }
    }, e48.prototype.unobserve = function(t43) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element == "undefined" || !(Element instanceof Object))) {
        if (!(t43 instanceof c21(t43).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var n72 = this.observations_;
        n72.has(t43) && (n72.delete(t43), n72.size || this.controller_.removeObserver(this));
      }
    }, e48.prototype.disconnect = function() {
      this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this);
    }, e48.prototype.gatherActive = function() {
      var t43 = this;
      this.clearActive(), this.observations_.forEach(function(n72) {
        n72.isActive() && t43.activeObservations_.push(n72);
      });
    }, e48.prototype.broadcastActive = function() {
      if (this.hasActive()) {
        var t43 = this.callbackCtx_, n72 = this.activeObservations_.map(function(r66) {
          return new j3(r66.target, r66.broadcastRect());
        });
        this.callback_.call(t43, n72, t43), this.clearActive();
      }
    }, e48.prototype.clearActive = function() {
      this.activeObservations_.splice(0);
    }, e48.prototype.hasActive = function() {
      return this.activeObservations_.length > 0;
    }, e48;
  }()
);
var g2 = typeof WeakMap != "undefined" ? /* @__PURE__ */ new WeakMap() : new _7();
var w9 = (
  /** @class */
  /* @__PURE__ */ function() {
    function e48(t43) {
      if (!(this instanceof e48))
        throw new TypeError("Cannot call a class as a function.");
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      var n72 = z3.getInstance(), r66 = new F4(t43, n72, this);
      g2.set(this, r66);
    }
    return e48;
  }()
);
[
  "observe",
  "unobserve",
  "disconnect"
].forEach(function(e48) {
  w9.prototype[e48] = function() {
    var t43;
    return (t43 = g2.get(this))[e48].apply(t43, arguments);
  };
});
var H2 = function() {
  return typeof f10.ResizeObserver != "undefined" ? f10.ResizeObserver : w9;
}();

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/svelte/resizeObserver.js
function E11(i65) {
  new H2((l63, p66) => {
    var n72, e48, c85, s60, o71, h66;
    for (const d73 of l63) {
      const { borderBoxSize: t43, contentRect: v58 } = d73, r66 = (c85 = (e48 = (n72 = t43 == null ? void 0 : t43[0]) == null ? void 0 : n72.inlineSize) != null ? e48 : v58.width) != null ? c85 : i65.clientWidth, a62 = (h66 = (o71 = (s60 = t43 == null ? void 0 : t43[0]) == null ? void 0 : s60.blockSize) != null ? o71 : v58.height) != null ? h66 : i65.clientHeight;
      i65.dispatchEvent(new CustomEvent("clientWidth", { detail: r66 })), i65.dispatchEvent(new CustomEvent("clientHeight", { detail: a62 }));
    }
  }).observe(i65);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelRoomLabelPlugin/RoomLabelItems.js
var P9 = Object.defineProperty;
var A11 = Object.defineProperties;
var B4 = Object.getOwnPropertyDescriptors;
var M10 = Object.getOwnPropertySymbols;
var E12 = Object.prototype.hasOwnProperty;
var G5 = Object.prototype.propertyIsEnumerable;
var R10 = (o71, t43, e48) => t43 in o71 ? P9(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var C12 = (o71, t43) => {
  for (var e48 in t43 || (t43 = {}))
    E12.call(t43, e48) && R10(o71, e48, t43[e48]);
  if (M10)
    for (var e48 of M10(t43))
      G5.call(t43, e48) && R10(o71, e48, t43[e48]);
  return o71;
};
var D6 = (o71, t43) => A11(o71, B4(t43));
var { Map: pe2 } = $e;
function he2(o71) {
  Qt2(o71, "svelte-9eg4zi", ".room-labels-container.svelte-9eg4zi{width:100%;height:100%;position:relative;color:#fff}");
}
function U5(o71, t43, e48) {
  const c85 = o71.slice();
  return c85[13] = t43[e48], c85;
}
function H3(o71, t43) {
  let e48, c85, r66;
  return c85 = new q5({
    props: {
      roomLabel: (
        /*roomLabelItem*/
        t43[13]
      ),
      five: (
        /*five*/
        t43[1]
      )
    }
  }), {
    key: o71,
    first: null,
    c() {
      e48 = Yt(), Ae(c85.$$.fragment), this.first = e48;
    },
    m(n72, m66) {
      Nt(n72, e48, m66), Dt(c85, n72, m66), r66 = true;
    },
    p(n72, m66) {
      t43 = n72;
      const a62 = {};
      m66 & /*roomLabels*/
      1 && (a62.roomLabel = /*roomLabelItem*/
      t43[13]), m66 & /*five*/
      2 && (a62.five = /*five*/
      t43[1]), c85.$set(a62);
    },
    i(n72) {
      r66 || (ot(c85.$$.fragment, n72), r66 = true);
    },
    o(n72) {
      $t(c85.$$.fragment, n72), r66 = false;
    },
    d(n72) {
      n72 && J4(e48), Rt(c85, n72);
    }
  };
}
function _e3(o71) {
  let t43, e48 = [], c85 = new pe2(), r66, n72, m66, a62 = (
    /*roomLabels*/
    o71[0]
  );
  const d73 = (i65) => (
    /*roomLabelItem*/
    i65[13].id
  );
  for (let i65 = 0; i65 < a62.length; i65 += 1) {
    let s60 = U5(o71, a62, i65), u72 = d73(s60);
    c85.set(u72, e48[i65] = H3(u72, s60));
  }
  return {
    c() {
      t43 = K4("div");
      for (let i65 = 0; i65 < e48.length; i65 += 1)
        e48[i65].c();
      te2(t43, "class", "room-labels-container svelte-9eg4zi");
    },
    m(i65, s60) {
      Nt(i65, t43, s60);
      for (let u72 = 0; u72 < e48.length; u72 += 1)
        e48[u72] && e48[u72].m(t43, null);
      r66 = true, n72 || (m66 = [
        Jt(E11.call(null, t43)),
        lt(
          t43,
          "clientWidth",
          /*clientWidth_handler*/
          o71[6]
        ),
        lt(
          t43,
          "clientHeight",
          /*clientHeight_handler*/
          o71[7]
        )
      ], n72 = true);
    },
    p(i65, [s60]) {
      s60 & /*roomLabels, five*/
      3 && (a62 = /*roomLabels*/
      i65[0], Lt(), e48 = Ee(e48, s60, d73, 1, i65, a62, c85, t43, xe, H3, null, U5), Ot());
    },
    i(i65) {
      if (!r66) {
        for (let s60 = 0; s60 < a62.length; s60 += 1)
          ot(e48[s60]);
        r66 = true;
      }
    },
    o(i65) {
      for (let s60 = 0; s60 < e48.length; s60 += 1)
        $t(e48[s60]);
      r66 = false;
    },
    d(i65) {
      i65 && J4(t43);
      for (let s60 = 0; s60 < e48.length; s60 += 1)
        e48[s60].d();
      n72 = false, M8(m66);
    }
  };
}
function ge2(o71, t43, e48) {
  var F45;
  let c85, { five: r66 } = t43, { roomLabels: n72 } = t43, m66, a62, d73 = (F45 = r66.model.shownFloor) != null ? F45 : null;
  function i65(l63) {
    if (!(d73 === null || l63.floorIndex === d73))
      return false;
    const _32 = new Raycaster(), p66 = r66.camera.position.clone(), b55 = new Vector3(l63.position.x, l63.position.y, l63.position.z), f80 = b55.distanceTo(p66);
    _32.set(p66.clone(), b55.clone().sub(p66).normalize());
    const [h66] = r66.model.intersectRaycaster(_32);
    return !(h66 && h66.distance + 1 < f80);
  }
  function s60(l63, g67) {
    const p66 = new Vector3(l63.position.x, l63.position.y, l63.position.z).clone().project(r66.camera), b55 = Math.ceil((p66.x + 1) / 2 * g67.x), f80 = Math.ceil((-p66.y + 1) / 2 * g67.y);
    return `translate(${b55}px, ${f80}px)`;
  }
  function u72(l63) {
    const { rendererSize: g67 } = l63, _32 = /* @__PURE__ */ new Map();
    function p66(f80) {
      const h66 = _32.get(f80.id);
      if (h66)
        return h66;
      const { x: L40, y: v58, z: k47 } = f80.position, y51 = new Vector3(L40, v58, k47).clone().distanceTo(r66.camera.position);
      return _32.set(f80.id, y51), y51;
    }
    return n72.map((f80) => {
      const h66 = i65(f80), L40 = h66 ? s60(f80, g67) : f80.transform, v58 = p66(f80), y51 = n72.filter((x49) => x49.visible && p66(x49) < v58).length * 10;
      return D6(C12({}, f80), { visible: h66, transform: L40, zIndex: y51 });
    });
  }
  function I49() {
    e48(0, n72 = u72({ rendererSize: c85, shownFloor: d73 }));
  }
  function z28(l63) {
    e48(4, d73 = l63);
  }
  r66.on("cameraUpdate", I49), r66.on("modelShownFloorChange", z28), ue2(() => {
    e48(0, n72 = u72({ rendererSize: c85, shownFloor: d73 }));
  }), le(() => {
    r66.off("cameraUpdate", I49), r66.off("modelShownFloorChange", z28);
  });
  const j37 = (l63) => {
    e48(2, m66 = l63.detail);
  }, q38 = (l63) => {
    e48(3, a62 = l63.detail);
  };
  return o71.$$set = (l63) => {
    "five" in l63 && e48(1, r66 = l63.five), "roomLabels" in l63 && e48(0, n72 = l63.roomLabels);
  }, o71.$$.update = () => {
    o71.$$.dirty & /*containerWidth, containerHeight*/
    12 && e48(5, c85 = { x: m66, y: a62 }), o71.$$.dirty & /*rendererSize, shownFloor*/
    48 && e48(0, n72 = u72({ rendererSize: c85, shownFloor: d73 }));
  }, [
    n72,
    r66,
    m66,
    a62,
    d73,
    c85,
    j37,
    q38
  ];
}
var Fe = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, ge2, _e3, Ft, { five: 1, roomLabels: 0 }, he2);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelRoomLabelPlugin/utils/parseData.js
function m15(e48) {
  return e48.model_room_labels.map(({ id: o71, pano_index: a62, floor_index: l63, name: n72, position: r66, longitude: d73 }) => ({
    id: o71,
    name: n72,
    position: r66,
    longitude: d73,
    panoIndex: a62,
    floorIndex: l63,
    zIndex: 0,
    visible: false,
    transform: ""
  }));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelRoomLabelPlugin/Controller.js
var s10 = Object.defineProperty;
var n14 = (i65, e48, o71) => e48 in i65 ? s10(i65, e48, { enumerable: true, configurable: true, writable: true, value: o71 }) : i65[e48] = o71;
var t12 = (i65, e48, o71) => (n14(i65, typeof e48 != "symbol" ? e48 + "" : e48, o71), o71);
var u9 = class {
  constructor(e48) {
    t12(this, "five");
    t12(this, "enabled", true);
    t12(this, "fiveModeEnabled");
    t12(this, "app");
    t12(this, "wrapper");
    t12(this, "roomLabels", []);
    t12(this, "container", document.createElement("div"));
    t12(this, "onFiveModeChange", (e49) => {
      if (!this.checkFiveMode(e49)) {
        this.fiveModeEnabled = false, this.render();
        return;
      }
      this.five.once("initAnimationEnded", () => {
        this.fiveModeEnabled = this.checkFiveMode(this.five.getCurrentState().mode), this.render();
      });
    });
    this.five = e48, this.fiveModeEnabled = this.checkFiveMode(e48.getCurrentState().mode), this.container.classList.add("model-room-label-plugin-container"), this.container.style.width = "100%", this.container.style.height = "100%", this.container.style.position = "absolute", this.container.style.pointerEvents = "none", this.container.style.left = "0", this.container.style.top = "0", this.container.style.zIndex = "5", this.five.once("dispose", () => this.dispose()), this.five.on("modeChange", this.onFiveModeChange), this.render();
  }
  dispose() {
    this.five.off("modeChange", this.onFiveModeChange), this.container.remove();
  }
  /** 加载数据 */
  load(e48) {
    this.roomLabels = m15(e48), this.render();
  }
  /** 设置插件容器 */
  appendTo(e48) {
    return this.wrapper = e48, e48.appendChild(this.container), this.render(), this;
  }
  /** 禁用插件功能
   * @description
   * - 如果当前正在展示中，会清除所有展示的 DOM
   * - 如果当前未展示，即使后续 Five 状态满足展示要求，也不会展示
   * */
  disable() {
    return this.enabled = false, this.render(), this;
  }
  /** 启用插件功能
   * @description
   * - 如果当前符合展示条件，会立刻展示
   * - 如果不符合展示条件，会等待 Five 状态满足条件后再展示
   */
  enable() {
    return this.enabled = true, this.render(), this;
  }
  /** 检测 Five Mode 是否满足展示条件 */
  checkFiveMode(e48) {
    return e48 === "Floorplan" || e48 === "Mapview";
  }
  render() {
    var e48;
    if (this.wrapper) {
      if (!this.enabled || !this.fiveModeEnabled) {
        (e48 = this.app) == null || e48.$destroy(), this.app = void 0;
        return;
      }
      this.app ? this.app.$set({ five: this.five, roomLabels: this.roomLabels }) : this.app = new Fe({
        target: this.container,
        props: {
          five: this.five,
          roomLabels: this.roomLabels
        }
      });
    }
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelRoomLabelPlugin/index.js
var s11 = (o71) => new u9(o71);
var u10 = {
  name: "ModelRoomLabelPlugin",
  version: 0
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/constant.js
var r13 = ((I49) => (I49[I49.FLOOR = 1] = "FLOOR", I49[I49.CEILING = 2] = "CEILING", I49[I49.BOUNDING_CENTER = 3] = "BOUNDING_CENTER", I49))(r13 || {});

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/to.js
var c22 = (a62, n72, t43) => new Promise((l63, u72) => {
  var i65 = (r66) => {
    try {
      o71(t43.next(r66));
    } catch (e48) {
      u72(e48);
    }
  }, f80 = (r66) => {
    try {
      o71(t43.throw(r66));
    } catch (e48) {
      u72(e48);
    }
  }, o71 = (r66) => r66.done ? l63(r66.value) : Promise.resolve(r66.value).then(i65, f80);
  o71((t43 = t43.apply(a62, n72)).next());
});
function d11(a62) {
  return c22(this, null, function* () {
    try {
      return [null, yield a62];
    } catch (n72) {
      return n72 instanceof Error ? [n72, null] : [new Error(""), null];
    }
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/isTruelyObject.js
function e6(t43) {
  return Object.prototype.toString.call(t43) === "[object Object]";
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/equal.js
function u11(r66, e48) {
  return r66 === e48 ? true : typeof r66 != typeof e48 ? false : !!(Number.isNaN(r66) && Number.isNaN(e48));
}
function o17(r66, e48) {
  const n72 = Object.getOwnPropertyNames(r66), t43 = Object.getOwnPropertyNames(e48);
  if (n72.length !== t43.length)
    return false;
  for (let f80 = 0, l63 = n72.length; f80 < l63; f80++) {
    const i65 = n72[f80];
    if (!u11(r66[i65], e48[i65]))
      return false;
  }
  return true;
}
function p7(r66, e48) {
  if (r66.length !== e48.length)
    return false;
  for (let n72 = 0, t43 = r66.length; n72 < t43; n72++)
    if (!u11(r66[n72], e48[n72]))
      return false;
  return true;
}
function c23(r66, e48) {
  return u11(r66, e48) ? true : e6(r66) && e6(e48) ? o17(r66, e48) : Array.isArray(r66) && Array.isArray(e48) ? p7(r66, e48) : false;
}
function a13(r66, e48) {
  return u11(r66, e48) ? true : e6(r66) && e6(e48) ? g3(r66, e48) : Array.isArray(r66) && Array.isArray(e48) ? y7(r66, e48) : false;
}
function y7(r66, e48) {
  if (r66.length !== e48.length)
    return false;
  for (let n72 = 0, t43 = r66.length; n72 < t43; n72++)
    if (!a13(r66[n72], e48[n72]))
      return false;
  return true;
}
function g3(r66, e48) {
  const n72 = Object.getOwnPropertyNames(r66), t43 = Object.getOwnPropertyNames(e48);
  if (n72.length !== t43.length)
    return false;
  for (let f80 = 0, l63 = n72.length; f80 < l63; f80++) {
    const i65 = n72[f80];
    if (!a13(r66[i65], e48[i65]))
      return false;
  }
  return true;
}
function b6(r66, e48, n72 = { deep: false }) {
  return n72.deep ? a13(r66, e48) : c23(r66, e48);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte/easing/index.js
function c24(n72) {
  return n72 < 0.5 ? 4 * n72 * n72 * n72 : 0.5 * Math.pow(2 * n72 - 2, 3) + 1;
}
function o18(n72) {
  const u72 = n72 - 1;
  return u72 * u72 * u72 + 1;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte/transition/index.js
function C13(s60, { delay: o71 = 0, duration: n72 = 400, easing: t43 = Z } = {}) {
  const c85 = +getComputedStyle(s60).opacity;
  return {
    delay: o71,
    duration: n72,
    easing: t43,
    css: (e48) => `opacity: ${e48 * c85}`
  };
}
function S10(s60, { delay: o71 = 0, duration: n72 = 400, easing: t43 = o18, x: c85 = 0, y: e48 = 0, opacity: r66 = 0 } = {}) {
  const f80 = getComputedStyle(s60), i65 = +f80.opacity, l63 = f80.transform === "none" ? "" : f80.transform, p66 = i65 * (1 - r66), [u72, m66] = Kt(c85), [$23, d73] = Kt(e48);
  return {
    delay: o71,
    duration: n72,
    easing: t43,
    css: (a62, g67) => `
			transform: ${l63} translate(${(1 - a62) * u72}${m66}, ${(1 - a62) * $23}${d73});
			opacity: ${i65 - p66 * g67}`
  };
}
function I7(s60, { delay: o71 = 0, speed: n72, duration: t43, easing: c85 = c24 } = {}) {
  let e48 = s60.getTotalLength();
  const r66 = getComputedStyle(s60);
  return r66.strokeLinecap !== "butt" && (e48 += parseInt(r66.strokeWidth)), t43 === void 0 ? n72 === void 0 ? t43 = 800 : t43 = e48 / n72 : typeof t43 == "function" && (t43 = t43(e48)), {
    delay: o71,
    duration: t43,
    easing: c85,
    css: (f80, i65) => `
			stroke-dasharray: ${e48};
			stroke-dashoffset: ${i65 * e48};
		`
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte/store/index.js
var s12 = [];
function h10(n72, u72 = N4) {
  let i65;
  const o71 = /* @__PURE__ */ new Set();
  function r66(e48) {
    if (Ft(n72, e48) && (n72 = e48, i65)) {
      const c85 = !s12.length;
      for (const t43 of o71)
        t43[1](), s12.push(t43, n72);
      if (c85) {
        for (let t43 = 0; t43 < s12.length; t43 += 2)
          s12[t43][0](s12[t43 + 1]);
        s12.length = 0;
      }
    }
  }
  function b55(e48) {
    r66(e48(n72));
  }
  function p66(e48, c85 = N4) {
    const t43 = [e48, c85];
    return o71.add(t43), o71.size === 1 && (i65 = u72(r66) || N4), e48(n72), () => {
      o71.delete(t43), o71.size === 0 && i65 && (i65(), i65 = null);
    };
  }
  return { set: r66, update: b55, subscribe: p66 };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/Normalmage.js
function d12(n72) {
  Qt2(n72, "svelte-1gfoniz", "img.svelte-1gfoniz{width:100%;height:100%}");
}
function p8(n72) {
  let e48, r66;
  return {
    c() {
      e48 = K4("img"), Wt(e48.src, r66 = /*url*/
      n72[0]) || te2(e48, "src", r66), te2(e48, "alt", "floorplan iamge"), te2(e48, "class", "svelte-1gfoniz");
    },
    m(t43, i65) {
      Nt(t43, e48, i65);
    },
    p(t43, [i65]) {
      i65 & /*url*/
      1 && !Wt(e48.src, r66 = /*url*/
      t43[0]) && te2(e48, "src", r66);
    },
    i: N4,
    o: N4,
    d(t43) {
      t43 && J4(e48);
    }
  };
}
function h11(n72, e48, r66) {
  let { url: t43 } = e48;
  return n72.$$set = (i65) => {
    "url" in i65 && r66(0, t43 = i65.url);
  }, [t43];
}
var z4 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, h11, p8, Ft, { url: 0 }, d12);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/SvgImage.js
function h12(n72) {
  Qt2(n72, "svelte-ub47ya", ".floorplan-plugin__base-image.svelte-ub47ya{width:100%;height:100%}");
}
function b7(n72) {
  let e48, a62, l63, f80;
  return {
    c() {
      e48 = K4("div"), a62 = new se2(false), l63 = Xt(), f80 = new se2(false), a62.a = l63, f80.a = null, te2(e48, "class", "floorplan-plugin__base-image svelte-ub47ya");
    },
    m(t43, s60) {
      Nt(t43, e48, s60), a62.m(
        /*svgStyle*/
        n72[1],
        e48
      ), pt(e48, l63), f80.m(
        /*content*/
        n72[0],
        e48
      );
    },
    p(t43, [s60]) {
      s60 & /*content*/
      1 && f80.p(
        /*content*/
        t43[0]
      );
    },
    i: N4,
    o: N4,
    d(t43) {
      t43 && J4(e48);
    }
  };
}
function w10(n72, e48, a62) {
  let { content: l63 } = e48;
  const f80 = `
    <style>
      svg [type='lineGroup'] path {
        fill: #ffffff;
        stroke: #ffffff;
      }
      svg [type='lineItemGroup'] g g g g {
        stroke: #ffffff;
      }</style>
  `;
  return n72.$$set = (t43) => {
    "content" in t43 && a62(0, l63 = t43.content);
  }, [l63, f80];
}
var k6 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, w10, b7, Ft, { content: 0 }, h12);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/BaseImage.js
function S11(l63) {
  Qt2(l63, "svelte-ozpg4a", ".floorplan-plugin__base-image.svelte-ozpg4a{position:absolute;z-index:10;width:100%;height:100%;pointer-events:none}");
}
function $4(l63) {
  let n72, t43;
  return n72 = new z4({ props: { url: (
    /*imageData*/
    l63[1].url
  ) } }), {
    c() {
      Ae(n72.$$.fragment);
    },
    m(e48, r66) {
      Dt(n72, e48, r66), t43 = true;
    },
    p(e48, r66) {
      const i65 = {};
      r66 & /*imageData*/
      2 && (i65.url = /*imageData*/
      e48[1].url), n72.$set(i65);
    },
    i(e48) {
      t43 || (ot(n72.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(n72.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      Rt(n72, e48);
    }
  };
}
function q6(l63) {
  let n72, t43;
  return n72 = new k6({
    props: { content: (
      /*svgContent*/
      l63[0]
    ) }
  }), {
    c() {
      Ae(n72.$$.fragment);
    },
    m(e48, r66) {
      Dt(n72, e48, r66), t43 = true;
    },
    p(e48, r66) {
      const i65 = {};
      r66 & /*svgContent*/
      1 && (i65.content = /*svgContent*/
      e48[0]), n72.$set(i65);
    },
    i(e48) {
      t43 || (ot(n72.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(n72.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      Rt(n72, e48);
    }
  };
}
function B5(l63) {
  let n72, t43, e48, r66;
  const i65 = [q6, $4], a62 = [];
  function f80(o71, s60) {
    return (
      /*svgContent*/
      o71[0] ? 0 : (
        /*imageData*/
        o71[1] ? 1 : -1
      )
    );
  }
  return ~(t43 = f80(l63)) && (e48 = a62[t43] = i65[t43](l63)), {
    c() {
      n72 = K4("div"), e48 && e48.c(), te2(n72, "class", "floorplan-plugin__base-image svelte-ozpg4a");
    },
    m(o71, s60) {
      Nt(o71, n72, s60), ~t43 && a62[t43].m(n72, null), r66 = true;
    },
    p(o71, [s60]) {
      let m66 = t43;
      t43 = f80(o71), t43 === m66 ? ~t43 && a62[t43].p(o71, s60) : (e48 && (Lt(), $t(a62[m66], 1, 1, () => {
        a62[m66] = null;
      }), Ot()), ~t43 ? (e48 = a62[t43], e48 ? e48.p(o71, s60) : (e48 = a62[t43] = i65[t43](o71), e48.c()), ot(e48, 1), e48.m(n72, null)) : e48 = null);
    },
    i(o71) {
      r66 || (ot(e48), r66 = true);
    },
    o(o71) {
      $t(e48), r66 = false;
    },
    d(o71) {
      o71 && J4(n72), ~t43 && a62[t43].d();
    }
  };
}
function N5(l63, n72, t43) {
  let e48, r66, { floorIndex: i65 } = n72, { floorplanData: a62 } = n72;
  return l63.$$set = (f80) => {
    "floorIndex" in f80 && t43(2, i65 = f80.floorIndex), "floorplanData" in f80 && t43(3, a62 = f80.floorplanData);
  }, l63.$$.update = () => {
    var f80, o71;
    l63.$$.dirty & /*floorplanData, floorIndex*/
    12 && t43(1, e48 = a62.outlines[i65]), l63.$$.dirty & /*floorplanData, floorIndex*/
    12 && t43(0, r66 = (o71 = (f80 = a62.outlines) == null ? void 0 : f80[i65]) == null ? void 0 : o71.svgContent);
  }, [r66, e48, i65, a62];
}
var F5 = class extends Ce {
  constructor(n72) {
    super(), Te(this, n72, N5, B5, Ft, { floorIndex: 2, floorplanData: 3 }, S11);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/Items/Item.js
function Y5(n72) {
  Qt2(n72, "svelte-2r6702", ".floorplan-plugin__item.svelte-2r6702{position:absolute;display:flex;flex-flow:column;align-items:center;line-height:1;color:#fff;transform:translate(-50%, -50%);white-space:nowrap;will-change:opacity;transition:opacity 300ms}.floorplan-plugin__img.svelte-2r6702{width:100%;height:100%}.floorplan-plugin__notes.svelte-2r6702{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);padding:0.25rem;line-height:1;border-radius:0.25rem;color:#fff;background:rgba(0,0,0,.6);font-size:0.75rem}");
}
function k7(n72) {
  let t43, o71, e48, c85, l63, i65 = (
    /*item*/
    n72[0].notes + ""
  ), r66;
  return {
    c() {
      t43 = K4("div"), o71 = K4("img"), c85 = Xt(), l63 = K4("span"), r66 = gt(i65), te2(o71, "class", "floorplan-plugin__img svelte-2r6702"), Wt(o71.src, e48 = /*src*/
      n72[6]) || te2(o71, "src", e48), te2(o71, "alt", ""), ne2(
        o71,
        "transform",
        /*transform*/
        n72[5]
      ), te2(l63, "class", "floorplan-plugin__notes svelte-2r6702"), te2(t43, "class", "floorplan-plugin__item svelte-2r6702"), ne2(
        t43,
        "left",
        /*left*/
        n72[1]
      ), ne2(
        t43,
        "top",
        /*top*/
        n72[2]
      ), ne2(
        t43,
        "width",
        /*width*/
        n72[3]
      ), ne2(
        t43,
        "height",
        /*height*/
        n72[4]
      );
    },
    m(s60, a62) {
      Nt(s60, t43, a62), pt(t43, o71), pt(t43, c85), pt(t43, l63), pt(l63, r66);
    },
    p(s60, [a62]) {
      a62 & /*item*/
      1 && i65 !== (i65 = /*item*/
      s60[0].notes + "") && ee2(r66, i65);
    },
    i: N4,
    o: N4,
    d(s60) {
      s60 && J4(t43);
    }
  };
}
function z5(n72, t43, o71) {
  let { item: e48 } = t43;
  const c85 = e48.positionInImage.x * 100 + "%", l63 = e48.positionInImage.y * 100 + "%", i65 = e48.width * 100 + "%", r66 = e48.height * 100 + "%", s60 = `rotate(${e48.rotateZ}deg) scaleX(${e48.rotateX ? -1 : 1}) scaleY(${e48.rotateY ? -1 : 1})`, a62 = e48.src;
  return n72.$$set = (_32) => {
    "item" in _32 && o71(0, e48 = _32.item);
  }, [e48, c85, l63, i65, r66, s60, a62];
}
var S12 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, z5, k7, Ft, { item: 0 }, Y5);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/Items/Items.js
function G6(s60) {
  Qt2(s60, "svelte-1c5mqz0", ".floorplan-plugin__room-items.svelte-1c5mqz0{width:100%;height:100%;position:absolute;left:0;top:0;z-index:20;pointer-events:none}");
}
function h13(s60, l63, t43) {
  const e48 = s60.slice();
  return e48[6] = l63[t43], e48;
}
function g4(s60) {
  let l63, t43 = [], e48 = /* @__PURE__ */ new Map(), o71, f80, a62, n72 = (
    /*items*/
    s60[1]
  );
  const c85 = (i65) => (
    /*item*/
    i65[6].id
  );
  for (let i65 = 0; i65 < n72.length; i65 += 1) {
    let r66 = h13(s60, n72, i65), u72 = c85(r66);
    e48.set(u72, t43[i65] = k8(u72, r66));
  }
  return {
    c() {
      l63 = K4("div");
      for (let i65 = 0; i65 < t43.length; i65 += 1)
        t43[i65].c();
      te2(l63, "class", "floorplan-plugin__room-items svelte-1c5mqz0");
    },
    m(i65, r66) {
      Nt(i65, l63, r66);
      for (let u72 = 0; u72 < t43.length; u72 += 1)
        t43[u72] && t43[u72].m(l63, null);
      o71 = true, f80 || (a62 = [
        Jt(E11.call(null, l63)),
        lt(
          l63,
          "clientWidth",
          /*clientWidth_handler*/
          s60[4]
        )
      ], f80 = true);
    },
    p(i65, r66) {
      r66 & /*items*/
      2 && (n72 = /*items*/
      i65[1], Lt(), t43 = Ee(t43, r66, c85, 1, i65, n72, e48, l63, xe, k8, null, h13), Ot());
    },
    i(i65) {
      if (!o71) {
        for (let r66 = 0; r66 < n72.length; r66 += 1)
          ot(t43[r66]);
        o71 = true;
      }
    },
    o(i65) {
      for (let r66 = 0; r66 < t43.length; r66 += 1)
        $t(t43[r66]);
      o71 = false;
    },
    d(i65) {
      i65 && J4(l63);
      for (let r66 = 0; r66 < t43.length; r66 += 1)
        t43[r66].d();
      f80 = false, M8(a62);
    }
  };
}
function k8(s60, l63) {
  let t43, e48, o71;
  const f80 = [{ item: (
    /*item*/
    l63[6]
  ) }];
  let a62 = {};
  for (let n72 = 0; n72 < f80.length; n72 += 1)
    a62 = kt(a62, f80[n72]);
  return e48 = new S12({ props: a62 }), {
    key: s60,
    first: null,
    c() {
      t43 = Yt(), Ae(e48.$$.fragment), this.first = t43;
    },
    m(n72, c85) {
      Nt(n72, t43, c85), Dt(e48, n72, c85), o71 = true;
    },
    p(n72, c85) {
      l63 = n72;
      const i65 = c85 & /*items*/
      2 ? ve(f80, [{ item: (
        /*item*/
        l63[6]
      ) }]) : {};
      e48.$set(i65);
    },
    i(n72) {
      o71 || (ot(e48.$$.fragment, n72), o71 = true);
    },
    o(n72) {
      $t(e48.$$.fragment, n72), o71 = false;
    },
    d(n72) {
      n72 && J4(t43), Rt(e48, n72);
    }
  };
}
function H4(s60) {
  let l63, t43, e48 = (
    /*items*/
    s60[1] && g4(s60)
  );
  return {
    c() {
      e48 && e48.c(), l63 = Yt();
    },
    m(o71, f80) {
      e48 && e48.m(o71, f80), Nt(o71, l63, f80), t43 = true;
    },
    p(o71, [f80]) {
      o71[1] ? e48 ? (e48.p(o71, f80), f80 & /*items*/
      2 && ot(e48, 1)) : (e48 = g4(o71), e48.c(), ot(e48, 1), e48.m(l63.parentNode, l63)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot());
    },
    i(o71) {
      t43 || (ot(e48), t43 = true);
    },
    o(o71) {
      $t(e48), t43 = false;
    },
    d(o71) {
      e48 && e48.d(o71), o71 && J4(l63);
    }
  };
}
function J5(s60, l63, t43) {
  let e48, { floorIndex: o71 } = l63, { floorplanData: f80 } = l63, a62 = 0;
  const n72 = (c85) => {
    t43(0, a62 = c85.detail);
  };
  return s60.$$set = (c85) => {
    "floorIndex" in c85 && t43(2, o71 = c85.floorIndex), "floorplanData" in c85 && t43(3, f80 = c85.floorplanData);
  }, s60.$$.update = () => {
    if (s60.$$.dirty & /*floorplanData, floorIndex*/
    12 && t43(1, e48 = f80.floorDatas[o71].items), s60.$$.dirty & /*floorplanData, clientWidth*/
    9) {
      const { max: c85, min: i65 } = f80.bounding;
      c85.x - i65.x;
    }
  }, [a62, e48, o71, f80, n72];
}
var Q4 = class extends Ce {
  constructor(l63) {
    super(), Te(this, l63, J5, H4, Ft, { floorIndex: 2, floorplanData: 3 }, G6);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RoomLabels/RoomLabel.js
function De(t43) {
  Qt2(t43, "svelte-9vzn2f", ".floorplan-plugin__room-label-item.svelte-9vzn2f{position:absolute;display:flex;flex-flow:column;align-items:center;line-height:1;color:#fff;transform:translate(-50%, -50%);white-space:nowrap;will-change:opacity;transition:opacity 300ms}.floorplan-plugin__room-part1.svelte-9vzn2f{display:flex;flex-flow:column;align-items:center;color:#fff;white-space:nowrap}.floorplan-plugin__room-area.svelte-9vzn2f{opacity:0.6;line-height:1.25;margin-top:0.125rem}");
}
function Ve(t43) {
  let e48, i65 = (
    /*userConfigElement*/
    t43[16].outerHTML + ""
  ), r66;
  return {
    c() {
      e48 = new se2(false), r66 = Yt(), e48.a = r66;
    },
    m(n72, a62) {
      e48.m(i65, n72, a62), Nt(n72, r66, a62);
    },
    p(n72, a62) {
      a62[0] & /*userConfigElement*/
      65536 && i65 !== (i65 = /*userConfigElement*/
      n72[16].outerHTML + "") && e48.p(i65);
    },
    d(n72) {
      n72 && J4(r66), n72 && e48.d();
    }
  };
}
function We(t43) {
  let e48, i65, r66, n72, a62, s60, o71 = (
    /*roomNameEnable*/
    t43[1] && ie3(t43)
  ), f80 = (
    /*roomAreaEnable*/
    t43[0] && ne3(t43)
  ), c85 = (
    /*roomDimensionEnable*/
    t43[3] && le2(t43)
  );
  return {
    c() {
      e48 = K4("div"), o71 && o71.c(), i65 = Xt(), f80 && f80.c(), r66 = Xt(), c85 && c85.c(), n72 = Yt(), te2(e48, "class", "floorplan-plugin__room-part1 svelte-9vzn2f"), ne2(
        e48,
        "opacity",
        /*level1_labelVisible*/
        t43[12] ? "1" : "0"
      );
    },
    m(m66, u72) {
      Nt(m66, e48, u72), o71 && o71.m(e48, null), pt(e48, i65), f80 && f80.m(e48, null), Nt(m66, r66, u72), c85 && c85.m(m66, u72), Nt(m66, n72, u72), a62 || (s60 = [
        Jt(E11.call(null, e48)),
        lt(
          e48,
          "clientWidth",
          /*clientWidth_handler*/
          t43[33]
        ),
        lt(
          e48,
          "clientHeight",
          /*clientHeight_handler*/
          t43[34]
        )
      ], a62 = true);
    },
    p(m66, u72) {
      m66[1] ? o71 ? o71.p(m66, u72) : (o71 = ie3(m66), o71.c(), o71.m(e48, i65)) : o71 && (o71.d(1), o71 = null), /*roomAreaEnable*/
      m66[0] ? f80 ? f80.p(m66, u72) : (f80 = ne3(m66), f80.c(), f80.m(e48, null)) : f80 && (f80.d(1), f80 = null), u72[0] & /*level1_labelVisible*/
      4096 && ne2(
        e48,
        "opacity",
        /*level1_labelVisible*/
        m66[12] ? "1" : "0"
      ), /*roomDimensionEnable*/
      m66[3] ? c85 ? c85.p(m66, u72) : (c85 = le2(m66), c85.c(), c85.m(n72.parentNode, n72)) : c85 && (c85.d(1), c85 = null);
    },
    d(m66) {
      m66 && J4(e48), o71 && o71.d(), f80 && f80.d(), m66 && J4(r66), c85 && c85.d(m66), m66 && J4(n72), a62 = false, M8(s60);
    }
  };
}
function ie3(t43) {
  let e48, i65 = (
    /*roomNameOtherTypeEnable*/
    (t43[2] ? (
      /*room*/
      t43[4].name
    ) : (
      /*room*/
      t43[4].roomType === "100900000012" ? (
        /*room*/
        t43[4].customizedName
      ) : (
        /*room*/
        t43[4].name
      )
    )) + ""
  ), r66;
  return {
    c() {
      e48 = K4("span"), r66 = gt(i65), te2(e48, "class", "floorplan-plugin__room-name");
    },
    m(n72, a62) {
      Nt(n72, e48, a62), pt(e48, r66);
    },
    p(n72, a62) {
      a62[0] & /*roomNameOtherTypeEnable, room*/
      20 && i65 !== (i65 = /*roomNameOtherTypeEnable*/
      (n72[2] ? (
        /*room*/
        n72[4].name
      ) : (
        /*room*/
        n72[4].roomType === "100900000012" ? (
          /*room*/
          n72[4].customizedName
        ) : (
          /*room*/
          n72[4].name
        )
      )) + "") && ee2(r66, i65);
    },
    d(n72) {
      n72 && J4(e48);
    }
  };
}
function ne3(t43) {
  let e48, i65;
  return {
    c() {
      e48 = K4("span"), i65 = gt(
        /*roomAreaSize*/
        t43[15]
      ), te2(e48, "class", "floorplan-plugin__room-area svelte-9vzn2f"), ne2(
        e48,
        "font-size",
        /*txtFontSize*/
        t43[20]
      );
    },
    m(r66, n72) {
      Nt(r66, e48, n72), pt(e48, i65);
    },
    p(r66, n72) {
      n72[0] & /*roomAreaSize*/
      32768 && ee2(
        i65,
        /*roomAreaSize*/
        r66[15]
      );
    },
    d(r66) {
      r66 && J4(e48);
    }
  };
}
function le2(t43) {
  let e48, i65;
  return {
    c() {
      e48 = K4("span"), i65 = gt(
        /*roomDimension*/
        t43[14]
      ), te2(e48, "class", "floorplan-plugin__room-size"), ne2(
        e48,
        "font-size",
        /*txtFontSize*/
        t43[20]
      ), ne2(
        e48,
        "opacity",
        /*level2_labelVisible*/
        t43[11] ? "0.6" : "0"
      );
    },
    m(r66, n72) {
      Nt(r66, e48, n72), pt(e48, i65);
    },
    p(r66, n72) {
      n72[0] & /*roomDimension*/
      16384 && ee2(
        i65,
        /*roomDimension*/
        r66[14]
      ), n72[0] & /*level2_labelVisible*/
      2048 && ne2(
        e48,
        "opacity",
        /*level2_labelVisible*/
        r66[11] ? "0.6" : "0"
      );
    },
    d(r66) {
      r66 && J4(e48);
    }
  };
}
function Ae2(t43) {
  let e48, i65, r66;
  function n72(o71, f80) {
    if (
      /*getLabelElement*/
      o71[5] === void 0
    )
      return We;
    if (
      /*userConfigElement*/
      o71[16]
    )
      return Ve;
  }
  let a62 = n72(t43), s60 = a62 && a62(t43);
  return {
    c() {
      e48 = K4("div"), s60 && s60.c(), te2(e48, "class", "floorplan-plugin__room-label-item svelte-9vzn2f"), ne2(
        e48,
        "left",
        /*left*/
        t43[17]
      ), ne2(
        e48,
        "top",
        /*top*/
        t43[18]
      ), ne2(
        e48,
        "font-size",
        /*titleFontSize*/
        t43[19]
      ), ne2(
        e48,
        "opacity",
        /*level0_labelVisible*/
        t43[13] ? "1" : "0"
      ), ne2(
        e48,
        "transform",
        /*transformInner*/
        t43[10] ? "translate(-50%, calc(-50% + 6px))" : "translate(-50%, -50%)"
      );
    },
    m(o71, f80) {
      Nt(o71, e48, f80), s60 && s60.m(e48, null), i65 || (r66 = [
        Jt(E11.call(null, e48)),
        lt(
          e48,
          "clientWidth",
          /*clientWidth_handler_1*/
          t43[35]
        ),
        lt(
          e48,
          "clientHeight",
          /*clientHeight_handler_1*/
          t43[36]
        )
      ], i65 = true);
    },
    p(o71, f80) {
      a62 === (a62 = n72(o71)) && s60 ? s60.p(o71, f80) : (s60 && s60.d(1), s60 = a62 && a62(o71), s60 && (s60.c(), s60.m(e48, null))), f80[0] & /*level0_labelVisible*/
      8192 && ne2(
        e48,
        "opacity",
        /*level0_labelVisible*/
        o71[13] ? "1" : "0"
      ), f80[0] & /*transformInner*/
      1024 && ne2(
        e48,
        "transform",
        /*transformInner*/
        o71[10] ? "translate(-50%, calc(-50% + 6px))" : "translate(-50%, -50%)"
      );
    },
    i: N4,
    o: N4,
    d(o71) {
      o71 && J4(e48), s60 && s60.d(), i65 = false, M8(r66);
    }
  };
}
function Ce2(t43, e48) {
  const i65 = t43[0], r66 = t43[1];
  let n72 = false;
  for (let a62 = 0, s60 = e48.length - 1; a62 < e48.length; s60 = a62++) {
    const o71 = e48[a62][0], f80 = e48[a62][1], c85 = e48[s60][0], m66 = e48[s60][1];
    f80 > r66 != m66 > r66 && i65 < (c85 - o71) * (r66 - f80) / (m66 - f80) + o71 && (n72 = !n72);
  }
  return n72;
}
function Ie(t43, e48, i65) {
  let r66, n72, a62, s60, o71, f80, c85, m66, u72, M48, q38, U33, X24, { pxmm: w49 } = e48, { roomAreaEnable: Y23 } = e48, { roomNameEnable: B42 } = e48, { roomNameOtherTypeEnable: G31 } = e48, { roomDimensionEnable: J33 } = e48, { room: b55 } = e48, { hoveredRoom: V25 } = e48, { getRoomAreaText: W25 } = e48, { getRoomDimensionText: A62 } = e48, { getLabelElement: p66 } = e48, { adaptiveRoomLabelVisibleEnable: T38 } = e48;
  function K32(l63, _32) {
    if (_32.width === 0 || _32.height === 0)
      return () => false;
    const ye5 = l63.path.map(({ x: $23, y: g67 }) => [$23, g67]), ge10 = l63.roomLabel.position, { x: pe7, y: Ee5 } = ge10, { width: Re4, height: ze6 } = _32, L40 = Re4 / 2, H39 = ze6 / 2;
    return function(g67) {
      const k47 = pe7 * g67, N33 = Ee5 * g67, we4 = ye5.map(([S52, Te5]) => [S52 * g67, Te5 * g67]);
      return [
        [k47 + L40, N33 - H39],
        [k47 - L40, N33 - H39],
        [k47 - L40, N33 + H39],
        [k47 + L40, N33 + H39]
      ].every((S52) => Ce2(S52, we4));
    };
  }
  const Q29 = document.body.clientWidth, Z18 = document.body.clientHeight, x49 = b55.roomLabel, ae7 = x49.positionInImage.x * 100 + "%", se6 = x49.positionInImage.y * 100 + "%", ce6 = (Q29 < 500 || Z18 < 500 ? 10 : 14) + "px", ue8 = (Q29 < 500 || Z18 < 500 ? 8 : 12) + "px";
  let C52 = 0, I49 = 0, P55 = 0, O40 = 0, E53 = false;
  V25.subscribe(function(_32) {
    i65(26, E53 = !!_32 && _32.id === b55.id);
  });
  const be6 = (l63) => {
    i65(8, P55 = l63.detail);
  }, de9 = (l63) => {
    i65(9, O40 = l63.detail);
  }, _e8 = (l63) => {
    i65(6, C52 = l63.detail);
  }, he6 = (l63) => {
    i65(7, I49 = l63.detail);
  };
  return t43.$$set = (l63) => {
    "pxmm" in l63 && i65(21, w49 = l63.pxmm), "roomAreaEnable" in l63 && i65(0, Y23 = l63.roomAreaEnable), "roomNameEnable" in l63 && i65(1, B42 = l63.roomNameEnable), "roomNameOtherTypeEnable" in l63 && i65(2, G31 = l63.roomNameOtherTypeEnable), "roomDimensionEnable" in l63 && i65(3, J33 = l63.roomDimensionEnable), "room" in l63 && i65(4, b55 = l63.room), "hoveredRoom" in l63 && i65(22, V25 = l63.hoveredRoom), "getRoomAreaText" in l63 && i65(23, W25 = l63.getRoomAreaText), "getRoomDimensionText" in l63 && i65(24, A62 = l63.getRoomDimensionText), "getLabelElement" in l63 && i65(5, p66 = l63.getLabelElement), "adaptiveRoomLabelVisibleEnable" in l63 && i65(25, T38 = l63.adaptiveRoomLabelVisibleEnable);
  }, t43.$$.update = () => {
    var l63, _32;
    t43.$$.dirty[0] & /*getLabelElement, room*/
    48 && i65(16, r66 = p66 == null ? void 0 : p66(b55)), t43.$$.dirty[0] & /*room, getRoomAreaText*/
    8388624 && i65(15, n72 = b55.size ? W25(b55.size) : ""), t43.$$.dirty[0] & /*room, getRoomDimensionText*/
    16777232 && i65(14, a62 = b55 != null && b55.dimension ? A62((l63 = b55.dimension) == null ? void 0 : l63.width, (_32 = b55.dimension) == null ? void 0 : _32.height) : ""), t43.$$.dirty[0] & /*clientWidth, clientHeight*/
    768 && i65(32, s60 = { width: P55, height: O40 }), t43.$$.dirty[0] & /*room*/
    16 | t43.$$.dirty[1] & /*labelElementSize*/
    2 && i65(31, o71 = s60 ? K32(b55, s60) : void 0), t43.$$.dirty[0] & /*adaptiveRoomLabelVisibleEnable, pxmm*/
    35651584 | t43.$$.dirty[1] & /*isLabelInRoom*/
    1 && i65(28, f80 = T38 ? !!(o71 != null && o71(w49)) : true), t43.$$.dirty[0] & /*wrapperClientWidth, wrapperClientHeight*/
    192 && i65(30, c85 = {
      width: C52,
      height: I49
    }), t43.$$.dirty[0] & /*wrapperLabelElementSize, room*/
    1073741840 && i65(29, m66 = c85 ? K32(b55, c85) : void 0), t43.$$.dirty[0] & /*adaptiveRoomLabelVisibleEnable, isAllLabelInRoom, pxmm*/
    572522496 && i65(27, u72 = T38 ? !!(m66 != null && m66(w49)) : true), t43.$$.dirty[0] & /*wrapperLabelVisible, mainLabelVisible, isHovered*/
    469762048 && i65(13, M48 = u72 || f80 || E53), t43.$$.dirty[0] & /*mainLabelVisible, isHovered*/
    335544320 && i65(12, q38 = f80 || E53), t43.$$.dirty[0] & /*wrapperLabelVisible, isHovered*/
    201326592 && i65(11, U33 = u72 || E53), t43.$$.dirty[0] & /*mainLabelVisible, wrapperLabelVisible*/
    402653184 && i65(10, X24 = f80 && !u72);
  }, [
    Y23,
    B42,
    G31,
    J33,
    b55,
    p66,
    C52,
    I49,
    P55,
    O40,
    X24,
    U33,
    q38,
    M48,
    a62,
    n72,
    r66,
    ae7,
    se6,
    ce6,
    ue8,
    w49,
    V25,
    W25,
    A62,
    T38,
    E53,
    u72,
    f80,
    m66,
    c85,
    o71,
    s60,
    be6,
    de9,
    _e8,
    he6
  ];
}
var je = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      Ie,
      Ae2,
      Ft,
      {
        pxmm: 21,
        roomAreaEnable: 0,
        roomNameEnable: 1,
        roomNameOtherTypeEnable: 2,
        roomDimensionEnable: 3,
        room: 4,
        hoveredRoom: 22,
        getRoomAreaText: 23,
        getRoomDimensionText: 24,
        getLabelElement: 5,
        adaptiveRoomLabelVisibleEnable: 25
      },
      De,
      [-1, -1]
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RoomLabels/RoomLabels.js
function X6(r66) {
  Qt2(r66, "svelte-13xux0b", ".floorplan-plugin__room-labels.svelte-13xux0b{width:100%;height:100%;position:absolute;left:0;top:0;z-index:20;pointer-events:none}");
}
function y8(r66, e48, o71) {
  const l63 = r66.slice();
  return l63[15] = e48[o71], l63;
}
function L7(r66) {
  let e48, o71 = [], l63 = /* @__PURE__ */ new Map(), a62, b55, u72, m66 = (
    /*rooms*/
    r66[11]
  );
  const f80 = (t43) => (
    /*room*/
    t43[15].id
  );
  for (let t43 = 0; t43 < m66.length; t43 += 1) {
    let i65 = y8(r66, m66, t43), s60 = f80(i65);
    l63.set(s60, o71[t43] = N6(s60, i65));
  }
  return {
    c() {
      e48 = K4("div");
      for (let t43 = 0; t43 < o71.length; t43 += 1)
        o71[t43].c();
      te2(e48, "class", "floorplan-plugin__room-labels svelte-13xux0b");
    },
    m(t43, i65) {
      Nt(t43, e48, i65);
      for (let s60 = 0; s60 < o71.length; s60 += 1)
        o71[s60] && o71[s60].m(e48, null);
      a62 = true, b55 || (u72 = [
        Jt(E11.call(null, e48)),
        lt(
          e48,
          "clientWidth",
          /*clientWidth_handler*/
          r66[14]
        )
      ], b55 = true);
    },
    p(t43, i65) {
      i65 & /*pxmm, rooms, hoveredRoom, roomAreaEnable, roomNameEnable, roomNameOtherTypeEnable, roomDimensionEnable, getLabelElement, getRoomAreaText, getRoomDimensionText, adaptiveRoomLabelVisibleEnable*/
      3583 && (m66 = /*rooms*/
      t43[11], Lt(), o71 = Ee(o71, i65, f80, 1, t43, m66, l63, e48, xe, N6, null, y8), Ot());
    },
    i(t43) {
      if (!a62) {
        for (let i65 = 0; i65 < m66.length; i65 += 1)
          ot(o71[i65]);
        a62 = true;
      }
    },
    o(t43) {
      for (let i65 = 0; i65 < o71.length; i65 += 1)
        $t(o71[i65]);
      a62 = false;
    },
    d(t43) {
      t43 && J4(e48);
      for (let i65 = 0; i65 < o71.length; i65 += 1)
        o71[i65].d();
      b55 = false, M8(u72);
    }
  };
}
function N6(r66, e48) {
  let o71, l63, a62;
  const b55 = [
    {
      pxmm: (
        /*pxmm*/
        e48[10]
      ),
      room: (
        /*room*/
        e48[15]
      ),
      hoveredRoom: (
        /*hoveredRoom*/
        e48[4]
      ),
      roomAreaEnable: (
        /*roomAreaEnable*/
        e48[0]
      ),
      roomNameEnable: (
        /*roomNameEnable*/
        e48[1]
      ),
      roomNameOtherTypeEnable: (
        /*roomNameOtherTypeEnable*/
        e48[2]
      ),
      roomDimensionEnable: (
        /*roomDimensionEnable*/
        e48[3]
      ),
      getLabelElement: (
        /*getLabelElement*/
        e48[7]
      ),
      getRoomAreaText: (
        /*getRoomAreaText*/
        e48[5]
      ),
      getRoomDimensionText: (
        /*getRoomDimensionText*/
        e48[6]
      ),
      adaptiveRoomLabelVisibleEnable: (
        /*adaptiveRoomLabelVisibleEnable*/
        e48[8]
      )
    }
  ];
  let u72 = {};
  for (let m66 = 0; m66 < b55.length; m66 += 1)
    u72 = kt(u72, b55[m66]);
  return l63 = new je({ props: u72 }), {
    key: r66,
    first: null,
    c() {
      o71 = Yt(), Ae(l63.$$.fragment), this.first = o71;
    },
    m(m66, f80) {
      Nt(m66, o71, f80), Dt(l63, m66, f80), a62 = true;
    },
    p(m66, f80) {
      e48 = m66;
      const t43 = f80 & /*pxmm, rooms, hoveredRoom, roomAreaEnable, roomNameEnable, roomNameOtherTypeEnable, roomDimensionEnable, getLabelElement, getRoomAreaText, getRoomDimensionText, adaptiveRoomLabelVisibleEnable*/
      3583 ? ve(b55, [
        {
          pxmm: (
            /*pxmm*/
            e48[10]
          ),
          room: (
            /*room*/
            e48[15]
          ),
          hoveredRoom: (
            /*hoveredRoom*/
            e48[4]
          ),
          roomAreaEnable: (
            /*roomAreaEnable*/
            e48[0]
          ),
          roomNameEnable: (
            /*roomNameEnable*/
            e48[1]
          ),
          roomNameOtherTypeEnable: (
            /*roomNameOtherTypeEnable*/
            e48[2]
          ),
          roomDimensionEnable: (
            /*roomDimensionEnable*/
            e48[3]
          ),
          getLabelElement: (
            /*getLabelElement*/
            e48[7]
          ),
          getRoomAreaText: (
            /*getRoomAreaText*/
            e48[5]
          ),
          getRoomDimensionText: (
            /*getRoomDimensionText*/
            e48[6]
          ),
          adaptiveRoomLabelVisibleEnable: (
            /*adaptiveRoomLabelVisibleEnable*/
            e48[8]
          )
        }
      ]) : {};
      l63.$set(t43);
    },
    i(m66) {
      a62 || (ot(l63.$$.fragment, m66), a62 = true);
    },
    o(m66) {
      $t(l63.$$.fragment, m66), a62 = false;
    },
    d(m66) {
      m66 && J4(o71), Rt(l63, m66);
    }
  };
}
function Y6(r66) {
  let e48, o71, l63 = (
    /*rooms*/
    r66[11] && L7(r66)
  );
  return {
    c() {
      l63 && l63.c(), e48 = Yt();
    },
    m(a62, b55) {
      l63 && l63.m(a62, b55), Nt(a62, e48, b55), o71 = true;
    },
    p(a62, [b55]) {
      a62[11] ? l63 ? (l63.p(a62, b55), b55 & /*rooms*/
      2048 && ot(l63, 1)) : (l63 = L7(a62), l63.c(), ot(l63, 1), l63.m(e48.parentNode, e48)) : l63 && (Lt(), $t(l63, 1, 1, () => {
        l63 = null;
      }), Ot());
    },
    i(a62) {
      o71 || (ot(l63), o71 = true);
    },
    o(a62) {
      $t(l63), o71 = false;
    },
    d(a62) {
      l63 && l63.d(a62), a62 && J4(e48);
    }
  };
}
function Z2(r66, e48, o71) {
  let l63, { floorIndex: a62 } = e48, { roomAreaEnable: b55 } = e48, { roomNameEnable: u72 } = e48, { roomNameOtherTypeEnable: m66 } = e48, { roomDimensionEnable: f80 } = e48, { floorplanData: t43 } = e48, { hoveredRoom: i65 } = e48, { getRoomAreaText: s60 } = e48, { getRoomDimensionText: c85 } = e48, { getLabelElement: R43 } = e48, { adaptiveRoomLabelVisibleEnable: T38 } = e48, h66 = 0, D52 = 0;
  const O40 = (n72) => {
    o71(9, h66 = n72.detail);
  };
  return r66.$$set = (n72) => {
    "floorIndex" in n72 && o71(12, a62 = n72.floorIndex), "roomAreaEnable" in n72 && o71(0, b55 = n72.roomAreaEnable), "roomNameEnable" in n72 && o71(1, u72 = n72.roomNameEnable), "roomNameOtherTypeEnable" in n72 && o71(2, m66 = n72.roomNameOtherTypeEnable), "roomDimensionEnable" in n72 && o71(3, f80 = n72.roomDimensionEnable), "floorplanData" in n72 && o71(13, t43 = n72.floorplanData), "hoveredRoom" in n72 && o71(4, i65 = n72.hoveredRoom), "getRoomAreaText" in n72 && o71(5, s60 = n72.getRoomAreaText), "getRoomDimensionText" in n72 && o71(6, c85 = n72.getRoomDimensionText), "getLabelElement" in n72 && o71(7, R43 = n72.getLabelElement), "adaptiveRoomLabelVisibleEnable" in n72 && o71(8, T38 = n72.adaptiveRoomLabelVisibleEnable);
  }, r66.$$.update = () => {
    if (r66.$$.dirty & /*floorplanData, floorIndex*/
    12288 && o71(11, l63 = t43.floorDatas[a62].rooms), r66.$$.dirty & /*floorplanData, clientWidth*/
    8704) {
      const { max: n72, min: x49 } = t43.bounding, V25 = n72.x - x49.x;
      o71(10, D52 = h66 / V25);
    }
  }, [
    b55,
    u72,
    m66,
    f80,
    i65,
    s60,
    c85,
    R43,
    T38,
    h66,
    D52,
    l63,
    a62,
    t43,
    O40
  ];
}
var oe3 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      Z2,
      Y6,
      Ft,
      {
        floorIndex: 12,
        roomAreaEnable: 0,
        roomNameEnable: 1,
        roomNameOtherTypeEnable: 2,
        roomDimensionEnable: 3,
        floorplanData: 13,
        hoveredRoom: 4,
        getRoomAreaText: 5,
        getRoomDimensionText: 6,
        getLabelElement: 7,
        adaptiveRoomLabelVisibleEnable: 8
      },
      X6
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RuleLabels/RuleItem.js
function F6(i65) {
  Qt2(i65, "svelte-1fuyezq", ".floorplan-plugin__rule-labels.svelte-1fuyezq.svelte-1fuyezq{position:absolute;display:flex}.floorplan-plugin__rule-labels--top.svelte-1fuyezq.svelte-1fuyezq{left:0;top:-1.25rem}.floorplan-plugin__rule-labels--bottom.svelte-1fuyezq.svelte-1fuyezq{left:0;bottom:-1.25rem}.floorplan-plugin__rule-labels--left.svelte-1fuyezq.svelte-1fuyezq{top:0;left:-1.25rem}.floorplan-plugin__rule-labels--right.svelte-1fuyezq.svelte-1fuyezq{top:0;right:-1.25rem}.floorplan-plugin__rule-line.svelte-1fuyezq.svelte-1fuyezq{background:#fff;opacity:0.2;width:100%;height:100%}.floorplan-plugin__rule-scale-wrapper.svelte-1fuyezq.svelte-1fuyezq{position:absolute;width:0.3125rem;height:100%;left:50%;top:0;transform:translateX(-50%)}.floorplan-plugin__rule-labels.is-row.svelte-1fuyezq .floorplan-plugin__rule-scale-wrapper.svelte-1fuyezq{width:100%;height:0.3125rem;top:50%;left:0;transform:translateY(-50%)}.floorplan-plugin__rule-scale.svelte-1fuyezq.svelte-1fuyezq{position:absolute;background:#fff;opacity:0.2;width:100%;height:0.0625rem}.floorplan-plugin__rule-labels.is-row.svelte-1fuyezq .floorplan-plugin__rule-scale.svelte-1fuyezq{width:0.0625rem;height:100%}.floorplan-plugin__rule-text-wrapper.svelte-1fuyezq.svelte-1fuyezq{position:absolute}.floorplan-plugin__rule-labels--top.svelte-1fuyezq .floorplan-plugin__rule-text-wrapper.svelte-1fuyezq{width:100%;height:0;top:0.625rem}.floorplan-plugin__rule-labels--bottom.svelte-1fuyezq .floorplan-plugin__rule-text-wrapper.svelte-1fuyezq{width:100%;height:0;bottom:0.625rem}.floorplan-plugin__rule-labels--left.svelte-1fuyezq .floorplan-plugin__rule-text-wrapper.svelte-1fuyezq{width:0;height:100%;left:0.625rem}.floorplan-plugin__rule-labels--right.svelte-1fuyezq .floorplan-plugin__rule-text-wrapper.svelte-1fuyezq{width:0;height:100%;right:0.625rem}.floorplan-plugin__rule-text-item.svelte-1fuyezq.svelte-1fuyezq{width:0;height:0;position:absolute;transform:rotate(90deg)}.floorplan-plugin__rule-labels.is-row.svelte-1fuyezq .floorplan-plugin__rule-text-item.svelte-1fuyezq{transform:rotate(0)}.floorplan-plugin__rule-text.svelte-1fuyezq.svelte-1fuyezq{width:-moz-max-content;width:max-content;transform:translate(-50%, -50%);font-size:0.625rem;color:#fff;opacity:0.35}");
}
function C14(i65, l63, n72) {
  const s60 = i65.slice();
  return s60[11] = l63[n72], s60[13] = n72, s60;
}
function H5(i65, l63, n72) {
  const s60 = i65.slice();
  return s60[14] = l63[n72], s60;
}
function I8(i65) {
  let l63;
  return {
    c() {
      l63 = K4("div"), te2(l63, "class", "floorplan-plugin__rule-scale svelte-1fuyezq"), ne2(
        l63,
        "left",
        /*rulerLabel*/
        i65[14].left * 100 + "%"
      ), ne2(
        l63,
        "bottom",
        /*rulerLabel*/
        i65[14].bottom * 100 + "%"
      );
    },
    m(n72, s60) {
      Nt(n72, l63, s60);
    },
    p: N4,
    d(n72) {
      n72 && J4(l63);
    }
  };
}
function L8(i65, l63) {
  let n72, s60, a62 = (
    /*getRuleDistanceText*/
    l63[1](
      /*textItem*/
      l63[11].distance
    ) + ""
  ), f80, _32;
  return {
    key: i65,
    first: null,
    c() {
      n72 = K4("div"), s60 = K4("div"), f80 = gt(a62), _32 = Xt(), te2(s60, "class", "floorplan-plugin__rule-text svelte-1fuyezq"), re2(
        s60,
        "is-row",
        /*isRow*/
        l63[2]
      ), te2(n72, "class", "floorplan-plugin__rule-text-item svelte-1fuyezq"), ne2(
        n72,
        "left",
        /*textItem*/
        l63[11].left * 100 + "%"
      ), ne2(
        n72,
        "bottom",
        /*textItem*/
        l63[11].bottom * 100 + "%"
      ), this.first = n72;
    },
    m(r66, c85) {
      Nt(r66, n72, c85), pt(n72, s60), pt(s60, f80), pt(n72, _32);
    },
    p(r66, c85) {
      l63 = r66, c85 & /*getRuleDistanceText*/
      2 && a62 !== (a62 = /*getRuleDistanceText*/
      l63[1](
        /*textItem*/
        l63[11].distance
      ) + "") && ee2(f80, a62);
    },
    d(r66) {
      r66 && J4(n72);
    }
  };
}
function G7(i65) {
  let l63, n72, s60, a62, f80, _32, r66 = [], c85 = /* @__PURE__ */ new Map(), m66, p66 = (
    /*rulerLabels*/
    i65[3]
  ), u72 = [];
  for (let e48 = 0; e48 < p66.length; e48 += 1)
    u72[e48] = I8(H5(i65, p66, e48));
  let y51 = (
    /*rulerTexts*/
    i65[4]
  );
  const q38 = (e48) => (
    /*textItemIndex*/
    e48[13]
  );
  for (let e48 = 0; e48 < y51.length; e48 += 1) {
    let o71 = C14(i65, y51, e48), t43 = q38(o71);
    c85.set(t43, r66[e48] = L8(t43, o71));
  }
  return {
    c() {
      l63 = K4("div"), n72 = K4("div"), s60 = Xt(), a62 = K4("div");
      for (let e48 = 0; e48 < u72.length; e48 += 1)
        u72[e48].c();
      f80 = Xt(), _32 = K4("div");
      for (let e48 = 0; e48 < r66.length; e48 += 1)
        r66[e48].c();
      te2(n72, "class", "floorplan-plugin__rule-line svelte-1fuyezq"), te2(a62, "class", "floorplan-plugin__rule-scale-wrapper svelte-1fuyezq"), re2(
        a62,
        "is-row",
        /*isRow*/
        i65[2]
      ), te2(_32, "class", "floorplan-plugin__rule-text-wrapper svelte-1fuyezq"), te2(l63, "class", m66 = "floorplan-plugin__rule-labels floorplan-plugin__rule-labels--" + /*type*/
      i65[0] + " svelte-1fuyezq"), re2(
        l63,
        "is-row",
        /*isRow*/
        i65[2]
      ), ne2(
        l63,
        "width",
        /*isRow*/
        i65[2] ? "100%" : 1 / 16 + "rem"
      ), ne2(
        l63,
        "height",
        /*isRow*/
        i65[2] ? 1 / 16 + "rem" : "100%"
      );
    },
    m(e48, o71) {
      Nt(e48, l63, o71), pt(l63, n72), pt(l63, s60), pt(l63, a62);
      for (let t43 = 0; t43 < u72.length; t43 += 1)
        u72[t43] && u72[t43].m(a62, null);
      pt(l63, f80), pt(l63, _32);
      for (let t43 = 0; t43 < r66.length; t43 += 1)
        r66[t43] && r66[t43].m(_32, null);
    },
    p(e48, [o71]) {
      if (o71 & /*rulerLabels*/
      8) {
        p66 = /*rulerLabels*/
        e48[3];
        let t43;
        for (t43 = 0; t43 < p66.length; t43 += 1) {
          const w49 = H5(e48, p66, t43);
          u72[t43] ? u72[t43].p(w49, o71) : (u72[t43] = I8(w49), u72[t43].c(), u72[t43].m(a62, null));
        }
        for (; t43 < u72.length; t43 += 1)
          u72[t43].d(1);
        u72.length = p66.length;
      }
      o71 & /*rulerTexts, isRow, getRuleDistanceText*/
      22 && (y51 = /*rulerTexts*/
      e48[4], r66 = Ee(r66, o71, q38, 1, e48, y51, c85, _32, ke, L8, null, C14)), o71 & /*type*/
      1 && m66 !== (m66 = "floorplan-plugin__rule-labels floorplan-plugin__rule-labels--" + /*type*/
      e48[0] + " svelte-1fuyezq") && te2(l63, "class", m66), o71 & /*type, isRow*/
      5 && re2(
        l63,
        "is-row",
        /*isRow*/
        e48[2]
      );
    },
    i: N4,
    o: N4,
    d(e48) {
      e48 && J4(l63), Vt(u72, e48);
      for (let o71 = 0; o71 < r66.length; o71 += 1)
        r66[o71].d();
    }
  };
}
var d13 = 1e3;
var b8 = 180;
function J6(i65, l63, n72) {
  let { type: s60 } = l63, { data: a62 } = l63, { bounding: f80 } = l63, { getRuleDistanceText: _32 } = l63;
  const r66 = s60 === "top" || s60 === "bottom", c85 = f80.max.x - f80.min.x - (d13 - b8) * 2, m66 = f80.max.y - f80.min.y - (d13 - b8) * 2, p66 = a62.map(([e48, o71]) => r66 ? [e48.x, o71.x] : [e48.y, o71.y]).flat().sort().filter((e48, o71, t43) => o71 === 0 ? true : e48 !== t43[o71 - 1]), u72 = p66.map((e48) => {
    const o71 = r66 ? (e48 - f80.min.x - d13 + b8) / c85 : 0, t43 = r66 ? 0 : (e48 - f80.min.y - d13 + b8) / m66;
    return { left: o71, bottom: t43 };
  });
  u72.unshift({ left: 0, bottom: 0 }), u72.push(r66 ? { left: 1, bottom: 0 } : { left: 0, bottom: 1 });
  const y51 = p66[p66.length - 1] - p66[0], q38 = p66.map((e48, o71, t43) => {
    const w49 = o71 === 0 ? 0 : e48 - t43[o71 - 1], W25 = o71 === 0 ? 0 : (e48 + t43[o71 - 1]) / 2, M48 = r66 ? (W25 - f80.min.x - d13 + b8) / c85 : 0, N33 = r66 ? 0 : (W25 - f80.min.y - d13 + b8) / m66;
    return { left: M48, bottom: N33, distance: w49 };
  }).filter(({ distance: e48 }) => e48 / y51 > 0.1);
  return i65.$$set = (e48) => {
    "type" in e48 && n72(0, s60 = e48.type), "data" in e48 && n72(5, a62 = e48.data), "bounding" in e48 && n72(6, f80 = e48.bounding), "getRuleDistanceText" in e48 && n72(1, _32 = e48.getRuleDistanceText);
  }, [s60, _32, r66, u72, q38, a62, f80];
}
var Q5 = class extends Ce {
  constructor(l63) {
    super(), Te(
      this,
      l63,
      J6,
      G7,
      Ft,
      {
        type: 0,
        data: 5,
        bounding: 6,
        getRuleDistanceText: 1
      },
      F6
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RuleLabels/RuleLabels.js
function J7(o71) {
  Qt2(o71, "svelte-1mzj9p3", ".floorplan-plugin__rule-labels-wrapper.svelte-1mzj9p3{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);pointer-events:none}");
}
function y9(o71, l63, t43) {
  const r66 = o71.slice();
  return r66[13] = l63[t43][0], r66[14] = l63[t43][1], r66;
}
function b9(o71, l63) {
  let t43, r66, i65;
  const a62 = [
    {
      type: (
        /*type*/
        l63[13]
      ),
      data: (
        /*data*/
        l63[14]
      ),
      bounding: (
        /*bounding*/
        l63[1]
      ),
      getRuleDistanceText: (
        /*getRuleDistanceText*/
        l63[0]
      )
    }
  ];
  let s60 = {};
  for (let e48 = 0; e48 < a62.length; e48 += 1)
    s60 = kt(s60, a62[e48]);
  return r66 = new Q5({ props: s60 }), {
    key: o71,
    first: null,
    c() {
      t43 = Yt(), Ae(r66.$$.fragment), this.first = t43;
    },
    m(e48, n72) {
      Nt(e48, t43, n72), Dt(r66, e48, n72), i65 = true;
    },
    p(e48, n72) {
      l63 = e48;
      const u72 = n72 & /*ruleLabelArray, bounding, getRuleDistanceText*/
      19 ? ve(a62, [
        {
          type: (
            /*type*/
            l63[13]
          ),
          data: (
            /*data*/
            l63[14]
          ),
          bounding: (
            /*bounding*/
            l63[1]
          ),
          getRuleDistanceText: (
            /*getRuleDistanceText*/
            l63[0]
          )
        }
      ]) : {};
      r66.$set(u72);
    },
    i(e48) {
      i65 || (ot(r66.$$.fragment, e48), i65 = true);
    },
    o(e48) {
      $t(r66.$$.fragment, e48), i65 = false;
    },
    d(e48) {
      e48 && J4(t43), Rt(r66, e48);
    }
  };
}
function N7(o71) {
  let l63, t43 = [], r66 = /* @__PURE__ */ new Map(), i65, a62 = (
    /*ruleLabelArray*/
    o71[4]
  );
  const s60 = (e48) => (
    /*type*/
    e48[13]
  );
  for (let e48 = 0; e48 < a62.length; e48 += 1) {
    let n72 = y9(o71, a62, e48), u72 = s60(n72);
    r66.set(u72, t43[e48] = b9(u72, n72));
  }
  return {
    c() {
      l63 = K4("div");
      for (let e48 = 0; e48 < t43.length; e48 += 1)
        t43[e48].c();
      te2(l63, "class", "floorplan-plugin__rule-labels-wrapper svelte-1mzj9p3"), ne2(
        l63,
        "width",
        /*width*/
        o71[3]
      ), ne2(
        l63,
        "height",
        /*height*/
        o71[2]
      );
    },
    m(e48, n72) {
      Nt(e48, l63, n72);
      for (let u72 = 0; u72 < t43.length; u72 += 1)
        t43[u72] && t43[u72].m(l63, null);
      i65 = true;
    },
    p(e48, [n72]) {
      n72 & /*ruleLabelArray, bounding, getRuleDistanceText*/
      19 && (a62 = /*ruleLabelArray*/
      e48[4], Lt(), t43 = Ee(t43, n72, s60, 1, e48, a62, r66, l63, xe, b9, null, y9), Ot()), n72 & /*width*/
      8 && ne2(
        l63,
        "width",
        /*width*/
        e48[3]
      ), n72 & /*height*/
      4 && ne2(
        l63,
        "height",
        /*height*/
        e48[2]
      );
    },
    i(e48) {
      if (!i65) {
        for (let n72 = 0; n72 < a62.length; n72 += 1)
          ot(t43[n72]);
        i65 = true;
      }
    },
    o(e48) {
      for (let n72 = 0; n72 < t43.length; n72 += 1)
        $t(t43[n72]);
      i65 = false;
    },
    d(e48) {
      e48 && J4(l63);
      for (let n72 = 0; n72 < t43.length; n72 += 1)
        t43[n72].d();
    }
  };
}
var D7 = 1e3;
var x6 = 180;
function P10(o71, l63, t43) {
  let r66, i65, a62, s60, e48, n72, u72, m66, d73, p66, { floorIndex: g67 } = l63, { floorplanData: c85 } = l63, { getRuleDistanceText: h66 } = l63;
  return o71.$$set = (f80) => {
    "floorIndex" in f80 && t43(5, g67 = f80.floorIndex), "floorplanData" in f80 && t43(6, c85 = f80.floorplanData), "getRuleDistanceText" in f80 && t43(0, h66 = f80.getRuleDistanceText);
  }, o71.$$.update = () => {
    o71.$$.dirty & /*floorplanData*/
    64 && t43(1, r66 = c85.bounding), o71.$$.dirty & /*floorplanData, floorIndex*/
    96 && t43(11, i65 = c85.floorDatas[g67].rules), o71.$$.dirty & /*ruleLabelData*/
    2048 && t43(12, a62 = Object.keys(i65)), o71.$$.dirty & /*ruleLabelDataKeys, ruleLabelData*/
    6144 && t43(4, s60 = a62.map((f80) => [f80, i65[f80]])), o71.$$.dirty & /*bounding*/
    2 && t43(9, e48 = r66.max.x - r66.min.x), o71.$$.dirty & /*bounding*/
    2 && t43(7, n72 = r66.max.y - r66.min.y), o71.$$.dirty & /*bounding*/
    2 && t43(10, u72 = r66.max.x - r66.min.x - (D7 - x6) * 2), o71.$$.dirty & /*bounding*/
    2 && t43(8, m66 = r66.max.y - r66.min.y - (D7 - x6) * 2), o71.$$.dirty & /*contentWidth, boundingWidth*/
    1536 && t43(3, d73 = u72 / e48 * 100 + "%"), o71.$$.dirty & /*contentHeight, boundingHeight*/
    384 && t43(2, p66 = m66 / n72 * 100 + "%");
  }, [
    h66,
    r66,
    p66,
    d73,
    s60,
    g67,
    c85,
    n72,
    m66,
    e48,
    u72,
    i65,
    a62
  ];
}
var V4 = class extends Ce {
  constructor(l63) {
    super(), Te(
      this,
      l63,
      P10,
      N7,
      Ft,
      {
        floorIndex: 5,
        floorplanData: 6,
        getRuleDistanceText: 0
      },
      J7
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/utils/formatPosition.js
function a14(o71, t43 = {}) {
  let n72 = "";
  const { needZ: r66, needA: i65 } = t43;
  return (r66 ? o71.slice().concat(o71[0]) : o71.slice()).forEach((u72, e48) => {
    const { x: x49, y: s60 } = t43.format ? t43.format(u72) : u72, c85 = x49 + "," + s60;
    return e48 === 0 ? (n72 += "M" + c85, n72) : i65 != null && i65[e48] ? (n72 += "A" + i65[e48] + "," + c85, n72) : (n72 += "L" + c85, n72);
  }), n72 + (r66 ? "Z" : "");
}
function f11({ x: o71, y: t43 }, n72) {
  const { max: r66, min: i65 } = n72;
  return { x: o71 - i65.x, y: r66.y - t43 };
}
function d14(o71, t43) {
  const n72 = o71.x * 1e3 + t43.bounding.origin.x, r66 = -o71.z * 1e3 + t43.bounding.origin.y;
  return { x: n72, y: r66 };
}
function l11(o71, t43) {
  const n72 = t43.bounding, r66 = n72.max.x - n72.min.x, i65 = n72.max.y - n72.min.y;
  return {
    x: (o71.x - n72.min.x) / r66,
    y: (n72.max.y - o71.y) / i65
  };
}
function g5(o71, t43) {
  return Math.max(
    ...t43.work.observers.map((r66) => o71.z >= r66.standingPosition.z ? r66.floorIndex : 0)
  );
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RoomMaterials/RoomMaterial_0.js
function l12(n72) {
  let t43;
  return {
    c() {
      t43 = Mt("path"), te2(
        t43,
        "d",
        /*d*/
        n72[0]
      ), te2(t43, "fill", "#2F313A");
    },
    m(e48, r66) {
      Nt(e48, t43, r66);
    },
    p(e48, [r66]) {
      r66 & /*d*/
      1 && te2(
        t43,
        "d",
        /*d*/
        e48[0]
      );
    },
    i: N4,
    o: N4,
    d(e48) {
      e48 && J4(t43);
    }
  };
}
function _8(n72, t43, e48) {
  let r66, { path: a62 } = t43;
  return n72.$$set = (o71) => {
    "path" in o71 && e48(1, a62 = o71.path);
  }, n72.$$.update = () => {
    n72.$$.dirty & /*path*/
    2 && e48(0, r66 = a14(a62, { needZ: true }));
  }, [r66, a62];
}
var q7 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, _8, l12, Ft, { path: 1 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RoomMaterials/RoomMaterial_1.js
function v10(n72) {
  let a62, e48, i65, p66, f80, o71;
  return {
    c() {
      a62 = Mt("defs"), e48 = Mt("pattern"), i65 = Mt("rect"), p66 = Mt("path"), f80 = Xt(), o71 = Mt("path"), te2(i65, "x", "0"), te2(i65, "y", "0"), te2(
        i65,
        "width",
        /*width*/
        n72[1]
      ), te2(
        i65,
        "height",
        /*width*/
        n72[1]
      ), te2(i65, "fill", "#323747"), te2(
        p66,
        "d",
        /*patternPathD*/
        n72[2]
      ), te2(p66, "stroke", "#ffffff"), te2(p66, "stroke-opacity", "0.06"), te2(p66, "stroke-width", "0.5"), te2(p66, "fill", "none"), te2(e48, "id", "fpm-room-pattern-0"), te2(e48, "x", "0"), te2(e48, "y", "0"), te2(
        e48,
        "width",
        /*width*/
        n72[1]
      ), te2(
        e48,
        "height",
        /*width*/
        n72[1]
      ), te2(e48, "patternUnits", "userSpaceOnUse"), te2(e48, "patternTransform", "scale(50 50)"), te2(
        o71,
        "d",
        /*d*/
        n72[0]
      ), te2(o71, "fill", "url(#fpm-room-pattern-0)");
    },
    m(r66, s60) {
      Nt(r66, a62, s60), pt(a62, e48), pt(e48, i65), pt(e48, p66), Nt(r66, f80, s60), Nt(r66, o71, s60);
    },
    p(r66, [s60]) {
      s60 & /*d*/
      1 && te2(
        o71,
        "d",
        /*d*/
        r66[0]
      );
    },
    i: N4,
    o: N4,
    d(r66) {
      r66 && J4(a62), r66 && J4(f80), r66 && J4(o71);
    }
  };
}
var u12 = 6;
function D8(n72, a62, e48) {
  let i65, { path: p66 } = a62;
  const f80 = u12 * 2, o71 = `M0 ${u12} h ${f80} M${u12} 0 v ${f80}`;
  return n72.$$set = (r66) => {
    "path" in r66 && e48(3, p66 = r66.path);
  }, n72.$$.update = () => {
    n72.$$.dirty & /*path*/
    8 && e48(0, i65 = a14(p66, { needZ: true }));
  }, [i65, f80, o71, p66];
}
var $5 = class extends Ce {
  constructor(a62) {
    super(), Te(this, a62, D8, v10, Ft, { path: 3 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RoomMaterials/RoomMaterial_2.js
function O10(o71) {
  let n72, i65, p66, r66, l63, _32, d73, k47, h66, B42, u72;
  return {
    c() {
      n72 = Mt("defs"), i65 = Mt("pattern"), p66 = Mt("rect"), r66 = Mt("pattern"), l63 = Mt("rect"), _32 = Xt(), d73 = Mt("path"), k47 = Xt(), h66 = Mt("path"), B42 = Xt(), u72 = Mt("path"), te2(p66, "x", "0"), te2(p66, "y", "0"), te2(p66, "width", "6"), te2(p66, "height", "50"), te2(p66, "fill", "none"), te2(p66, "stroke", "#4B4B57"), te2(p66, "stroke-width", "0.5"), te2(i65, "id", "room-material-pattern-1"), te2(i65, "x", "0"), te2(i65, "y", "0"), te2(i65, "width", "12"), te2(i65, "height", "50"), te2(i65, "patternUnits", "userSpaceOnUse"), te2(i65, "patternTransform", "scale(50 50)"), te2(l63, "x", "0"), te2(l63, "y", "0"), te2(l63, "width", "6"), te2(l63, "height", "50"), te2(l63, "fill", "none"), te2(l63, "stroke", "#4B4B57"), te2(l63, "stroke-width", "0.5"), te2(r66, "id", "room-material-pattern-2"), te2(r66, "x", "6"), te2(r66, "y", "25"), te2(r66, "width", "12"), te2(r66, "height", "50"), te2(r66, "patternUnits", "userSpaceOnUse"), te2(r66, "patternTransform", "scale(50 50)"), te2(
        d73,
        "d",
        /*d*/
        o71[0]
      ), te2(d73, "fill", "#43434D"), te2(
        h66,
        "d",
        /*d*/
        o71[0]
      ), te2(h66, "fill", "url(#room-material-pattern-1)"), te2(
        u72,
        "d",
        /*d*/
        o71[0]
      ), te2(u72, "fill", "url(#room-material-pattern-2)");
    },
    m(e48, a62) {
      Nt(e48, n72, a62), pt(n72, i65), pt(i65, p66), pt(n72, r66), pt(r66, l63), Nt(e48, _32, a62), Nt(e48, d73, a62), Nt(e48, k47, a62), Nt(e48, h66, a62), Nt(e48, B42, a62), Nt(e48, u72, a62);
    },
    p(e48, [a62]) {
      a62 & /*d*/
      1 && te2(
        d73,
        "d",
        /*d*/
        e48[0]
      ), a62 & /*d*/
      1 && te2(
        h66,
        "d",
        /*d*/
        e48[0]
      ), a62 & /*d*/
      1 && te2(
        u72,
        "d",
        /*d*/
        e48[0]
      );
    },
    i: N4,
    o: N4,
    d(e48) {
      e48 && J4(n72), e48 && J4(_32), e48 && J4(d73), e48 && J4(k47), e48 && J4(h66), e48 && J4(B42), e48 && J4(u72);
    }
  };
}
function T9(o71, n72, i65) {
  let p66, { path: r66 } = n72;
  return o71.$$set = (l63) => {
    "path" in l63 && i65(1, r66 = l63.path);
  }, o71.$$.update = () => {
    o71.$$.dirty & /*path*/
    2 && i65(0, p66 = a14(r66, { needZ: true }));
  }, [p66, r66];
}
var C15 = class extends Ce {
  constructor(n72) {
    super(), Te(this, n72, T9, O10, Ft, { path: 1 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RoomMaterials/RoomTriangle.js
function g6(n72) {
  let e48;
  return {
    c() {
      e48 = Mt("path"), te2(
        e48,
        "d",
        /*mergedPath*/
        n72[0]
      ), te2(e48, "fill", "#969696"), te2(e48, "stroke", "#969696"), te2(e48, "stroke-width", "1"), te2(e48, "fill-rule", "evenodd");
    },
    m(o71, t43) {
      Nt(o71, e48, t43);
    },
    p: N4,
    i: N4,
    o: N4,
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function p9(n72, e48, o71) {
  let { dimension: t43 } = e48;
  const c85 = a14(
    [
      {
        x: t43.vertical[1].x,
        y: t43.vertical[1].y + 53
      },
      {
        x: t43.vertical[1].x - 60,
        y: t43.vertical[1].y + 124
      },
      {
        x: t43.vertical[1].x + 60,
        y: t43.vertical[1].y + 124
      }
    ],
    { needZ: true }
  ), x49 = a14(
    [
      {
        x: t43.vertical[0].x,
        y: t43.vertical[0].y - 53
      },
      {
        x: t43.vertical[0].x - 60,
        y: t43.vertical[0].y - 124
      },
      {
        x: t43.vertical[0].x + 60,
        y: t43.vertical[0].y - 124
      }
    ],
    { needZ: true }
  ), y51 = a14(
    [
      {
        x: t43.horizontal[0].x + 53,
        y: t43.horizontal[0].y
      },
      {
        x: t43.horizontal[0].x + 124,
        y: t43.horizontal[0].y + 60
      },
      {
        x: t43.horizontal[0].x + 124,
        y: t43.horizontal[0].y - 60
      }
    ],
    { needZ: true }
  ), s60 = a14(
    [
      {
        x: t43.horizontal[1].x - 53,
        y: t43.horizontal[1].y
      },
      {
        x: t43.horizontal[1].x - 124,
        y: t43.horizontal[1].y + 60
      },
      {
        x: t43.horizontal[1].x - 124,
        y: t43.horizontal[1].y - 60
      }
    ],
    { needZ: true }
  ), h66 = `${c85} ${x49} ${y51} ${s60}`;
  return n72.$$set = (l63) => {
    "dimension" in l63 && o71(1, t43 = l63.dimension);
  }, [h66, t43];
}
var _9 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, p9, g6, Ft, { dimension: 1 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RoomMaterials/RoomMaterial.js
var T10 = Object.defineProperty;
var S13 = Object.defineProperties;
var q8 = Object.getOwnPropertyDescriptors;
var E13 = Object.getOwnPropertySymbols;
var C16 = Object.prototype.hasOwnProperty;
var F7 = Object.prototype.propertyIsEnumerable;
var $6 = (r66, e48, n72) => e48 in r66 ? T10(r66, e48, { enumerable: true, configurable: true, writable: true, value: n72 }) : r66[e48] = n72;
var R11 = (r66, e48) => {
  for (var n72 in e48 || (e48 = {}))
    C16.call(e48, n72) && $6(r66, n72, e48[n72]);
  if (E13)
    for (var n72 of E13(e48))
      F7.call(e48, n72) && $6(r66, n72, e48[n72]);
  return r66;
};
var z6 = (r66, e48) => S13(r66, q8(e48));
function Y7(r66) {
  Qt2(r66, "svelte-1dykexu", ".floorplan-plugin__room-material.svelte-1dykexu{position:absolute;left:0;top:0;width:100%;height:100%}svg.svelte-1dykexu{position:absolute;left:0;top:0;width:100%;height:100%;overflow:visible}");
}
function I9(r66, e48, n72) {
  const o71 = r66.slice();
  return o71[8] = e48[n72], o71;
}
function Z3(r66) {
  let e48, n72;
  return e48 = new $5({ props: { path: (
    /*room*/
    r66[8].path
  ) } }), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(o71, t43) {
      Dt(e48, o71, t43), n72 = true;
    },
    p(o71, t43) {
      const m66 = {};
      t43 & /*rooms*/
      1 && (m66.path = /*room*/
      o71[8].path), e48.$set(m66);
    },
    i(o71) {
      n72 || (ot(e48.$$.fragment, o71), n72 = true);
    },
    o(o71) {
      $t(e48.$$.fragment, o71), n72 = false;
    },
    d(o71) {
      Rt(e48, o71);
    }
  };
}
function x7(r66) {
  let e48, n72;
  return e48 = new C15({ props: { path: (
    /*room*/
    r66[8].path
  ) } }), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(o71, t43) {
      Dt(e48, o71, t43), n72 = true;
    },
    p(o71, t43) {
      const m66 = {};
      t43 & /*rooms*/
      1 && (m66.path = /*room*/
      o71[8].path), e48.$set(m66);
    },
    i(o71) {
      n72 || (ot(e48.$$.fragment, o71), n72 = true);
    },
    o(o71) {
      $t(e48.$$.fragment, o71), n72 = false;
    },
    d(o71) {
      Rt(e48, o71);
    }
  };
}
function ee3(r66) {
  let e48, n72;
  return e48 = new q7({ props: { path: (
    /*room*/
    r66[8].path
  ) } }), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(o71, t43) {
      Dt(e48, o71, t43), n72 = true;
    },
    p(o71, t43) {
      const m66 = {};
      t43 & /*rooms*/
      1 && (m66.path = /*room*/
      o71[8].path), e48.$set(m66);
    },
    i(o71) {
      n72 || (ot(e48.$$.fragment, o71), n72 = true);
    },
    o(o71) {
      $t(e48.$$.fragment, o71), n72 = false;
    },
    d(o71) {
      Rt(e48, o71);
    }
  };
}
function L9(r66) {
  let e48, n72, o71;
  return n72 = new _9({
    props: { dimension: (
      /*room*/
      r66[8].dimension
    ) }
  }), {
    c() {
      e48 = Mt("svg"), Ae(n72.$$.fragment), te2(e48, "width", "100%"), te2(e48, "height", "100%"), te2(e48, "viewBox", `0 0 ${/*boundingWidth*/
      r66[1]} ${/*boundingHeight*/
      r66[2]}`), te2(e48, "class", "svelte-1dykexu");
    },
    m(t43, m66) {
      Nt(t43, e48, m66), Dt(n72, e48, null), o71 = true;
    },
    p(t43, m66) {
      const l63 = {};
      m66 & /*rooms*/
      1 && (l63.dimension = /*room*/
      t43[8].dimension), n72.$set(l63);
    },
    i(t43) {
      o71 || (ot(n72.$$.fragment, t43), o71 = true);
    },
    o(t43) {
      $t(n72.$$.fragment, t43), o71 = false;
    },
    d(t43) {
      t43 && J4(e48), Rt(n72);
    }
  };
}
function M11(r66) {
  let e48, n72, o71, t43, m66 = (
    /*allowShowArrow*/
    r66[3] && /*room*/
    r66[8].dimension && Array.isArray(
      /*room*/
      r66[8].dimension.vertical
    ) && /*room*/
    r66[8].dimension.vertical.length > 0 && Array.isArray(
      /*room*/
      r66[8].dimension.horizontal
    ) && /*room*/
    r66[8].dimension.horizontal.length > 0
  ), l63, s60;
  const f80 = [ee3, x7, Z3], u72 = [];
  function b55(a62, _32) {
    return (
      /*room*/
      a62[8].floorType === 1 ? 0 : (
        /*room*/
        a62[8].floorType === 0 ? 1 : 2
      )
    );
  }
  n72 = b55(r66), o71 = u72[n72] = f80[n72](r66);
  let i65 = m66 && L9(r66);
  return {
    c() {
      e48 = Mt("svg"), o71.c(), t43 = Xt(), i65 && i65.c(), l63 = Yt(), te2(e48, "width", "100%"), te2(e48, "height", "100%"), te2(e48, "viewBox", `0 0 ${/*boundingWidth*/
      r66[1]} ${/*boundingHeight*/
      r66[2]}`), te2(e48, "class", "svelte-1dykexu");
    },
    m(a62, _32) {
      Nt(a62, e48, _32), u72[n72].m(e48, null), Nt(a62, t43, _32), i65 && i65.m(a62, _32), Nt(a62, l63, _32), s60 = true;
    },
    p(a62, _32) {
      let w49 = n72;
      n72 = b55(a62), n72 === w49 ? u72[n72].p(a62, _32) : (Lt(), $t(u72[w49], 1, 1, () => {
        u72[w49] = null;
      }), Ot(), o71 = u72[n72], o71 ? o71.p(a62, _32) : (o71 = u72[n72] = f80[n72](a62), o71.c()), ot(o71, 1), o71.m(e48, null)), _32 & /*rooms*/
      1 && (m66 = /*allowShowArrow*/
      a62[3] && /*room*/
      a62[8].dimension && Array.isArray(
        /*room*/
        a62[8].dimension.vertical
      ) && /*room*/
      a62[8].dimension.vertical.length > 0 && Array.isArray(
        /*room*/
        a62[8].dimension.horizontal
      ) && /*room*/
      a62[8].dimension.horizontal.length > 0), m66 ? i65 ? (i65.p(a62, _32), _32 & /*rooms*/
      1 && ot(i65, 1)) : (i65 = L9(a62), i65.c(), ot(i65, 1), i65.m(l63.parentNode, l63)) : i65 && (Lt(), $t(i65, 1, 1, () => {
        i65 = null;
      }), Ot());
    },
    i(a62) {
      s60 || (ot(o71), ot(i65), s60 = true);
    },
    o(a62) {
      $t(o71), $t(i65), s60 = false;
    },
    d(a62) {
      a62 && J4(e48), u72[n72].d(), a62 && J4(t43), i65 && i65.d(a62), a62 && J4(l63);
    }
  };
}
function oe4(r66) {
  let e48, n72, o71 = (
    /*rooms*/
    r66[0]
  ), t43 = [];
  for (let l63 = 0; l63 < o71.length; l63 += 1)
    t43[l63] = M11(I9(r66, o71, l63));
  const m66 = (l63) => $t(t43[l63], 1, 1, () => {
    t43[l63] = null;
  });
  return {
    c() {
      e48 = K4("div");
      for (let l63 = 0; l63 < t43.length; l63 += 1)
        t43[l63].c();
      te2(e48, "class", "floorplan-plugin__room-material svelte-1dykexu");
    },
    m(l63, s60) {
      Nt(l63, e48, s60);
      for (let f80 = 0; f80 < t43.length; f80 += 1)
        t43[f80] && t43[f80].m(e48, null);
      n72 = true;
    },
    p(l63, [s60]) {
      if (s60 & /*boundingWidth, boundingHeight, rooms, allowShowArrow, Array*/
      15) {
        o71 = /*rooms*/
        l63[0];
        let f80;
        for (f80 = 0; f80 < o71.length; f80 += 1) {
          const u72 = I9(l63, o71, f80);
          t43[f80] ? (t43[f80].p(u72, s60), ot(t43[f80], 1)) : (t43[f80] = M11(u72), t43[f80].c(), ot(t43[f80], 1), t43[f80].m(e48, null));
        }
        for (Lt(), f80 = o71.length; f80 < t43.length; f80 += 1)
          m66(f80);
        Ot();
      }
    },
    i(l63) {
      if (!n72) {
        for (let s60 = 0; s60 < o71.length; s60 += 1)
          ot(t43[s60]);
        n72 = true;
      }
    },
    o(l63) {
      t43 = t43.filter(Boolean);
      for (let s60 = 0; s60 < t43.length; s60 += 1)
        $t(t43[s60]);
      n72 = false;
    },
    d(l63) {
      l63 && J4(e48), Vt(t43, l63);
    }
  };
}
function ne4(r66, e48, n72) {
  let o71, { roomLabelsEnable: t43 } = e48, { roomDimensionEnable: m66 } = e48, { floorIndex: l63 } = e48, { floorplanData: s60 } = e48;
  const f80 = s60.bounding.max.x - s60.bounding.min.x, u72 = s60.bounding.max.y - s60.bounding.min.y, b55 = t43 && m66;
  return r66.$$set = (i65) => {
    "roomLabelsEnable" in i65 && n72(4, t43 = i65.roomLabelsEnable), "roomDimensionEnable" in i65 && n72(5, m66 = i65.roomDimensionEnable), "floorIndex" in i65 && n72(6, l63 = i65.floorIndex), "floorplanData" in i65 && n72(7, s60 = i65.floorplanData);
  }, r66.$$.update = () => {
    r66.$$.dirty & /*floorplanData, floorIndex*/
    192 && n72(0, o71 = s60.floorDatas[l63].rooms.map((i65) => z6(R11({}, i65), {
      path: i65.path.map((a62) => f11(a62, s60.bounding))
    })));
  }, [
    o71,
    f80,
    u72,
    b55,
    t43,
    m66,
    l63,
    s60
  ];
}
var me3 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      ne4,
      oe4,
      Ft,
      {
        roomLabelsEnable: 4,
        roomDimensionEnable: 5,
        floorIndex: 6,
        floorplanData: 7
      },
      Y7
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RoomHighlight/Room.js
function L10(e48) {
  Qt2(e48, "svelte-qq2273", "path.svelte-qq2273{--opacity:0;opacity:var(--opacity)}path.svelte-qq2273:hover{opacity:calc(var(--opacity) + 0.1)}");
}
function P11(e48) {
  let t43, n72, l63, h66;
  return {
    c() {
      t43 = Mt("path"), te2(
        t43,
        "d",
        /*_pathD*/
        e48[5]
      ), te2(t43, "fill", "#fff"), te2(
        t43,
        "style",
        /*style*/
        e48[2]
      ), te2(t43, "id", n72 = `${/*floorIndex*/
      e48[1]}_${/*room*/
      e48[0].id}`), te2(t43, "class", "svelte-qq2273");
    },
    m(o71, a62) {
      Nt(o71, t43, a62), l63 || (h66 = [
        lt(
          t43,
          "mouseenter",
          /*onMouseEnter*/
          e48[3]
        ),
        lt(
          t43,
          "mouseleave",
          /*onMouseLeave*/
          e48[4]
        )
      ], l63 = true);
    },
    p(o71, [a62]) {
      a62 & /*style*/
      4 && te2(
        t43,
        "style",
        /*style*/
        o71[2]
      ), a62 & /*floorIndex, room*/
      3 && n72 !== (n72 = `${/*floorIndex*/
      o71[1]}_${/*room*/
      o71[0].id}`) && te2(t43, "id", n72);
    },
    i: N4,
    o: N4,
    d(o71) {
      o71 && J4(t43), l63 = false, M8(h66);
    }
  };
}
function R12(e48, t43, n72) {
  let l63, h66, { room: o71 } = t43, { floorIndex: a62 } = t43, { floorplanData: u72 } = t43, { highlightData: s60 } = t43, { hoveredRoom: f80 } = t43;
  function m66() {
    f80 == null || f80.set(o71);
  }
  function g67() {
    f80 == null || f80.set(void 0);
  }
  const { bounding: _32 } = u72, y51 = a14(o71.path, {
    needZ: true,
    format: (i65) => f11(i65, _32)
  });
  return e48.$$set = (i65) => {
    "room" in i65 && n72(0, o71 = i65.room), "floorIndex" in i65 && n72(1, a62 = i65.floorIndex), "floorplanData" in i65 && n72(6, u72 = i65.floorplanData), "highlightData" in i65 && n72(7, s60 = i65.highlightData), "hoveredRoom" in i65 && n72(8, f80 = i65.hoveredRoom);
  }, e48.$$.update = () => {
    e48.$$.dirty & /*highlightData, floorIndex, room*/
    131 && n72(9, l63 = s60[`${a62}_${o71.id}`]), e48.$$.dirty & /*highlight*/
    512 && n72(2, h66 = l63 ? `fill: ${l63.color}; --opacity: ${l63.opacity}; pointer-events: ${l63.disabled ? "none" : "auto"}` : null);
  }, [
    o71,
    a62,
    h66,
    m66,
    g67,
    y51,
    u72,
    s60,
    f80,
    l63
  ];
}
var j4 = class extends Ce {
  constructor(t43) {
    super(), Te(
      this,
      t43,
      R12,
      P11,
      Ft,
      {
        room: 0,
        floorIndex: 1,
        floorplanData: 6,
        highlightData: 7,
        hoveredRoom: 8
      },
      L10
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/RoomHighlight/RoomHighlight.js
function A12(r66) {
  Qt2(r66, "svelte-1kqo6e4", ".floorplan-plugin__room-highlight.svelte-1kqo6e4{position:absolute;width:100%;height:100%}svg.svelte-1kqo6e4{width:100%;height:100%;overflow:visible}");
}
function u13(r66, l63, n72) {
  const o71 = r66.slice();
  return o71[6] = l63[n72], o71;
}
function m16(r66, l63) {
  let n72, o71, a62;
  const s60 = [
    {
      room: (
        /*room*/
        l63[6]
      ),
      floorplanData: (
        /*floorplanData*/
        l63[1]
      ),
      hoveredRoom: (
        /*hoveredRoom*/
        l63[3]
      ),
      floorIndex: (
        /*floorIndex*/
        l63[0]
      ),
      highlightData: (
        /*highlightData*/
        l63[2]
      )
    }
  ];
  let h66 = {};
  for (let i65 = 0; i65 < s60.length; i65 += 1)
    h66 = kt(h66, s60[i65]);
  return o71 = new j4({ props: h66 }), {
    key: r66,
    first: null,
    c() {
      n72 = Yt(), Ae(o71.$$.fragment), this.first = n72;
    },
    m(i65, t43) {
      Nt(i65, n72, t43), Dt(o71, i65, t43), a62 = true;
    },
    p(i65, t43) {
      l63 = i65;
      const e48 = t43 & /*floorplanData, floorIndex, hoveredRoom, highlightData*/
      15 ? ve(s60, [
        {
          room: (
            /*room*/
            l63[6]
          ),
          floorplanData: (
            /*floorplanData*/
            l63[1]
          ),
          hoveredRoom: (
            /*hoveredRoom*/
            l63[3]
          ),
          floorIndex: (
            /*floorIndex*/
            l63[0]
          ),
          highlightData: (
            /*highlightData*/
            l63[2]
          )
        }
      ]) : {};
      o71.$set(e48);
    },
    i(i65) {
      a62 || (ot(o71.$$.fragment, i65), a62 = true);
    },
    o(i65) {
      $t(o71.$$.fragment, i65), a62 = false;
    },
    d(i65) {
      i65 && J4(n72), Rt(o71, i65);
    }
  };
}
function E14(r66) {
  let l63, n72, o71 = [], a62 = /* @__PURE__ */ new Map(), s60, h66 = (
    /*floorplanData*/
    r66[1].floorDatas[
      /*floorIndex*/
      r66[0]
    ].rooms
  );
  const i65 = (t43) => (
    /*room*/
    t43[6].id
  );
  for (let t43 = 0; t43 < h66.length; t43 += 1) {
    let e48 = u13(r66, h66, t43), f80 = i65(e48);
    a62.set(f80, o71[t43] = m16(f80, e48));
  }
  return {
    c() {
      l63 = K4("div"), n72 = Mt("svg");
      for (let t43 = 0; t43 < o71.length; t43 += 1)
        o71[t43].c();
      te2(n72, "width", "100%"), te2(n72, "height", "100%"), te2(n72, "viewBox", `0 0 ${/*boundingWidth*/
      r66[4]} ${/*boundingHeight*/
      r66[5]}`), te2(n72, "class", "svelte-1kqo6e4"), te2(l63, "class", "floorplan-plugin__room-highlight svelte-1kqo6e4");
    },
    m(t43, e48) {
      Nt(t43, l63, e48), pt(l63, n72);
      for (let f80 = 0; f80 < o71.length; f80 += 1)
        o71[f80] && o71[f80].m(n72, null);
      s60 = true;
    },
    p(t43, [e48]) {
      e48 & /*floorplanData, floorIndex, hoveredRoom, highlightData*/
      15 && (h66 = /*floorplanData*/
      t43[1].floorDatas[
        /*floorIndex*/
        t43[0]
      ].rooms, Lt(), o71 = Ee(o71, e48, i65, 1, t43, h66, a62, n72, xe, m16, null, u13), Ot());
    },
    i(t43) {
      if (!s60) {
        for (let e48 = 0; e48 < h66.length; e48 += 1)
          ot(o71[e48]);
        s60 = true;
      }
    },
    o(t43) {
      for (let e48 = 0; e48 < o71.length; e48 += 1)
        $t(o71[e48]);
      s60 = false;
    },
    d(t43) {
      t43 && J4(l63);
      for (let e48 = 0; e48 < o71.length; e48 += 1)
        o71[e48].d();
    }
  };
}
function F8(r66, l63, n72) {
  let { floorIndex: o71 } = l63, { floorplanData: a62 } = l63, { highlightData: s60 } = l63, { hoveredRoom: h66 } = l63;
  const i65 = a62.bounding.max.x - a62.bounding.min.x, t43 = a62.bounding.max.y - a62.bounding.min.y;
  return r66.$$set = (e48) => {
    "floorIndex" in e48 && n72(0, o71 = e48.floorIndex), "floorplanData" in e48 && n72(1, a62 = e48.floorplanData), "highlightData" in e48 && n72(2, s60 = e48.highlightData), "hoveredRoom" in e48 && n72(3, h66 = e48.hoveredRoom);
  }, [
    o71,
    a62,
    s60,
    h66,
    i65,
    t43
  ];
}
var K5 = class extends Ce {
  constructor(l63) {
    super(), Te(
      this,
      l63,
      F8,
      E14,
      Ft,
      {
        floorIndex: 0,
        floorplanData: 1,
        highlightData: 2,
        hoveredRoom: 3
      },
      A12
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/MissingFloor.js
function b10(s60) {
  Qt2(s60, "svelte-3vzs9z", ".missing-floor.svelte-3vzs9z{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);display:flex;flex-direction:column;align-items:center}.text.svelte-3vzs9z{margin-top:0.75rem;color:#fff;opacity:0.3;white-space:nowrap}");
}
function u14(s60) {
  let e48, t43 = (
    /*missingFloorConfig*/
    s60[0].text + ""
  ), l63;
  return {
    c() {
      e48 = K4("span"), l63 = gt(t43), te2(e48, "class", "text svelte-3vzs9z"), ne2(
        e48,
        "font-size",
        /*missingFloorConfig*/
        s60[0].textFontSize + "px"
      );
    },
    m(n72, i65) {
      Nt(n72, e48, i65), pt(e48, l63);
    },
    p(n72, i65) {
      i65 & /*missingFloorConfig*/
      1 && t43 !== (t43 = /*missingFloorConfig*/
      n72[0].text + "") && ee2(l63, t43), i65 & /*missingFloorConfig*/
      1 && ne2(
        e48,
        "font-size",
        /*missingFloorConfig*/
        n72[0].textFontSize + "px"
      );
    },
    d(n72) {
      n72 && J4(e48);
    }
  };
}
function S14(s60) {
  let e48, t43, l63, n72, i65 = (
    /*missingFloorConfig*/
    s60[0].text && u14(s60)
  );
  return {
    c() {
      e48 = K4("div"), t43 = K4("img"), n72 = Xt(), i65 && i65.c(), te2(t43, "class", "image"), te2(t43, "alt", "缺省楼层展位图"), Wt(t43.src, l63 = /*missingFloorConfig*/
      s60[0].imageURL) || te2(t43, "src", l63), ne2(
        t43,
        "width",
        /*missingFloorConfig*/
        s60[0].imageWidth + "px"
      ), ne2(
        t43,
        "height",
        /*missingFloorConfig*/
        s60[0].imageHeight + "px"
      ), ne2(t43, "max-width", "none"), te2(e48, "class", "missing-floor svelte-3vzs9z");
    },
    m(o71, f80) {
      Nt(o71, e48, f80), pt(e48, t43), pt(e48, n72), i65 && i65.m(e48, null);
    },
    p(o71, [f80]) {
      f80 & /*missingFloorConfig*/
      1 && !Wt(t43.src, l63 = /*missingFloorConfig*/
      o71[0].imageURL) && te2(t43, "src", l63), f80 & /*missingFloorConfig*/
      1 && ne2(
        t43,
        "width",
        /*missingFloorConfig*/
        o71[0].imageWidth + "px"
      ), f80 & /*missingFloorConfig*/
      1 && ne2(
        t43,
        "height",
        /*missingFloorConfig*/
        o71[0].imageHeight + "px"
      ), /*missingFloorConfig*/
      o71[0].text ? i65 ? i65.p(o71, f80) : (i65 = u14(o71), i65.c(), i65.m(e48, null)) : i65 && (i65.d(1), i65 = null);
    },
    i: N4,
    o: N4,
    d(o71) {
      o71 && J4(e48), i65 && i65.d();
    }
  };
}
function k9(s60, e48, t43) {
  let { missingFloorConfig: l63 } = e48;
  return s60.$$set = (n72) => {
    "missingFloorConfig" in n72 && t43(0, l63 = n72.missingFloorConfig);
  }, [l63];
}
var H6 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, k9, S14, Ft, { missingFloorConfig: 0 }, b10);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Assets/camera.js
var v11 = "data:image/png;base64,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";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/math/rad2Deg.js
function t13(r66) {
  return r66 * 180 / Math.PI;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/Camera.js
function C17(a62) {
  Qt2(a62, "svelte-17hhq1b", ".floorplan__camera-position.svelte-17hhq1b{pointer-events:none;position:absolute;width:0;height:0}.floorplan__camera-rotate.svelte-17hhq1b{position:absolute;background-repeat:no-repeat;background-size:100%}");
}
function R13(a62) {
  let n72, e48;
  return {
    c() {
      n72 = K4("div"), e48 = K4("div"), te2(e48, "class", "floorplan__camera-rotate svelte-17hhq1b"), ne2(e48, "background-image", `url(${/*cameraImageUrl*/
      a62[0] || v11})`), ne2(
        e48,
        "width",
        /*domSizeStyle*/
        a62[4]
      ), ne2(
        e48,
        "height",
        /*domSizeStyle*/
        a62[4]
      ), ne2(e48, "left", "-" + /*domSizeStyle*/
      a62[4]), ne2(e48, "top", "-" + /*domSizeStyle*/
      a62[4]), ne2(e48, "transform", `rotate(${/*rotate*/
      a62[3]}deg)`), ne2(e48, "transform-origin", `${/*domSizeStyle*/
      a62[4]} ${/*domSizeStyle*/
      a62[4]}`), te2(n72, "class", "floorplan__camera-position svelte-17hhq1b"), ne2(
        n72,
        "left",
        /*positionLeft*/
        a62[1]
      ), ne2(
        n72,
        "top",
        /*positionTop*/
        a62[2]
      );
    },
    m(o71, r66) {
      Nt(o71, n72, r66), pt(n72, e48);
    },
    p(o71, [r66]) {
      r66 & /*cameraImageUrl*/
      1 && ne2(e48, "background-image", `url(${/*cameraImageUrl*/
      o71[0] || v11})`);
      const i65 = r66 & /*cameraImageUrl*/
      1;
      i65 && ne2(
        e48,
        "width",
        /*domSizeStyle*/
        o71[4]
      ), i65 && ne2(
        e48,
        "height",
        /*domSizeStyle*/
        o71[4]
      ), i65 && ne2(e48, "left", "-" + /*domSizeStyle*/
      o71[4]), i65 && ne2(e48, "top", "-" + /*domSizeStyle*/
      o71[4]), i65 && ne2(e48, "transform", `rotate(${/*rotate*/
      o71[3]}deg)`), i65 && ne2(e48, "transform-origin", `${/*domSizeStyle*/
      o71[4]} ${/*domSizeStyle*/
      o71[4]}`);
    },
    i: N4,
    o: N4,
    d(o71) {
      o71 && J4(n72);
    }
  };
}
function S15(a62, n72, e48) {
  let { panoIndex: o71 } = n72, { floorplanData: r66 } = n72, { lastPanoramaLongitude: i65 } = n72, { cameraImageUrl: l63 } = n72;
  const { observers: h66 } = r66, m66 = h66[o71], u72 = m66.positionInImage.x, p66 = m66.positionInImage.y, b55 = u72 * 100 + "%", _32 = p66 * 100 + "%", I49 = -t13(i65) + 45, v58 = document.body.clientWidth, y51 = document.body.clientHeight, q38 = `${(v58 < 500 || y51 < 500 ? 17 : 37) / 16}rem`;
  return a62.$$set = (s60) => {
    "panoIndex" in s60 && e48(5, o71 = s60.panoIndex), "floorplanData" in s60 && e48(6, r66 = s60.floorplanData), "lastPanoramaLongitude" in s60 && e48(7, i65 = s60.lastPanoramaLongitude), "cameraImageUrl" in s60 && e48(0, l63 = s60.cameraImageUrl);
  }, [
    l63,
    b55,
    _32,
    I49,
    q38,
    o71,
    r66,
    i65
  ];
}
var G8 = class extends Ce {
  constructor(n72) {
    super(), Te(
      this,
      n72,
      S15,
      R13,
      Ft,
      {
        panoIndex: 5,
        floorplanData: 6,
        lastPanoramaLongitude: 7,
        cameraImageUrl: 0
      },
      C17
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Assets/compass.js
var t14 = "data:image/png;base64,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";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/Compass.js
function A13(r66) {
  Qt2(r66, "svelte-rpkaro", ".floorplan-plugin__compass.svelte-rpkaro{position:absolute;left:50%;top:-2.875rem;width:14.4375rem;height:2.5625rem;will-change:opacity;transform-origin:center 11.5rem}.floorplan-plugin__compass-image.svelte-rpkaro{width:100%;height:100%;position:absolute;left:0;top:0;opacity:0.1;background-repeat:no-repeat;background-size:100% 100%}.floorplan-plugin__compass-text.svelte-rpkaro{position:absolute;left:50%;top:0.9375rem;transform:translateX(-50%);opacity:0.2;font-weight:bold;font-size:0.625rem;color:#fff}");
}
function M12(r66) {
  let t43, e48, o71, a62, n72;
  return {
    c() {
      t43 = K4("div"), e48 = K4("div"), o71 = Xt(), a62 = K4("span"), n72 = gt(
        /*northDesc*/
        r66[0]
      ), te2(e48, "class", "floorplan-plugin__compass-image svelte-rpkaro"), ne2(e48, "background-image", `url(${t14})`), te2(a62, "class", "floorplan-plugin__compass-text svelte-rpkaro"), te2(t43, "class", "floorplan-plugin__compass svelte-rpkaro"), ne2(
        t43,
        "transform",
        /*compassTransformStyle*/
        r66[2]
      );
    },
    m(s60, l63) {
      Nt(s60, t43, l63), pt(t43, e48), pt(t43, o71), pt(t43, a62), pt(a62, n72);
    },
    p(s60, l63) {
      l63 & /*northDesc*/
      1 && ee2(
        n72,
        /*northDesc*/
        s60[0]
      );
    },
    d(s60) {
      s60 && J4(t43);
    }
  };
}
function R14(r66) {
  let t43, e48 = (
    /*canCompassShow*/
    r66[1] && M12(r66)
  );
  return {
    c() {
      e48 && e48.c(), t43 = Yt();
    },
    m(o71, a62) {
      e48 && e48.m(o71, a62), Nt(o71, t43, a62);
    },
    p(o71, [a62]) {
      o71[1] && e48.p(o71, a62);
    },
    i: N4,
    o: N4,
    d(o71) {
      e48 && e48.d(o71), o71 && J4(t43);
    }
  };
}
function X7(r66, t43, e48) {
  var m66;
  let { floorplanData: o71 } = t43, { northDesc: a62 } = t43;
  const n72 = (m66 = o71.entrance) == null ? void 0 : m66.northRad, s60 = typeof n72 == "number", h66 = `translateX(-50%) translateZ(10px) rotate(${-(n72 ? t13(n72) : 0) + 90}deg)`;
  return r66.$$set = (i65) => {
    "floorplanData" in i65 && e48(3, o71 = i65.floorplanData), "northDesc" in i65 && e48(0, a62 = i65.northDesc);
  }, [a62, s60, h66, o71];
}
var I10 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, X7, R14, Ft, { floorplanData: 3, northDesc: 0 }, A13);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/CurrentFloor.js
function ge3(a62) {
  Qt2(a62, "svelte-bl8zrz", ".floorplan-plugin__floor.svelte-bl8zrz{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;pointer-events:none}.floorplan-plugin__floor--is-current.svelte-bl8zrz{opacity:1;pointer-events:auto}");
}
function _e4(a62) {
  let l63, n72, r66, i65, e48, f80, b55, I49, u72, R43, d73, w49;
  const O40 = [
    {
      floorIndex: (
        /*floorIndex*/
        a62[2]
      ),
      floorplanData: (
        /*floorplanData*/
        a62[12]
      ),
      roomLabelsEnable: (
        /*roomLabelsEnable*/
        a62[6]
      ),
      roomDimensionEnable: (
        /*roomDimensionEnable*/
        a62[10]
      )
    }
  ];
  let P55 = {};
  for (let o71 = 0; o71 < O40.length; o71 += 1)
    P55 = kt(P55, O40[o71]);
  l63 = new me3({ props: P55 });
  let g67 = (
    /*highlightEnable*/
    (a62[3] || /*hoverEnable*/
    a62[5]) && K6(a62)
  );
  const U33 = [
    {
      floorplanData: (
        /*floorplanData*/
        a62[12]
      ),
      floorIndex: (
        /*floorIndex*/
        a62[2]
      )
    }
  ];
  let A62 = {};
  for (let o71 = 0; o71 < U33.length; o71 += 1)
    A62 = kt(A62, U33[o71]);
  i65 = new F5({ props: A62 });
  const V25 = [
    {
      floorplanData: (
        /*floorplanData*/
        a62[12]
      ),
      floorIndex: (
        /*floorIndex*/
        a62[2]
      )
    }
  ];
  let p66 = {};
  for (let o71 = 0; o71 < V25.length; o71 += 1)
    p66 = kt(p66, V25[o71]);
  f80 = new Q4({ props: p66 });
  let _32 = (
    /*roomLabelsEnable*/
    a62[6] && Q6(a62)
  ), E53 = (
    /*ruleLabelsEnable*/
    a62[11] && W7(a62)
  ), h66 = (
    /*cameraEnable*/
    a62[4] && X8(a62)
  ), D52 = (
    /*compassEnable*/
    a62[23] && Y8(a62)
  );
  return {
    c() {
      Ae(l63.$$.fragment), n72 = Xt(), g67 && g67.c(), r66 = Xt(), Ae(i65.$$.fragment), e48 = Xt(), Ae(f80.$$.fragment), b55 = Xt(), _32 && _32.c(), I49 = Xt(), E53 && E53.c(), u72 = Xt(), h66 && h66.c(), R43 = Xt(), D52 && D52.c(), d73 = Yt();
    },
    m(o71, m66) {
      Dt(l63, o71, m66), Nt(o71, n72, m66), g67 && g67.m(o71, m66), Nt(o71, r66, m66), Dt(i65, o71, m66), Nt(o71, e48, m66), Dt(f80, o71, m66), Nt(o71, b55, m66), _32 && _32.m(o71, m66), Nt(o71, I49, m66), E53 && E53.m(o71, m66), Nt(o71, u72, m66), h66 && h66.m(o71, m66), Nt(o71, R43, m66), D52 && D52.m(o71, m66), Nt(o71, d73, m66), w49 = true;
    },
    p(o71, m66) {
      const B42 = m66 & /*floorIndex, floorplanData, roomLabelsEnable, roomDimensionEnable*/
      5188 ? ve(O40, [
        {
          floorIndex: (
            /*floorIndex*/
            o71[2]
          ),
          floorplanData: (
            /*floorplanData*/
            o71[12]
          ),
          roomLabelsEnable: (
            /*roomLabelsEnable*/
            o71[6]
          ),
          roomDimensionEnable: (
            /*roomDimensionEnable*/
            o71[10]
          )
        }
      ]) : {};
      l63.$set(B42), /*highlightEnable*/
      o71[3] || /*hoverEnable*/
      o71[5] ? g67 ? (g67.p(o71, m66), m66 & /*highlightEnable, hoverEnable*/
      40 && ot(g67, 1)) : (g67 = K6(o71), g67.c(), ot(g67, 1), g67.m(r66.parentNode, r66)) : g67 && (Lt(), $t(g67, 1, 1, () => {
        g67 = null;
      }), Ot());
      const H39 = m66 & /*floorplanData, floorIndex*/
      4100 ? ve(U33, [
        {
          floorplanData: (
            /*floorplanData*/
            o71[12]
          ),
          floorIndex: (
            /*floorIndex*/
            o71[2]
          )
        }
      ]) : {};
      i65.$set(H39);
      const S52 = m66 & /*floorplanData, floorIndex*/
      4100 ? ve(V25, [
        {
          floorplanData: (
            /*floorplanData*/
            o71[12]
          ),
          floorIndex: (
            /*floorIndex*/
            o71[2]
          )
        }
      ]) : {};
      f80.$set(S52), /*roomLabelsEnable*/
      o71[6] ? _32 ? (_32.p(o71, m66), m66 & /*roomLabelsEnable*/
      64 && ot(_32, 1)) : (_32 = Q6(o71), _32.c(), ot(_32, 1), _32.m(I49.parentNode, I49)) : _32 && (Lt(), $t(_32, 1, 1, () => {
        _32 = null;
      }), Ot()), /*ruleLabelsEnable*/
      o71[11] ? E53 ? (E53.p(o71, m66), m66 & /*ruleLabelsEnable*/
      2048 && ot(E53, 1)) : (E53 = W7(o71), E53.c(), ot(E53, 1), E53.m(u72.parentNode, u72)) : E53 && (Lt(), $t(E53, 1, 1, () => {
        E53 = null;
      }), Ot()), /*cameraEnable*/
      o71[4] ? h66 ? (h66.p(o71, m66), m66 & /*cameraEnable*/
      16 && ot(h66, 1)) : (h66 = X8(o71), h66.c(), ot(h66, 1), h66.m(R43.parentNode, R43)) : h66 && (Lt(), $t(h66, 1, 1, () => {
        h66 = null;
      }), Ot()), /*compassEnable*/
      o71[23] ? D52 ? (D52.p(o71, m66), m66 & /*compassEnable*/
      8388608 && ot(D52, 1)) : (D52 = Y8(o71), D52.c(), ot(D52, 1), D52.m(d73.parentNode, d73)) : D52 && (Lt(), $t(D52, 1, 1, () => {
        D52 = null;
      }), Ot());
    },
    i(o71) {
      w49 || (ot(l63.$$.fragment, o71), ot(g67), ot(i65.$$.fragment, o71), ot(f80.$$.fragment, o71), ot(_32), ot(E53), ot(h66), ot(D52), w49 = true);
    },
    o(o71) {
      $t(l63.$$.fragment, o71), $t(g67), $t(i65.$$.fragment, o71), $t(f80.$$.fragment, o71), $t(_32), $t(E53), $t(h66), $t(D52), w49 = false;
    },
    d(o71) {
      Rt(l63, o71), o71 && J4(n72), g67 && g67.d(o71), o71 && J4(r66), Rt(i65, o71), o71 && J4(e48), Rt(f80, o71), o71 && J4(b55), _32 && _32.d(o71), o71 && J4(I49), E53 && E53.d(o71), o71 && J4(u72), h66 && h66.d(o71), o71 && J4(R43), D52 && D52.d(o71), o71 && J4(d73);
    }
  };
}
function Ee2(a62) {
  let l63, n72;
  return l63 = new H6({
    props: {
      missingFloorConfig: (
        /*missingFloorConfig*/
        a62[19]
      )
    }
  }), {
    c() {
      Ae(l63.$$.fragment);
    },
    m(r66, i65) {
      Dt(l63, r66, i65), n72 = true;
    },
    p(r66, i65) {
      const e48 = {};
      i65 & /*missingFloorConfig*/
      524288 && (e48.missingFloorConfig = /*missingFloorConfig*/
      r66[19]), l63.$set(e48);
    },
    i(r66) {
      n72 || (ot(l63.$$.fragment, r66), n72 = true);
    },
    o(r66) {
      $t(l63.$$.fragment, r66), n72 = false;
    },
    d(r66) {
      Rt(l63, r66);
    }
  };
}
function K6(a62) {
  let l63, n72;
  const r66 = [
    {
      floorIndex: (
        /*floorIndex*/
        a62[2]
      ),
      floorplanData: (
        /*floorplanData*/
        a62[12]
      ),
      hoveredRoom: (
        /*hoveredRoom*/
        a62[25]
      ),
      highlightData: (
        /*highlightData*/
        a62[18]
      )
    }
  ];
  let i65 = {};
  for (let e48 = 0; e48 < r66.length; e48 += 1)
    i65 = kt(i65, r66[e48]);
  return l63 = new K5({ props: i65 }), {
    c() {
      Ae(l63.$$.fragment);
    },
    m(e48, f80) {
      Dt(l63, e48, f80), n72 = true;
    },
    p(e48, f80) {
      const b55 = f80 & /*floorIndex, floorplanData, hoveredRoom, highlightData*/
      33820676 ? ve(r66, [
        {
          floorIndex: (
            /*floorIndex*/
            e48[2]
          ),
          floorplanData: (
            /*floorplanData*/
            e48[12]
          ),
          hoveredRoom: (
            /*hoveredRoom*/
            e48[25]
          ),
          highlightData: (
            /*highlightData*/
            e48[18]
          )
        }
      ]) : {};
      l63.$set(b55);
    },
    i(e48) {
      n72 || (ot(l63.$$.fragment, e48), n72 = true);
    },
    o(e48) {
      $t(l63.$$.fragment, e48), n72 = false;
    },
    d(e48) {
      Rt(l63, e48);
    }
  };
}
function Q6(a62) {
  let l63, n72;
  const r66 = [
    {
      floorplanData: (
        /*floorplanData*/
        a62[12]
      ),
      roomAreaEnable: (
        /*roomAreaEnable*/
        a62[7]
      ),
      roomNameEnable: (
        /*roomNameEnable*/
        a62[8]
      ),
      roomNameOtherTypeEnable: (
        /*roomNameOtherTypeEnable*/
        a62[9]
      ),
      roomDimensionEnable: (
        /*roomDimensionEnable*/
        a62[10]
      ),
      floorIndex: (
        /*floorIndex*/
        a62[2]
      ),
      getRoomAreaText: (
        /*getRoomAreaText*/
        a62[13]
      ),
      getRoomDimensionText: (
        /*getRoomDimensionText*/
        a62[14]
      ),
      getLabelElement: (
        /*getLabelElement*/
        a62[15]
      ),
      hoveredRoom: (
        /*hoveredRoom*/
        a62[25]
      ),
      adaptiveRoomLabelVisibleEnable: (
        /*adaptiveRoomLabelVisibleEnable*/
        a62[17]
      )
    }
  ];
  let i65 = {};
  for (let e48 = 0; e48 < r66.length; e48 += 1)
    i65 = kt(i65, r66[e48]);
  return l63 = new oe3({ props: i65 }), {
    c() {
      Ae(l63.$$.fragment);
    },
    m(e48, f80) {
      Dt(l63, e48, f80), n72 = true;
    },
    p(e48, f80) {
      const b55 = f80 & /*floorplanData, roomAreaEnable, roomNameEnable, roomNameOtherTypeEnable, roomDimensionEnable, floorIndex, getRoomAreaText, getRoomDimensionText, getLabelElement, hoveredRoom, adaptiveRoomLabelVisibleEnable*/
      33748868 ? ve(r66, [
        {
          floorplanData: (
            /*floorplanData*/
            e48[12]
          ),
          roomAreaEnable: (
            /*roomAreaEnable*/
            e48[7]
          ),
          roomNameEnable: (
            /*roomNameEnable*/
            e48[8]
          ),
          roomNameOtherTypeEnable: (
            /*roomNameOtherTypeEnable*/
            e48[9]
          ),
          roomDimensionEnable: (
            /*roomDimensionEnable*/
            e48[10]
          ),
          floorIndex: (
            /*floorIndex*/
            e48[2]
          ),
          getRoomAreaText: (
            /*getRoomAreaText*/
            e48[13]
          ),
          getRoomDimensionText: (
            /*getRoomDimensionText*/
            e48[14]
          ),
          getLabelElement: (
            /*getLabelElement*/
            e48[15]
          ),
          hoveredRoom: (
            /*hoveredRoom*/
            e48[25]
          ),
          adaptiveRoomLabelVisibleEnable: (
            /*adaptiveRoomLabelVisibleEnable*/
            e48[17]
          )
        }
      ]) : {};
      l63.$set(b55);
    },
    i(e48) {
      n72 || (ot(l63.$$.fragment, e48), n72 = true);
    },
    o(e48) {
      $t(l63.$$.fragment, e48), n72 = false;
    },
    d(e48) {
      Rt(l63, e48);
    }
  };
}
function W7(a62) {
  let l63, n72;
  const r66 = [
    {
      floorplanData: (
        /*floorplanData*/
        a62[12]
      ),
      floorIndex: (
        /*floorIndex*/
        a62[2]
      ),
      getRuleDistanceText: (
        /*getRuleDistanceText*/
        a62[16]
      )
    }
  ];
  let i65 = {};
  for (let e48 = 0; e48 < r66.length; e48 += 1)
    i65 = kt(i65, r66[e48]);
  return l63 = new V4({ props: i65 }), {
    c() {
      Ae(l63.$$.fragment);
    },
    m(e48, f80) {
      Dt(l63, e48, f80), n72 = true;
    },
    p(e48, f80) {
      const b55 = f80 & /*floorplanData, floorIndex, getRuleDistanceText*/
      69636 ? ve(r66, [
        {
          floorplanData: (
            /*floorplanData*/
            e48[12]
          ),
          floorIndex: (
            /*floorIndex*/
            e48[2]
          ),
          getRuleDistanceText: (
            /*getRuleDistanceText*/
            e48[16]
          )
        }
      ]) : {};
      l63.$set(b55);
    },
    i(e48) {
      n72 || (ot(l63.$$.fragment, e48), n72 = true);
    },
    o(e48) {
      $t(l63.$$.fragment, e48), n72 = false;
    },
    d(e48) {
      Rt(l63, e48);
    }
  };
}
function X8(a62) {
  let l63, n72;
  const r66 = [
    {
      panoIndex: (
        /*panoIndex*/
        a62[0]
      ),
      floorplanData: (
        /*floorplanData*/
        a62[12]
      ),
      lastPanoramaLongitude: (
        /*lastPanoramaLongitude*/
        a62[20]
      ),
      cameraImageUrl: (
        /*cameraImageUrl*/
        a62[21]
      )
    }
  ];
  let i65 = {};
  for (let e48 = 0; e48 < r66.length; e48 += 1)
    i65 = kt(i65, r66[e48]);
  return l63 = new G8({ props: i65 }), {
    c() {
      Ae(l63.$$.fragment);
    },
    m(e48, f80) {
      Dt(l63, e48, f80), n72 = true;
    },
    p(e48, f80) {
      const b55 = f80 & /*panoIndex, floorplanData, lastPanoramaLongitude, cameraImageUrl*/
      3149825 ? ve(r66, [
        {
          panoIndex: (
            /*panoIndex*/
            e48[0]
          ),
          floorplanData: (
            /*floorplanData*/
            e48[12]
          ),
          lastPanoramaLongitude: (
            /*lastPanoramaLongitude*/
            e48[20]
          ),
          cameraImageUrl: (
            /*cameraImageUrl*/
            e48[21]
          )
        }
      ]) : {};
      l63.$set(b55);
    },
    i(e48) {
      n72 || (ot(l63.$$.fragment, e48), n72 = true);
    },
    o(e48) {
      $t(l63.$$.fragment, e48), n72 = false;
    },
    d(e48) {
      Rt(l63, e48);
    }
  };
}
function Y8(a62) {
  let l63, n72;
  return l63 = new I10({
    props: {
      floorplanData: (
        /*floorplanData*/
        a62[12]
      ),
      northDesc: (
        /*northDesc*/
        a62[22]
      )
    }
  }), {
    c() {
      Ae(l63.$$.fragment);
    },
    m(r66, i65) {
      Dt(l63, r66, i65), n72 = true;
    },
    p(r66, i65) {
      const e48 = {};
      i65 & /*floorplanData*/
      4096 && (e48.floorplanData = /*floorplanData*/
      r66[12]), i65 & /*northDesc*/
      4194304 && (e48.northDesc = /*northDesc*/
      r66[22]), l63.$set(e48);
    },
    i(r66) {
      n72 || (ot(l63.$$.fragment, r66), n72 = true);
    },
    o(r66) {
      $t(l63.$$.fragment, r66), n72 = false;
    },
    d(r66) {
      Rt(l63, r66);
    }
  };
}
function he3(a62) {
  let l63, n72, r66, i65, e48;
  const f80 = [Ee2, _e4], b55 = [];
  function I49(u72, R43) {
    return (
      /*hasCurrentFloorData*/
      u72[24] ? 1 : 0
    );
  }
  return n72 = I49(a62), r66 = b55[n72] = f80[n72](a62), {
    c() {
      l63 = K4("div"), r66.c(), te2(l63, "class", i65 = Gt(`floorplan-plugin__floor${/*isCurrent*/
      a62[1] ? " floorplan-plugin__floor--is-current" : ""}`) + " svelte-bl8zrz");
    },
    m(u72, R43) {
      Nt(u72, l63, R43), b55[n72].m(l63, null), e48 = true;
    },
    p(u72, [R43]) {
      let d73 = n72;
      n72 = I49(u72), n72 === d73 ? b55[n72].p(u72, R43) : (Lt(), $t(b55[d73], 1, 1, () => {
        b55[d73] = null;
      }), Ot(), r66 = b55[n72], r66 ? r66.p(u72, R43) : (r66 = b55[n72] = f80[n72](u72), r66.c()), ot(r66, 1), r66.m(l63, null)), (!e48 || R43 & /*isCurrent*/
      2 && i65 !== (i65 = Gt(`floorplan-plugin__floor${/*isCurrent*/
      u72[1] ? " floorplan-plugin__floor--is-current" : ""}`) + " svelte-bl8zrz")) && te2(l63, "class", i65);
    },
    i(u72) {
      e48 || (ot(r66), e48 = true);
    },
    o(u72) {
      $t(r66), e48 = false;
    },
    d(u72) {
      u72 && J4(l63), b55[n72].d();
    }
  };
}
function De2(a62, l63, n72) {
  let r66, i65, { panoIndex: e48 } = l63, { isCurrent: f80 } = l63, { floorIndex: b55 } = l63, { highlightEnable: I49 } = l63, { cameraEnable: u72 } = l63, { hoverEnable: R43 } = l63, { roomLabelsEnable: d73 } = l63, { roomAreaEnable: w49 } = l63, { roomNameEnable: O40 } = l63, { roomNameOtherTypeEnable: P55 } = l63, { roomDimensionEnable: g67 } = l63, { ruleLabelsEnable: U33 } = l63, { floorplanData: A62 } = l63, { getRoomAreaText: V25 } = l63, { getRoomDimensionText: p66 } = l63, { getLabelElement: _32 } = l63, { getRuleDistanceText: E53 } = l63, { adaptiveRoomLabelVisibleEnable: h66 } = l63, { highlightData: D52 } = l63, { missingFloorConfig: o71 } = l63, { lastPanoramaLongitude: m66 } = l63, { cameraImageUrl: B42 } = l63, { northDesc: H39 } = l63, { compassEnable: S52 } = l63, { store: q38 = void 0 } = l63;
  const j37 = h10(void 0);
  return j37.subscribe((t43) => {
    q38 && n72(26, q38.roomOnMouse = t43, q38);
  }), a62.$$set = (t43) => {
    "panoIndex" in t43 && n72(0, e48 = t43.panoIndex), "isCurrent" in t43 && n72(1, f80 = t43.isCurrent), "floorIndex" in t43 && n72(2, b55 = t43.floorIndex), "highlightEnable" in t43 && n72(3, I49 = t43.highlightEnable), "cameraEnable" in t43 && n72(4, u72 = t43.cameraEnable), "hoverEnable" in t43 && n72(5, R43 = t43.hoverEnable), "roomLabelsEnable" in t43 && n72(6, d73 = t43.roomLabelsEnable), "roomAreaEnable" in t43 && n72(7, w49 = t43.roomAreaEnable), "roomNameEnable" in t43 && n72(8, O40 = t43.roomNameEnable), "roomNameOtherTypeEnable" in t43 && n72(9, P55 = t43.roomNameOtherTypeEnable), "roomDimensionEnable" in t43 && n72(10, g67 = t43.roomDimensionEnable), "ruleLabelsEnable" in t43 && n72(11, U33 = t43.ruleLabelsEnable), "floorplanData" in t43 && n72(12, A62 = t43.floorplanData), "getRoomAreaText" in t43 && n72(13, V25 = t43.getRoomAreaText), "getRoomDimensionText" in t43 && n72(14, p66 = t43.getRoomDimensionText), "getLabelElement" in t43 && n72(15, _32 = t43.getLabelElement), "getRuleDistanceText" in t43 && n72(16, E53 = t43.getRuleDistanceText), "adaptiveRoomLabelVisibleEnable" in t43 && n72(17, h66 = t43.adaptiveRoomLabelVisibleEnable), "highlightData" in t43 && n72(18, D52 = t43.highlightData), "missingFloorConfig" in t43 && n72(19, o71 = t43.missingFloorConfig), "lastPanoramaLongitude" in t43 && n72(20, m66 = t43.lastPanoramaLongitude), "cameraImageUrl" in t43 && n72(21, B42 = t43.cameraImageUrl), "northDesc" in t43 && n72(22, H39 = t43.northDesc), "compassEnable" in t43 && n72(23, S52 = t43.compassEnable), "store" in t43 && n72(26, q38 = t43.store);
  }, a62.$$.update = () => {
    a62.$$.dirty & /*floorplanData, floorIndex*/
    4100 && n72(27, r66 = A62.floorDatas[b55]), a62.$$.dirty & /*floorData*/
    134217728 && n72(24, i65 = r66.rooms.length > 0 || r66.is_has_wall);
  }, [
    e48,
    f80,
    b55,
    I49,
    u72,
    R43,
    d73,
    w49,
    O40,
    P55,
    g67,
    U33,
    A62,
    V25,
    p66,
    _32,
    E53,
    h66,
    D52,
    o71,
    m66,
    B42,
    H39,
    S52,
    i65,
    j37,
    q38,
    r66
  ];
}
var ze = class extends Ce {
  constructor(l63) {
    super(), Te(
      this,
      l63,
      De2,
      he3,
      Ft,
      {
        panoIndex: 0,
        isCurrent: 1,
        floorIndex: 2,
        highlightEnable: 3,
        cameraEnable: 4,
        hoverEnable: 5,
        roomLabelsEnable: 6,
        roomAreaEnable: 7,
        roomNameEnable: 8,
        roomNameOtherTypeEnable: 9,
        roomDimensionEnable: 10,
        ruleLabelsEnable: 11,
        floorplanData: 12,
        getRoomAreaText: 13,
        getRoomDimensionText: 14,
        getLabelElement: 15,
        getRuleDistanceText: 16,
        adaptiveRoomLabelVisibleEnable: 17,
        highlightData: 18,
        missingFloorConfig: 19,
        lastPanoramaLongitude: 20,
        cameraImageUrl: 21,
        northDesc: 22,
        compassEnable: 23,
        store: 26
      },
      ge3
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Components/Main.js
function ae3(a62) {
  Qt2(a62, "svelte-86bqav", ".floorplan-main.svelte-86bqav{width:100%;height:100%;pointer-events:none}");
}
function V5(a62, n72, o71) {
  const t43 = a62.slice();
  return t43[26] = n72[o71], t43;
}
function y10(a62) {
  let n72, o71, t43, i65 = (
    /*floorplanData*/
    a62[15].floorDatas
  ), e48 = [];
  for (let m66 = 0; m66 < i65.length; m66 += 1)
    e48[m66] = q9(V5(a62, i65, m66));
  const f80 = (m66) => $t(e48[m66], 1, 1, () => {
    e48[m66] = null;
  });
  return {
    c() {
      n72 = K4("div");
      for (let m66 = 0; m66 < e48.length; m66 += 1)
        e48[m66].c();
      te2(n72, "class", "floorplan-main svelte-86bqav");
    },
    m(m66, b55) {
      Nt(m66, n72, b55);
      for (let r66 = 0; r66 < e48.length; r66 += 1)
        e48[r66] && e48[r66].m(n72, null);
      t43 = true;
    },
    p(m66, b55) {
      if (a62 = m66, b55 & /*hoverEnable, highlightEnable, floorplanData, getRoomAreaText, getRoomDimensionText, getLabelElement, getRuleDistanceText, roomLabelsEnable, roomAreaEnable, roomNameEnable, roomNameOtherTypeEnable, roomDimensionEnable, ruleLabelsEnable, adaptiveRoomLabelVisibleEnable, highlightData, missingFloorConfig, panoIndex, cameraEnable, cameraImageUrl, lastPanoramaLongitude, compassEnable, northDesc, store, floorIndex*/
      67108860) {
        i65 = /*floorplanData*/
        a62[15].floorDatas;
        let r66;
        for (r66 = 0; r66 < i65.length; r66 += 1) {
          const h66 = V5(a62, i65, r66);
          e48[r66] ? (e48[r66].p(h66, b55), ot(e48[r66], 1)) : (e48[r66] = q9(h66), e48[r66].c(), ot(e48[r66], 1), e48[r66].m(n72, null));
        }
        for (Lt(), r66 = i65.length; r66 < e48.length; r66 += 1)
          f80(r66);
        Ot();
      }
    },
    i(m66) {
      if (!t43) {
        for (let b55 = 0; b55 < i65.length; b55 += 1)
          ot(e48[b55]);
        o71 || z2(() => {
          o71 = me2(n72, C13, {
            duration: (
              /*duration*/
              a62[0]
            ),
            easing: Z
          }), o71.start();
        }), t43 = true;
      }
    },
    o(m66) {
      e48 = e48.filter(Boolean);
      for (let b55 = 0; b55 < e48.length; b55 += 1)
        $t(e48[b55]);
      t43 = false;
    },
    d(m66) {
      m66 && J4(n72), Vt(e48, m66);
    }
  };
}
function q9(a62) {
  let n72, o71;
  const t43 = [
    {
      hoverEnable: (
        /*hoverEnable*/
        a62[6]
      ),
      highlightEnable: (
        /*highlightEnable*/
        a62[7]
      ),
      floorplanData: (
        /*floorplanData*/
        a62[15]
      ),
      getRoomAreaText: (
        /*getRoomAreaText*/
        a62[18]
      ),
      getRoomDimensionText: (
        /*getRoomDimensionText*/
        a62[19]
      ),
      getLabelElement: (
        /*getLabelElement*/
        a62[20]
      ),
      getRuleDistanceText: (
        /*getRuleDistanceText*/
        a62[21]
      ),
      roomLabelsEnable: (
        /*roomLabelsEnable*/
        a62[9]
      ),
      roomAreaEnable: (
        /*roomAreaEnable*/
        a62[10]
      ),
      roomNameEnable: (
        /*roomNameEnable*/
        a62[11]
      ),
      roomNameOtherTypeEnable: (
        /*roomNameOtherTypeEnable*/
        a62[12]
      ),
      roomDimensionEnable: (
        /*roomDimensionEnable*/
        a62[13]
      ),
      ruleLabelsEnable: (
        /*ruleLabelsEnable*/
        a62[14]
      ),
      adaptiveRoomLabelVisibleEnable: (
        /*adaptiveRoomLabelVisibleEnable*/
        a62[22]
      ),
      highlightData: (
        /*highlightData*/
        a62[23]
      ),
      missingFloorConfig: (
        /*missingFloorConfig*/
        a62[24]
      ),
      panoIndex: (
        /*panoIndex*/
        a62[3]
      ),
      cameraEnable: (
        /*cameraEnable*/
        a62[5]
      ),
      cameraImageUrl: (
        /*cameraImageUrl*/
        a62[17]
      ),
      lastPanoramaLongitude: (
        /*lastPanoramaLongitude*/
        a62[16]
      ),
      compassEnable: (
        /*compassEnable*/
        a62[8]
      ),
      northDesc: (
        /*northDesc*/
        a62[2]
      ),
      store: (
        /*store*/
        a62[25]
      )
    },
    {
      floorIndex: (
        /*floorData*/
        a62[26].floorIndex
      )
    },
    {
      isCurrent: (
        /*floorData*/
        a62[26].floorIndex === /*floorIndex*/
        a62[4]
      )
    },
    { items: (
      /*floorData*/
      a62[26].items
    ) }
  ];
  let i65 = {};
  for (let e48 = 0; e48 < t43.length; e48 += 1)
    i65 = kt(i65, t43[e48]);
  return n72 = new ze({ props: i65 }), {
    c() {
      Ae(n72.$$.fragment);
    },
    m(e48, f80) {
      Dt(n72, e48, f80), o71 = true;
    },
    p(e48, f80) {
      const m66 = f80 & /*hoverEnable, highlightEnable, floorplanData, getRoomAreaText, getRoomDimensionText, getLabelElement, getRuleDistanceText, roomLabelsEnable, roomAreaEnable, roomNameEnable, roomNameOtherTypeEnable, roomDimensionEnable, ruleLabelsEnable, adaptiveRoomLabelVisibleEnable, highlightData, missingFloorConfig, panoIndex, cameraEnable, cameraImageUrl, lastPanoramaLongitude, compassEnable, northDesc, store, floorIndex*/
      67108860 ? ve(t43, [
        f80 & /*hoverEnable, highlightEnable, floorplanData, getRoomAreaText, getRoomDimensionText, getLabelElement, getRuleDistanceText, roomLabelsEnable, roomAreaEnable, roomNameEnable, roomNameOtherTypeEnable, roomDimensionEnable, ruleLabelsEnable, adaptiveRoomLabelVisibleEnable, highlightData, missingFloorConfig, panoIndex, cameraEnable, cameraImageUrl, lastPanoramaLongitude, compassEnable, northDesc, store*/
        67108844 && {
          hoverEnable: (
            /*hoverEnable*/
            e48[6]
          ),
          highlightEnable: (
            /*highlightEnable*/
            e48[7]
          ),
          floorplanData: (
            /*floorplanData*/
            e48[15]
          ),
          getRoomAreaText: (
            /*getRoomAreaText*/
            e48[18]
          ),
          getRoomDimensionText: (
            /*getRoomDimensionText*/
            e48[19]
          ),
          getLabelElement: (
            /*getLabelElement*/
            e48[20]
          ),
          getRuleDistanceText: (
            /*getRuleDistanceText*/
            e48[21]
          ),
          roomLabelsEnable: (
            /*roomLabelsEnable*/
            e48[9]
          ),
          roomAreaEnable: (
            /*roomAreaEnable*/
            e48[10]
          ),
          roomNameEnable: (
            /*roomNameEnable*/
            e48[11]
          ),
          roomNameOtherTypeEnable: (
            /*roomNameOtherTypeEnable*/
            e48[12]
          ),
          roomDimensionEnable: (
            /*roomDimensionEnable*/
            e48[13]
          ),
          ruleLabelsEnable: (
            /*ruleLabelsEnable*/
            e48[14]
          ),
          adaptiveRoomLabelVisibleEnable: (
            /*adaptiveRoomLabelVisibleEnable*/
            e48[22]
          ),
          highlightData: (
            /*highlightData*/
            e48[23]
          ),
          missingFloorConfig: (
            /*missingFloorConfig*/
            e48[24]
          ),
          panoIndex: (
            /*panoIndex*/
            e48[3]
          ),
          cameraEnable: (
            /*cameraEnable*/
            e48[5]
          ),
          cameraImageUrl: (
            /*cameraImageUrl*/
            e48[17]
          ),
          lastPanoramaLongitude: (
            /*lastPanoramaLongitude*/
            e48[16]
          ),
          compassEnable: (
            /*compassEnable*/
            e48[8]
          ),
          northDesc: (
            /*northDesc*/
            e48[2]
          ),
          store: (
            /*store*/
            e48[25]
          )
        },
        f80 & /*floorplanData*/
        32768 && {
          floorIndex: (
            /*floorData*/
            e48[26].floorIndex
          )
        },
        f80 & /*floorplanData, floorIndex*/
        32784 && {
          isCurrent: (
            /*floorData*/
            e48[26].floorIndex === /*floorIndex*/
            e48[4]
          )
        },
        f80 & /*floorplanData*/
        32768 && { items: (
          /*floorData*/
          e48[26].items
        ) }
      ]) : {};
      n72.$set(m66);
    },
    i(e48) {
      o71 || (ot(n72.$$.fragment, e48), o71 = true);
    },
    o(e48) {
      $t(n72.$$.fragment, e48), o71 = false;
    },
    d(e48) {
      Rt(n72, e48);
    }
  };
}
function oe5(a62) {
  let n72, o71, t43 = (
    /*visible*/
    a62[1] && y10(a62)
  );
  return {
    c() {
      t43 && t43.c(), n72 = Yt();
    },
    m(i65, e48) {
      t43 && t43.m(i65, e48), Nt(i65, n72, e48), o71 = true;
    },
    p(i65, [e48]) {
      i65[1] ? t43 ? (t43.p(i65, e48), e48 & /*visible*/
      2 && ot(t43, 1)) : (t43 = y10(i65), t43.c(), ot(t43, 1), t43.m(n72.parentNode, n72)) : t43 && (Lt(), $t(t43, 1, 1, () => {
        t43 = null;
      }), Ot());
    },
    i(i65) {
      o71 || (ot(t43), o71 = true);
    },
    o(i65) {
      $t(t43), o71 = false;
    },
    d(i65) {
      t43 && t43.d(i65), i65 && J4(n72);
    }
  };
}
function te3(a62, n72, o71) {
  let { duration: t43 = 0 } = n72, { visible: i65 } = n72, { northDesc: e48 } = n72, { panoIndex: f80 } = n72, { floorIndex: m66 } = n72, { cameraEnable: b55 } = n72, { hoverEnable: r66 } = n72, { highlightEnable: h66 } = n72, { compassEnable: u72 } = n72, { roomLabelsEnable: s60 } = n72, { roomAreaEnable: D52 } = n72, { roomNameEnable: _32 } = n72, { roomNameOtherTypeEnable: c85 } = n72, { roomDimensionEnable: L40 } = n72, { ruleLabelsEnable: d73 } = n72, { floorplanData: R43 } = n72, { lastPanoramaLongitude: T38 } = n72, { cameraImageUrl: I49 } = n72, { getRoomAreaText: N33 } = n72, { getRoomDimensionText: A62 } = n72, { getLabelElement: C52 } = n72, { getRuleDistanceText: k47 } = n72, { adaptiveRoomLabelVisibleEnable: F45 } = n72, { highlightData: O40 } = n72, { missingFloorConfig: P55 } = n72, { store: U33 = void 0 } = n72;
  return a62.$$set = (l63) => {
    "duration" in l63 && o71(0, t43 = l63.duration), "visible" in l63 && o71(1, i65 = l63.visible), "northDesc" in l63 && o71(2, e48 = l63.northDesc), "panoIndex" in l63 && o71(3, f80 = l63.panoIndex), "floorIndex" in l63 && o71(4, m66 = l63.floorIndex), "cameraEnable" in l63 && o71(5, b55 = l63.cameraEnable), "hoverEnable" in l63 && o71(6, r66 = l63.hoverEnable), "highlightEnable" in l63 && o71(7, h66 = l63.highlightEnable), "compassEnable" in l63 && o71(8, u72 = l63.compassEnable), "roomLabelsEnable" in l63 && o71(9, s60 = l63.roomLabelsEnable), "roomAreaEnable" in l63 && o71(10, D52 = l63.roomAreaEnable), "roomNameEnable" in l63 && o71(11, _32 = l63.roomNameEnable), "roomNameOtherTypeEnable" in l63 && o71(12, c85 = l63.roomNameOtherTypeEnable), "roomDimensionEnable" in l63 && o71(13, L40 = l63.roomDimensionEnable), "ruleLabelsEnable" in l63 && o71(14, d73 = l63.ruleLabelsEnable), "floorplanData" in l63 && o71(15, R43 = l63.floorplanData), "lastPanoramaLongitude" in l63 && o71(16, T38 = l63.lastPanoramaLongitude), "cameraImageUrl" in l63 && o71(17, I49 = l63.cameraImageUrl), "getRoomAreaText" in l63 && o71(18, N33 = l63.getRoomAreaText), "getRoomDimensionText" in l63 && o71(19, A62 = l63.getRoomDimensionText), "getLabelElement" in l63 && o71(20, C52 = l63.getLabelElement), "getRuleDistanceText" in l63 && o71(21, k47 = l63.getRuleDistanceText), "adaptiveRoomLabelVisibleEnable" in l63 && o71(22, F45 = l63.adaptiveRoomLabelVisibleEnable), "highlightData" in l63 && o71(23, O40 = l63.highlightData), "missingFloorConfig" in l63 && o71(24, P55 = l63.missingFloorConfig), "store" in l63 && o71(25, U33 = l63.store);
  }, [
    t43,
    i65,
    e48,
    f80,
    m66,
    b55,
    r66,
    h66,
    u72,
    s60,
    D52,
    _32,
    c85,
    L40,
    d73,
    R43,
    T38,
    I49,
    N33,
    A62,
    C52,
    k47,
    F45,
    O40,
    P55,
    U33
  ];
}
var be2 = class extends Ce {
  constructor(n72) {
    super(), Te(
      this,
      n72,
      te3,
      oe5,
      Ft,
      {
        duration: 0,
        visible: 1,
        northDesc: 2,
        panoIndex: 3,
        floorIndex: 4,
        cameraEnable: 5,
        hoverEnable: 6,
        highlightEnable: 7,
        compassEnable: 8,
        roomLabelsEnable: 9,
        roomAreaEnable: 10,
        roomNameEnable: 11,
        roomNameOtherTypeEnable: 12,
        roomDimensionEnable: 13,
        ruleLabelsEnable: 14,
        floorplanData: 15,
        lastPanoramaLongitude: 16,
        cameraImageUrl: 17,
        getRoomAreaText: 18,
        getRoomDimensionText: 19,
        getLabelElement: 20,
        getRuleDistanceText: 21,
        adaptiveRoomLabelVisibleEnable: 22,
        highlightData: 23,
        missingFloorConfig: 24,
        store: 25
      },
      ae3
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/Assets/floorplanExtraObject.js
var A14 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAwCAYAAACFUvPfAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALaADAAQAAAABAAAAMAAAAADe2FZjAAAEF0lEQVRoBe2WzWskRRiHf13V092TxI2oEzYeVDwITtyDuCiihwiCePGgxIM3vYgHL4J4UIhBRA8i/gPqyUvWg7AiIuIeloDiYUHJLOK6BPwIk9nNODM9Xf1RVe1b3elJRjCZmQ6euqGmuqer33rq4e23GqiOykBloDJQGagMVAYqA5WBykBlYFYD1qwP/tdzaZqOx9zYOLxeX0+L5yzLGp0X/03a25MOnGRcBtx+6Rlo9SL08G4EooFnxa8Yiivox5/h5Ys/4cl7NVorNDRnngX+0MIkVMeMSf23zyKML8J7/Dy8hwF2Buh9CnS+AEQIdLspBuGb+M7/qLW4qJrNpsLapjYhpwVnx3BMfCtNNx3Etc9xywvnMf80wG8HmQainw0RxSGrnmeBp+8k5/j9S0HbvXb5io0Lz880/0wPHV1NlhLd316He+4xOCv5ragF7L9PrH1qBJyB0626x/lC+qrSvH5r/W+n1WpxUM5nMY4GPeH8lHJaPgfeAFQHCL+ntkXT+vnUc3W6pvTIwC0wy3rA4dwLmK2avZ7Eo9uKBuYJfgJscbs8dLCxDMt+EOEPBEZNEWyBYHqTz6bPXrzUnNrSShxHIsYiOL69zrCGLLcLqJP68tB+9w5wj+YhWDafQ2s61wNqxjZhmrQ2pvMFCEvXuCUZ7wqH794ZWs28LJqlTXSUyuksF2M/yOwqgkx2c1ADa4wLAQRk2sAGQQakhN6yFC2hltfz5kSY44NKQeeh+vtI/SSzWhg2CzCgmWISmKUGmaYFBDfCSymnfxJ6/+ospVcWOLLp5DGP/y0P/Rp66O99DQNq7Po3Ds0a0wY+My2QSv2N2mO/OyxR2o6UQk+Lv7yJ06JYSnnolZVU9cUn2O9SmaMWGFBqYXRwbqAJWIi94TX5biotpcGl1DXZ6LnqIbNDTnmUgi52Mv5l5ysMxIcZcGjy2DTK4ZHlcBC14zeSge4qphICjj3bS0A7o9nSp2TOkm7aZ8bGZy/jxhO87V91G0+dfY/Z7BWIIK9KYUi5qy/Hf8YfBG3sqJTHiQWhmTVkbip+wX3x6volVSx+LPAxF+VLXhZ8VQ+iP2Rta/iWe5v42Fngj0BbdnRTXh12ZIcKhTaGbcYjybRwXBU1lu9KlndXp04NM52poKWO0RZsviNaP9a6grkO972+st05pXhE5c1hTEluJy7XUejGUQNLMbAmTdWY1rKBLW3aTJqBZ7nZkb36DhYCreeYHbMUXHvaYi5XDK70EcgulmRjm77wNtenzuXCbmnTRaAx493rbGf3Jr/njMzj920CnKdUaFCjlDioy7NYNvOdGrQJNgI32/L2tkXfFPlxgToqjWVhD6KdLnQRdARf/HHQz2r2X2Gqy8pAZaAyUBmoDFQGKgP/q4F/AJYg9/s0ZoABAAAAAElFTkSuQmCC";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/utils/formatData.js
var c25 = (o71, e48, r66) => new Promise((l63, n72) => {
  var t43 = (i65) => {
    try {
      s60(r66.next(i65));
    } catch (p66) {
      n72(p66);
    }
  }, m66 = (i65) => {
    try {
      s60(r66.throw(i65));
    } catch (p66) {
      n72(p66);
    }
  }, s60 = (i65) => i65.done ? l63(i65.value) : Promise.resolve(i65.value).then(t43, m66);
  s60((r66 = r66.apply(o71, e48)).next());
});
function g7(o71) {
  return c25(this, null, function* () {
    const e48 = new Headers({ "Content-Type": "text/plain" }), r66 = function(n72) {
      return c25(this, null, function* () {
        const t43 = {
          index: n72.index,
          url: n72.url,
          svgUrl: n72.svg_url
        };
        if (n72.svg_url) {
          const m66 = yield fetch(n72.svg_url, { headers: e48 }).then((s60) => s60.text());
          t43.svgContent = m66;
        }
        return t43;
      });
    };
    return yield Promise.all(o71.map(r66));
  });
}
function I11(o71) {
  const e48 = {
    id: o71.id,
    size: o71.size,
    name: o71.name,
    customizedName: o71.customizedName || "",
    path: o71.path,
    roomType: o71.room_type,
    floorType: o71.floor_type,
    roomLabel: {
      position: o71.room_label.position,
      positionInImage: o71.room_label.position_in_image
    },
    observerIndexs: o71.observer_indexs
  };
  return o71.dimension && Object.assign(e48, { dimension: o71.dimension }), e48;
}
function x8(o71) {
  return {
    floorName: o71.floor_name,
    floorIndex: o71.floor_index,
    rooms: o71.rooms.map(I11),
    rules: o71.rules,
    is_has_wall: o71.is_has_wall
  };
}
function d15(o71) {
  return {
    index: o71.index,
    floorIndex: o71.floor_index,
    position: o71.position,
    positionInImage: o71.position_in_image
  };
}
function v12(o71) {
  return {
    rad: o71.rad,
    position: o71.position,
    positionInImage: o71.position_in_image,
    northRad: o71.north_rad,
    roomId: o71.room_id,
    floorIndex: o71.floor_index
  };
}
function P12(o71) {
  return c25(this, null, function* () {
    const e48 = yield g7(o71.outlines), r66 = o71.computed_data.bounding, l63 = o71.computed_data.floor_datas.map(x8), n72 = o71.computed_data.entrance ? v12(o71.computed_data.entrance) : null;
    return {
      outlines: e48,
      entrance: n72,
      bounding: r66,
      floorDatas: l63,
      observers: o71.computed_data.observers.map(d15)
    };
  });
}
function y11(o71, e48, r66) {
  return o71.map((n72) => {
    const t43 = n72.position, m66 = n72.icon ? n72.icon : {
      url: A14,
      width: 45,
      height: 48
    }, s60 = g5(t43, e48), i65 = d14(t43, r66), p66 = l11(i65, r66);
    return { floorIndex: s60, icon: m66, id: n72.id, position: i65, positionInImage: p66 };
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/tap.js
function n15(r66, t43) {
  return t43(r66), r66;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/filter.js
function e7(i65, o71) {
  return n15({}, (t43) => {
    for (const n72 in i65)
      o71.indexOf(n72) === -1 && (t43[n72] = i65[n72]);
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/getPxmm.js
function s13(o71, t43) {
  const r66 = Math.max(...o71.work.observers.map((n72) => n72.floorIndex));
  return t43 > r66 ? o71.model.bounding.max.y : Math.max(...o71.work.observers.filter((n72) => n72.floorIndex === t43).map((n72) => n72.standingPosition.y));
}
function l13(o71, t43, r66 = r13.BOUNDING_CENTER) {
  const n72 = s13(o71, t43), e48 = s13(o71, t43 + 1);
  return r66 === r13.BOUNDING_CENTER ? (o71.model.bounding.max.y + o71.model.bounding.min.y) / 2 : r66 === r13.CEILING ? e48 : n72;
}
function E15(o71, t43, r66, n72) {
  const e48 = l13(o71, r66, n72 == null ? void 0 : n72.attachedTo), a62 = new Vector3(0, e48, 0), i65 = new Vector3(1, e48, 0), u72 = a62.clone().project(o71.camera), x49 = i65.clone().project(o71.camera);
  return Math.abs((x49.x - u72.x) / 1e3) * (t43.getBoundingClientRect().width / 2);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/base/BasePlugin.js
var e8 = Object.defineProperty;
var s14 = (o71, t43, r66) => t43 in o71 ? e8(o71, t43, { enumerable: true, configurable: true, writable: true, value: r66 }) : o71[t43] = r66;
var i15 = (o71, t43, r66) => (s14(o71, typeof t43 != "symbol" ? t43 + "" : t43, r66), r66);
var F9 = class {
  constructor(t43, r66) {
    i15(this, "VERSION", "3.67.2");
    i15(this, "NAME");
    i15(this, "five");
    i15(this, "workUtil");
    i15(this, "fiveUtil");
    i15(this, "hooks", new E3());
    i15(this, "staticPrefix", "//vr-image-4.realsee-cdn.cn");
    this.five = t43, this.fiveUtil = new c6(t43), this.workUtil = this.fiveUtil.workUtil, r66 != null && r66.staticPrefix && (this.staticPrefix = r66.staticPrefix);
  }
  set workCode(t43) {
    this.workUtil.workCode = t43, this.onWorkCodeChange();
  }
  get workCode() {
    return this.workUtil.workCode;
  }
  updateFive(t43) {
    this.five = t43, this.fiveUtil.five = t43, this.workUtil.five = t43;
  }
  /**
   * 获取当前的插件状态，如果当初插件内存在需要通过动画变更的 state 值，则通过此方法可以得到中间状态
   */
  getCurrentState() {
    return this.state;
  }
  /**
   * @description: 获取静态资源的url
   */
  absoluteUrl(t43) {
    return s9(this.staticPrefix, t43);
  }
  onWorkCodeChange() {
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/base/BasePluginWithData.js
var e9 = class extends F9 {
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/utils/constant.js
var a15 = ((e48) => (e48.UnknownError = "UnknownError", e48.DataNotLoaded = "DataNotLoaded", e48.UpdateSizeError = "UpdateSizeError", e48.BreakOffByHide = "BreakOffByHide", e48.BreakOffByDisable = "BreakOffByDisable", e48.ModelNotLoaded = "ModelNotLoaded", e48.ChangeModeError = "ChangeModeError", e48.UpdateCameraError = "UpdateCameraError", e48))(a15 || {});
var d16 = 500;
var t15 = 80;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/nearlyEqual.js
function r14(t43, a62, n72 = 4) {
  return Math.abs(t43 - a62) < Math.pow(10, -n72);
}
function h14(t43, a62, n72 = 4) {
  const o71 = Math.PI * 2, s60 = t43 % o71, e48 = a62 % o71, i65 = Math.min(s60, e48), c85 = Math.max(s60, e48);
  return r14(i65, c85, n72) || r14(i65 + o71, c85, n72);
}
Object.assign(window, { nearlyEqual: r14, nearlyEqualRad: h14 });

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/changeMode.js
var f12 = (t43, c85, n72) => new Promise((e48, r66) => {
  var a62 = (o71) => {
    try {
      u72(n72.next(o71));
    } catch (s60) {
      r66(s60);
    }
  }, i65 = (o71) => {
    try {
      u72(n72.throw(o71));
    } catch (s60) {
      r66(s60);
    }
  }, u72 = (o71) => o71.done ? e48(o71.value) : Promise.resolve(o71.value).then(a62, i65);
  u72((n72 = n72.apply(t43, c85)).next());
});
function w11(t43) {
  return Object.prototype.toString.call(t43) === "[object Object]";
}
function l14(t43) {
  return w11(t43) && !!t43.isVector3;
}
function j5(t43, c85) {
  return f12(this, null, function* () {
    const [n72] = yield d11(t43.changeMode(...c85));
    if (n72)
      throw new Error("change mode canceled");
    yield new Promise((i65) => {
      t43.once("initAnimationWillStart", () => {
        t43.once("initAnimationEnded", () => i65());
      });
    });
    const e48 = c85[1];
    if (!e48)
      return true;
    const r66 = t43.getCurrentState();
    if (!b11(e48, r66))
      throw new Error("pose 与预期不符");
  });
}
function b11(t43, c85) {
  return Object.keys(t43).every((n72) => {
    const e48 = c85[n72], r66 = t43[n72];
    return e48 === void 0 || r66 === void 0 ? true : n72 === "longitude" || n72 === "latitude" ? h14(e48, r66, 2) : typeof e48 == "number" && typeof r66 == "number" ? r14(e48, r66, 2) : l14(r66) && l14(e48) ? r66.distanceTo(e48) < 0.01 : e48 === r66;
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/utils/correctFiveState.js
var l15 = (e48, t43, o71) => new Promise((m66, n72) => {
  var i65 = (r66) => {
    try {
      u72(o71.next(r66));
    } catch (f80) {
      n72(f80);
    }
  }, a62 = (r66) => {
    try {
      u72(o71.throw(r66));
    } catch (f80) {
      n72(f80);
    }
  }, u72 = (r66) => r66.done ? m66(r66.value) : Promise.resolve(r66.value).then(i65, a62);
  u72((o71 = o71.apply(e48, t43)).next());
});
function h15(e48, t43) {
  if (e48.currentMode !== t43.mode)
    return false;
  const { latitude: o71, longitude: m66, fov: n72, offset: i65 } = t43, { latitude: a62, longitude: u72, offset: r66 } = e48.getCurrentState(), f80 = e48.camera.fov;
  return !(!r14(o71, a62, 2) || !r14(m66, u72, 2) || i65 !== void 0 && i65.distanceTo(r66) > 0.01 || !r14(n72, f80, 2));
}
function b12(e48, t43, o71 = true) {
  return l15(this, null, function* () {
    if (h15(e48, t43) === true)
      return;
    const n72 = e48.getCurrentState();
    if (n72.mode !== t43.mode) {
      const [c85] = yield d11(j5(e48, [t43.mode, t43, void 0, o71]));
      if (c85)
        throw c85;
      return;
    }
    const { latitude: i65, longitude: a62, fov: u72 } = n72, r66 = Math.min(
      1e3,
      Math.max(
        200,
        Math.abs(i65 - Math.PI / 2) * 1e3,
        (a62 > Math.PI ? 2 * Math.PI - a62 : a62) * 500,
        typeof t43.fov == "number" ? Math.abs(u72 - t43.fov) * 10 : 1 / 0
      )
    ), [f80] = yield d11(e48.updateCamera(e7(t43, ["mode"]), r66, o71));
    if (f80)
      throw new Error(a15.UpdateCameraError);
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/changeModelCanvasOpacity.js
function a16(o71, s60, t43 = 300) {
  var r66, l63;
  const e48 = o71.getElement();
  if (e48) {
    e48.style.opacity = s60 + "";
    for (let n72 = 0; n72 < ((l63 = (r66 = e48.parentElement) == null ? void 0 : r66.children) == null ? void 0 : l63.length); n72++) {
      const i65 = e48.parentElement.children[n72];
      i65 instanceof HTMLElement && i65.dataset.infive === "1" && (i65.style.opacity = s60 + "");
    }
    e48.style.transition = t43 === 0 ? "none" : `opacity ${t43}ms linear`, t43 !== 0 && Promise.race([
      new Promise((n72) => e48.addEventListener("transitionend", n72, { once: true })),
      new Promise((n72) => setTimeout(n72, t43))
    ]).then(() => {
      e48.style.transition = "none";
    });
  }
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/ModelFloorplanPlugin/Controller.js
var C18 = Object.defineProperty;
var S16 = Object.defineProperties;
var E16 = Object.getOwnPropertyDescriptors;
var w12 = Object.getOwnPropertySymbols;
var P13 = Object.prototype.hasOwnProperty;
var x9 = Object.prototype.propertyIsEnumerable;
var v13 = (d73, s60, t43) => s60 in d73 ? C18(d73, s60, { enumerable: true, configurable: true, writable: true, value: t43 }) : d73[s60] = t43;
var l16 = (d73, s60) => {
  for (var t43 in s60 || (s60 = {}))
    P13.call(s60, t43) && v13(d73, t43, s60[t43]);
  if (w12)
    for (var t43 of w12(s60))
      x9.call(s60, t43) && v13(d73, t43, s60[t43]);
  return d73;
};
var g8 = (d73, s60) => S16(d73, E16(s60));
var o19 = (d73, s60, t43) => (v13(d73, typeof s60 != "symbol" ? s60 + "" : s60, t43), t43);
var f13 = (d73, s60, t43) => new Promise((e48, i65) => {
  var r66 = (a62) => {
    try {
      n72(t43.next(a62));
    } catch (p66) {
      i65(p66);
    }
  }, h66 = (a62) => {
    try {
      n72(t43.throw(a62));
    } catch (p66) {
      i65(p66);
    }
  }, n72 = (a62) => a62.done ? e48(a62.value) : Promise.resolve(a62.value).then(r66, h66);
  n72((t43 = t43.apply(d73, s60)).next());
});
function W8(d73) {
  const { latitude: s60, longitude: t43 } = d73, e48 = Math.abs(s60 - Math.PI / 2) > 5 * Math.PI / 180, i65 = t43 > 5 * (Math.PI / 180) && t43 < 355 * (Math.PI / 180);
  return e48 || i65;
}
function U6(d73) {
  const { latitude: s60, longitude: t43 } = d73, e48 = Math.abs(s60 - Math.PI / 2) < 10 * Math.PI / 180, i65 = t43 < 30 * (Math.PI / 180) || t43 > 330 * (Math.PI / 180);
  return e48 && i65;
}
var $e2 = class extends e9 {
  constructor(t43, e48) {
    var a62, p66, c85;
    super(t43);
    o19(this, "name", "modelFloorplanPlugin");
    o19(this, "state");
    o19(this, "data");
    o19(this, "showState");
    o19(this, "showPromise");
    o19(this, "app");
    o19(this, "panoIndex", 0);
    o19(this, "floorIndex", 0);
    o19(this, "selector");
    o19(this, "showRejection");
    o19(this, "wrapper");
    o19(this, "container", document.createElement("div"));
    o19(this, "lastPanoramaLongitude", 0);
    o19(this, "size", { width: 0, height: 0 });
    o19(this, "defaultMissingFloorConfig");
    o19(this, "hasAddedEventListener", false);
    o19(this, "isHiddenByHideFunc", false);
    o19(this, "highlightData", {});
    o19(this, "store", { roomOnMouse: null });
    o19(this, "dispose", () => {
      var t44, e49;
      this.removeEventListener(), (t44 = this.app) == null || t44.$destroy(), this.app = void 0, (e49 = this.container) == null || e49.remove(), this.data = void 0, this.wrapper = void 0, this.selector = void 0, this.hooks.emit("dispose");
    });
    o19(this, "show", (...e49) => f13(this, [...e49], function* (t44 = {}) {
      if (!this.state.enabled || !this.showPromise && this.state.visible)
        return;
      const i66 = t44.userAction !== void 0 ? t44.userAction : true;
      this.updateState({ visible: true }, i66), this._show(t44);
    }));
    o19(this, "hide", (...e49) => f13(this, [...e49], function* (t44 = {}) {
      this.state.enabled && (this.isHiddenByHideFunc = true, this.state.visible !== false && (this.updateState({ visible: false }, t44.userAction || true), this._hide(t44)));
    }));
    o19(this, "updateSize", () => {
      if (!this.data || !this.container || !this.wrapper)
        return false;
      const { min: t44, max: e49 } = this.data.bounding, i66 = e49.x - t44.x, r67 = e49.y - t44.y, h67 = this.state.config.attachedTo ? { attachedTo: this.state.config.attachedTo } : void 0, n73 = E15(this.five, this.wrapper, this.floorIndex, h67), a63 = Math.ceil(i66 * n73), p67 = Math.ceil(r67 * n73);
      return this.size.width === a63 && this.size.height === p67 || (this.container.style.width = a63 + "px", this.container.style.height = p67 + "px", this.size = { width: a63, height: p67 }), true;
    });
    o19(this, "highlight", (t44) => {
      this.state.config.highlightEnable && (this.highlightData = t44, this.render());
    });
    o19(this, "unhighlight", () => {
      this.highlightData = {}, this.render();
    });
    o19(this, "_disable", (t44) => {
      var i66, r67, h67;
      const { userAction: e49 } = t44;
      this.hooks.emit("disable", { userAction: e49 }), (i66 = this.showRejection) == null || i66.call(this, a15.BreakOffByDisable), this.showPromise = void 0, (r67 = this.app) == null || r67.$destroy(), this.app = void 0, (h67 = this.container) == null || h67.remove(), this.removeEventListener();
    });
    o19(this, "_enable", (t44) => {
      const { userAction: e49 } = t44;
      this.addEventListener(), this.wrapper && (this.wrapper.append(this.container), this.hooks.emit("enable", { userAction: e49 }), this.state.visible && this._show({ userAction: e49 }));
    });
    o19(this, "_show", (t44) => f13(this, null, function* () {
      var h67;
      if (!this.state.enabled)
        return;
      if (!((h67 = this.five.model) != null && h67.loaded))
        throw new Error(a15.ModelNotLoaded);
      if (!this.data)
        throw new Error(a15.DataNotLoaded);
      if (this.showPromise)
        return this.showPromise;
      const e49 = {
        floorIndex: this.floorIndex,
        modelOpacity: this.state.config.modelOpacity,
        immediately: false,
        isAutoShow: false,
        userAction: true
      }, i66 = l16(l16({}, e49), t44), r67 = () => f13(this, null, function* () {
        this.hooks.emit("show", { userAction: i66.userAction, auto: i66.isAutoShow });
        let n73 = false, a63;
        this.showRejection = (m66) => {
          n73 = true, a63 = m66;
        };
        const [p67] = yield d11(b12(this.five, this.showState, i66.userAction));
        if (p67)
          throw p67;
        if (n73)
          throw a63 ? new Error(a63) : new Error(a15.UnknownError);
        if (!this.updateSize())
          throw new Error(a15.UpdateSizeError);
        this.floorIndex = i66.floorIndex, this.five.model.show(this.floorIndex);
      });
      return this.isHiddenByHideFunc = false, this.showPromise = r67().then(() => {
        this.showPromise = void 0, this.showRejection = void 0;
        const n73 = i66.modelOpacity, a63 = i66.immediately ? 0 : d16;
        a16(this.five, n73, a63), this.render(a63), this.hooks.emit("showAnimationEnded", {
          auto: i66.isAutoShow,
          userAction: i66.userAction
        });
      }).catch((n73) => {
        if (this.showPromise = void 0, this.showRejection = void 0, this.updateState({ visible: false }, i66.userAction), !i66.isAutoShow && n73 instanceof Error)
          throw n73;
      }), this.showPromise;
    }));
    o19(this, "_hide", (t44) => {
      var r67;
      (r67 = this.showRejection) == null || r67.call(this, a15.BreakOffByHide), this.showPromise = void 0;
      const i66 = l16(l16({}, {
        userAction: true,
        isAutoHide: false
      }), t44);
      a16(this.five, 1, 0), this.hooks.emit("hide", { auto: i66.isAutoHide, userAction: i66.userAction }), this.render();
    });
    o19(this, "handleClick", () => {
      if (!this.state.visible)
        return;
      if (this.hooks.emit("click", this.store.roomOnMouse))
        return false;
    });
    o19(this, "onFiveModelLoaded", () => {
      if (this.state.enabled === false || this.wrapper || !this.selector)
        return;
      const t44 = this.selector instanceof Element ? this.selector : document.querySelector(this.selector);
      if (!t44)
        throw new Error("不正确的父容器选择器");
      this.wrapper = t44, t44.append(this.container);
    });
    o19(this, "onFiveModeChange", (t44) => {
      t44 !== this.showState.mode && (this.updateState({ visible: false }, false), this._hide({ userAction: false }));
    });
    o19(this, "onFiveInteriaPan", (t44, e49) => {
      if (!e49 || this.state.config.autoShowEnable === false || this.isHiddenByHideFunc)
        return;
      const i66 = this.five.getCurrentState();
      i66.mode === "Floorplan" && (this.state.visible || U6(i66) && (this.updateState({ visible: true }, true), this._show({ isAutoShow: true })));
    });
    o19(this, "onFivePanoArrived", (t44) => {
      var e49;
      (e49 = this.five) != null && e49.work && (this.panoIndex = t44, this.floorIndex = this.workUtil.observers[t44].floorIndex);
    });
    o19(this, "onFiveCameraUpdate", (t44, e49) => {
      if (!this.state.visible || this.showPromise)
        return;
      const i66 = this.five.getCurrentState();
      W8(i66) && (this.updateState({ visible: false }, e49), this._hide({ userAction: e49, isAutoHide: true }));
    });
    o19(this, "onFiveWantsGesture", (t44, e49) => {
      if (this.state.visible && (e49.length > 1 || t44 === "mouseWheel"))
        return false;
    });
    o19(this, "onFiveWantsPanGesture", (t44, e49) => {
      if (this.five.getCurrentState().mode === "Floorplan" && this.state.config.autoShowEnable !== false && e49 && this.state.visible)
        return this.five.updateCamera(this.showState, 0), false;
    });
    o19(this, "onFiveWantsTapGesture", () => this.handleClick());
    o19(this, "onFiveWantsChangeMode", (t44, e49) => {
      e49 === "Panorama" && t44 === "Floorplan" && (this.lastPanoramaLongitude = this.five.getCurrentState().longitude);
    });
    o19(this, "onModelShownFloorChange", (t44) => {
      if (this.floorIndex !== t44) {
        if (t44 === null) {
          const e49 = this.five.getCurrentState().panoIndex;
          this.floorIndex = this.workUtil.observers[e49].floorIndex;
          return;
        }
        this.floorIndex = t44, this.updateSize(), this.render();
      }
    });
    e48 != null && e48.selector && (this.selector = e48.selector, console.warn("不推荐继续使用 params.selector 配置父容器，请使用 appendTo 方法")), this.showState = {
      mode: "Floorplan",
      longitude: 0,
      latitude: Math.PI / 2,
      fov: t15 / ((a62 = e48 == null ? void 0 : e48.scale) != null ? a62 : 1)
    }, this.defaultMissingFloorConfig = {
      imageURL: this.staticPrefix + "/release/web/saas/missing-floorplan.e274c596.png",
      imageWidth: 200,
      imageHeight: 120,
      text: (c85 = (p66 = e48.i18n) == null ? void 0 : p66.call(e48, "暂无平面图")) != null ? c85 : "暂无平面图",
      textFontSize: 14
    };
    const i65 = {
      northDesc: "北",
      modelOpacity: 1,
      cameraEnable: true,
      highlightEnable: false,
      hoverEnable: true,
      compassEnable: true,
      autoShowEnable: true,
      ruleLabelsEnable: true,
      roomLabelsEnable: true,
      roomAreaEnable: true,
      roomNameEnable: true,
      roomNameOtherTypeEnable: true,
      roomDimensionEnable: true,
      adaptiveRoomLabelVisibleEnable: true,
      cameraImageUrl: v11,
      attachedTo: r13.BOUNDING_CENTER,
      getLabelElement: void 0,
      missingFloorConfig: l16(l16({}, this.defaultMissingFloorConfig), e48.missingFloorConfig),
      i18n: (m66) => m66,
      getRoomAreaText: (m66) => (m66 / 1e6).toFixed(1) + "㎡",
      getRoomDimensionText: (m66, A62) => (m66 / 1e3).toFixed(1) + "m × " + (A62 / 1e3).toFixed(1) + "m",
      getRuleDistanceText: (m66) => m66.toString()
    }, r66 = e48 ? e7(e48, ["selector", "scale"]) : {}, h66 = l16(l16({}, i65.missingFloorConfig), r66.missingFloorConfig), n72 = g8(l16(l16({}, i65), r66), { missingFloorConfig: h66 });
    this.state = { enabled: true, visible: false, config: n72 }, this.initContainer(), t43.once("dispose", this.dispose), this.addEventListener();
  }
  load(t43, e48, i65 = true) {
    return f13(this, null, function* () {
      function r66(c85) {
        return Object.prototype.hasOwnProperty.apply(c85, ["version"]);
      }
      const h66 = t43;
      h66 && t7(h66.version) && console.warn("传入 serverData.data 的方式后续可能不再支持，请把 serverData 整体传入 load 函数");
      const n72 = JSON.parse(JSON.stringify(t43)), a62 = r66(n72) ? n72.data : n72, p66 = this.data;
      this.data = yield P12(a62), this.hooks.emit("dataLoaded", this.data), this.hooks.emit("dataChange", this.data, p66), e48 && this.updateState(e48, i65), this.render();
    });
  }
  /** 把插件的渲染DOM插入到对应的容器中去 */
  appendTo(t43) {
    if (this.wrapper = t43, !!this.state.enabled)
      return t43.appendChild(this.container), this.render(), this;
  }
  /** 启用插件 */
  enable(t43 = {}) {
    if (this.state.enabled)
      return;
    const e48 = t43.userAction !== void 0 ? t43.userAction : true;
    this.updateState({ enabled: true }, t43.userAction || e48), this._enable({ userAction: e48 });
  }
  /** 禁用插件 */
  disable(t43 = {}) {
    if (!this.state.enabled)
      return;
    const e48 = t43.userAction !== void 0 ? t43.userAction : true;
    this.updateState({ enabled: false }, t43.userAction || e48), this._disable({ userAction: e48 });
  }
  /** 更改插件 State */
  setState(t43, e48 = {}) {
    const i65 = this.state, r66 = e48.userAction !== void 0 ? e48.userAction : true;
    if (this.updateState(t43, r66), t43.enabled !== void 0 && i65.enabled !== t43.enabled && (t43.enabled ? this._enable({ userAction: r66 }) : this._disable({ userAction: r66 })), t43.visible !== void 0 && i65.visible !== t43.visible) {
      const h66 = { userAction: r66 };
      t43.visible ? this._show(h66) : this._hide(h66);
    }
    this.render();
  }
  changeConfigs(t43, e48 = true) {
    this.updateState({ config: t43 }, e48), this.render();
  }
  formatData(t43) {
    return f13(this, null, function* () {
      return yield P12(t43.data);
    });
  }
  updateState(t43, e48) {
    var n72;
    const i65 = this.state, r66 = (n72 = t43.config) != null && n72.missingFloorConfig ? l16(l16({}, i65.config.missingFloorConfig), t43.config.missingFloorConfig) : i65.config.missingFloorConfig, h66 = t43.config ? g8(l16(l16({}, i65.config), t43.config), { missingFloorConfig: r66 }) : i65.config;
    this.state = g8(l16(l16({}, this.state), t43), { config: h66 }), !b6(this.state, i65, { deep: true }) && this.hooks.emit("stateChange", { state: this.state, prevState: i65, userAction: e48 });
  }
  /** 如果用户是通过 selector 设置父容器，需要在 modelLoaded 之后把 container 自动放到父容器里
   *
   * - TODO: 等 selector 功能下掉之后删除这个逻辑
   */
  initContainer() {
    this.container.classList.add("floorplan-plugin"), Object.assign(this.container.style, {
      position: "absolute",
      left: "50%",
      top: "50%",
      transform: "translate(-50%, -50%)",
      zIndex: 10,
      pointerEvents: "none"
    }), this.five.addExtraElement(this.container);
  }
  addEventListener() {
    if (!this.state.enabled || this.hasAddedEventListener)
      return;
    const t43 = this.five;
    t43.model.loaded ? this.onFiveModelLoaded() : t43.once("modelLoaded", this.onFiveModelLoaded), t43.on("modeChange", this.onFiveModeChange), t43.on("interiaPan", this.onFiveInteriaPan), t43.on("panoArrived", this.onFivePanoArrived), t43.on("cameraUpdate", this.onFiveCameraUpdate), t43.on("wantsGesture", this.onFiveWantsGesture), t43.on("wantsPanGesture", this.onFiveWantsPanGesture), t43.on("wantsTapGesture", this.onFiveWantsTapGesture), t43.on("wantsChangeMode", this.onFiveWantsChangeMode), t43.on("modelShownFloorChange", this.onModelShownFloorChange);
  }
  removeEventListener() {
    const t43 = this.five;
    this.hasAddedEventListener = false, t43.off("modelLoaded", this.onFiveModelLoaded), t43.off("modeChange", this.onFiveModeChange), t43.off("interiaPan", this.onFiveInteriaPan), t43.off("panoArrived", this.onFivePanoArrived), t43.off("cameraUpdate", this.onFiveCameraUpdate), t43.off("wantsGesture", this.onFiveWantsGesture), t43.off("wantsPanGesture", this.onFiveWantsPanGesture), t43.off("wantsTapGesture", this.onFiveWantsTapGesture), t43.off("wantsChangeMode", this.onFiveWantsChangeMode), t43.off("modelShownFloorChange", this.onModelShownFloorChange);
  }
  render(t43) {
    if (!this.state.enabled || !this.container || !this.data || this.size.width === 0 || this.showPromise)
      return;
    const e48 = g8(l16({}, this.state.config), {
      visible: this.state.visible,
      duration: t43 != null ? t43 : 0,
      panoIndex: this.panoIndex,
      floorIndex: this.floorIndex,
      floorplanData: this.data,
      lastPanoramaLongitude: this.lastPanoramaLongitude,
      highlightData: this.highlightData,
      store: this.store
    });
    if (this.app)
      return this.app.$set(e48);
    this.app = new be2({ target: this.container, intro: true, props: e48 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/ModelFloorplanPlugin/index.js
var ar3 = (o71, r66) => new $e2(o71, r66);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/MapviewFloorplanPlugin/items.js
var e10 = [
  {
    type: 0,
    description: "车-2",
    href: "resource/items/{{ theme }}/car_2.png",
    width: 4200,
    height: 1800,
    tag: "其他",
    direction: 3,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 1,
    description: "车-1",
    href: "resource/items/{{ theme }}/car_1.png",
    width: 1900,
    height: 4300,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 2,
    description: "中厨-1",
    href: "resource/items/{{ theme }}/kitchen_1.png",
    width: 3158,
    height: 1400,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 3,
    description: "8人餐桌",
    href: "resource/items/{{ theme }}/table_for_8.png",
    width: 3240,
    height: 1800,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 4,
    description: "衣柜-1",
    href: "resource/items/{{ theme }}/wardrobe_1.png",
    width: 1820,
    height: 600,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 5,
    description: "浴缸-2",
    href: "resource/items/{{ theme }}/bathtub_2.png",
    width: 1500,
    height: 694,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 6,
    description: "衣柜-3",
    href: "resource/items/{{ theme }}/wardrobe_3.png",
    width: 2830,
    height: 600,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 7,
    description: "植物-4",
    href: "resource/items/{{ theme }}/plant_4.png",
    width: 700,
    height: 628,
    tag: "装饰类",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 8,
    description: "植物-1",
    href: "resource/items/{{ theme }}/plant_1.png",
    width: 700,
    height: 565,
    tag: "装饰类",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 9,
    description: "植物-6",
    href: "resource/items/{{ theme }}/plant_6.png",
    width: 800,
    height: 758,
    tag: "装饰类",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 10,
    description: "书桌-1",
    href: "resource/items/{{ theme }}/desk_1.png",
    width: 1200,
    height: 930,
    tag: "书房",
    direction: 0,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 11,
    description: "瓶艺-1",
    href: "resource/items/{{ theme }}/bottle_art_1.png",
    width: 530,
    height: 520,
    tag: "装饰类",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 12,
    description: "衣柜-2",
    href: "resource/items/{{ theme }}/wardrobe_2.png",
    width: 2310,
    height: 600,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 13,
    description: "植物-2",
    href: "resource/items/{{ theme }}/plant_2.png",
    width: 600,
    height: 600,
    tag: "装饰类",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 14,
    description: "西厨-1",
    href: "resource/items/{{ theme }}/western_kitchen_1.png",
    width: 2180,
    height: 550,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 15,
    description: "西厨-2",
    href: "resource/items/{{ theme }}/western_kitchen_2.png",
    width: 1480,
    height: 550,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 16,
    description: "浴缸-1",
    href: "resource/items/{{ theme }}/bathtub_1.png",
    width: 1500,
    height: 956,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 17,
    description: "植物-3",
    href: "resource/items/{{ theme }}/plant_3.png",
    width: 700,
    height: 639,
    tag: "装饰类",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 18,
    description: "书桌-2",
    href: "resource/items/{{ theme }}/desk_2.png",
    width: 2200,
    height: 2470,
    tag: "书房",
    direction: 3,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 19,
    description: "吧台",
    href: "resource/items/{{ theme }}/bar_counter.png",
    width: 1800,
    height: 1130,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 20,
    description: "书柜-短",
    href: "resource/items/{{ theme }}/bookcase_short.png",
    width: 1460,
    height: 350,
    tag: "书房",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 21,
    description: "鞋柜-长",
    href: "resource/items/{{ theme }}/shoe_cabinet_long.png",
    width: 2059,
    height: 550,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 22,
    description: "鞋柜-短",
    href: "resource/items/{{ theme }}/shoe_cabinet_short.png",
    width: 1308,
    height: 550,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 23,
    description: "中厨-2",
    href: "resource/items/{{ theme }}/kitchen_2.png",
    width: 2020,
    height: 650,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 24,
    description: "椅子",
    href: "resource/items/{{ theme }}/chair.png",
    width: 1050,
    height: 950,
    tag: "客厅",
    direction: 1,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 25,
    description: "秋千",
    href: "resource/items/{{ theme }}/swing.png",
    width: 1600,
    height: 1370,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 26,
    description: "茶几",
    href: "resource/items/{{ theme }}/tea_table.png",
    width: 1090,
    height: 800,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 27,
    description: "庭院",
    href: "resource/items/{{ theme }}/courtyard.png",
    width: 2100,
    height: 3020,
    tag: "其他",
    direction: 3,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 28,
    description: "躺椅",
    href: "resource/items/{{ theme }}/deck_chair.png",
    width: 900,
    height: 1850,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 29,
    description: "钢琴",
    href: "resource/items/{{ theme }}/piano.png",
    width: 1900,
    height: 2260,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 30,
    description: "音响",
    href: "resource/items/{{ theme }}/sound.png",
    width: 2500,
    height: 550,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 31,
    description: "马桶",
    href: "resource/items/{{ theme }}/flush_toilet.png",
    width: 450,
    height: 750,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 32,
    description: "植物-5",
    href: "resource/items/{{ theme }}/plant_5.png",
    width: 544,
    height: 600,
    tag: "装饰类",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 33,
    description: "书柜-长",
    href: "resource/items/{{ theme }}/bookcase_long.png",
    width: 2040,
    height: 350,
    tag: "书房",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 34,
    description: "燃气灶-1",
    href: "resource/items/{{ theme }}/gas_stove_1.png",
    width: 820,
    height: 450,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 35,
    description: "洗脸池-单",
    href: "resource/items/{{ theme }}/wash_basin_single.png",
    width: 1150,
    height: 500,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 36,
    description: "洗手池-单",
    href: "resource/items/{{ theme }}/sink_single.png",
    width: 1200,
    height: 500,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 37,
    description: "双人床-4",
    href: "resource/items/{{ theme }}/double_4.png",
    width: 2743,
    height: 2e3,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 38,
    description: "电视柜-短",
    href: "resource/items/{{ theme }}/tv_cabinet_short.png",
    width: 1580,
    height: 350,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 39,
    description: "储物柜-1",
    href: "resource/items/{{ theme }}/locker_1.png",
    width: 1400,
    height: 600,
    tag: "储物间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 40,
    description: "双人床-3",
    href: "resource/items/{{ theme }}/double_3.png",
    width: 2791,
    height: 2300,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 41,
    description: "双人床-2",
    href: "resource/items/{{ theme }}/double_2.png",
    width: 2791,
    height: 2300,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 42,
    description: "洗手池-双",
    href: "resource/items/{{ theme }}/sink_double.png",
    width: 2777,
    height: 600,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 43,
    description: "洗脸池-双",
    href: "resource/items/{{ theme }}/wash_basin_double.png",
    width: 2550,
    height: 600,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 44,
    description: "双人床（无床头柜）-1",
    href: "resource/items/{{ theme }}/double_bed_without_bedside_table_1.png",
    width: 1914,
    height: 2e3,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 45,
    description: "电视柜-长",
    href: "resource/items/{{ theme }}/tv_cabinet_long.png",
    width: 2040,
    height: 350,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 46,
    description: "洽谈桌组合",
    href: "resource/items/{{ theme }}/negotiation_table_combination.png",
    width: 2830,
    height: 950,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 47,
    description: "哑铃架",
    href: "resource/items/{{ theme }}/dumbbell_rack.png",
    width: 900,
    height: 650,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 48,
    description: "沙发组合-1",
    href: "resource/items/{{ theme }}/sofa_combination_1.png",
    width: 4e3,
    height: 2792,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 49,
    description: "游泳池-2",
    href: "resource/items/{{ theme }}/swimming_pool_2.png",
    width: 7680,
    height: 3800,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 50,
    description: "美人榻",
    href: "resource/items/{{ theme }}/beauty_couch.png",
    width: 1600,
    height: 520,
    tag: "卧室",
    direction: 1,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 51,
    description: "单人床（无床头柜）",
    href: "resource/items/{{ theme }}/single_bed_without_bedside_table.png",
    width: 1200,
    height: 2120,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 52,
    description: "沙发组合-2",
    href: "resource/items/{{ theme }}/sofa_combination_2.png",
    width: 2e3,
    height: 2054,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 53,
    description: "跑步机",
    href: "resource/items/{{ theme }}/treadmill.png",
    width: 2120,
    height: 950,
    tag: "其他",
    direction: 1,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 54,
    description: "储物柜-3",
    href: "resource/items/{{ theme }}/lockers_3.png",
    width: 2400,
    height: 1360,
    tag: "储物间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 55,
    description: "洗菜池-1",
    href: "resource/items/{{ theme }}/vegetable_washing_pool_1.png",
    width: 760,
    height: 470,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 56,
    description: "组合沙发-4",
    href: "resource/items/{{ theme }}/combination_sofa_4.png",
    width: 1800,
    height: 1595,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 57,
    description: "台球桌",
    href: "resource/items/{{ theme }}/pool_table.png",
    width: 2540,
    height: 1400,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 58,
    description: "置物台-1",
    href: "resource/items/{{ theme }}/shelf_1.png",
    width: 1632,
    height: 560,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 59,
    description: "储物柜-2",
    href: "resource/items/{{ theme }}/locker_2.png",
    width: 2640,
    height: 600,
    tag: "储物间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 60,
    description: "户外桌椅",
    href: "resource/items/{{ theme }}/outdoor_tables_and_chairs.png",
    width: 3e3,
    height: 2800,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 61,
    description: "洗衣机-1",
    href: "resource/items/{{ theme }}/washing_machine_1.png",
    width: 850,
    height: 600,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 62,
    description: "双人床-1",
    href: "resource/items/{{ theme }}/double_1.png",
    width: 2851,
    height: 2200,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 63,
    description: "六人餐桌",
    href: "resource/items/{{ theme }}/table_for_six.png",
    width: 2230,
    height: 1700,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 64,
    description: "洽谈沙发椅",
    href: "resource/items/{{ theme }}/sofa_chair.png",
    width: 1e3,
    height: 950,
    tag: "其他",
    direction: 1,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 65,
    description: "三人沙发",
    href: "resource/items/{{ theme }}/three_seat_sofa.png",
    width: 2670,
    height: 950,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 66,
    description: "会客桌",
    href: "resource/items/{{ theme }}/reception_table.png",
    width: 1800,
    height: 1800,
    tag: "其他",
    direction: 1,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 67,
    description: "健身机",
    href: "resource/items/{{ theme }}/fitness_machine.png",
    width: 2200,
    height: 800,
    tag: "其他",
    direction: 1,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 68,
    description: "沙发组合-3",
    href: "resource/items/{{ theme }}/sofa_combination_3.png",
    width: 2670,
    height: 2330,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 69,
    description: "双开冰箱",
    href: "resource/items/{{ theme }}/double_refrigerator.png",
    width: 720,
    height: 600,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 70,
    description: "车库工具箱",
    href: "resource/items/{{ theme }}/garage_toolbox.png",
    width: 1280,
    height: 500,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 71,
    description: "储物柜-4",
    href: "resource/items/{{ theme }}/locker_4.png",
    width: 2440,
    height: 2440,
    tag: "储物间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 72,
    description: "临时餐台",
    href: "resource/items/{{ theme }}/temporary_dining_table.png",
    width: 1e3,
    height: 1500,
    tag: "厨房",
    direction: 1,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 73,
    description: "置物台-2",
    href: "resource/items/{{ theme }}/shelf_2.png",
    width: 1590,
    height: 600,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 74,
    description: "四人餐桌",
    href: "resource/items/{{ theme }}/table_for_four.png",
    width: 1700,
    height: 1700,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 75,
    description: "洽谈桌",
    href: "resource/items/{{ theme }}/negotiating_table.png",
    width: 950,
    height: 950,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 76,
    description: "游泳池-1",
    href: "resource/items/{{ theme }}/swimming_pool_1.png",
    width: 4300,
    height: 5340,
    tag: "其他",
    direction: 1,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 77,
    description: "毛巾凳",
    href: "resource/items/{{ theme }}/towel_stool.png",
    width: 800,
    height: 500,
    tag: "卫生间",
    direction: 0,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 78,
    description: "电梯",
    href: "resource/items/{{ theme }}/lift.png",
    width: 2e3,
    height: 2e3,
    tag: "楼梯",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 79,
    description: "AC",
    href: "resource/items/{{ theme }}/ac.png",
    width: 850,
    height: 320,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 80,
    description: "二人餐桌",
    href: "resource/items/{{ theme }}/table_for_two.png",
    width: 780,
    height: 1500,
    tag: "客厅",
    direction: 1,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 81,
    description: "双人床（无床头柜）-2",
    href: "resource/items/{{ theme }}/double_bed_without_bedside_table_2.png",
    width: 1500,
    height: 2200,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 82,
    description: "双人床（无床头柜）-3",
    href: "resource/items/{{ theme }}/double_bed_without_bedside_table_3.png",
    width: 1800,
    height: 2200,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 83,
    description: "床头柜",
    href: "resource/items/{{ theme }}/bedstand.png",
    width: 500,
    height: 500,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 84,
    description: "单开门冰箱",
    href: "resource/items/{{ theme }}/refrigerator.png",
    width: 650,
    height: 670,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 85,
    description: "沙发组合-5",
    href: "resource/items/{{ theme }}/sofa_combination_5.png",
    width: 1598,
    height: 1418,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 86,
    description: "沙发组合-6",
    href: "resource/items/{{ theme }}/sofa_combination_6.png",
    width: 2680,
    height: 1790,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 87,
    description: "四人餐桌-1",
    href: "resource/items/{{ theme }}/table_for_four_1.png",
    width: 1600,
    height: 1700,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 88,
    description: "小单人沙发",
    href: "resource/items/{{ theme }}/chair_2.png",
    width: 460,
    height: 416,
    tag: "客厅",
    direction: 1,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 89,
    description: "小洗手池",
    href: "resource/items/{{ theme }}/sink_small.png",
    width: 600,
    height: 500,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 90,
    description: "小厨",
    href: "resource/items/{{ theme }}/kitchen_small.png",
    width: 740,
    height: 550,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 91,
    description: "小衣柜",
    href: "resource/items/{{ theme }}/wardrobe_small.png",
    width: 910,
    height: 600,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 92,
    description: "淋浴房",
    href: "resource/items/{{ theme }}/shower.png",
    width: 650,
    height: 670,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 93,
    description: "鞋柜-1",
    href: "resource/items/{{ theme }}/shoe_cabinet_1.png",
    width: 900,
    height: 400,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 94,
    description: "鞋柜-2",
    href: "resource/items/{{ theme }}/shoe_cabinet_2.png",
    width: 1500,
    height: 400,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 95,
    description: "鞋柜-3",
    href: "resource/items/{{ theme }}/shoe_cabinet_3.png",
    width: 2e3,
    height: 400,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 96,
    description: "电视柜-1",
    href: "resource/items/{{ theme }}/tv_cabinet_1.png",
    width: 1500,
    height: 350,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 97,
    description: "电视柜-2",
    href: "resource/items/{{ theme }}/tv_cabinet_2.png",
    width: 2040,
    height: 350,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 98,
    description: "电视柜-3",
    href: "resource/items/{{ theme }}/tv_cabinet_3.png",
    width: 3e3,
    height: 350,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 99,
    description: "餐边柜-1",
    href: "resource/items/{{ theme }}/sideboard_1.png",
    width: 900,
    height: 550,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 100,
    description: "餐边柜-2",
    href: "resource/items/{{ theme }}/sideboard_2.png",
    width: 1500,
    height: 550,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 101,
    description: "餐边柜-3",
    href: "resource/items/{{ theme }}/sideboard_3.png",
    width: 2e3,
    height: 550,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 102,
    description: "燃气灶-2",
    href: "resource/items/{{ theme }}/gas_stove_2.png",
    width: 900,
    height: 550,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 103,
    description: "洗菜池-2",
    href: "resource/items/{{ theme }}/vegetable_washing_pool_2.png",
    width: 900,
    height: 550,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 104,
    description: "橱柜-1",
    href: "resource/items/{{ theme }}/kitchen_cabinet_1.png",
    width: 550,
    height: 550,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 105,
    description: "橱柜-2",
    href: "resource/items/{{ theme }}/kitchen_cabinet_2.png",
    width: 900,
    height: 550,
    tag: "厨房",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 106,
    description: "花洒",
    href: "resource/items/{{ theme }}/shower_head.png",
    width: 260,
    height: 200,
    tag: "卫生间",
    direction: 1,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 107,
    description: "淋浴屏",
    href: "resource/items/{{ theme }}/shower_panel.png",
    width: 1500,
    height: 100,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 108,
    description: "洗衣机-2",
    href: "resource/items/{{ theme }}/washing_machine_2.png",
    width: 600,
    height: 500,
    tag: "卫生间",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 109,
    description: "双人床-5",
    href: "resource/items/{{ theme }}/double_5.png",
    width: 1500,
    height: 2e3,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 110,
    description: "双人床-6",
    href: "resource/items/{{ theme }}/double_6.png",
    width: 1800,
    height: 2e3,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 111,
    description: "双人床-7",
    href: "resource/items/{{ theme }}/double_7.png",
    width: 2e3,
    height: 2200,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 112,
    description: "双人床-8",
    href: "resource/items/{{ theme }}/double_8.png",
    width: 2300,
    height: 2200,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 113,
    description: "梳妆台",
    href: "resource/items/{{ theme }}/dressing_table.png",
    width: 1200,
    height: 900,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 114,
    description: "儿童床-1",
    href: "resource/items/{{ theme }}/children_bed_1.png",
    width: 1400,
    height: 2e3,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 115,
    description: "儿童床-2",
    href: "resource/items/{{ theme }}/children_bed_2.png",
    width: 1700,
    height: 2e3,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 116,
    description: "儿童床-3",
    href: "resource/items/{{ theme }}/children_bed_3.png",
    width: 2e3,
    height: 2200,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 117,
    description: "儿童书桌-1",
    href: "resource/items/{{ theme }}/children_desk_1.png",
    width: 1e3,
    height: 800,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 118,
    description: "儿童书桌-2",
    href: "resource/items/{{ theme }}/children_desk_2.png",
    width: 1200,
    height: 800,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 119,
    description: "儿童书桌-3",
    href: "resource/items/{{ theme }}/children_desk_3.png",
    width: 1500,
    height: 800,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 120,
    description: "儿童活动区域-1",
    href: "resource/items/{{ theme }}/children_carpet_1.png",
    width: 600,
    height: 600,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 121,
    description: "儿童活动区域-2",
    href: "resource/items/{{ theme }}/children_carpet_2.png",
    width: 1200,
    height: 1200,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 122,
    description: "儿童活动区域-3",
    href: "resource/items/{{ theme }}/children_carpet_3.png",
    width: 1800,
    height: 1800,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 123,
    description: "茶榻组合-1",
    href: "resource/items/{{ theme }}/tea_table_combination_1.png",
    width: 2e3,
    height: 1400,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 124,
    description: "茶榻组合-2",
    href: "resource/items/{{ theme }}/tea_table_combination_2.png",
    width: 2500,
    height: 1400,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 125,
    description: "茶榻组合-3",
    href: "resource/items/{{ theme }}/tea_table_combination_3.png",
    width: 3e3,
    height: 1800,
    tag: "其他",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 126,
    description: "儿童衣柜-1",
    href: "resource/items/{{ theme }}/children_wardrobe_1.png",
    width: 900,
    height: 500,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 127,
    description: "儿童衣柜-2",
    href: "resource/items/{{ theme }}/children_wardrobe_2.png",
    width: 1200,
    height: 500,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 128,
    description: "儿童衣柜-3",
    href: "resource/items/{{ theme }}/children_wardrobe_3.png",
    width: 1500,
    height: 500,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 129,
    description: "儿童书柜-1",
    href: "resource/items/{{ theme }}/children_bookcase_1.png",
    width: 800,
    height: 450,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 130,
    description: "儿童书柜-2",
    href: "resource/items/{{ theme }}/children_bookcase_2.png",
    width: 1200,
    height: 450,
    tag: "卧室",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 131,
    description: "折行双跑楼梯",
    href: "resource/items/{{ theme }}/folding_double_running_stairs.png",
    width: 3e3,
    height: 3e3,
    tag: "楼梯",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 132,
    description: "平行双跑楼梯",
    href: "resource/items/{{ theme }}/parallel_double_running_stairs.png",
    width: 2500,
    height: 3600,
    tag: "楼梯",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 133,
    description: "折行三跑楼梯",
    href: "resource/items/{{ theme }}/folding_treble_running_stairs.png",
    width: 4300,
    height: 2700,
    tag: "楼梯",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: true
  },
  {
    type: 134,
    description: "手枪",
    href: "resource/items/{{ theme }}/pistol.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: false
  },
  {
    type: 135,
    description: "血迹",
    href: "resource/items/{{ theme }}/bloodstain.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 2,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: false
  },
  {
    type: 136,
    description: "手印",
    href: "resource/items/{{ theme }}/handprint.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: false
  },
  {
    type: 137,
    description: "足迹",
    href: "resource/items/{{ theme }}/footprint.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: false
  },
  {
    type: 138,
    description: "车轮轨迹",
    href: "resource/items/{{ theme }}/wheelprint.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: false
  },
  {
    type: 139,
    description: "弹头",
    href: "resource/items/{{ theme }}/bullet.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: false
  },
  {
    type: 140,
    description: "弹壳",
    href: "resource/items/{{ theme }}/shell.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 1,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: false
  },
  {
    type: 141,
    description: "尸体",
    href: "resource/items/{{ theme }}/corpse.png",
    width: 1500,
    height: 1500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["legacy", "realsee"],
    label: false
  },
  {
    type: 142,
    description: "空气净化器",
    href: "resource/items/{{ theme }}/airscrubber.png",
    width: 580,
    height: 380,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 143,
    description: "吹风机",
    href: "resource/items/{{ theme }}/airblower.png",
    width: 640,
    height: 600,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 144,
    description: "除湿器",
    href: "resource/items/{{ theme }}/dehumidifier.png",
    width: 480,
    height: 430,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 145,
    description: "冰柜",
    href: "resource/items/{{ theme }}/freezer.png",
    width: 800,
    height: 460,
    tag: "厨房",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 146,
    description: "架子",
    href: "resource/items/{{ theme }}/shelf.png",
    width: 1e3,
    height: 380,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 147,
    description: "杂物",
    href: "resource/items/{{ theme }}/sundries.png",
    width: 800,
    height: 800,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 148,
    description: "L型沙发",
    href: "resource/items/{{ theme }}/L_sofa.png",
    width: 3500,
    height: 1800,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 149,
    description: "书桌3",
    href: "resource/items/{{ theme }}/desk_3.png",
    width: 1200,
    height: 680,
    tag: "书房",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 150,
    description: "会议桌-1",
    href: "resource/items/{{ theme }}/conference_table_1.png",
    width: 1600,
    height: 1100,
    tag: "客厅",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 151,
    description: "衣架",
    href: "resource/items/{{ theme }}/coat_hanger.png",
    width: 1200,
    height: 400,
    tag: "卧室",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 152,
    description: "上下铺",
    href: "resource/items/{{ theme }}/bunk_beds.png",
    width: 2e3,
    height: 1040,
    tag: "卧室",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 153,
    description: "蹲坑",
    href: "resource/items/{{ theme }}/squatting.png",
    width: 600,
    height: 480,
    tag: "卫生间",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 154,
    description: "男尸",
    href: "resource/items/{{ theme }}/male_corpse.png",
    width: 1600,
    height: 800,
    tag: "物证痕迹",
    direction: 1,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 155,
    description: "女尸",
    href: "resource/items/{{ theme }}/female_corpse.png",
    width: 1500,
    height: 800,
    tag: "物证痕迹",
    direction: 1,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 156,
    description: "擦蹭状血迹",
    href: "resource/items/{{ theme }}/rub-like-bookd-stains.png",
    width: 1200,
    height: 800,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 157,
    description: "擦拭物",
    href: "resource/items/{{ theme }}/wipes.png",
    width: 300,
    height: 60,
    tag: "物证痕迹",
    direction: 3,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 158,
    description: "纸团",
    href: "resource/items/{{ theme }}/paper_ball.png",
    width: 400,
    height: 400,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 159,
    description: "未整理的被子",
    href: "resource/items/{{ theme }}/unarranged_quilts.png",
    width: 800,
    height: 500,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 160,
    description: "手机",
    href: "resource/items/{{ theme }}/mobile_phone.png",
    width: 400,
    height: 280,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 161,
    description: "菜刀",
    href: "resource/items/{{ theme }}/kitchen_knife.png",
    width: 500,
    height: 220,
    tag: "物证痕迹",
    direction: 3,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 162,
    description: "矩形",
    href: "resource/items/{{ theme }}/rectangle.png",
    width: 900,
    height: 600,
    tag: "自定义",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true,
    svgWidth: 90,
    svgHeight: 60,
    svg: '<rect x=".75" y=".75" width="88.5" height="58.5" rx="4" fill="#FFF" stroke="#3D404E" fill-rule="evenodd" vector-effect="non-scaling-stroke"/>'
  },
  {
    type: 163,
    description: "圆形",
    href: "resource/items/{{ theme }}/circle.png",
    width: 600,
    height: 600,
    tag: "自定义",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 164,
    description: "三角形",
    href: "resource/items/{{ theme }}/triangle.png",
    width: 600,
    height: 600,
    tag: "自定义",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 165,
    description: "五角星形",
    href: "resource/items/{{ theme }}/five_pointedstar.png",
    width: 800,
    height: 800,
    tag: "自定义",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 166,
    description: "会议桌-2",
    href: "resource/items/{{ theme }}/conference_table_2.png",
    width: 2800,
    height: 1800,
    tag: "客厅",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 167,
    description: "餐椅",
    href: "resource/items/{{ theme }}/dining_chair.png",
    width: 500,
    height: 580,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 168,
    description: "转椅-1",
    href: "resource/items/{{ theme }}/rotating_chair_1.png",
    width: 500,
    height: 580,
    tag: "书房",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 169,
    description: "转椅-2",
    href: "resource/items/{{ theme }}/rotating_chair_2.png",
    width: 640,
    height: 640,
    tag: "书房",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 170,
    description: "长方形茶几",
    href: "resource/items/{{ theme }}/rectangular_coffee_table.png",
    width: 1090,
    height: 800,
    tag: "客厅",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 171,
    description: "抽油烟机",
    href: "resource/items/{{ theme }}/smoke_lampblack_machine.png",
    width: 1200,
    height: 800,
    tag: "厨房",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 172,
    description: "电话机",
    href: "resource/items/{{ theme }}/telephone.png",
    width: 500,
    height: 500,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 173,
    description: "对讲机",
    href: "resource/items/{{ theme }}/walkie_talkie.png",
    width: 240,
    height: 540,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 174,
    description: "花盆",
    href: "resource/items/{{ theme }}/flower_pot.png",
    width: 500,
    height: 500,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 175,
    description: "剪刀",
    href: "resource/items/{{ theme }}/scissors.png",
    width: 500,
    height: 460,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 176,
    description: "角柜",
    href: "resource/items/{{ theme }}/corner_cabinet.png",
    width: 1e3,
    height: 1e3,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 177,
    description: "口杯",
    href: "resource/items/{{ theme }}/mouth_cup.png",
    width: 500,
    height: 400,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 178,
    description: "盘子",
    href: "resource/items/{{ theme }}/plate.png",
    width: 500,
    height: 500,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 179,
    description: "勺子",
    href: "resource/items/{{ theme }}/spoon.png",
    width: 600,
    height: 180,
    tag: "日常用品",
    direction: 1,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 180,
    description: "手提包",
    href: "resource/items/{{ theme }}/handbag.png",
    width: 500,
    height: 500,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 181,
    description: "双人沙发",
    href: "resource/items/{{ theme }}/double_sofa.png",
    width: 1600,
    height: 850,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 182,
    description: "藤椅",
    href: "resource/items/{{ theme }}/cane_chair.png",
    width: 640,
    height: 640,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 183,
    description: "拖把",
    href: "resource/items/{{ theme }}/mop.png",
    width: 490,
    height: 1e3,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 184,
    description: "卫生纸",
    href: "resource/items/{{ theme }}/toilet_paper.png",
    width: 280,
    height: 300,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 185,
    description: "烟盒",
    href: "resource/items/{{ theme }}/cigarette_case.png",
    width: 220,
    height: 300,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 186,
    description: "烟头",
    href: "resource/items/{{ theme }}/cigarette_butt.png",
    width: 280,
    height: 220,
    tag: "日常用品",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 187,
    description: "鱼缸",
    href: "resource/items/{{ theme }}/fish_tank.png",
    width: 1e3,
    height: 500,
    tag: "客厅",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 188,
    description: "笔记本电脑",
    href: "resource/items/{{ theme }}/notebook_computer.png",
    width: 500,
    height: 500,
    tag: "日常用品",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 189,
    description: "微波炉",
    href: "resource/items/{{ theme }}/microwave_oven.png",
    width: 600,
    height: 400,
    tag: "厨房",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 190,
    description: "断口",
    href: "resource/items/{{ theme }}/fracture.png",
    width: 1200,
    height: 300,
    tag: "其他",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: true
  },
  {
    type: 191,
    description: "遗物堆",
    href: "resource/items/{{ theme }}/relic_pile.png",
    width: 800,
    height: 800,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 192,
    description: "衣物",
    href: "resource/items/{{ theme }}/clothing.png",
    width: 830,
    height: 810,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 193,
    description: "浴巾",
    href: "resource/items/{{ theme }}/bath_towel.png",
    width: 420,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 194,
    description: "水渍",
    href: "resource/items/{{ theme }}/water_stains.png",
    width: 1070,
    height: 600,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 195,
    description: "螺丝刀",
    href: "resource/items/{{ theme }}/bolt_driver.png",
    width: 300,
    height: 300,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 196,
    description: "凉鞋",
    href: "resource/items/{{ theme }}/sandals.png",
    width: 430,
    height: 460,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 197,
    description: "水果刀",
    href: "resource/items/{{ theme }}/fruit_knife.png",
    width: 300,
    height: 260,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 198,
    description: "匕首",
    href: "resource/items/{{ theme }}/dragger.png",
    width: 400,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 199,
    description: "玻璃弹孔",
    href: "resource/items/{{ theme }}/glass_bullet_hole.png",
    width: 1160,
    height: 1e3,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 200,
    description: "电视",
    href: "resource/items/{{ theme }}/tv.png",
    width: 1120,
    height: 160,
    tag: "客厅",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 201,
    description: "单向楼梯",
    href: "resource/items/{{ theme }}/stairs.png",
    width: 1400,
    height: 3600,
    tag: "楼梯",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 202,
    description: "电脑",
    href: "resource/items/{{ theme }}/computer.png",
    width: 700,
    height: 120,
    tag: "书房",
    direction: 2,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 203,
    description: "工具",
    href: "resource/items/{{ theme }}/tool.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 204,
    description: "特殊",
    href: "resource/items/{{ theme }}/special.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 205,
    description: "生物",
    href: "resource/items/{{ theme }}/biology.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 206,
    description: "毒化",
    href: "resource/items/{{ theme }}/poison.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 207,
    description: "理化",
    href: "resource/items/{{ theme }}/physics&chemistry.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 208,
    description: "文检",
    href: "resource/items/{{ theme }}/document.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 209,
    description: "电子",
    href: "resource/items/{{ theme }}/electronic.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 210,
    description: "人像",
    href: "resource/items/{{ theme }}/portrait.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 211,
    description: "提取物品",
    href: "resource/items/{{ theme }}/extract_items.png",
    width: 500,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 212,
    description: "左脚足迹",
    href: "resource/items/{{ theme }}/footprint_l.png",
    width: 220,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 213,
    description: "右脚足迹",
    href: "resource/items/{{ theme }}/footprint_r.png",
    width: 220,
    height: 500,
    tag: "物证痕迹",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 214,
    description: "电动车",
    href: "resource/items/{{ theme }}/electric_car.png",
    width: 480,
    height: 1320,
    tag: "交通工具",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 215,
    description: "自行车",
    href: "resource/items/{{ theme }}/bike.png",
    width: 380,
    height: 1480,
    tag: "交通工具",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 216,
    description: "摩托车",
    href: "resource/items/{{ theme }}/motorcycle.png",
    width: 500,
    height: 1780,
    tag: "交通工具",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 217,
    description: "越野车",
    href: "resource/items/{{ theme }}/off_road_vehicle.png",
    width: 1700,
    height: 4360,
    tag: "交通工具",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 218,
    description: "卡车",
    href: "resource/items/{{ theme }}/truck.png",
    width: 1880,
    height: 6800,
    tag: "交通工具",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 219,
    description: "客车",
    href: "resource/items/{{ theme }}/bus.png",
    width: 3160,
    height: 8e3,
    tag: "交通工具",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 220,
    description: "叉车",
    href: "resource/items/{{ theme }}/forklift.png",
    width: 940,
    height: 2720,
    tag: "交通工具",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  },
  {
    type: 221,
    description: "拖拉机",
    href: "resource/items/{{ theme }}/tractor.png",
    width: 1740,
    height: 3060,
    tag: "交通工具",
    direction: 0,
    keywords: ["default"],
    themes: ["realsee"],
    label: false
  }
];

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/MapviewFloorplanPlugin/Controller.js
var O11 = Object.defineProperty;
var D9 = Object.defineProperties;
var T11 = Object.getOwnPropertyDescriptors;
var b13 = Object.getOwnPropertySymbols;
var H7 = Object.prototype.hasOwnProperty;
var k10 = Object.prototype.propertyIsEnumerable;
var v14 = (l63, h66, t43) => h66 in l63 ? O11(l63, h66, { enumerable: true, configurable: true, writable: true, value: t43 }) : l63[h66] = t43;
var m17 = (l63, h66) => {
  for (var t43 in h66 || (h66 = {}))
    H7.call(h66, t43) && v14(l63, t43, h66[t43]);
  if (b13)
    for (var t43 of b13(h66))
      k10.call(h66, t43) && v14(l63, t43, h66[t43]);
  return l63;
};
var g9 = (l63, h66) => D9(l63, T11(h66));
var o20 = (l63, h66, t43) => (v14(l63, typeof h66 != "symbol" ? h66 + "" : h66, t43), t43);
var f14 = (l63, h66, t43) => new Promise((e48, i65) => {
  var s60 = (n72) => {
    try {
      r66(t43.next(n72));
    } catch (d73) {
      i65(d73);
    }
  }, a62 = (n72) => {
    try {
      r66(t43.throw(n72));
    } catch (d73) {
      i65(d73);
    }
  }, r66 = (n72) => n72.done ? e48(n72.value) : Promise.resolve(n72.value).then(s60, a62);
  r66((t43 = t43.apply(l63, h66)).next());
});
var J8 = "//vr-image-4.realsee-cdn.cn/release/static/image/doctorstrange/0.6.201-beta/";
function X9(l63) {
  const { latitude: h66, longitude: t43 } = l63, e48 = Math.abs(h66 - Math.PI / 2) > 5 * Math.PI / 180, i65 = t43 > 5 * (Math.PI / 180) && t43 < 355 * (Math.PI / 180);
  return e48 || i65;
}
function Z4(l63) {
  const { latitude: h66, longitude: t43 } = l63, e48 = Math.abs(h66 - Math.PI / 2) < 10 * Math.PI / 180, i65 = t43 < 30 * (Math.PI / 180) || t43 > 330 * (Math.PI / 180);
  return e48 && i65;
}
var oi = class extends e9 {
  constructor(t43, e48) {
    var n72, d73;
    super(t43);
    o20(this, "name", "modelFloorplanPlugin");
    o20(this, "state");
    o20(this, "data");
    o20(this, "showState");
    o20(this, "showPromise");
    o20(this, "app");
    o20(this, "panoIndex", 0);
    o20(this, "floorIndex", 0);
    o20(this, "selector");
    o20(this, "showRejection");
    o20(this, "wrapper");
    o20(this, "container", document.createElement("div"));
    o20(this, "lastPanoramaLongitude", 0);
    o20(this, "size", { width: 0, height: 0 });
    o20(this, "defaultMissingFloorConfig");
    o20(this, "hasAddedEventListener", false);
    o20(this, "isHiddenByHideFunc", false);
    o20(this, "highlightData", {});
    o20(this, "items");
    o20(this, "store", { roomOnMouse: null });
    o20(this, "dispose", () => {
      var t44, e49;
      this.removeEventListener(), (t44 = this.app) == null || t44.$destroy(), this.app = void 0, (e49 = this.container) == null || e49.remove(), this.data = void 0, this.wrapper = void 0, this.selector = void 0, this.hooks.emit("dispose");
    });
    o20(this, "show", (...e49) => f14(this, [...e49], function* (t44 = {}) {
      if (!this.state.enabled || !this.showPromise && this.state.visible)
        return;
      const i66 = t44.userAction !== void 0 ? t44.userAction : true;
      this.updateState({ visible: true }, i66), this._show(t44);
    }));
    o20(this, "hide", (...e49) => f14(this, [...e49], function* (t44 = {}) {
      this.state.enabled && (this.isHiddenByHideFunc = true, this.state.visible !== false && (this.updateState({ visible: false }, t44.userAction || true), this._hide(t44)));
    }));
    o20(this, "updateSize", () => {
      if (!this.data || !this.container || !this.wrapper)
        return false;
      const { min: t44, max: e49 } = this.data.bounding, i66 = e49.x - t44.x, s61 = e49.y - t44.y, a63 = this.state.config.attachedTo ? { attachedTo: this.state.config.attachedTo } : void 0, r67 = E15(this.five, this.wrapper, this.floorIndex, a63), n73 = Math.ceil(i66 * r67), d74 = Math.ceil(s61 * r67);
      return this.size.width === n73 && this.size.height === d74 || (this.container.style.width = n73 + "px", this.container.style.height = d74 + "px", this.size = { width: n73, height: d74 }), true;
    });
    o20(this, "highlight", (t44) => {
      this.state.config.highlightEnable && (this.highlightData = t44, this.render());
    });
    o20(this, "unhighlight", () => {
      this.highlightData = {}, this.render();
    });
    o20(this, "_disable", (t44) => {
      var i66, s61, a63;
      const { userAction: e49 } = t44;
      this.hooks.emit("disable", { userAction: e49 }), (i66 = this.showRejection) == null || i66.call(this, a15.BreakOffByDisable), this.showPromise = void 0, (s61 = this.app) == null || s61.$destroy(), this.app = void 0, (a63 = this.container) == null || a63.remove(), this.removeEventListener();
    });
    o20(this, "_enable", (t44) => {
      const { userAction: e49 } = t44;
      this.addEventListener(), this.wrapper && (this.wrapper.append(this.container), this.hooks.emit("enable", { userAction: e49 }), this.state.visible && this._show({ userAction: e49 }));
    });
    o20(this, "_show", (t44) => f14(this, null, function* () {
      var a63;
      if (!this.state.enabled)
        return;
      if (!((a63 = this.fiveUtil.model) != null && a63.loaded))
        throw new Error(a15.ModelNotLoaded);
      if (!this.data)
        throw new Error(a15.DataNotLoaded);
      if (this.showPromise)
        return this.showPromise;
      const e49 = {
        floorIndex: this.floorIndex,
        modelOpacity: this.state.config.modelOpacity,
        immediately: false,
        isAutoShow: false,
        userAction: true
      }, i66 = m17(m17({}, e49), t44), s61 = () => f14(this, null, function* () {
        this.hooks.emit("show", { userAction: i66.userAction, auto: i66.isAutoShow });
        let r67 = false, n73;
        this.showRejection = (u72) => {
          r67 = true, n73 = u72;
        };
        const [d74] = yield d11(b12(this.five, this.showState, i66.userAction));
        if (d74)
          throw d74;
        if (r67)
          throw n73 ? new Error(n73) : new Error(a15.UnknownError);
        if (!this.updateSize())
          throw new Error(a15.UpdateSizeError);
        this.updatePosition(), this.floorIndex = i66.floorIndex, this.fiveUtil.model.show(this.floorIndex);
      });
      return this.isHiddenByHideFunc = false, this.showPromise = s61().then(() => {
        this.showPromise = void 0, this.showRejection = void 0;
        const r67 = i66.modelOpacity, n73 = i66.immediately ? 0 : d16;
        a16(this.five, r67, n73), this.render(n73), this.hooks.emit("showAnimationEnded", {
          auto: i66.isAutoShow,
          userAction: i66.userAction
        });
      }).catch((r67) => {
        if (this.showPromise = void 0, this.showRejection = void 0, this.updateState({ visible: false }, i66.userAction), !i66.isAutoShow && r67 instanceof Error)
          throw r67;
      }), this.showPromise;
    }));
    o20(this, "_hide", (t44) => {
      var s61;
      (s61 = this.showRejection) == null || s61.call(this, a15.BreakOffByHide), this.showPromise = void 0;
      const i66 = m17(m17({}, {
        userAction: true,
        isAutoHide: false
      }), t44);
      a16(this.five, 1, 0), this.hooks.emit("hide", { auto: i66.isAutoHide, userAction: i66.userAction }), this.render();
    });
    o20(this, "handleClick", () => {
      if (!this.state.visible)
        return;
      if (this.hooks.emit("click", this.store.roomOnMouse))
        return false;
    });
    o20(this, "onFiveModelLoaded", () => {
      const e49 = this.five.model.bounding.getCenter(new Vector3());
      if (this.showState.offset = e49, this.state.enabled === false || this.wrapper || !this.selector)
        return;
      const i66 = this.selector instanceof Element ? this.selector : document.querySelector(this.selector);
      if (!i66)
        throw new Error("不正确的父容器选择器");
      this.wrapper = i66, i66.append(this.container);
    });
    o20(this, "onFiveModeChange", (t44) => {
      t44 !== this.showState.mode && (this.updateState({ visible: false }, false), this._hide({ userAction: false }));
    });
    o20(this, "onFiveInteriaPan", (t44, e49) => {
      if (!e49 || this.state.visible || this.state.config.autoShowEnable === false || this.isHiddenByHideFunc)
        return;
      const i66 = this.five.getCurrentState();
      i66.mode === this.showState.mode && Z4(i66) && (this.updateState({ visible: true }, true), this._show({ isAutoShow: true }));
    });
    o20(this, "onFivePanoArrived", (t44) => {
      var e49;
      (e49 = this.five) != null && e49.work && (this.panoIndex = t44, this.floorIndex = this.workUtil.observers[t44].floorIndex);
    });
    o20(this, "onFiveCameraUpdate", (t44, e49) => {
      if (!this.state.visible || this.showPromise)
        return;
      const i66 = this.five.getCurrentState();
      this.updatePosition(), this.updateSize(), X9(i66) && (this.updateState({ visible: false }, e49), this._hide({ userAction: e49 }));
    });
    o20(this, "onFiveWantsPanGesture", (t44, e49) => {
      if (this.five.getCurrentState().mode === this.showState.mode && this.state.config.autoShowEnable !== false && e49 && this.state.visible)
        return this.five.updateCamera(e7(this.showState, ["offset"]), 0), false;
    });
    o20(this, "onFiveWantsTapGesture", () => this.handleClick());
    o20(this, "onFiveWantsChangeMode", (t44, e49) => {
      e49 === "Panorama" && t44 === this.showState.mode && (this.lastPanoramaLongitude = this.five.getCurrentState().longitude);
    });
    o20(this, "onModelShownFloorChange", (t44) => {
      if (this.floorIndex !== t44) {
        if (t44 === null) {
          const e49 = this.five.getCurrentState().panoIndex;
          this.floorIndex = this.workUtil.observers[e49].floorIndex;
          return;
        }
        this.floorIndex = t44, this.updateSize(), this.render();
      }
    });
    e48 != null && e48.selector && (this.selector = e48.selector, console.warn("不推荐继续使用 params.selector 配置父容器，请使用 appendTo 方法")), this.showState = {
      mode: "Mapview",
      longitude: 0,
      latitude: Math.PI / 2
    }, this.defaultMissingFloorConfig = {
      imageURL: this.staticPrefix + "/release/web/saas/missing-floorplan.e274c596.png",
      imageWidth: 200,
      imageHeight: 120,
      text: (d73 = (n72 = e48.i18n) == null ? void 0 : n72.call(e48, "暂无平面图")) != null ? d73 : "暂无平面图",
      textFontSize: 14
    };
    const i65 = {
      northDesc: "北",
      modelOpacity: 1,
      cameraEnable: true,
      highlightEnable: false,
      hoverEnable: true,
      compassEnable: true,
      autoShowEnable: true,
      ruleLabelsEnable: true,
      roomLabelsEnable: true,
      roomAreaEnable: true,
      roomNameEnable: true,
      roomNameOtherTypeEnable: true,
      roomDimensionEnable: true,
      cameraImageUrl: v11,
      attachedTo: r13.BOUNDING_CENTER,
      getLabelElement: void 0,
      adaptiveRoomLabelVisibleEnable: true,
      missingFloorConfig: m17(m17({}, this.defaultMissingFloorConfig), e48.missingFloorConfig),
      i18n: (p66) => p66,
      getRoomAreaText: (p66) => (p66 / 1e6).toFixed(1) + "㎡",
      getRoomDimensionText: (p66, u72) => (p66 / 1e3).toFixed(1) + "m × " + (u72 / 1e3).toFixed(1) + "m",
      getRuleDistanceText: (p66) => p66.toString()
    }, s60 = e48 ? e7(e48, ["selector", "scale"]) : {}, a62 = m17(m17({}, i65.missingFloorConfig), s60.missingFloorConfig), r66 = g9(m17(m17({}, i65), s60), { missingFloorConfig: a62 });
    this.state = { enabled: true, visible: false, config: r66 }, this.initContainer(), M2(t43).then(this.onFiveModelLoaded), t43.once("dispose", this.dispose), this.addEventListener();
  }
  load(t43, e48, i65 = true) {
    return f14(this, null, function* () {
      function s60(p66) {
        return Object.prototype.hasOwnProperty.apply(p66, ["version"]);
      }
      const a62 = t43;
      a62 && t7(a62.version) && console.warn("传入 serverData.data 的方式后续可能不再支持，请把 serverData 整体传入 load 函数");
      const r66 = JSON.parse(JSON.stringify(t43)), n72 = s60(r66) ? r66.data : r66, d73 = this.data;
      this.data = yield P12(n72), this.hooks.emit("dataLoaded", this.data), this.hooks.emit("dataChange", this.data, d73), e48 && this.updateState(e48, i65), this.render();
    });
  }
  loadItems(t43) {
    const { min: e48, max: i65 } = this.data.bounding, s60 = i65.x - e48.x, a62 = i65.y - e48.y;
    this.data.floorDatas.forEach((r66, n72) => {
      r66.items = t43[n72].filter((d73) => d73.displayName === "Item-SimpleItem").map((d73) => {
        const { x: p66, y: u72, width: P55, height: x49, notes: y51, type: w49, id: I49, rotateX: M48, rotateY: _32, rotateZ: L40 = 0 } = d73;
        return {
          id: I49,
          positionInImage: { x: (p66 - e48.x) / s60, y: (i65.y - u72) / a62 },
          width: P55 / s60,
          height: x49 / a62,
          src: J8 + e10[w49].href.replace(/\{\{\stheme\s\}\}/, "realsee"),
          notes: y51 || e10[w49].description,
          rotateX: M48,
          rotateY: _32,
          rotateZ: L40
        };
      });
    });
  }
  /** 把插件的渲染DOM插入到对应的容器中去 */
  appendTo(t43) {
    if (this.wrapper = t43, !!this.state.enabled)
      return t43.appendChild(this.container), this.render(), this;
  }
  /** 启用插件 */
  enable(t43 = {}) {
    if (this.state.enabled)
      return;
    const e48 = t43.userAction !== void 0 ? t43.userAction : true;
    this.updateState({ enabled: true }, t43.userAction || e48), this._enable({ userAction: e48 });
  }
  /** 禁用插件 */
  disable(t43 = {}) {
    if (!this.state.enabled)
      return;
    const e48 = t43.userAction !== void 0 ? t43.userAction : true;
    this.updateState({ enabled: false }, t43.userAction || e48), this._disable({ userAction: e48 });
  }
  /** 更改插件 State */
  setState(t43, e48 = {}) {
    const i65 = this.state, s60 = e48.userAction !== void 0 ? e48.userAction : true;
    if (this.updateState(t43, s60), t43.enabled !== void 0 && i65.enabled !== t43.enabled && (t43.enabled ? this._enable({ userAction: s60 }) : this._disable({ userAction: s60 })), t43.visible !== void 0 && i65.visible !== t43.visible) {
      const a62 = { userAction: s60 };
      t43.visible ? this._show(a62) : this._hide(a62);
    }
  }
  changeConfigs(t43, e48 = true) {
    this.updateState({ config: t43 }, e48), this.render();
  }
  /** 更新户型图位置 */
  updatePosition() {
    var r66;
    const t43 = l13(this.five, this.floorIndex, this.state.config.attachedTo), e48 = (r66 = this.fiveUtil.model) == null ? void 0 : r66.bounding.getCenter(new Vector3()).setY(t43);
    if (!e48)
      return;
    const i65 = e48.clone().project(this.five.camera), s60 = (i65.x + 1) / 2, a62 = -(i65.y - 1) / 2;
    this.container.style.left = s60 * 100 + "%", this.container.style.top = a62 * 100 + "%";
  }
  formatData(t43) {
    return f14(this, null, function* () {
      return yield P12(t43.data);
    });
  }
  updateState(t43, e48) {
    var r66;
    const i65 = this.state, s60 = (r66 = t43.config) != null && r66.missingFloorConfig ? m17(m17({}, i65.config.missingFloorConfig), t43.config.missingFloorConfig) : i65.config.missingFloorConfig, a62 = t43.config ? g9(m17(m17({}, i65.config), t43.config), { missingFloorConfig: s60 }) : i65.config;
    this.state = g9(m17(m17({}, this.state), t43), { config: a62 }), !b6(this.state, i65, { deep: true }) && this.hooks.emit("stateChange", { state: this.state, prevState: i65, userAction: e48 });
  }
  /** 如果用户是通过 selector 设置父容器，需要在 modelLoaded 之后把 container 自动放到父容器里
   *
   * - TODO: 等 selector 功能下掉之后删除这个逻辑
   */
  initContainer() {
    this.container.classList.add("floorplan-plugin"), Object.assign(this.container.style, {
      position: "absolute",
      left: "50%",
      top: "50%",
      transform: "translate(-50%, -50%)",
      zIndex: 10,
      pointerEvents: "none"
    }), this.five.addExtraElement(this.container);
  }
  addEventListener() {
    if (!this.state.enabled || this.hasAddedEventListener)
      return;
    const t43 = this.five;
    t43.on("modeChange", this.onFiveModeChange), t43.on("interiaPan", this.onFiveInteriaPan), t43.on("panoArrived", this.onFivePanoArrived), t43.on("cameraUpdate", this.onFiveCameraUpdate), t43.on("wantsPanGesture", this.onFiveWantsPanGesture), t43.on("wantsTapGesture", this.onFiveWantsTapGesture), t43.on("wantsChangeMode", this.onFiveWantsChangeMode), t43.on("modelShownFloorChange", this.onModelShownFloorChange);
  }
  removeEventListener() {
    const t43 = this.five;
    this.hasAddedEventListener = false, t43.off("modelLoaded", this.onFiveModelLoaded), t43.off("modeChange", this.onFiveModeChange), t43.off("panoArrived", this.onFivePanoArrived), t43.off("cameraUpdate", this.onFiveCameraUpdate), t43.off("wantsPanGesture", this.onFiveWantsPanGesture), t43.off("wantsTapGesture", this.onFiveWantsTapGesture), t43.off("wantsChangeMode", this.onFiveWantsChangeMode), t43.off("modelShownFloorChange", this.onModelShownFloorChange);
  }
  render(t43) {
    if (!this.state.enabled || !this.container || !this.data || this.size.width === 0 || this.showPromise)
      return;
    const e48 = g9(m17({}, this.state.config), {
      visible: this.state.visible,
      duration: t43 != null ? t43 : 0,
      panoIndex: this.panoIndex,
      floorIndex: this.floorIndex,
      floorplanData: this.data,
      lastPanoramaLongitude: this.lastPanoramaLongitude,
      highlightData: this.highlightData,
      items: this.items,
      store: this.store
    });
    if (this.app)
      return this.app.$set(e48);
    this.app = new be2({ target: this.container, intro: true, props: e48 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/MapviewFloorplanPlugin/index.js
var ur2 = (o71, r66) => new oi(o71, r66);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/TopviewFloorplanPlugin/Controller.js
var C19 = Object.defineProperty;
var F10 = Object.defineProperties;
var E17 = Object.getOwnPropertyDescriptors;
var g10 = Object.getOwnPropertySymbols;
var A15 = Object.prototype.hasOwnProperty;
var x10 = Object.prototype.propertyIsEnumerable;
var u15 = (d73, n72, t43) => n72 in d73 ? C19(d73, n72, { enumerable: true, configurable: true, writable: true, value: t43 }) : d73[n72] = t43;
var p10 = (d73, n72) => {
  for (var t43 in n72 || (n72 = {}))
    A15.call(n72, t43) && u15(d73, t43, n72[t43]);
  if (g10)
    for (var t43 of g10(n72))
      x10.call(n72, t43) && u15(d73, t43, n72[t43]);
  return d73;
};
var f15 = (d73, n72) => F10(d73, E17(n72));
var o21 = (d73, n72, t43) => (u15(d73, typeof n72 != "symbol" ? n72 + "" : n72, t43), t43);
var c26 = (d73, n72, t43) => new Promise((i65, e48) => {
  var s60 = (h66) => {
    try {
      a62(t43.next(h66));
    } catch (l63) {
      e48(l63);
    }
  }, r66 = (h66) => {
    try {
      a62(t43.throw(h66));
    } catch (l63) {
      e48(l63);
    }
  }, a62 = (h66) => h66.done ? i65(h66.value) : Promise.resolve(h66.value).then(s60, r66);
  a62((t43 = t43.apply(d73, n72)).next());
});
var Ri = class extends e9 {
  constructor(t43, i65) {
    var h66, l63;
    super(t43);
    o21(this, "name", "topviewFloorplanPlugin");
    o21(this, "state");
    o21(this, "data");
    o21(this, "app");
    o21(this, "selector");
    o21(this, "panoIndex", 0);
    o21(this, "floorIndex", 0);
    o21(this, "wrapper");
    o21(this, "container", document.createElement("div"));
    o21(this, "lastPanoramaLongitude", 0);
    o21(this, "size", { width: 0, height: 0 });
    o21(this, "defaultMissingFloorConfig");
    o21(this, "hasAddedEventListener", false);
    o21(this, "isHiddenByHideFunc", false);
    o21(this, "highlightData", {});
    o21(this, "updateSize", () => {
      if (!this.data || !this.container || !this.wrapper || this.five.getCurrentState().mode !== "Topview")
        return false;
      const { min: t44, max: i66 } = this.data.bounding, e49 = i66.x - t44.x, s61 = i66.y - t44.y, r67 = this.state.config.attachedTo ? { attachedTo: this.state.config.attachedTo } : void 0, a63 = E15(this.five, this.wrapper, this.floorIndex, r67), h67 = Math.ceil(e49 * a63), l64 = Math.ceil(s61 * a63);
      return this.size.width === h67 && this.size.height === l64 || (this.container.style.width = h67 + "px", this.container.style.height = l64 + "px", this.size = { width: h67, height: l64 }), true;
    });
    o21(this, "dispose", () => {
      var t44, i66;
      this.removeEventListener(), (t44 = this.app) == null || t44.$destroy(), this.app = void 0, (i66 = this.container) == null || i66.remove(), this.data = void 0, this.wrapper = void 0, this.selector = void 0, this.hooks.emit("dispose");
    });
    o21(this, "highlight", (t44) => {
      this.state.config.highlightEnable && (this.highlightData = t44, this.render());
    });
    o21(this, "unhighlight", () => {
      this.highlightData = {}, this.render();
    });
    o21(this, "_disable", (t44) => {
      var e49, s61;
      const { userAction: i66 } = t44;
      (e49 = this.app) == null || e49.$destroy(), this.app = void 0, (s61 = this.container) == null || s61.remove(), this.removeEventListener(), this.hooks.emit("disable", { userAction: i66 });
    });
    o21(this, "onFiveModelLoaded", () => {
      if (this.state.enabled === false || this.wrapper || !this.selector)
        return;
      const t44 = this.selector instanceof Element ? this.selector : document.querySelector(this.selector);
      if (!t44)
        throw new Error("不正确的父容器选择器");
      this.wrapper = t44, t44.append(this.container);
    });
    o21(this, "onFiveModeChange", (...[t44, , , , i66]) => {
      t44 !== "Topview" && this.state.visible && (this.updateState({ visible: false }, i66), this._hide({ userAction: i66 }));
    });
    o21(this, "onFivePanoArrived", (t44) => {
      var i66;
      (i66 = this.five) != null && i66.work && (this.panoIndex = t44, this.floorIndex = this.workUtil.observers[t44].floorIndex);
    });
    o21(this, "onFiveCameraUpdate", (t44, i66) => {
      this.state.visible && (this.updatePosition(), this.updateSize());
    });
    o21(this, "onFiveWantsGesture", (t44) => {
      if (!(t44 !== "pan" && t44 !== "pinch" && t44 !== "mouseWheel") && this.state.visible && !this.state.config.gestureEnable)
        return false;
    });
    o21(this, "onFiveWantsMoveToPano", () => {
      if (this.state.visible && this.state.config.preventRoomClick)
        return false;
    });
    o21(this, "onFiveInitAnimationEnded", (...[, , t44]) => {
      const { mode: i66 } = this.five.getCurrentState();
      i66 === "Topview" && !this.isHiddenByHideFunc && !this.state.visible && this.state.config.autoShowEnable && (this.updateState({ visible: true }, t44), this._show({ userAction: t44 }));
    });
    o21(this, "onModelShownFloorChange", (t44) => {
      if (this.floorIndex !== t44) {
        if (t44 === null) {
          const i66 = this.five.getCurrentState().panoIndex;
          this.floorIndex = this.workUtil.observers[i66].floorIndex;
          return;
        }
        this.floorIndex = t44, this.updateSize(), this.render();
      }
    });
    i65 != null && i65.selector && (this.selector = i65.selector, console.warn("不推荐继续使用 params.selector 配置父容器，请使用 appendTo 方法")), this.defaultMissingFloorConfig = {
      imageURL: this.staticPrefix + "/release/web/saas/missing-floorplan.e274c596.png",
      imageWidth: 200,
      imageHeight: 120,
      text: (l63 = (h66 = i65.i18n) == null ? void 0 : h66.call(i65, "暂无平面图")) != null ? l63 : "暂无平面图",
      textFontSize: 14
    };
    const e48 = {
      northDesc: "北",
      modelOpacity: 1,
      cameraEnable: true,
      hoverEnable: true,
      highlightEnable: false,
      compassEnable: true,
      gestureEnable: false,
      autoShowEnable: true,
      ruleLabelsEnable: true,
      roomLabelsEnable: true,
      roomAreaEnable: true,
      roomNameEnable: true,
      roomNameOtherTypeEnable: true,
      roomDimensionEnable: true,
      cameraImageUrl: v11,
      attachedTo: r13.BOUNDING_CENTER,
      getLabelElement: void 0,
      missingFloorConfig: p10(p10({}, this.defaultMissingFloorConfig), i65.missingFloorConfig),
      i18n: (m66) => m66,
      adaptiveRoomLabelVisibleEnable: true,
      getRoomAreaText: (m66) => (m66 / 1e6).toFixed(1) + "㎡",
      getRoomDimensionText: (m66, w49) => (m66 / 1e3).toFixed(1) + "m × " + (w49 / 1e3).toFixed(1) + "m",
      getRuleDistanceText: (m66) => m66.toString()
    }, s60 = i65 ? e7(i65, ["selector", "scale"]) : {}, r66 = p10(p10({}, e48.missingFloorConfig), s60.missingFloorConfig), a62 = f15(p10(p10({}, e48), s60), { missingFloorConfig: r66 });
    this.state = { enabled: true, visible: false, config: a62 }, this.initContainer(), t43.model.loaded ? this.onFiveModelLoaded() : t43.once("modelLoaded", this.onFiveModelLoaded), t43.once("dispose", this.dispose), this.addEventListener();
  }
  load(t43, i65, e48 = true) {
    return c26(this, null, function* () {
      function s60(m66) {
        return Object.prototype.hasOwnProperty.apply(m66, ["version"]);
      }
      const r66 = t43;
      r66 && t7(r66.version) && console.warn("传入 serverData.data 的方式后续可能不再支持，请把 serverData 整体传入 load 函数");
      const a62 = JSON.parse(JSON.stringify(t43)), h66 = s60(a62) ? a62.data : a62, l63 = this.data;
      this.data = yield P12(h66), this.hooks.emit("dataLoaded", this.data), this.hooks.emit("dataChange", this.data, l63), i65 && this.updateState(i65, e48), this.render();
    });
  }
  /** 更新户型图位置 */
  updatePosition() {
    var a62;
    const t43 = l13(this.five, this.floorIndex, this.state.config.attachedTo), i65 = (a62 = this.five.model) == null ? void 0 : a62.bounding.getCenter(new Vector3()).setY(t43);
    if (!i65)
      return;
    const e48 = i65.clone().project(this.five.camera), s60 = (e48.x + 1) / 2, r66 = -(e48.y - 1) / 2;
    this.container.style.left = s60 * 100 + "%", this.container.style.top = r66 * 100 + "%";
  }
  /** 把插件的渲染DOM插入到对应的容器中去 */
  appendTo(t43) {
    if (this.wrapper = t43, !!this.state.enabled)
      return t43.appendChild(this.container), this.render(), this;
  }
  show() {
    return c26(this, arguments, function* (t43 = {}) {
      if (this.state.visible)
        return;
      const i65 = t43.userAction !== void 0 ? t43.userAction : true;
      this.updateState({ visible: true }, i65), this._show({ userAction: i65 });
    });
  }
  hide() {
    return c26(this, arguments, function* (t43 = {}) {
      if (this.isHiddenByHideFunc = true, !this.state.visible)
        return;
      const i65 = t43.userAction !== void 0 ? t43.userAction : true;
      this.updateState({ visible: false }, i65), this._hide({ userAction: i65 });
    });
  }
  enable(t43 = {}) {
    if (this.state.enabled)
      return;
    const i65 = t43.userAction !== void 0 ? t43.userAction : true;
    this.updateState({ enabled: true }, t43.userAction || i65), this._enable({ userAction: i65 });
  }
  disable(t43 = {}) {
    if (!this.state.enabled)
      return;
    const i65 = t43.userAction !== void 0 ? t43.userAction : true;
    this.updateState({ enabled: false }, t43.userAction || i65), this._disable({ userAction: i65 });
  }
  /** 更改插件 State */
  setState(t43, i65 = {}) {
    const e48 = this.state, s60 = i65.userAction !== void 0 ? i65.userAction : true;
    if (this.updateState(t43, s60), t43.enabled !== void 0 && e48.enabled !== t43.enabled) {
      const r66 = { userAction: s60 };
      t43.enabled ? this._enable(r66) : this._disable(r66);
    }
    if (t43.visible !== void 0 && e48.visible !== t43.visible) {
      const r66 = { userAction: s60 };
      t43.visible ? this._show(r66) : this._hide(r66);
    }
  }
  changeConfigs(t43, i65 = true) {
    this.updateState({ config: t43 }, i65), this.render();
  }
  formatData(t43) {
    return c26(this, null, function* () {
      return yield P12(t43.data);
    });
  }
  _show(t43) {
    return c26(this, null, function* () {
      if (!this.state.enabled)
        return;
      this.isHiddenByHideFunc = false;
      const { userAction: i65 } = t43;
      this.hooks.emit("show", { userAction: i65, auto: false }), this.five.getCurrentState().mode !== "Topview" && (yield j5(this.five, ["Topview", void 0, void 0, i65])), this.five.model.show(this.floorIndex), this.updatePosition(), this.updateSize();
      const e48 = 500, s60 = this.state.config.modelOpacity;
      a16(this.five, s60, e48), this.hooks.emit("showAnimationEnded", { userAction: i65, auto: false }), this.render();
    });
  }
  _hide(t43) {
    return c26(this, null, function* () {
      if (!this.state.enabled)
        return;
      const { userAction: i65 } = t43;
      this.hooks.emit("hide", { userAction: i65, auto: false });
      const e48 = 1, s60 = 0;
      a16(this.five, e48, s60), this.render();
    });
  }
  _enable(t43) {
    const { userAction: i65 } = t43;
    this.addEventListener(), this.wrapper && this.wrapper.append(this.container), this.hooks.emit("enable", { userAction: i65 }), this.state.visible && this._show({ userAction: i65 });
  }
  updateState(t43, i65) {
    var a62;
    const e48 = this.state, s60 = (a62 = t43.config) != null && a62.missingFloorConfig ? p10(p10({}, e48.config.missingFloorConfig), t43.config.missingFloorConfig) : e48.config.missingFloorConfig, r66 = t43.config ? f15(p10(p10({}, e48.config), t43.config), { missingFloorConfig: s60 }) : e48.config;
    this.state = f15(p10(p10({}, this.state), t43), { config: r66 }), !b6(this.state, e48, { deep: true }) && this.hooks.emit("stateChange", { state: this.state, prevState: e48, userAction: i65 });
  }
  addEventListener() {
    if (!this.state.enabled || this.hasAddedEventListener)
      return;
    const t43 = this.five;
    t43.on("modeChange", this.onFiveModeChange), t43.on("panoArrived", this.onFivePanoArrived), t43.on("cameraUpdate", this.onFiveCameraUpdate), t43.on("wantsGesture", this.onFiveWantsGesture), t43.on("wantsMoveToPano", this.onFiveWantsMoveToPano), t43.on("initAnimationEnded", this.onFiveInitAnimationEnded), t43.on("modelShownFloorChange", this.onModelShownFloorChange);
  }
  removeEventListener() {
    const t43 = this.five;
    this.hasAddedEventListener = false, t43.off("modeChange", this.onFiveModeChange), t43.off("panoArrived", this.onFivePanoArrived), t43.off("cameraUpdate", this.onFiveCameraUpdate), t43.off("wantsGesture", this.onFiveWantsGesture), t43.off("wantsMoveToPano", this.onFiveWantsMoveToPano), t43.off("initAnimationEnded", this.onFiveInitAnimationEnded), t43.off("modelShownFloorChange", this.onModelShownFloorChange);
  }
  /** 如果用户是通过 selector 设置父容器，需要在 modelLoaded 之后把 container 自动放到父容器里
   *
   * - TODO: 等 selector 功能下掉之后删除这个逻辑
   */
  initContainer() {
    this.container.classList.add("floorplan-plugin"), Object.assign(this.container.style, {
      position: "absolute",
      left: "50%",
      top: "50%",
      transform: "translate3d(-50%, -50%, 10px)",
      zIndex: 10,
      pointerEvents: "none",
      "will-change": "width, height"
    }), this.five.addExtraElement(this.container);
  }
  render(t43) {
    if (!this.state.enabled || !this.container || !this.data || this.size.width === 0)
      return;
    const i65 = f15(p10({}, this.state.config), {
      visible: this.state.visible,
      duration: t43 != null ? t43 : 0,
      panoIndex: this.panoIndex,
      floorIndex: this.floorIndex,
      floorplanData: this.data,
      lastPanoramaLongitude: this.lastPanoramaLongitude,
      highlightData: this.highlightData
    });
    if (this.app)
      return this.app.$set(i65);
    this.app = new be2({ target: this.container, intro: true, props: i65 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/TopviewFloorplanPlugin/index.js
var lr2 = (o71, r66) => new Ri(o71, r66);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/PanoFloorplanRadarPlugin/Components/Camera.js
function j6(r66) {
  Qt2(r66, "svelte-1nqrlxd", ".plugin-radar__camera-wrapper.svelte-1nqrlxd{width:100%;height:100%;position:absolute;pointer-events:none}.plugin-radar__camera-position.svelte-1nqrlxd{position:absolute;left:0;top:0;width:0;height:0;transform:none;pointer-events:none;transition:transform 1s linear}.plugin-radar__camera-rotate.svelte-1nqrlxd{position:absolute;left:-0.9375rem;top:-0.9375rem;width:1.0625rem;height:1.0625rem;transform-origin:0.9375rem 0.9375rem;transform:rotate(45deg);background-repeat:no-repeat;background-size:100%}");
}
function B6(r66) {
  let n72, e48, a62;
  return {
    c() {
      n72 = K4("div"), e48 = K4("div"), a62 = K4("div"), te2(a62, "class", "plugin-radar__camera-rotate svelte-1nqrlxd"), ne2(a62, "background-image", "url(" + /*cameraImageUrl*/
      (r66[0] || v11) + ")"), ne2(
        a62,
        "transform",
        /*rotateTransform*/
        r66[1]
      ), te2(e48, "class", "plugin-radar__camera-position svelte-1nqrlxd"), ne2(
        e48,
        "transform",
        /*positionTransform*/
        r66[2]
      ), te2(n72, "class", "plugin-radar__camera-wrapper svelte-1nqrlxd"), ne2(
        n72,
        "opacity",
        /*hasCurrentFloorData*/
        r66[3] ? 1 : 0
      );
    },
    m(i65, l63) {
      Nt(i65, n72, l63), pt(n72, e48), pt(e48, a62);
    },
    p(i65, [l63]) {
      l63 & /*cameraImageUrl*/
      1 && ne2(a62, "background-image", "url(" + /*cameraImageUrl*/
      (i65[0] || v11) + ")"), (l63 & /*cameraImageUrl*/
      1 || l63 & /*rotateTransform, cameraImageUrl*/
      3) && ne2(
        a62,
        "transform",
        /*rotateTransform*/
        i65[1]
      ), l63 & /*positionTransform*/
      4 && ne2(
        e48,
        "transform",
        /*positionTransform*/
        i65[2]
      ), l63 & /*hasCurrentFloorData*/
      8 && ne2(
        n72,
        "opacity",
        /*hasCurrentFloorData*/
        i65[3] ? 1 : 0
      );
    },
    i: N4,
    o: N4,
    d(i65) {
      i65 && J4(n72);
    }
  };
}
function J9(r66) {
  return `rotate(${Math.floor(r66 / Math.PI * 180) * -1 + 45}deg)`;
}
function K7(r66, n72, e48) {
  var y51, A62;
  let a62, i65, l63, c85, { five: o71 } = n72, { pxmm: m66 } = n72, { floorplanData: f80 } = n72, { cameraImageUrl: x49 } = n72, u72 = o71.getCurrentState().panoIndex, p66 = o71.getCurrentState().longitude, g67 = (A62 = (y51 = o71.work.observers[o71.getCurrentState().panoIndex]) == null ? void 0 : y51.floorIndex) != null ? A62 : 0;
  function M48(t43, U33) {
    const d73 = t43.bounding, v58 = t43.observers[U33];
    if (!v58)
      return "";
    const k47 = (d73.max.x - d73.min.x) * m66, F45 = (d73.max.y - d73.min.y) * m66, P55 = Math.floor(v58.positionInImage.x * k47), S52 = Math.floor(v58.positionInImage.y * F45);
    return `translate(${P55}px, ${S52}px)`;
  }
  function I49(t43) {
    e48(7, u72 = t43);
  }
  function b55(t43) {
    e48(9, g67 = o71.work.observers[t43].floorIndex);
  }
  const C52 = o6(
    (t43) => {
      e48(8, p66 = t43.longitude);
    },
    1e3 / 60
  );
  return ce(() => (o71.on("panoWillArrive", I49), o71.on("panoArrived", b55), o71.on("cameraDirectionUpdate", C52), function() {
    o71.off("panoWillArrive", I49), o71.off("panoArrived", b55), o71.off("cameraDirectionUpdate", C52);
  })), r66.$$set = (t43) => {
    "five" in t43 && e48(4, o71 = t43.five), "pxmm" in t43 && e48(5, m66 = t43.pxmm), "floorplanData" in t43 && e48(6, f80 = t43.floorplanData), "cameraImageUrl" in t43 && e48(0, x49 = t43.cameraImageUrl);
  }, r66.$$.update = () => {
    r66.$$.dirty & /*floorplanData, floorIndex*/
    576 && e48(10, a62 = f80.floorDatas[g67]), r66.$$.dirty & /*floorData*/
    1024 && e48(3, i65 = a62.rooms.length > 0), r66.$$.dirty & /*floorplanData, panoIndex*/
    192 && e48(2, l63 = M48(f80, u72)), r66.$$.dirty & /*longitude*/
    256 && e48(1, c85 = J9(p66));
  }, [
    x49,
    c85,
    l63,
    i65,
    o71,
    m66,
    f80,
    u72,
    p66,
    g67,
    a62
  ];
}
var V6 = class extends Ce {
  constructor(n72) {
    super(), Te(
      this,
      n72,
      K7,
      B6,
      Ft,
      {
        five: 4,
        pxmm: 5,
        floorplanData: 6,
        cameraImageUrl: 0
      },
      j6
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/PanoFloorplanRadarPlugin/Components/CurrentFloor/ExtraObjects.js
function O12(s60) {
  Qt2(s60, "svelte-1i87fz7", ".plugin-pano-floorplan__extra-objects.svelte-1i87fz7{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.plugin-pano-floorplan__extra-object-item--position.svelte-1i87fz7{position:absolute;width:0;height:0}.plugin-pano-floorplan__extra-object-item.svelte-1i87fz7{transform:translate(-50%, -50%)}");
}
function m18(s60, t43, e48) {
  const l63 = s60.slice();
  return l63[1] = t43[e48], l63;
}
function b14(s60, t43) {
  let e48, l63, a62 = `${/*extraObject*/
  t43[1].icon.width / 16}rem`, p66 = `${/*extraObject*/
  t43[1].icon.height / 16}rem`, i65, n72 = `${/*extraObject*/
  t43[1].positionInImage.y * 100}%`, o71 = `${/*extraObject*/
  t43[1].positionInImage.x * 100}%`;
  return {
    key: s60,
    first: null,
    c() {
      e48 = K4("div"), l63 = K4("div"), i65 = Xt(), te2(l63, "class", "plugin-pano-floorplan__extra-object-item svelte-1i87fz7"), ne2(l63, "background-image", `url(${/*extraObject*/
      t43[1].icon.url})`), ne2(l63, "width", a62), ne2(l63, "height", p66), te2(e48, "class", "plugin-pano-floorplan__extra-object-item--position svelte-1i87fz7"), ne2(e48, "top", n72), ne2(e48, "left", o71), this.first = e48;
    },
    m(f80, c85) {
      Nt(f80, e48, c85), pt(e48, l63), pt(e48, i65);
    },
    p(f80, c85) {
      t43 = f80, c85 & /*extraObjects*/
      1 && ne2(l63, "background-image", `url(${/*extraObject*/
      t43[1].icon.url})`);
      const u72 = c85 & /*extraObjects*/
      1;
      u72 && ne2(l63, "width", a62), u72 && ne2(l63, "height", p66), c85 & /*extraObjects*/
      1 && n72 !== (n72 = `${/*extraObject*/
      t43[1].positionInImage.y * 100}%`) && ne2(e48, "top", n72), c85 & /*extraObjects*/
      1 && o71 !== (o71 = `${/*extraObject*/
      t43[1].positionInImage.x * 100}%`) && ne2(e48, "left", o71);
    },
    d(f80) {
      f80 && J4(e48);
    }
  };
}
function q10(s60) {
  let t43, e48 = [], l63 = /* @__PURE__ */ new Map(), a62 = (
    /*extraObjects*/
    s60[0]
  );
  const p66 = (i65) => (
    /*extraObject*/
    i65[1].id
  );
  for (let i65 = 0; i65 < a62.length; i65 += 1) {
    let n72 = m18(s60, a62, i65), o71 = p66(n72);
    l63.set(o71, e48[i65] = b14(o71, n72));
  }
  return {
    c() {
      t43 = K4("div");
      for (let i65 = 0; i65 < e48.length; i65 += 1)
        e48[i65].c();
      te2(t43, "class", "plugin-pano-floorplan__extra-objects svelte-1i87fz7");
    },
    m(i65, n72) {
      Nt(i65, t43, n72);
      for (let o71 = 0; o71 < e48.length; o71 += 1)
        e48[o71] && e48[o71].m(t43, null);
    },
    p(i65, [n72]) {
      n72 & /*extraObjects*/
      1 && (a62 = /*extraObjects*/
      i65[0], e48 = Ee(e48, n72, p66, 1, i65, a62, l63, t43, ke, b14, null, m18));
    },
    i: N4,
    o: N4,
    d(i65) {
      i65 && J4(t43);
      for (let n72 = 0; n72 < e48.length; n72 += 1)
        e48[n72].d();
    }
  };
}
function C20(s60, t43, e48) {
  let { extraObjects: l63 = [] } = t43;
  return s60.$$set = (a62) => {
    "extraObjects" in a62 && e48(0, l63 = a62.extraObjects);
  }, [l63];
}
var M13 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, C20, q10, Ft, { extraObjects: 0 }, O12);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/PanoFloorplanRadarPlugin/Components/CurrentFloor/CurrentFloor.js
function K8(n72) {
  Qt2(n72, "svelte-18287ai", ".missing-floor-wrapper.svelte-18287ai{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;display:flex;justify-content:center;align-items:center}.missing-floor-image.svelte-18287ai{max-width:100%;max-height:100%}");
}
function L11(n72) {
  let e48, t43, r66, a62, i65, s60;
  const u72 = [
    {
      floorIndex: (
        /*floorIndex*/
        n72[2]
      ),
      floorplanData: (
        /*floorplanData*/
        n72[4]
      )
    }
  ];
  let f80 = {};
  for (let o71 = 0; o71 < u72.length; o71 += 1)
    f80 = kt(f80, u72[o71]);
  e48 = new F5({ props: f80 }), r66 = new M13({
    props: {
      extraObjects: (
        /*currentFloorExtraObjects*/
        n72[7]
      )
    }
  });
  let l63 = (
    /*hoverEnable*/
    n72[3] && F11(n72)
  );
  return {
    c() {
      Ae(e48.$$.fragment), t43 = Xt(), Ae(r66.$$.fragment), a62 = Xt(), l63 && l63.c(), i65 = Yt();
    },
    m(o71, g67) {
      Dt(e48, o71, g67), Nt(o71, t43, g67), Dt(r66, o71, g67), Nt(o71, a62, g67), l63 && l63.m(o71, g67), Nt(o71, i65, g67), s60 = true;
    },
    p(o71, g67) {
      const D52 = g67 & /*floorIndex, floorplanData*/
      20 ? ve(u72, [
        {
          floorIndex: (
            /*floorIndex*/
            o71[2]
          ),
          floorplanData: (
            /*floorplanData*/
            o71[4]
          )
        }
      ]) : {};
      e48.$set(D52);
      const h66 = {};
      g67 & /*currentFloorExtraObjects*/
      128 && (h66.extraObjects = /*currentFloorExtraObjects*/
      o71[7]), r66.$set(h66), /*hoverEnable*/
      o71[3] ? l63 ? (l63.p(o71, g67), g67 & /*hoverEnable*/
      8 && ot(l63, 1)) : (l63 = F11(o71), l63.c(), ot(l63, 1), l63.m(i65.parentNode, i65)) : l63 && (Lt(), $t(l63, 1, 1, () => {
        l63 = null;
      }), Ot());
    },
    i(o71) {
      s60 || (ot(e48.$$.fragment, o71), ot(r66.$$.fragment, o71), ot(l63), s60 = true);
    },
    o(o71) {
      $t(e48.$$.fragment, o71), $t(r66.$$.fragment, o71), $t(l63), s60 = false;
    },
    d(o71) {
      Rt(e48, o71), o71 && J4(t43), Rt(r66, o71), o71 && J4(a62), l63 && l63.d(o71), o71 && J4(i65);
    }
  };
}
function M14(n72) {
  let e48, t43, r66;
  return {
    c() {
      e48 = K4("div"), t43 = K4("img"), te2(t43, "class", "missing-floor-image svelte-18287ai"), Wt(t43.src, r66 = /*missingFloorImageUrl*/
      n72[6]) || te2(t43, "src", r66), te2(t43, "alt", "缺省楼层"), te2(e48, "class", "missing-floor-wrapper svelte-18287ai");
    },
    m(a62, i65) {
      Nt(a62, e48, i65), pt(e48, t43);
    },
    p(a62, i65) {
      i65 & /*missingFloorImageUrl*/
      64 && !Wt(t43.src, r66 = /*missingFloorImageUrl*/
      a62[6]) && te2(t43, "src", r66);
    },
    i: N4,
    o: N4,
    d(a62) {
      a62 && J4(e48);
    }
  };
}
function F11(n72) {
  let e48, t43;
  const r66 = [
    {
      five: (
        /*five*/
        n72[0]
      ),
      pxmm: (
        /*pxmm*/
        n72[1]
      ),
      floorIndex: (
        /*floorIndex*/
        n72[2]
      ),
      floorplanData: (
        /*floorplanData*/
        n72[4]
      ),
      onRoomHeightClick: (
        /*onRoomHeightClick*/
        n72[9]
      ),
      highlightData: (
        /*highlightData*/
        n72[5]
      ),
      hoveredRoom: void 0
    }
  ];
  let a62 = {};
  for (let i65 = 0; i65 < r66.length; i65 += 1)
    a62 = kt(a62, r66[i65]);
  return e48 = new K5({ props: a62 }), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(i65, s60) {
      Dt(e48, i65, s60), t43 = true;
    },
    p(i65, s60) {
      const u72 = s60 & /*five, pxmm, floorIndex, floorplanData, onRoomHeightClick, highlightData, undefined*/
      567 ? ve(r66, [
        {
          five: (
            /*five*/
            i65[0]
          ),
          pxmm: (
            /*pxmm*/
            i65[1]
          ),
          floorIndex: (
            /*floorIndex*/
            i65[2]
          ),
          floorplanData: (
            /*floorplanData*/
            i65[4]
          ),
          onRoomHeightClick: (
            /*onRoomHeightClick*/
            i65[9]
          ),
          highlightData: (
            /*highlightData*/
            i65[5]
          ),
          hoveredRoom: void 0
        }
      ]) : {};
      e48.$set(u72);
    },
    i(i65) {
      t43 || (ot(e48.$$.fragment, i65), t43 = true);
    },
    o(i65) {
      $t(e48.$$.fragment, i65), t43 = false;
    },
    d(i65) {
      Rt(e48, i65);
    }
  };
}
function P14(n72) {
  let e48, t43, r66, a62;
  const i65 = [M14, L11], s60 = [];
  function u72(f80, l63) {
    return (
      /*hasCurrentFloorData*/
      f80[8] ? 1 : 0
    );
  }
  return e48 = u72(n72), t43 = s60[e48] = i65[e48](n72), {
    c() {
      t43.c(), r66 = Yt();
    },
    m(f80, l63) {
      s60[e48].m(f80, l63), Nt(f80, r66, l63), a62 = true;
    },
    p(f80, [l63]) {
      let o71 = e48;
      e48 = u72(f80), e48 === o71 ? s60[e48].p(f80, l63) : (Lt(), $t(s60[o71], 1, 1, () => {
        s60[o71] = null;
      }), Ot(), t43 = s60[e48], t43 ? t43.p(f80, l63) : (t43 = s60[e48] = i65[e48](f80), t43.c()), ot(t43, 1), t43.m(r66.parentNode, r66));
    },
    i(f80) {
      a62 || (ot(t43), a62 = true);
    },
    o(f80) {
      $t(t43), a62 = false;
    },
    d(f80) {
      s60[e48].d(f80), f80 && J4(r66);
    }
  };
}
function Q7(n72, e48, t43) {
  let r66, a62, i65, { five: s60 } = e48, { pxmm: u72 } = e48, { floorIndex: f80 } = e48, { hoverEnable: l63 } = e48, { floorplanData: o71 } = e48, { extraObjects: g67 = [] } = e48, { highlightData: D52 } = e48, { missingFloorImageUrl: h66 } = e48;
  const U33 = void 0;
  return n72.$$set = (m66) => {
    "five" in m66 && t43(0, s60 = m66.five), "pxmm" in m66 && t43(1, u72 = m66.pxmm), "floorIndex" in m66 && t43(2, f80 = m66.floorIndex), "hoverEnable" in m66 && t43(3, l63 = m66.hoverEnable), "floorplanData" in m66 && t43(4, o71 = m66.floorplanData), "extraObjects" in m66 && t43(10, g67 = m66.extraObjects), "highlightData" in m66 && t43(5, D52 = m66.highlightData), "missingFloorImageUrl" in m66 && t43(6, h66 = m66.missingFloorImageUrl);
  }, n72.$$.update = () => {
    n72.$$.dirty & /*floorplanData, floorIndex*/
    20 && t43(11, r66 = o71.floorDatas[f80]), n72.$$.dirty & /*floorData*/
    2048 && t43(8, a62 = r66.rooms.length > 0), n72.$$.dirty & /*extraObjects, floorIndex*/
    1028 && t43(7, i65 = g67 == null ? void 0 : g67.filter((m66) => m66.floorIndex === f80));
  }, [
    s60,
    u72,
    f80,
    l63,
    o71,
    D52,
    h66,
    i65,
    a62,
    U33,
    g67,
    r66
  ];
}
var te4 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      Q7,
      P14,
      Ft,
      {
        five: 0,
        pxmm: 1,
        floorIndex: 2,
        hoverEnable: 3,
        floorplanData: 4,
        extraObjects: 10,
        highlightData: 5,
        missingFloorImageUrl: 6
      },
      K8
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/PanoFloorplanRadarPlugin/Components/Main.js
function ne5(i65) {
  Qt2(i65, "svelte-1mvqyqq", ".plugin-floorplan-radar.svelte-1mvqyqq{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.plugin-floorplan-radar-container.svelte-1mvqyqq{position:relative}");
}
function M15(i65) {
  let e48, r66, l63, a62, n72 = (
    /*clientWidth*/
    i65[8] !== 0 && N8(i65)
  );
  return {
    c() {
      e48 = K4("div"), n72 && n72.c(), te2(e48, "class", "plugin-floorplan-radar svelte-1mvqyqq");
    },
    m(f80, m66) {
      Nt(f80, e48, m66), n72 && n72.m(e48, null), r66 = true, l63 || (a62 = [
        Jt(E11.call(null, e48)),
        lt(
          e48,
          "clientWidth",
          /*clientWidth_handler*/
          i65[14]
        ),
        lt(
          e48,
          "clientHeight",
          /*clientHeight_handler*/
          i65[15]
        )
      ], l63 = true);
    },
    p(f80, m66) {
      f80[8] !== 0 ? n72 ? (n72.p(f80, m66), m66 & /*clientWidth*/
      256 && ot(n72, 1)) : (n72 = N8(f80), n72.c(), ot(n72, 1), n72.m(e48, null)) : n72 && (Lt(), $t(n72, 1, 1, () => {
        n72 = null;
      }), Ot());
    },
    i(f80) {
      r66 || (ot(n72), r66 = true);
    },
    o(f80) {
      $t(n72), r66 = false;
    },
    d(f80) {
      f80 && J4(e48), n72 && n72.d(), l63 = false, M8(a62);
    }
  };
}
function N8(i65) {
  let e48, r66, l63, a62, n72 = `${/*contentWidth*/
  i65[10]}px`, f80 = `${/*contentHeight*/
  i65[13]}px`, m66;
  const g67 = [
    {
      five: (
        /*five*/
        i65[0]
      ),
      pxmm: (
        /*pxmm*/
        i65[11]
      ),
      floorIndex: (
        /*floorIndex*/
        i65[12]
      ),
      floorplanData: (
        /*floorplanData*/
        i65[3]
      ),
      hoverEnable: (
        /*hoverEnable*/
        i65[2]
      ),
      extraObjects: (
        /*extraObjects*/
        i65[5]
      ),
      highlightData: (
        /*highlightData*/
        i65[6]
      ),
      missingFloorImageUrl: (
        /*missingFloorImageUrl*/
        i65[7]
      )
    }
  ];
  let c85 = {};
  for (let t43 = 0; t43 < g67.length; t43 += 1)
    c85 = kt(c85, g67[t43]);
  r66 = new te4({ props: c85 });
  const h66 = [
    {
      pxmm: (
        /*pxmm*/
        i65[11]
      ),
      five: (
        /*five*/
        i65[0]
      ),
      floorplanData: (
        /*floorplanData*/
        i65[3]
      ),
      cameraImageUrl: (
        /*cameraImageUrl*/
        i65[4]
      )
    }
  ];
  let d73 = {};
  for (let t43 = 0; t43 < h66.length; t43 += 1)
    d73 = kt(d73, h66[t43]);
  return a62 = new V6({ props: d73 }), {
    c() {
      e48 = K4("div"), Ae(r66.$$.fragment), l63 = Xt(), Ae(a62.$$.fragment), te2(e48, "class", "plugin-floorplan-radar-container svelte-1mvqyqq"), ne2(e48, "width", n72), ne2(e48, "height", f80);
    },
    m(t43, s60) {
      Nt(t43, e48, s60), Dt(r66, e48, null), pt(e48, l63), Dt(a62, e48, null), m66 = true;
    },
    p(t43, s60) {
      const p66 = s60 & /*five, pxmm, floorIndex, floorplanData, hoverEnable, extraObjects, highlightData, missingFloorImageUrl*/
      6381 ? ve(g67, [
        {
          five: (
            /*five*/
            t43[0]
          ),
          pxmm: (
            /*pxmm*/
            t43[11]
          ),
          floorIndex: (
            /*floorIndex*/
            t43[12]
          ),
          floorplanData: (
            /*floorplanData*/
            t43[3]
          ),
          hoverEnable: (
            /*hoverEnable*/
            t43[2]
          ),
          extraObjects: (
            /*extraObjects*/
            t43[5]
          ),
          highlightData: (
            /*highlightData*/
            t43[6]
          ),
          missingFloorImageUrl: (
            /*missingFloorImageUrl*/
            t43[7]
          )
        }
      ]) : {};
      r66.$set(p66);
      const v58 = s60 & /*pxmm, five, floorplanData, cameraImageUrl*/
      2073 ? ve(h66, [
        {
          pxmm: (
            /*pxmm*/
            t43[11]
          ),
          five: (
            /*five*/
            t43[0]
          ),
          floorplanData: (
            /*floorplanData*/
            t43[3]
          ),
          cameraImageUrl: (
            /*cameraImageUrl*/
            t43[4]
          )
        }
      ]) : {};
      a62.$set(v58), s60 & /*contentWidth*/
      1024 && n72 !== (n72 = `${/*contentWidth*/
      t43[10]}px`) && ne2(e48, "width", n72), s60 & /*contentHeight*/
      8192 && f80 !== (f80 = `${/*contentHeight*/
      t43[13]}px`) && ne2(e48, "height", f80);
    },
    i(t43) {
      m66 || (ot(r66.$$.fragment, t43), ot(a62.$$.fragment, t43), m66 = true);
    },
    o(t43) {
      $t(r66.$$.fragment, t43), $t(a62.$$.fragment, t43), m66 = false;
    },
    d(t43) {
      t43 && J4(e48), Rt(r66), Rt(a62);
    }
  };
}
function ie4(i65) {
  let e48, r66, l63 = (
    /*visible*/
    i65[1] && M15(i65)
  );
  return {
    c() {
      l63 && l63.c(), e48 = Yt();
    },
    m(a62, n72) {
      l63 && l63.m(a62, n72), Nt(a62, e48, n72), r66 = true;
    },
    p(a62, [n72]) {
      a62[1] ? l63 ? (l63.p(a62, n72), n72 & /*visible*/
      2 && ot(l63, 1)) : (l63 = M15(a62), l63.c(), ot(l63, 1), l63.m(e48.parentNode, e48)) : l63 && (Lt(), $t(l63, 1, 1, () => {
        l63 = null;
      }), Ot());
    },
    i(a62) {
      r66 || (ot(l63), r66 = true);
    },
    o(a62) {
      $t(l63), r66 = false;
    },
    d(a62) {
      l63 && l63.d(a62), a62 && J4(e48);
    }
  };
}
function oe6(i65, e48, r66) {
  var w49, j37;
  let { five: l63 } = e48, { visible: a62 } = e48, { hoverEnable: n72 } = e48, { floorplanData: f80 } = e48, { cameraImageUrl: m66 } = e48, { extraObjects: g67 = [] } = e48, { highlightData: c85 } = e48, { missingFloorImageUrl: h66 } = e48, d73 = 0, t43 = (j37 = (w49 = l63.work.observers[l63.getCurrentState().panoIndex]) == null ? void 0 : w49.floorIndex) != null ? j37 : 0, s60 = 0, p66 = 0, v58 = 0, U33 = 0;
  function k47(o71) {
    r66(12, t43 = l63.work.observers[o71].floorIndex);
  }
  ce(() => (l63.on("panoArrived", k47), () => {
    l63.off("panoArrived", k47);
  }));
  const J33 = (o71) => {
    r66(8, s60 = o71.detail);
  }, K32 = (o71) => {
    r66(9, p66 = o71.detail);
  };
  return i65.$$set = (o71) => {
    "five" in o71 && r66(0, l63 = o71.five), "visible" in o71 && r66(1, a62 = o71.visible), "hoverEnable" in o71 && r66(2, n72 = o71.hoverEnable), "floorplanData" in o71 && r66(3, f80 = o71.floorplanData), "cameraImageUrl" in o71 && r66(4, m66 = o71.cameraImageUrl), "extraObjects" in o71 && r66(5, g67 = o71.extraObjects), "highlightData" in o71 && r66(6, c85 = o71.highlightData), "missingFloorImageUrl" in o71 && r66(7, h66 = o71.missingFloorImageUrl);
  }, i65.$$.update = () => {
    if (i65.$$.dirty & /*clientWidth, clientHeight, floorplanData, contentWidth*/
    1800) {
      const o71 = Math.min(s60, p66), { max: F45, min: O40 } = f80.bounding, b55 = F45.x - O40.x, q38 = F45.y - O40.y, E53 = function() {
        return b55 > q38 ? [o71, o71 / b55 * q38] : [o71 / q38 * b55, o71];
      }();
      r66(10, v58 = E53[0]), r66(13, U33 = E53[1]), r66(11, d73 = v58 / b55);
    }
  }, [
    l63,
    a62,
    n72,
    f80,
    m66,
    g67,
    c85,
    h66,
    s60,
    p66,
    v58,
    d73,
    t43,
    U33,
    J33,
    K32
  ];
}
var De3 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      oe6,
      ie4,
      Ft,
      {
        five: 0,
        visible: 1,
        hoverEnable: 2,
        floorplanData: 3,
        cameraImageUrl: 4,
        extraObjects: 5,
        highlightData: 6,
        missingFloorImageUrl: 7
      },
      ne5
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/PanoFloorplanRadarPlugin/Controller.js
var g11 = Object.defineProperty;
var w13 = Object.defineProperties;
var v15 = Object.getOwnPropertyDescriptors;
var f16 = Object.getOwnPropertySymbols;
var A16 = Object.prototype.hasOwnProperty;
var S17 = Object.prototype.propertyIsEnumerable;
var c27 = (o71, e48, t43) => e48 in o71 ? g11(o71, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[e48] = t43;
var n16 = (o71, e48) => {
  for (var t43 in e48 || (e48 = {}))
    A16.call(e48, t43) && c27(o71, t43, e48[t43]);
  if (f16)
    for (var t43 of f16(e48))
      S17.call(e48, t43) && c27(o71, t43, e48[t43]);
  return o71;
};
var u16 = (o71, e48) => w13(o71, v15(e48));
var s15 = (o71, e48, t43) => (c27(o71, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var l17 = (o71, e48, t43) => new Promise((i65, r66) => {
  var p66 = (h66) => {
    try {
      m66(t43.next(h66));
    } catch (d73) {
      r66(d73);
    }
  }, a62 = (h66) => {
    try {
      m66(t43.throw(h66));
    } catch (d73) {
      r66(d73);
    }
  }, m66 = (h66) => h66.done ? i65(h66.value) : Promise.resolve(h66.value).then(p66, a62);
  m66((t43 = t43.apply(o71, e48)).next());
});
var si = class extends e9 {
  constructor(t43, i65) {
    super(t43);
    s15(this, "name", "panoFloorplanRadarPlugin");
    s15(this, "state");
    s15(this, "data");
    s15(this, "app");
    s15(this, "wrapperSelector", "");
    s15(this, "wrapper", null);
    s15(this, "disposed", false);
    s15(this, "extraObjects", []);
    s15(this, "highlightData", {});
    s15(this, "dispose", () => {
      var t44;
      this.disposed = true, (t44 = this.app) == null || t44.$destroy(), this.wrapper = null, this.wrapperSelector = "", this.hooks.emit("dispose");
    });
    s15(this, "highlight", (t44) => {
      this.state.config.highlightEnable && (this.highlightData = t44, this.render());
    });
    s15(this, "unhighlight", () => {
      this.highlightData = {}, this.render();
    });
    s15(this, "_disable", (t44) => {
      var r67;
      const { userAction: i66 } = t44;
      (r67 = this.app) == null || r67.$destroy(), this.app = void 0, this.hooks.emit("disable", { userAction: i66 });
    });
    this.five = t43;
    const r66 = {
      hoverEnable: false,
      highlightEnable: false,
      cameraImageUrl: v11,
      missingFloorImageUrl: this.staticPrefix + "/release/web/saas/missing-floor.d687a5ed.png"
    }, p66 = n16(n16({}, r66), i65 == null ? void 0 : i65.configs);
    this.state = { enabled: true, visible: true, config: p66 }, i65 != null && i65.wrapper && console.warn("不推荐继续使用 params.selector 配置父容器，请使用 appendTo 方法"), typeof (i65 == null ? void 0 : i65.wrapper) == "string" ? this.wrapperSelector = i65.wrapper : (i65 == null ? void 0 : i65.wrapper) instanceof Element && (this.wrapper = i65.wrapper), t43.once("dispose", this.dispose);
  }
  load(t43, i65, r66 = true) {
    return l17(this, null, function* () {
      function p66(d73) {
        return Object.prototype.hasOwnProperty.apply(d73, ["version"]);
      }
      const a62 = JSON.parse(JSON.stringify(t43)), m66 = p66(a62) ? a62.data : a62, h66 = this.data;
      this.data = yield P12(m66), this.hooks.emit("dataLoaded", this.data), this.hooks.emit("dataChange", this.data, h66), i65 && this.updateState(i65, r66), this.render();
    });
  }
  show() {
    return l17(this, arguments, function* (t43 = {}) {
      if (this.state.visible)
        return;
      const i65 = t43.userAction !== void 0 ? t43.userAction : true;
      this.updateState({ visible: true }, i65), this._show({ userAction: i65 });
    });
  }
  hide() {
    return l17(this, arguments, function* (t43 = {}) {
      if (!this.state.visible)
        return;
      const i65 = t43.userAction !== void 0 ? t43.userAction : true;
      this.updateState({ visible: false }, i65), this._hide({ userAction: i65 });
    });
  }
  enable(t43 = {}) {
    if (this.state.enabled)
      return;
    const i65 = t43.userAction !== void 0 ? t43.userAction : true;
    this.updateState({ enabled: true }, t43.userAction || i65), this._enable({ userAction: i65 });
  }
  disable(t43 = {}) {
    if (!this.state.enabled)
      return;
    const i65 = t43.userAction !== void 0 ? t43.userAction : true;
    this.updateState({ enabled: false }, t43.userAction || i65), this._disable({ userAction: i65 });
  }
  /** 更改插件 State */
  setState(t43, i65 = {}) {
    const r66 = this.state, p66 = i65.userAction !== void 0 ? i65.userAction : true;
    if (this.updateState(t43, p66), t43.enabled !== void 0 && r66.enabled !== t43.enabled) {
      const a62 = { userAction: p66 };
      t43.enabled ? this._enable(a62) : this._disable(a62);
    }
    if (t43.visible !== void 0 && r66.visible !== t43.visible) {
      const a62 = { userAction: p66 };
      t43.visible ? this._show(a62) : this._hide(a62);
    }
  }
  /** 把插件的渲染DOM插入到对应的容器中去 */
  appendTo(t43) {
    this.wrapper !== t43 && this.app && (this.app.$destroy(), this.app = void 0), this.wrapper = t43, this.render();
  }
  changeConfigs(t43, i65 = true) {
    this.setState({ config: t43 }, { userAction: i65 }), this.render();
  }
  setExtraObjectsWith3DPositions(t43) {
    this.data && (this.extraObjects = y11(t43, this.five, this.data), this.render());
  }
  formatData(t43) {
    return l17(this, null, function* () {
      return yield P12(t43.data);
    });
  }
  _enable(t43) {
    const { userAction: i65 } = t43;
    this.hooks.emit("enable", { userAction: i65 }), this.state.visible && this._show({ userAction: i65 });
  }
  _show(t43) {
    if (this.disposed || !this.state.enabled)
      return;
    const { userAction: i65 } = t43;
    this.hooks.emit("show", { userAction: i65 }), this.render();
  }
  _hide(t43) {
    if (this.disposed || !this.state.enabled)
      return;
    const { userAction: i65 } = t43;
    this.hooks.emit("hide", { userAction: i65 }), this.render();
  }
  updateState(t43, i65) {
    const r66 = this.state, p66 = t43.config ? n16(n16({}, r66.config), t43.config) : r66.config;
    this.state = u16(n16(n16({}, this.state), t43), { config: p66 }), !b6(this.state, r66, { deep: true }) && this.hooks.emit("stateChange", { state: this.state, prevState: r66, userAction: i65 });
  }
  render() {
    if (this.disposed || !this.state.enabled)
      return;
    if (!this.wrapper && this.wrapperSelector) {
      const i65 = document.querySelector(this.wrapperSelector);
      this.wrapper = i65;
    }
    if (!this.data || !this.wrapper)
      return;
    const t43 = u16(n16({}, this.state.config), {
      five: this.five,
      floorplanData: this.data,
      visible: this.state.visible,
      extraObjects: this.extraObjects,
      highlightData: this.highlightData
    });
    this.app ? this.app.$set(t43) : this.app = new De3({ target: this.wrapper, props: t43 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/PanoFloorplanRadarPlugin/index.js
var Io = (o71, r66) => new si(o71, r66);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/floorplan/typings/floorplanServerData.js
var o22 = [
  { type: 0, floorType: 1, roomType: "100900000012", name: "其他" },
  { type: 1, floorType: 1, roomType: "100900000002", name: "客厅" },
  { type: 2, floorType: 1, roomType: "100900000002", name: "餐厅" },
  { type: 3, floorType: 0, roomType: "100900000001", name: "卧室" },
  { type: 4, floorType: 0, roomType: "100900000001", name: "书房" },
  { type: 5, floorType: 3, roomType: "100900000004", name: "卫生间" },
  { type: 6, floorType: 3, roomType: "100900000004", name: "淋浴间" },
  { type: 7, floorType: 3, roomType: "100900000004", name: "洗手间" },
  { type: 8, floorType: 3, roomType: "100900000003", name: "厨房" },
  {
    type: 9,
    floorType: 1,
    roomType: "100900000003",
    name: "开放厨房",
    onlySubArea: true
  },
  { type: 10, floorType: 0, roomType: "100900000001", name: "多功能间" },
  { type: 11, floorType: 0, roomType: "100900000009", name: "保姆间" },
  { type: 12, floorType: 4, roomType: "100900000005", name: "阳台" },
  { type: 13, floorType: 4, roomType: "100900000006", name: "露台" },
  { type: 14, floorType: 0, roomType: "100900000008", name: "储物间" },
  { type: 15, floorType: 0, roomType: "100900000013", name: "衣帽间" },
  { type: 16, floorType: 0, roomType: "100900000011", name: "阁楼" },
  { type: 17, floorType: 2, roomType: "100900000007", name: "花园" },
  { type: 18, floorType: 5, roomType: "100900000010", name: "车库" },
  { type: 19, floorType: 1, roomType: "100900000012", name: "电梯" },
  { type: 20, floorType: 1, roomType: "100900000012", name: "地下室" },
  { type: 21, floorType: 1, roomType: "100900000012", name: "天井" },
  { type: 22, floorType: 1, roomType: "100900000012", name: "阳光房" },
  { type: 23, floorType: 1, roomType: "100900000012", name: "过道" },
  { type: 24, floorType: 1, roomType: "100900000012", name: "楼梯间" },
  { type: 25, floorType: 1, roomType: "100900000012", name: "门厅" },
  { type: 26, floorType: 2, roomType: "100900000012", name: "入户花园" },
  { type: 27, floorType: 1, roomType: "100900000012", name: "玄关" },
  { type: 28, floorType: 1, roomType: "100900000012", name: "挑空" },
  { type: 29, floorType: 4, roomType: "100900000012", name: "晾晒区" },
  { type: 30, floorType: 4, roomType: "100900000012", name: "洗衣房" },
  { type: 31, floorType: 0, roomType: "100900000012", name: "娱乐区" },
  { type: 32, floorType: 0, roomType: "100900000012", name: "健身区" },
  { type: 33, floorType: 0, roomType: "100900000012", name: "接待区" },
  { type: 34, floorType: 0, roomType: "100900000012", name: "影音区" },
  { type: 35, floorType: 1, roomType: "100900000012", name: "餐饮区" },
  {
    type: 36,
    floorType: 1,
    roomType: "100900000012",
    name: "其他",
    onlySubArea: true
  },
  { type: 37, floorType: 1, roomType: "100900000002", name: "起居室" },
  { type: 38, floorType: 0, roomType: "100900000001", name: "主卧" },
  { type: 39, floorType: 0, roomType: "100900000001", name: "次卧" },
  { type: 40, floorType: 0, roomType: "100900000001", name: "优化间" },
  { type: 41, floorType: 0, roomType: "100900000001", name: "办公室" },
  { type: 42, floorType: 0, roomType: "100900000001", name: "会议室" },
  { type: 43, floorType: 0, roomType: "100900000001", name: "洽谈间" },
  { type: 44, floorType: 1, roomType: "100900000002", name: "共享大厅" },
  { type: 45, floorType: 1, roomType: "100900000012", name: "水吧" },
  { type: 46, floorType: 0, roomType: "100900000015", name: "出入口" },
  { type: 47, floorType: 0, roomType: "100900000015", name: "大厅" },
  { type: 48, floorType: 0, roomType: "100900000015", name: "包厢" },
  { type: 49, floorType: 0, roomType: "100900000015", name: "其他" },
  { type: 50, floorType: 0, roomType: "100900000016", name: "出入口" },
  { type: 51, floorType: 0, roomType: "100900000016", name: "办公区" },
  { type: 52, floorType: 0, roomType: "100900000016", name: "老板间" },
  { type: 53, floorType: 0, roomType: "100900000016", name: "会议室" },
  { type: 54, floorType: 0, roomType: "100900000016", name: "休息区/水吧" },
  { type: 55, floorType: 0, roomType: "100900000016", name: "其他" },
  { type: 56, floorType: 2, roomType: "100900000012", name: "空中花园" },
  { type: 57, floorType: 0, roomType: "100900000001", name: "洋室" },
  { type: 58, floorType: 0, roomType: "100900000001", name: "和室" }
];
var e11 = [
  { type: 0, description: "木质地板" },
  { type: 1, description: "瓷砖地面" },
  { type: 2, description: "户外地面" },
  { type: 3, description: "卫生间地面" },
  { type: 4, description: "阳台地面" },
  { type: 5, description: "车库地面" }
];
var p11 = [
  { roomType: "100900000001", description: "室" },
  { roomType: "100900000002", description: "厅" },
  { roomType: "100900000003", description: "厨" },
  { roomType: "100900000004", description: "卫" },
  { roomType: "100900000005", description: "阳台" },
  { roomType: "100900000006", description: "露台" },
  { roomType: "100900000007", description: "花园" },
  { roomType: "100900000008", description: "储" },
  { roomType: "100900000009", description: "保姆间" },
  { roomType: "100900000010", description: "车库" },
  { roomType: "100900000011", description: "阁楼" },
  { roomType: "100900000012", description: "其他" },
  { roomType: "100900000013", description: "衣" },
  { roomType: "100900000015", description: "商铺" },
  { roomType: "100900000016", description: "写字楼" }
];

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/object3d2LocalMatrix.js
var n17 = (t43, a62, i65) => {
  const r66 = new Matrix4(), x49 = new Euler(t43, a62, i65, "YXZ");
  return r66.makeRotationFromEuler(x49), r66;
};
var p12 = (t43, {
  scale: a62,
  rotation: i65,
  position: r66
}) => {
  if (a62 && t43.scale.set(a62, a62, a62), i65) {
    const [x49, o71, e48] = i65;
    x49 && t43.applyMatrix4(n17(x49, 0, 0)), o71 && t43.applyMatrix4(n17(0, o71, 0)), e48 && t43.applyMatrix4(n17(0, 0, e48));
  }
  return r66 && t43.position.set(r66.x, r66.y, r66.z), t43;
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/transformToMeshBasicMaterial.js
var p13 = Object.defineProperty;
var i16 = Object.getOwnPropertySymbols;
var d17 = Object.prototype.hasOwnProperty;
var f17 = Object.prototype.propertyIsEnumerable;
var s16 = (a62, e48, r66) => e48 in a62 ? p13(a62, e48, { enumerable: true, configurable: true, writable: true, value: r66 }) : a62[e48] = r66;
var m19 = (a62, e48) => {
  for (var r66 in e48 || (e48 = {}))
    d17.call(e48, r66) && s16(a62, r66, e48[r66]);
  if (i16)
    for (var r66 of i16(e48))
      f17.call(e48, r66) && s16(a62, r66, e48[r66]);
  return a62;
};
function O13(a62, e48) {
  a62.traverse((r66) => {
    var n72;
    if (r66.type === "Mesh") {
      const t43 = r66, o71 = m19({ map: t43.material.map || {} }, e48);
      t43.material = new MeshBasicMaterial(o71), t43.renderOrder = 1, ((n72 = r66.parent) == null ? void 0 : n72.type) === "Mesh" && (r66.renderOrder = r66.parent.renderOrder + 1);
    }
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/libs/inflate.js
var tt2 = {};
var b15 = void 0;
var et2 = tt2;
function C21(i65, e48) {
  var t43 = i65.split("."), r66 = et2;
  !(t43[0] in r66) && r66.execScript && r66.execScript("var " + t43[0]);
  for (var s60; t43.length && (s60 = t43.shift()); )
    !t43.length && e48 !== b15 ? r66[s60] = e48 : r66 = r66[s60] ? r66[s60] : r66[s60] = {};
}
var o23 = typeof Uint8Array != "undefined" && typeof Uint16Array != "undefined" && typeof Uint32Array != "undefined" && typeof DataView != "undefined";
function k11(i65) {
  var e48 = i65.length, t43 = 0, r66 = Number.POSITIVE_INFINITY, s60, h66, n72, a62, f80, l63, u72, y51, c85, d73;
  for (y51 = 0; y51 < e48; ++y51)
    i65[y51] > t43 && (t43 = i65[y51]), i65[y51] < r66 && (r66 = i65[y51]);
  for (s60 = 1 << t43, h66 = new (o23 ? Uint32Array : Array)(s60), n72 = 1, a62 = 0, f80 = 2; n72 <= t43; ) {
    for (y51 = 0; y51 < e48; ++y51)
      if (i65[y51] === n72) {
        for (l63 = 0, u72 = a62, c85 = 0; c85 < n72; ++c85)
          l63 = l63 << 1 | u72 & 1, u72 >>= 1;
        for (d73 = n72 << 16 | y51, c85 = l63; c85 < s60; c85 += f80)
          h66[c85] = d73;
        ++a62;
      }
    ++n72, a62 <<= 1, f80 <<= 1;
  }
  return [h66, t43, r66];
}
function A17(i65, e48) {
  switch (this.g = [], this.h = 32768, this.d = this.f = this.a = this.l = 0, this.input = o23 ? new Uint8Array(i65) : i65, this.m = false, this.i = x11, this.r = false, (e48 || !(e48 = {})) && (e48.index && (this.a = e48.index), e48.bufferSize && (this.h = e48.bufferSize), e48.bufferType && (this.i = e48.bufferType), e48.resize && (this.r = e48.resize)), this.i) {
    case D10:
      this.b = 32768, this.c = new (o23 ? Uint8Array : Array)(32768 + this.h + 258);
      break;
    case x11:
      this.b = 0, this.c = new (o23 ? Uint8Array : Array)(this.h), this.e = this.z, this.n = this.v, this.j = this.w;
      break;
    default:
      throw Error("invalid inflate mode");
  }
}
var D10 = 0;
var x11 = 1;
var J10 = { t: D10, s: x11 };
A17.prototype.k = function() {
  for (; !this.m; ) {
    var i65 = v16(this, 3);
    switch (i65 & 1 && (this.m = true), i65 >>>= 1, i65) {
      case 0:
        var e48 = this.input, t43 = this.a, r66 = this.c, s60 = this.b, h66 = e48.length, n72 = b15, a62 = b15, f80 = r66.length, l63 = b15;
        if (this.d = this.f = 0, t43 + 1 >= h66)
          throw Error("invalid uncompressed block header: LEN");
        if (n72 = e48[t43++] | e48[t43++] << 8, t43 + 1 >= h66)
          throw Error("invalid uncompressed block header: NLEN");
        if (a62 = e48[t43++] | e48[t43++] << 8, n72 === ~a62)
          throw Error("invalid uncompressed block header: length verify");
        if (t43 + n72 > e48.length)
          throw Error("input buffer is broken");
        switch (this.i) {
          case D10:
            for (; s60 + n72 > r66.length; ) {
              if (l63 = f80 - s60, n72 -= l63, o23)
                r66.set(e48.subarray(t43, t43 + l63), s60), s60 += l63, t43 += l63;
              else
                for (; l63--; )
                  r66[s60++] = e48[t43++];
              this.b = s60, r66 = this.e(), s60 = this.b;
            }
            break;
          case x11:
            for (; s60 + n72 > r66.length; )
              r66 = this.e({ p: 2 });
            break;
          default:
            throw Error("invalid inflate mode");
        }
        if (o23)
          r66.set(e48.subarray(t43, t43 + n72), s60), s60 += n72, t43 += n72;
        else
          for (; n72--; )
            r66[s60++] = e48[t43++];
        this.a = t43, this.b = s60, this.c = r66;
        break;
      case 1:
        this.j(st2, ht2);
        break;
      case 2:
        for (var u72 = v16(this, 5) + 257, y51 = v16(this, 5) + 1, c85 = v16(this, 4) + 4, d73 = new (o23 ? Uint8Array : Array)(O14.length), K32 = b15, V25 = b15, G31 = b15, w49 = b15, z28 = b15, N33 = b15, E53 = b15, p66 = b15, H39 = b15, p66 = 0; p66 < c85; ++p66)
          d73[O14[p66]] = v16(this, 3);
        if (!o23)
          for (p66 = c85, c85 = d73.length; p66 < c85; ++p66)
            d73[O14[p66]] = 0;
        for (K32 = k11(d73), w49 = new (o23 ? Uint8Array : Array)(u72 + y51), p66 = 0, H39 = u72 + y51; p66 < H39; )
          switch (z28 = T12(this, K32), z28) {
            case 16:
              for (E53 = 3 + v16(this, 2); E53--; )
                w49[p66++] = N33;
              break;
            case 17:
              for (E53 = 3 + v16(this, 3); E53--; )
                w49[p66++] = 0;
              N33 = 0;
              break;
            case 18:
              for (E53 = 11 + v16(this, 7); E53--; )
                w49[p66++] = 0;
              N33 = 0;
              break;
            default:
              N33 = w49[p66++] = z28;
          }
        V25 = k11(o23 ? w49.subarray(0, u72) : w49.slice(0, u72)), G31 = k11(o23 ? w49.subarray(u72) : w49.slice(u72)), this.j(V25, G31);
        break;
      default:
        throw Error("unknown BTYPE: " + i65);
    }
  }
  return this.n();
};
var Q8 = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
var O14 = o23 ? new Uint16Array(Q8) : Q8;
var R15 = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 258, 258];
var rt2 = o23 ? new Uint16Array(R15) : R15;
var W9 = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0, 0, 0];
var S18 = o23 ? new Uint8Array(W9) : W9;
var X10 = [
  1,
  2,
  3,
  4,
  5,
  7,
  9,
  13,
  17,
  25,
  33,
  49,
  65,
  97,
  129,
  193,
  257,
  385,
  513,
  769,
  1025,
  1537,
  2049,
  3073,
  4097,
  6145,
  8193,
  12289,
  16385,
  24577
];
var it2 = o23 ? new Uint16Array(X10) : X10;
var _10 = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13];
var Z5 = o23 ? new Uint8Array(_10) : _10;
var B7 = new (o23 ? Uint8Array : Array)(288);
var g12;
var $7;
g12 = 0;
for ($7 = B7.length; g12 < $7; ++g12)
  B7[g12] = 143 >= g12 ? 8 : 255 >= g12 ? 9 : 279 >= g12 ? 7 : 8;
var st2 = k11(B7);
var L12 = new (o23 ? Uint8Array : Array)(30);
var j7;
var F12;
j7 = 0;
for (F12 = L12.length; j7 < F12; ++j7)
  L12[j7] = 5;
var ht2 = k11(L12);
function v16(i65, e48) {
  for (var t43 = i65.f, r66 = i65.d, s60 = i65.input, h66 = i65.a, n72 = s60.length, a62; r66 < e48; ) {
    if (h66 >= n72)
      throw Error("input buffer is broken");
    t43 |= s60[h66++] << r66, r66 += 8;
  }
  return a62 = t43 & (1 << e48) - 1, i65.f = t43 >>> e48, i65.d = r66 - e48, i65.a = h66, a62;
}
function T12(i65, e48) {
  for (var t43 = i65.f, r66 = i65.d, s60 = i65.input, h66 = i65.a, n72 = s60.length, a62 = e48[0], f80 = e48[1], l63, u72; r66 < f80 && !(h66 >= n72); )
    t43 |= s60[h66++] << r66, r66 += 8;
  if (l63 = a62[t43 & (1 << f80) - 1], u72 = l63 >>> 16, u72 > r66)
    throw Error("invalid code length: " + u72);
  return i65.f = t43 >> u72, i65.d = r66 - u72, i65.a = h66, l63 & 65535;
}
A17.prototype.j = function(i65, e48) {
  var t43 = this.c, r66 = this.b;
  this.o = i65;
  for (var s60 = t43.length - 258, h66, n72, a62, f80; (h66 = T12(this, i65)) !== 256; )
    if (256 > h66)
      r66 >= s60 && (this.b = r66, t43 = this.e(), r66 = this.b), t43[r66++] = h66;
    else
      for (n72 = h66 - 257, f80 = rt2[n72], 0 < S18[n72] && (f80 += v16(this, S18[n72])), h66 = T12(this, e48), a62 = it2[h66], 0 < Z5[h66] && (a62 += v16(this, Z5[h66])), r66 >= s60 && (this.b = r66, t43 = this.e(), r66 = this.b); f80--; )
        t43[r66] = t43[r66++ - a62];
  for (; 8 <= this.d; )
    this.d -= 8, this.a--;
  this.b = r66;
};
A17.prototype.w = function(i65, e48) {
  var t43 = this.c, r66 = this.b;
  this.o = i65;
  for (var s60 = t43.length, h66, n72, a62, f80; (h66 = T12(this, i65)) !== 256; )
    if (256 > h66)
      r66 >= s60 && (t43 = this.e(), s60 = t43.length), t43[r66++] = h66;
    else
      for (n72 = h66 - 257, f80 = rt2[n72], 0 < S18[n72] && (f80 += v16(this, S18[n72])), h66 = T12(this, e48), a62 = it2[h66], 0 < Z5[h66] && (a62 += v16(this, Z5[h66])), r66 + f80 > s60 && (t43 = this.e(), s60 = t43.length); f80--; )
        t43[r66] = t43[r66++ - a62];
  for (; 8 <= this.d; )
    this.d -= 8, this.a--;
  this.b = r66;
};
A17.prototype.e = function() {
  var i65 = new (o23 ? Uint8Array : Array)(this.b - 32768), e48 = this.b - 32768, t43, r66, s60 = this.c;
  if (o23)
    i65.set(s60.subarray(32768, i65.length));
  else
    for (t43 = 0, r66 = i65.length; t43 < r66; ++t43)
      i65[t43] = s60[t43 + 32768];
  if (this.g.push(i65), this.l += i65.length, o23)
    s60.set(s60.subarray(e48, e48 + 32768));
  else
    for (t43 = 0; 32768 > t43; ++t43)
      s60[t43] = s60[e48 + t43];
  return this.b = 32768, s60;
};
A17.prototype.z = function(i65) {
  var e48, t43 = this.input.length / this.a + 1 | 0, r66, s60, h66, n72 = this.input, a62 = this.c;
  return i65 && (typeof i65.p == "number" && (t43 = i65.p), typeof i65.u == "number" && (t43 += i65.u)), 2 > t43 ? (r66 = (n72.length - this.a) / this.o[2], h66 = 258 * (r66 / 2) | 0, s60 = h66 < a62.length ? a62.length + h66 : a62.length << 1) : s60 = a62.length * t43, o23 ? (e48 = new Uint8Array(s60), e48.set(a62)) : e48 = a62, this.c = e48;
};
A17.prototype.n = function() {
  var i65 = 0, e48 = this.c, t43 = this.g, r66, s60 = new (o23 ? Uint8Array : Array)(this.l + (this.b - 32768)), h66, n72, a62, f80;
  if (t43.length === 0)
    return o23 ? this.c.subarray(32768, this.b) : this.c.slice(32768, this.b);
  for (h66 = 0, n72 = t43.length; h66 < n72; ++h66)
    for (r66 = t43[h66], a62 = 0, f80 = r66.length; a62 < f80; ++a62)
      s60[i65++] = r66[a62];
  for (h66 = 32768, n72 = this.b; h66 < n72; ++h66)
    s60[i65++] = e48[h66];
  return this.g = [], this.buffer = s60;
};
A17.prototype.v = function() {
  var i65, e48 = this.b;
  return o23 ? this.r ? (i65 = new Uint8Array(e48), i65.set(this.c.subarray(0, e48))) : i65 = this.c.subarray(0, e48) : (this.c.length > e48 && (this.c.length = e48), i65 = this.c), this.buffer = i65;
};
function Y9(i65, e48) {
  var t43, r66;
  switch (this.input = i65, this.a = 0, (e48 || !(e48 = {})) && (e48.index && (this.a = e48.index), e48.verify && (this.A = e48.verify)), t43 = i65[this.a++], r66 = i65[this.a++], t43 & 15) {
    case M16:
      this.method = M16;
      break;
    default:
      throw Error("unsupported compression method");
  }
  if (((t43 << 8) + r66) % 31 !== 0)
    throw Error("invalid fcheck flag:" + ((t43 << 8) + r66) % 31);
  if (r66 & 32)
    throw Error("fdict flag is not supported");
  this.q = new A17(i65, { index: this.a, bufferSize: e48.bufferSize, bufferType: e48.bufferType, resize: e48.resize });
}
Y9.prototype.k = function() {
  var i65 = this.input, e48, t43;
  if (e48 = this.q.k(), this.a = this.q.a, this.A) {
    t43 = (i65[this.a++] << 24 | i65[this.a++] << 16 | i65[this.a++] << 8 | i65[this.a++]) >>> 0;
    var r66 = e48;
    if (typeof r66 == "string") {
      var s60 = r66.split(""), h66, n72;
      for (h66 = 0, n72 = s60.length; h66 < n72; h66++)
        s60[h66] = (s60[h66].charCodeAt(0) & 255) >>> 0;
      r66 = s60;
    }
    for (var a62 = 1, f80 = 0, l63 = r66.length, u72, y51 = 0; 0 < l63; ) {
      u72 = 1024 < l63 ? 1024 : l63, l63 -= u72;
      do
        a62 += r66[y51++], f80 += a62;
      while (--u72);
      a62 %= 65521, f80 %= 65521;
    }
    if (t43 !== (f80 << 16 | a62) >>> 0)
      throw Error("invalid adler-32 checksum");
  }
  return e48;
};
var M16 = 8;
C21("Zlib.Inflate", Y9);
C21("Zlib.Inflate.prototype.decompress", Y9.prototype.k);
var P15 = { ADAPTIVE: J10.s, BLOCK: J10.t };
var I12;
var m20;
var U7;
var q11;
if (Object.keys)
  I12 = Object.keys(P15);
else
  for (m20 in I12 = [], U7 = 0, P15)
    I12[U7++] = m20;
U7 = 0;
for (q11 = I12.length; U7 < q11; ++U7)
  m20 = I12[U7], C21("Zlib.Inflate.BufferType." + m20, P15[m20]);
var nt2 = tt2.Zlib;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/libs/NURBSUtils.js
var A18 = {
  /*
  	Finds knot vector span.
  
  	p : degree
  	u : parametric value
  	U : knot vector
  
  	returns the span
  	*/
  findSpan: function(e48, o71, c85) {
    var i65 = c85.length - e48 - 1;
    if (o71 >= c85[i65])
      return i65 - 1;
    if (o71 <= c85[e48])
      return e48;
    for (var v58 = e48, f80 = i65, a62 = Math.floor((v58 + f80) / 2); o71 < c85[a62] || o71 >= c85[a62 + 1]; )
      o71 < c85[a62] ? f80 = a62 : v58 = a62, a62 = Math.floor((v58 + f80) / 2);
    return a62;
  },
  /*
  	Calculate basis functions. See The NURBS Book, page 70, algorithm A2.2
  
  	span : span in which u lies
  	u    : parametric point
  	p    : degree
  	U    : knot vector
  
  	returns array[p+1] with basis functions values.
  	*/
  calcBasisFunctions: function(e48, o71, c85, i65) {
    var v58 = [], f80 = [], a62 = [];
    v58[0] = 1;
    for (var n72 = 1; n72 <= c85; ++n72) {
      f80[n72] = o71 - i65[e48 + 1 - n72], a62[n72] = i65[e48 + n72] - o71;
      for (var l63 = 0, u72 = 0; u72 < n72; ++u72) {
        var h66 = a62[u72 + 1], r66 = f80[n72 - u72], w49 = v58[u72] / (h66 + r66);
        v58[u72] = l63 + h66 * w49, l63 = r66 * w49;
      }
      v58[n72] = l63;
    }
    return v58;
  },
  /*
  	Calculate B-Spline curve points. See The NURBS Book, page 82, algorithm A3.1.
  
  	p : degree of B-Spline
  	U : knot vector
  	P : control points (x, y, z, w)
  	u : parametric point
  
  	returns point for given u
  	*/
  calcBSplinePoint: function(e48, o71, c85, i65) {
    for (var v58 = this.findSpan(e48, i65, o71), f80 = this.calcBasisFunctions(v58, i65, e48, o71), a62 = new Vector4(0, 0, 0, 0), n72 = 0; n72 <= e48; ++n72) {
      var l63 = c85[v58 - e48 + n72], u72 = f80[n72], h66 = l63.w * u72;
      a62.x += l63.x * h66, a62.y += l63.y * h66, a62.z += l63.z * h66, a62.w += l63.w * u72;
    }
    return a62;
  },
  /*
  	Calculate basis functions derivatives. See The NURBS Book, page 72, algorithm A2.3.
  
  	span : span in which u lies
  	u    : parametric point
  	p    : degree
  	n    : number of derivatives to calculate
  	U    : knot vector
  
  	returns array[n+1][p+1] with basis functions derivatives
  	*/
  calcBasisFunctionDerivatives: function(e48, o71, c85, i65, v58) {
    for (var f80 = [], a62 = 0; a62 <= c85; ++a62)
      f80[a62] = 0;
    for (var n72 = [], a62 = 0; a62 <= i65; ++a62)
      n72[a62] = f80.slice(0);
    for (var l63 = [], a62 = 0; a62 <= c85; ++a62)
      l63[a62] = f80.slice(0);
    l63[0][0] = 1;
    for (var u72 = f80.slice(0), h66 = f80.slice(0), r66 = 1; r66 <= c85; ++r66) {
      u72[r66] = o71 - v58[e48 + 1 - r66], h66[r66] = v58[e48 + r66] - o71;
      for (var w49 = 0, s60 = 0; s60 < r66; ++s60) {
        var t43 = h66[s60 + 1], y51 = u72[r66 - s60];
        l63[r66][s60] = t43 + y51;
        var x49 = l63[s60][r66 - 1] / l63[r66][s60];
        l63[s60][r66] = w49 + t43 * x49, w49 = y51 * x49;
      }
      l63[r66][r66] = w49;
    }
    for (var r66 = 0; r66 <= c85; ++r66)
      n72[0][r66] = l63[r66][c85];
    for (var s60 = 0; s60 <= c85; ++s60) {
      for (var m66 = 0, S52 = 1, B42 = [], a62 = 0; a62 <= c85; ++a62)
        B42[a62] = f80.slice(0);
      B42[0][0] = 1;
      for (var d73 = 1; d73 <= i65; ++d73) {
        var g67 = 0, D52 = s60 - d73, z28 = c85 - d73;
        s60 >= d73 && (B42[S52][0] = B42[m66][0] / l63[z28 + 1][D52], g67 = B42[S52][0] * l63[D52][z28]);
        for (var C52 = D52 >= -1 ? 1 : -D52, K32 = s60 - 1 <= z28 ? d73 - 1 : c85 - s60, r66 = C52; r66 <= K32; ++r66)
          B42[S52][r66] = (B42[m66][r66] - B42[m66][r66 - 1]) / l63[z28 + 1][D52 + r66], g67 += B42[S52][r66] * l63[D52 + r66][z28];
        s60 <= z28 && (B42[S52][d73] = -B42[m66][d73 - 1] / l63[z28 + 1][s60], g67 += B42[S52][d73] * l63[s60][z28]), n72[d73][s60] = g67;
        var r66 = m66;
        m66 = S52, S52 = r66;
      }
    }
    for (var s60 = c85, d73 = 1; d73 <= i65; ++d73) {
      for (var r66 = 0; r66 <= c85; ++r66)
        n72[d73][r66] *= s60;
      s60 *= c85 - d73;
    }
    return n72;
  },
  /*
  		Calculate derivatives of a B-Spline. See The NURBS Book, page 93, algorithm A3.2.
  
  		p  : degree
  		U  : knot vector
  		P  : control points
  		u  : Parametric points
  		nd : number of derivatives
  
  		returns array[d+1] with derivatives
  		*/
  calcBSplineDerivatives: function(e48, o71, c85, i65, v58) {
    for (var f80 = v58 < e48 ? v58 : e48, a62 = [], n72 = this.findSpan(e48, i65, o71), l63 = this.calcBasisFunctionDerivatives(n72, i65, e48, f80, o71), u72 = [], h66 = 0; h66 < c85.length; ++h66) {
      var r66 = c85[h66].clone(), w49 = r66.w;
      r66.x *= w49, r66.y *= w49, r66.z *= w49, u72[h66] = r66;
    }
    for (var t43 = 0; t43 <= f80; ++t43) {
      for (var r66 = u72[n72 - e48].clone().multiplyScalar(l63[t43][0]), y51 = 1; y51 <= e48; ++y51)
        r66.add(u72[n72 - e48 + y51].clone().multiplyScalar(l63[t43][y51]));
      a62[t43] = r66;
    }
    for (var t43 = f80 + 1; t43 <= v58 + 1; ++t43)
      a62[t43] = new Vector4(0, 0, 0);
    return a62;
  },
  /*
  	Calculate "K over I"
  
  	returns k!/(i!(k-i)!)
  	*/
  calcKoverI: function(e48, o71) {
    for (var c85 = 1, i65 = 2; i65 <= e48; ++i65)
      c85 *= i65;
    for (var v58 = 1, i65 = 2; i65 <= o71; ++i65)
      v58 *= i65;
    for (var i65 = 2; i65 <= e48 - o71; ++i65)
      v58 *= i65;
    return c85 / v58;
  },
  /*
  	Calculate derivatives (0-nd) of rational curve. See The NURBS Book, page 127, algorithm A4.2.
  
  	Pders : result of function calcBSplineDerivatives
  
  	returns array with derivatives for rational curve.
  	*/
  calcRationalCurveDerivatives: function(e48) {
    for (var o71 = e48.length, c85 = [], i65 = [], v58 = 0; v58 < o71; ++v58) {
      var f80 = e48[v58];
      c85[v58] = new Vector3(f80.x, f80.y, f80.z), i65[v58] = f80.w;
    }
    for (var a62 = [], n72 = 0; n72 < o71; ++n72) {
      for (var l63 = c85[n72].clone(), v58 = 1; v58 <= n72; ++v58)
        l63.sub(a62[n72 - v58].clone().multiplyScalar(this.calcKoverI(n72, v58) * i65[v58]));
      a62[n72] = l63.divideScalar(i65[0]);
    }
    return a62;
  },
  /*
  	Calculate NURBS curve derivatives. See The NURBS Book, page 127, algorithm A4.2.
  
  	p  : degree
  	U  : knot vector
  	P  : control points in homogeneous space
  	u  : parametric points
  	nd : number of derivatives
  
  	returns array with derivatives.
  	*/
  calcNURBSDerivatives: function(e48, o71, c85, i65, v58) {
    var f80 = this.calcBSplineDerivatives(e48, o71, c85, i65, v58);
    return this.calcRationalCurveDerivatives(f80);
  },
  /*
  	Calculate rational B-Spline surface point. See The NURBS Book, page 134, algorithm A4.3.
  
  	p1, p2 : degrees of B-Spline surface
  	U1, U2 : knot vectors
  	P      : control points (x, y, z, w)
  	u, v   : parametric values
  
  	returns point for given (u, v)
  	*/
  calcSurfacePoint: function(e48, o71, c85, i65, v58, f80, a62, n72) {
    for (var l63 = this.findSpan(e48, f80, c85), u72 = this.findSpan(o71, a62, i65), h66 = this.calcBasisFunctions(l63, f80, e48, c85), r66 = this.calcBasisFunctions(u72, a62, o71, i65), w49 = [], t43 = 0; t43 <= o71; ++t43) {
      w49[t43] = new Vector4(0, 0, 0, 0);
      for (var y51 = 0; y51 <= e48; ++y51) {
        var x49 = v58[l63 - e48 + y51][u72 - o71 + t43].clone(), m66 = x49.w;
        x49.x *= m66, x49.y *= m66, x49.z *= m66, w49[t43].add(x49.multiplyScalar(h66[y51]));
      }
    }
    for (var S52 = new Vector4(0, 0, 0, 0), t43 = 0; t43 <= o71; ++t43)
      S52.add(w49[t43].multiplyScalar(r66[t43]));
    S52.divideScalar(S52.w), n72.set(S52.x, S52.y, S52.z);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/libs/NURBSCurve.js
var e12 = function(n72, s60, o71, r66, t43) {
  Curve.call(this), this.degree = n72, this.knots = s60, this.controlPoints = [], this.startKnot = r66 || 0, this.endKnot = t43 || this.knots.length - 1;
  for (var i65 = 0; i65 < o71.length; ++i65) {
    var h66 = o71[i65];
    this.controlPoints[i65] = new Vector4(h66.x, h66.y, h66.z, h66.w);
  }
};
e12.prototype = Object.create(Curve.prototype);
e12.prototype.constructor = e12;
e12.prototype.getPoint = function(n72, s60) {
  var o71 = s60 || new Vector3(), r66 = this.knots[this.startKnot] + n72 * (this.knots[this.endKnot] - this.knots[this.startKnot]), t43 = A18.calcBSplinePoint(this.degree, this.knots, this.controlPoints, r66);
  return t43.w != 1 && t43.divideScalar(t43.w), o71.set(t43.x, t43.y, t43.z);
};
e12.prototype.getTangent = function(n72, s60) {
  var o71 = s60 || new Vector3(), r66 = this.knots[0] + n72 * (this.knots[this.knots.length - 1] - this.knots[0]), t43 = A18.calcNURBSDerivatives(this.degree, this.knots, this.controlPoints, r66, 1);
  return o71.copy(t43[1]).normalize(), o71;
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/FBXLoader/index.js
var qe = function() {
  var v58, y51, T38;
  function z28(e48) {
    Loader.call(this, e48);
  }
  z28.prototype = Object.assign(Object.create(Loader.prototype), {
    constructor: z28,
    load: function(e48, t43, r66, n72) {
      var a62 = this, i65 = a62.path === "" ? LoaderUtils.extractUrlBase(e48) : a62.path, s60 = new FileLoader(this.manager);
      s60.setPath(a62.path), s60.setResponseType("arraybuffer"), s60.load(
        e48,
        function(o71) {
          try {
            t43(a62.parse(o71, i65));
          } catch (f80) {
            n72 ? n72(f80) : console.error(f80), a62.manager.itemError(e48);
          }
        },
        r66,
        n72
      );
    },
    parse: function(e48, t43) {
      if (ge10(e48))
        v58 = new Y23().parse(e48);
      else {
        var r66 = ne14(e48);
        if (!ye5(r66))
          throw new Error("THREE.FBXLoader: Unknown format.");
        if (te10(r66) < 7e3)
          throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: " + te10(r66));
        v58 = new W25().parse(r66);
      }
      var n72 = new TextureLoader(this.manager).setPath(this.resourcePath || t43).setCrossOrigin(this.crossOrigin);
      return new H39(n72, this.manager).parse(v58);
    }
  });
  function H39(e48, t43) {
    this.textureLoader = e48, this.manager = t43;
  }
  H39.prototype = {
    constructor: H39,
    parse: function() {
      y51 = this.parseConnections();
      var e48 = this.parseImages(), t43 = this.parseTextures(e48), r66 = this.parseMaterials(t43), n72 = this.parseDeformers(), a62 = new _32().parse(n72);
      return this.parseScene(n72, a62, r66), T38;
    },
    // Parses FBXTree.Connections which holds parent-child connections between objects (e.g. material -> texture, model->geometry )
    // and details the connection type
    parseConnections: function() {
      var e48 = /* @__PURE__ */ new Map();
      if ("Connections" in v58) {
        var t43 = v58.Connections.connections;
        t43.forEach(function(r66) {
          var n72 = r66[0], a62 = r66[1], i65 = r66[2];
          e48.has(n72) || e48.set(n72, {
            parents: [],
            children: []
          });
          var s60 = { ID: a62, relationship: i65 };
          e48.get(n72).parents.push(s60), e48.has(a62) || e48.set(a62, {
            parents: [],
            children: []
          });
          var o71 = { ID: n72, relationship: i65 };
          e48.get(a62).children.push(o71);
        });
      }
      return e48;
    },
    // Parse FBXTree.Objects.Video for embedded image data
    // These images are connected to textures in FBXTree.Objects.Textures
    // via FBXTree.Connections.
    parseImages: function() {
      var e48 = {}, t43 = {};
      if ("Video" in v58.Objects) {
        var r66 = v58.Objects.Video;
        for (var n72 in r66) {
          var a62 = r66[n72], i65 = parseInt(n72);
          if (e48[i65] = a62.RelativeFilename || a62.Filename, "Content" in a62) {
            var s60 = a62.Content instanceof ArrayBuffer && a62.Content.byteLength > 0, o71 = typeof a62.Content == "string" && a62.Content !== "";
            if (s60 || o71) {
              var f80 = this.parseImage(r66[n72]);
              t43[a62.RelativeFilename || a62.Filename] = f80;
            }
          }
        }
      }
      for (var i65 in e48) {
        var l63 = e48[i65];
        t43[l63] !== void 0 ? e48[i65] = t43[l63] : e48[i65] = e48[i65].split("\\").pop();
      }
      return e48;
    },
    // Parse embedded image data in FBXTree.Video.Content
    parseImage: function(e48) {
      var t43 = e48.Content, r66 = e48.RelativeFilename || e48.Filename, n72 = r66.slice(r66.lastIndexOf(".") + 1).toLowerCase(), a62;
      switch (n72) {
        case "bmp":
          a62 = "image/bmp";
          break;
        case "jpg":
        case "jpeg":
          a62 = "image/jpeg";
          break;
        case "png":
          a62 = "image/png";
          break;
        case "tif":
          a62 = "image/tiff";
          break;
        case "tga":
          this.manager.getHandler(".tga") === null && console.warn("FBXLoader: TGA loader not found, skipping ", r66), a62 = "image/tga";
          break;
        default:
          console.warn('FBXLoader: Image type "' + n72 + '" is not supported.');
          return;
      }
      if (typeof t43 == "string")
        return "data:" + a62 + ";base64," + t43;
      var i65 = new Uint8Array(t43);
      return window.URL.createObjectURL(new Blob([i65], { type: a62 }));
    },
    // Parse nodes in FBXTree.Objects.Texture
    // These contain details such as UV scaling, cropping, rotation etc and are connected
    // to images in FBXTree.Objects.Video
    parseTextures: function(e48) {
      var t43 = /* @__PURE__ */ new Map();
      if ("Texture" in v58.Objects) {
        var r66 = v58.Objects.Texture;
        for (var n72 in r66) {
          var a62 = this.parseTexture(r66[n72], e48);
          t43.set(parseInt(n72), a62);
        }
      }
      return t43;
    },
    // Parse individual node in FBXTree.Objects.Texture
    parseTexture: function(e48, t43) {
      var r66 = this.loadTexture(e48, t43);
      r66.ID = e48.id, r66.name = e48.attrName;
      var n72 = e48.WrapModeU, a62 = e48.WrapModeV, i65 = n72 !== void 0 ? n72.value : 0, s60 = a62 !== void 0 ? a62.value : 0;
      if (r66.wrapS = i65 === 0 ? RepeatWrapping : ClampToEdgeWrapping, r66.wrapT = s60 === 0 ? RepeatWrapping : ClampToEdgeWrapping, "Scaling" in e48) {
        var o71 = e48.Scaling.value;
        r66.repeat.x = o71[0], r66.repeat.y = o71[1];
      }
      return r66;
    },
    // load a texture specified as a blob or data URI, or via an external URL using TextureLoader
    loadTexture: function(e48, t43) {
      var r66, n72 = this.textureLoader.path, a62 = y51.get(e48.id).children;
      a62 !== void 0 && a62.length > 0 && t43[a62[0].ID] !== void 0 && (r66 = t43[a62[0].ID], (r66.indexOf("blob:") === 0 || r66.indexOf("data:") === 0) && this.textureLoader.setPath(void 0));
      var i65, s60 = e48.FileName.slice(-3).toLowerCase();
      if (s60 === "tga") {
        var o71 = this.manager.getHandler(".tga");
        o71 === null ? (console.warn("FBXLoader: TGA loader not found, creating placeholder texture for", e48.RelativeFilename), i65 = new Texture()) : i65 = o71.load(r66);
      } else
        s60 === "psd" ? (console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for", e48.RelativeFilename), i65 = new Texture()) : i65 = this.textureLoader.load(r66);
      return this.textureLoader.setPath(n72), i65;
    },
    // Parse nodes in FBXTree.Objects.Material
    parseMaterials: function(e48) {
      var t43 = /* @__PURE__ */ new Map();
      if ("Material" in v58.Objects) {
        var r66 = v58.Objects.Material;
        for (var n72 in r66) {
          var a62 = this.parseMaterial(r66[n72], e48);
          a62 !== null && t43.set(parseInt(n72), a62);
        }
      }
      return t43;
    },
    // Parse single node in FBXTree.Objects.Material
    // Materials are connected to texture maps in FBXTree.Objects.Textures
    // FBX format currently only supports Lambert and Phong shading models
    parseMaterial: function(e48, t43) {
      var r66 = e48.id, n72 = e48.attrName, a62 = e48.ShadingModel;
      if (typeof a62 == "object" && (a62 = a62.value), !y51.has(r66))
        return null;
      var i65 = this.parseParameters(e48, t43, r66), s60;
      switch (a62.toLowerCase()) {
        case "phong":
          s60 = new MeshPhongMaterial();
          break;
        case "lambert":
          s60 = new MeshLambertMaterial();
          break;
        default:
          console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.', a62), s60 = new MeshPhongMaterial();
          break;
      }
      return s60.setValues(i65), s60.name = n72, s60;
    },
    // Parse FBX material and return parameters suitable for a three.js material
    // Also parse the texture map and return any textures associated with the material
    parseParameters: function(e48, t43, r66) {
      var n72 = {};
      e48.BumpFactor && (n72.bumpScale = e48.BumpFactor.value), e48.Diffuse ? n72.color = new Color().fromArray(e48.Diffuse.value) : e48.DiffuseColor && e48.DiffuseColor.type === "Color" && (n72.color = new Color().fromArray(e48.DiffuseColor.value)), e48.DisplacementFactor && (n72.displacementScale = e48.DisplacementFactor.value), e48.Emissive ? n72.emissive = new Color().fromArray(e48.Emissive.value) : e48.EmissiveColor && e48.EmissiveColor.type === "Color" && (n72.emissive = new Color().fromArray(e48.EmissiveColor.value)), e48.EmissiveFactor && (n72.emissiveIntensity = parseFloat(e48.EmissiveFactor.value)), e48.Opacity && (n72.opacity = parseFloat(e48.Opacity.value)), n72.opacity < 1 && (n72.transparent = true), e48.ReflectionFactor && (n72.reflectivity = e48.ReflectionFactor.value), e48.Shininess && (n72.shininess = e48.Shininess.value), e48.Specular ? n72.specular = new Color().fromArray(e48.Specular.value) : e48.SpecularColor && e48.SpecularColor.type === "Color" && (n72.specular = new Color().fromArray(e48.SpecularColor.value));
      var a62 = this;
      return y51.get(r66).children.forEach(function(i65) {
        var s60 = i65.relationship;
        switch (s60) {
          case "Bump":
            n72.bumpMap = a62.getTexture(t43, i65.ID);
            break;
          case "Maya|TEX_ao_map":
            n72.aoMap = a62.getTexture(t43, i65.ID);
            break;
          case "DiffuseColor":
          case "Maya|TEX_color_map":
            n72.map = a62.getTexture(t43, i65.ID), n72.map.encoding = sRGBEncoding;
            break;
          case "DisplacementColor":
            n72.displacementMap = a62.getTexture(t43, i65.ID);
            break;
          case "EmissiveColor":
            n72.emissiveMap = a62.getTexture(t43, i65.ID), n72.emissiveMap.encoding = sRGBEncoding;
            break;
          case "NormalMap":
          case "Maya|TEX_normal_map":
            n72.normalMap = a62.getTexture(t43, i65.ID);
            break;
          case "ReflectionColor":
            n72.envMap = a62.getTexture(t43, i65.ID), n72.envMap.mapping = EquirectangularReflectionMapping, n72.envMap.encoding = sRGBEncoding;
            break;
          case "SpecularColor":
            n72.specularMap = a62.getTexture(t43, i65.ID), n72.specularMap.encoding = sRGBEncoding;
            break;
          case "TransparentColor":
          case "TransparencyFactor":
            n72.alphaMap = a62.getTexture(t43, i65.ID), n72.transparent = true;
            break;
          case "AmbientColor":
          case "ShininessExponent":
          case "SpecularFactor":
          case "VectorDisplacementColor":
          default:
            console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.", s60);
            break;
        }
      }), n72;
    },
    // get a texture from the textureMap for use by a material.
    getTexture: function(e48, t43) {
      return "LayeredTexture" in v58.Objects && t43 in v58.Objects.LayeredTexture && (console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."), t43 = y51.get(t43).children[0].ID), e48.get(t43);
    },
    // Parse nodes in FBXTree.Objects.Deformer
    // Deformer node can contain skinning or Vertex Cache animation data, however only skinning is supported here
    // Generates map of Skeleton-like objects for use later when generating and binding skeletons.
    parseDeformers: function() {
      var e48 = {}, t43 = {};
      if ("Deformer" in v58.Objects) {
        var r66 = v58.Objects.Deformer;
        for (var n72 in r66) {
          var a62 = r66[n72], i65 = y51.get(parseInt(n72));
          if (a62.attrType === "Skin") {
            var s60 = this.parseSkeleton(i65, r66);
            s60.ID = n72, i65.parents.length > 1 && console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."), s60.geometryID = i65.parents[0].ID, e48[n72] = s60;
          } else if (a62.attrType === "BlendShape") {
            var o71 = {
              id: n72
            };
            o71.rawTargets = this.parseMorphTargets(i65, r66), o71.id = n72, i65.parents.length > 1 && console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."), t43[n72] = o71;
          }
        }
      }
      return {
        skeletons: e48,
        morphTargets: t43
      };
    },
    // Parse single nodes in FBXTree.Objects.Deformer
    // The top level skeleton node has type 'Skin' and sub nodes have type 'Cluster'
    // Each skin node represents a skeleton and each cluster node represents a bone
    parseSkeleton: function(e48, t43) {
      var r66 = [];
      return e48.children.forEach(function(n72) {
        var a62 = t43[n72.ID];
        if (a62.attrType === "Cluster") {
          var i65 = {
            ID: n72.ID,
            indices: [],
            weights: [],
            transformLink: new Matrix4().fromArray(a62.TransformLink.a)
            // transform: new Matrix4().fromArray( boneNode.Transform.a ),
            // linkMode: boneNode.Mode,
          };
          "Indexes" in a62 && (i65.indices = a62.Indexes.a, i65.weights = a62.Weights.a), r66.push(i65);
        }
      }), {
        rawBones: r66,
        bones: []
      };
    },
    // The top level morph deformer node has type "BlendShape" and sub nodes have type "BlendShapeChannel"
    parseMorphTargets: function(e48, t43) {
      for (var r66 = [], n72 = 0; n72 < e48.children.length; n72++) {
        var a62 = e48.children[n72], i65 = t43[a62.ID], s60 = {
          name: i65.attrName,
          initialWeight: i65.DeformPercent,
          id: i65.id,
          fullWeights: i65.FullWeights.a
        };
        if (i65.attrType !== "BlendShapeChannel")
          return;
        s60.geoID = y51.get(parseInt(a62.ID)).children.filter(function(o71) {
          return o71.relationship === void 0;
        })[0].ID, r66.push(s60);
      }
      return r66;
    },
    // create the main Group() to be returned by the loader
    parseScene: function(e48, t43, r66) {
      T38 = new Group();
      var n72 = this.parseModels(e48.skeletons, t43, r66), a62 = v58.Objects.Model, i65 = this;
      n72.forEach(function(o71) {
        var f80 = a62[o71.ID];
        i65.setLookAtProperties(o71, f80);
        var l63 = y51.get(o71.ID).parents;
        l63.forEach(function(u72) {
          var p66 = n72.get(u72.ID);
          p66 !== void 0 && p66.add(o71);
        }), o71.parent === null && T38.add(o71);
      }), this.bindSkeleton(e48.skeletons, t43, n72), this.createAmbientLight(), this.setupMorphMaterials(), T38.traverse(function(o71) {
        if (o71.userData.transformData) {
          o71.parent && (o71.userData.transformData.parentMatrixWorld = o71.parent.matrix);
          var f80 = re7(o71.userData.transformData);
          o71.applyMatrix4(f80);
        }
      });
      var s60 = new K32().parse();
      T38.children.length === 1 && T38.children[0].isGroup && (T38.children[0].animations = s60, T38 = T38.children[0]), T38.animations = s60;
    },
    // parse nodes in FBXTree.Objects.Model
    parseModels: function(e48, t43, r66) {
      var n72 = /* @__PURE__ */ new Map(), a62 = v58.Objects.Model;
      for (var i65 in a62) {
        var s60 = parseInt(i65), o71 = a62[i65], f80 = y51.get(s60), l63 = this.buildSkeleton(f80, e48, s60, o71.attrName);
        if (!l63) {
          switch (o71.attrType) {
            case "Camera":
              l63 = this.createCamera(f80);
              break;
            case "Light":
              l63 = this.createLight(f80);
              break;
            case "Mesh":
              l63 = this.createMesh(f80, t43, r66);
              break;
            case "NurbsCurve":
              l63 = this.createCurve(f80, t43);
              break;
            case "LimbNode":
            case "Root":
              l63 = new Bone();
              break;
            case "Null":
            default:
              l63 = new Group();
              break;
          }
          l63.name = o71.attrName ? PropertyBinding.sanitizeNodeName(o71.attrName) : "", l63.ID = s60;
        }
        this.getTransformData(l63, o71), n72.set(s60, l63);
      }
      return n72;
    },
    buildSkeleton: function(e48, t43, r66, n72) {
      var a62 = null;
      return e48.parents.forEach(function(i65) {
        for (var s60 in t43) {
          var o71 = t43[s60];
          o71.rawBones.forEach(function(f80, l63) {
            if (f80.ID === i65.ID) {
              var u72 = a62;
              a62 = new Bone(), a62.matrixWorld.copy(f80.transformLink), a62.name = n72 ? PropertyBinding.sanitizeNodeName(n72) : "", a62.ID = r66, o71.bones[l63] = a62, u72 !== null && a62.add(u72);
            }
          });
        }
      }), a62;
    },
    // create a PerspectiveCamera or OrthographicCamera
    createCamera: function(e48) {
      var t43, r66;
      if (e48.children.forEach(function(p66) {
        var c85 = v58.Objects.NodeAttribute[p66.ID];
        c85 !== void 0 && (r66 = c85);
      }), r66 === void 0)
        t43 = new Object3D();
      else {
        var n72 = 0;
        r66.CameraProjectionType !== void 0 && r66.CameraProjectionType.value === 1 && (n72 = 1);
        var a62 = 1;
        r66.NearPlane !== void 0 && (a62 = r66.NearPlane.value / 1e3);
        var i65 = 1e3;
        r66.FarPlane !== void 0 && (i65 = r66.FarPlane.value / 1e3);
        var s60 = window.innerWidth, o71 = window.innerHeight;
        r66.AspectWidth !== void 0 && r66.AspectHeight !== void 0 && (s60 = r66.AspectWidth.value, o71 = r66.AspectHeight.value);
        var f80 = s60 / o71, l63 = 45;
        r66.FieldOfView !== void 0 && (l63 = r66.FieldOfView.value);
        var u72 = r66.FocalLength ? r66.FocalLength.value : null;
        switch (n72) {
          case 0:
            t43 = new PerspectiveCamera(l63, f80, a62, i65), u72 !== null && t43.setFocalLength(u72);
            break;
          case 1:
            t43 = new OrthographicCamera(-s60 / 2, s60 / 2, o71 / 2, -o71 / 2, a62, i65);
            break;
          default:
            console.warn("THREE.FBXLoader: Unknown camera type " + n72 + "."), t43 = new Object3D();
            break;
        }
      }
      return t43;
    },
    // Create a DirectionalLight, PointLight or SpotLight
    createLight: function(e48) {
      var t43, r66;
      if (e48.children.forEach(function(u72) {
        var p66 = v58.Objects.NodeAttribute[u72.ID];
        p66 !== void 0 && (r66 = p66);
      }), r66 === void 0)
        t43 = new Object3D();
      else {
        var n72;
        r66.LightType === void 0 ? n72 = 0 : n72 = r66.LightType.value;
        var a62 = 16777215;
        r66.Color !== void 0 && (a62 = new Color().fromArray(r66.Color.value));
        var i65 = r66.Intensity === void 0 ? 1 : r66.Intensity.value / 100;
        r66.CastLightOnObject !== void 0 && r66.CastLightOnObject.value === 0 && (i65 = 0);
        var s60 = 0;
        r66.FarAttenuationEnd !== void 0 && (r66.EnableFarAttenuation !== void 0 && r66.EnableFarAttenuation.value === 0 ? s60 = 0 : s60 = r66.FarAttenuationEnd.value);
        var o71 = 1;
        switch (n72) {
          case 0:
            t43 = new PointLight(a62, i65, s60, o71);
            break;
          case 1:
            t43 = new DirectionalLight(a62, i65);
            break;
          case 2:
            var f80 = Math.PI / 3;
            r66.InnerAngle !== void 0 && (f80 = MathUtils.degToRad(r66.InnerAngle.value));
            var l63 = 0;
            r66.OuterAngle !== void 0 && (l63 = MathUtils.degToRad(r66.OuterAngle.value), l63 = Math.max(l63, 1)), t43 = new SpotLight(a62, i65, s60, f80, l63, o71);
            break;
          default:
            console.warn("THREE.FBXLoader: Unknown light type " + r66.LightType.value + ", defaulting to a PointLight."), t43 = new PointLight(a62, i65);
            break;
        }
        r66.CastShadows !== void 0 && r66.CastShadows.value === 1 && (t43.castShadow = true);
      }
      return t43;
    },
    createMesh: function(e48, t43, r66) {
      var n72, a62 = null, i65 = null, s60 = [];
      return e48.children.forEach(function(o71) {
        t43.has(o71.ID) && (a62 = t43.get(o71.ID)), r66.has(o71.ID) && s60.push(r66.get(o71.ID));
      }), s60.length > 1 ? i65 = s60 : s60.length > 0 ? i65 = s60[0] : (i65 = new MeshPhongMaterial({ color: 13421772 }), s60.push(i65)), "color" in a62.attributes && s60.forEach(function(o71) {
        o71.vertexColors = true;
      }), a62.FBX_Deformer ? (s60.forEach(function(o71) {
        o71.skinning = true;
      }), n72 = new SkinnedMesh(a62, i65), n72.normalizeSkinWeights()) : n72 = new Mesh(a62, i65), n72;
    },
    createCurve: function(e48, t43) {
      var r66 = e48.children.reduce(function(a62, i65) {
        return t43.has(i65.ID) && (a62 = t43.get(i65.ID)), a62;
      }, null), n72 = new LineBasicMaterial({ color: 3342591, linewidth: 1 });
      return new Line(r66, n72);
    },
    // parse the model node for transform data
    getTransformData: function(e48, t43) {
      var r66 = {};
      "InheritType" in t43 && (r66.inheritType = parseInt(t43.InheritType.value)), "RotationOrder" in t43 ? r66.eulerOrder = ae7(t43.RotationOrder.value) : r66.eulerOrder = "ZYX", "Lcl_Translation" in t43 && (r66.translation = t43.Lcl_Translation.value), "PreRotation" in t43 && (r66.preRotation = t43.PreRotation.value), "Lcl_Rotation" in t43 && (r66.rotation = t43.Lcl_Rotation.value), "PostRotation" in t43 && (r66.postRotation = t43.PostRotation.value), "Lcl_Scaling" in t43 && (r66.scale = t43.Lcl_Scaling.value), "ScalingOffset" in t43 && (r66.scalingOffset = t43.ScalingOffset.value), "ScalingPivot" in t43 && (r66.scalingPivot = t43.ScalingPivot.value), "RotationOffset" in t43 && (r66.rotationOffset = t43.RotationOffset.value), "RotationPivot" in t43 && (r66.rotationPivot = t43.RotationPivot.value), e48.userData.transformData = r66;
    },
    setLookAtProperties: function(e48, t43) {
      if ("LookAtProperty" in t43) {
        var r66 = y51.get(e48.ID).children;
        r66.forEach(function(n72) {
          if (n72.relationship === "LookAtProperty") {
            var a62 = v58.Objects.Model[n72.ID];
            if ("Lcl_Translation" in a62) {
              var i65 = a62.Lcl_Translation.value;
              e48.target !== void 0 ? (e48.target.position.fromArray(i65), T38.add(e48.target)) : e48.lookAt(new Vector3().fromArray(i65));
            }
          }
        });
      }
    },
    bindSkeleton: function(e48, t43, r66) {
      var n72 = this.parsePoseNodes();
      for (var a62 in e48) {
        var i65 = e48[a62], s60 = y51.get(parseInt(i65.ID)).parents;
        s60.forEach(function(o71) {
          if (t43.has(o71.ID)) {
            var f80 = o71.ID, l63 = y51.get(f80);
            l63.parents.forEach(function(u72) {
              if (r66.has(u72.ID)) {
                var p66 = r66.get(u72.ID);
                p66.bind(new Skeleton(i65.bones), n72[u72.ID]);
              }
            });
          }
        });
      }
    },
    parsePoseNodes: function() {
      var e48 = {};
      if ("Pose" in v58.Objects) {
        var t43 = v58.Objects.Pose;
        for (var r66 in t43)
          if (t43[r66].attrType === "BindPose") {
            var n72 = t43[r66].PoseNode;
            Array.isArray(n72) ? n72.forEach(function(a62) {
              e48[a62.Node] = new Matrix4().fromArray(a62.Matrix.a);
            }) : e48[n72.Node] = new Matrix4().fromArray(n72.Matrix.a);
          }
      }
      return e48;
    },
    // Parse ambient color in FBXTree.GlobalSettings - if it's not set to black (default), create an ambient light
    createAmbientLight: function() {
      if ("GlobalSettings" in v58 && "AmbientColor" in v58.GlobalSettings) {
        var e48 = v58.GlobalSettings.AmbientColor.value, t43 = e48[0], r66 = e48[1], n72 = e48[2];
        if (t43 !== 0 || r66 !== 0 || n72 !== 0) {
          var a62 = new Color(t43, r66, n72);
          T38.add(new AmbientLight(a62, 1));
        }
      }
    },
    setupMorphMaterials: function() {
      var e48 = this;
      T38.traverse(function(t43) {
        t43.isMesh && t43.geometry.morphAttributes.position && t43.geometry.morphAttributes.position.length && (Array.isArray(t43.material) ? t43.material.forEach(function(r66, n72) {
          e48.setupMorphMaterial(t43, r66, n72);
        }) : e48.setupMorphMaterial(t43, t43.material));
      });
    },
    setupMorphMaterial: function(e48, t43, r66) {
      var n72 = e48.uuid, a62 = t43.uuid, i65 = false;
      if (T38.traverse(function(o71) {
        o71.isMesh && (Array.isArray(o71.material) ? o71.material.forEach(function(f80) {
          f80.uuid === a62 && o71.uuid !== n72 && (i65 = true);
        }) : o71.material.uuid === a62 && o71.uuid !== n72 && (i65 = true));
      }), i65 === true) {
        var s60 = t43.clone();
        s60.morphTargets = true, r66 === void 0 ? e48.material = s60 : e48.material[r66] = s60;
      } else
        t43.morphTargets = true;
    }
  };
  function _32() {
  }
  _32.prototype = {
    constructor: _32,
    // Parse nodes in FBXTree.Objects.Geometry
    parse: function(e48) {
      var t43 = /* @__PURE__ */ new Map();
      if ("Geometry" in v58.Objects) {
        var r66 = v58.Objects.Geometry;
        for (var n72 in r66) {
          var a62 = y51.get(parseInt(n72)), i65 = this.parseGeometry(a62, r66[n72], e48);
          t43.set(parseInt(n72), i65);
        }
      }
      return t43;
    },
    // Parse single node in FBXTree.Objects.Geometry
    parseGeometry: function(e48, t43, r66) {
      switch (t43.attrType) {
        case "Mesh":
          return this.parseMeshGeometry(e48, t43, r66);
        case "NurbsCurve":
          return this.parseNurbsGeometry(t43);
      }
    },
    // Parse single node mesh geometry in FBXTree.Objects.Geometry
    parseMeshGeometry: function(e48, t43, r66) {
      var n72 = r66.skeletons, a62 = [], i65 = e48.parents.map(function(u72) {
        return v58.Objects.Model[u72.ID];
      });
      if (i65.length !== 0) {
        var s60 = e48.children.reduce(function(u72, p66) {
          return n72[p66.ID] !== void 0 && (u72 = n72[p66.ID]), u72;
        }, null);
        e48.children.forEach(function(u72) {
          r66.morphTargets[u72.ID] !== void 0 && a62.push(r66.morphTargets[u72.ID]);
        });
        var o71 = i65[0], f80 = {};
        "RotationOrder" in o71 && (f80.eulerOrder = ae7(o71.RotationOrder.value)), "InheritType" in o71 && (f80.inheritType = parseInt(o71.InheritType.value)), "GeometricTranslation" in o71 && (f80.translation = o71.GeometricTranslation.value), "GeometricRotation" in o71 && (f80.rotation = o71.GeometricRotation.value), "GeometricScaling" in o71 && (f80.scale = o71.GeometricScaling.value);
        var l63 = re7(f80);
        return this.genGeometry(t43, s60, a62, l63);
      }
    },
    // Generate a BufferGeometry from a node in FBXTree.Objects.Geometry
    genGeometry: function(e48, t43, r66, n72) {
      var a62 = new BufferGeometry();
      e48.attrName && (a62.name = e48.attrName);
      var i65 = this.parseGeoNode(e48, t43), s60 = this.genBuffers(i65), o71 = new Float32BufferAttribute(s60.vertex, 3);
      if (o71.applyMatrix4(n72), a62.setAttribute("position", o71), s60.colors.length > 0 && a62.setAttribute("color", new Float32BufferAttribute(s60.colors, 3)), t43 && (a62.setAttribute("skinIndex", new Uint16BufferAttribute(s60.weightsIndices, 4)), a62.setAttribute("skinWeight", new Float32BufferAttribute(s60.vertexWeights, 4)), a62.FBX_Deformer = t43), s60.normal.length > 0) {
        var f80 = new Matrix3().getNormalMatrix(n72), l63 = new Float32BufferAttribute(s60.normal, 3);
        l63.applyNormalMatrix(f80), a62.setAttribute("normal", l63);
      }
      if (s60.uvs.forEach(function(w49, g67) {
        var d73 = "uv" + (g67 + 1).toString();
        g67 === 0 && (d73 = "uv"), a62.setAttribute(d73, new Float32BufferAttribute(s60.uvs[g67], 2));
      }), i65.material && i65.material.mappingType !== "AllSame") {
        var u72 = s60.materialIndex[0], p66 = 0;
        if (s60.materialIndex.forEach(function(w49, g67) {
          w49 !== u72 && (a62.addGroup(p66, g67 - p66, u72), u72 = w49, p66 = g67);
        }), a62.groups.length > 0) {
          var c85 = a62.groups[a62.groups.length - 1], h66 = c85.start + c85.count;
          h66 !== s60.materialIndex.length && a62.addGroup(h66, s60.materialIndex.length - h66, u72);
        }
        a62.groups.length === 0 && a62.addGroup(0, s60.materialIndex.length, s60.materialIndex[0]);
      }
      return this.addMorphTargets(a62, e48, r66, n72), a62;
    },
    parseGeoNode: function(e48, t43) {
      var r66 = {};
      if (r66.vertexPositions = e48.Vertices !== void 0 ? e48.Vertices.a : [], r66.vertexIndices = e48.PolygonVertexIndex !== void 0 ? e48.PolygonVertexIndex.a : [], e48.LayerElementColor && (r66.color = this.parseVertexColors(e48.LayerElementColor[0])), e48.LayerElementMaterial && (r66.material = this.parseMaterialIndices(e48.LayerElementMaterial[0])), e48.LayerElementNormal && (r66.normal = this.parseNormals(e48.LayerElementNormal[0])), e48.LayerElementUV) {
        r66.uv = [];
        for (var n72 = 0; e48.LayerElementUV[n72]; )
          r66.uv.push(this.parseUVs(e48.LayerElementUV[n72])), n72++;
      }
      return r66.weightTable = {}, t43 !== null && (r66.skeleton = t43, t43.rawBones.forEach(function(a62, i65) {
        a62.indices.forEach(function(s60, o71) {
          r66.weightTable[s60] === void 0 && (r66.weightTable[s60] = []), r66.weightTable[s60].push({
            id: i65,
            weight: a62.weights[o71]
          });
        });
      })), r66;
    },
    genBuffers: function(e48) {
      var t43 = {
        vertex: [],
        normal: [],
        colors: [],
        uvs: [],
        materialIndex: [],
        vertexWeights: [],
        weightsIndices: []
      }, r66 = 0, n72 = 0, a62 = false, i65 = [], s60 = [], o71 = [], f80 = [], l63 = [], u72 = [], p66 = this;
      return e48.vertexIndices.forEach(function(c85, h66) {
        var w49 = false;
        c85 < 0 && (c85 = c85 ^ -1, w49 = true);
        var g67 = [], d73 = [];
        if (i65.push(c85 * 3, c85 * 3 + 1, c85 * 3 + 2), e48.color) {
          var A62 = D52(h66, r66, c85, e48.color);
          o71.push(A62[0], A62[1], A62[2]);
        }
        if (e48.skeleton) {
          if (e48.weightTable[c85] !== void 0 && e48.weightTable[c85].forEach(function(I49) {
            d73.push(I49.weight), g67.push(I49.id);
          }), d73.length > 4) {
            a62 || (console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."), a62 = true);
            var L40 = [0, 0, 0, 0], S52 = [0, 0, 0, 0];
            d73.forEach(function(I49, E53) {
              var P55 = I49, C52 = g67[E53];
              S52.forEach(function(se6, Q29, Ee5) {
                if (P55 > se6) {
                  Ee5[Q29] = P55, P55 = se6;
                  var xe3 = L40[Q29];
                  L40[Q29] = C52, C52 = xe3;
                }
              });
            }), g67 = L40, d73 = S52;
          }
          for (; d73.length < 4; )
            d73.push(0), g67.push(0);
          for (var R43 = 0; R43 < 4; ++R43)
            l63.push(d73[R43]), u72.push(g67[R43]);
        }
        if (e48.normal) {
          var A62 = D52(h66, r66, c85, e48.normal);
          s60.push(A62[0], A62[1], A62[2]);
        }
        if (e48.material && e48.material.mappingType !== "AllSame")
          var $23 = D52(h66, r66, c85, e48.material)[0];
        e48.uv && e48.uv.forEach(function(I49, E53) {
          var P55 = D52(h66, r66, c85, I49);
          f80[E53] === void 0 && (f80[E53] = []), f80[E53].push(P55[0]), f80[E53].push(P55[1]);
        }), n72++, w49 && (p66.genFace(
          t43,
          e48,
          i65,
          $23,
          s60,
          o71,
          f80,
          l63,
          u72,
          n72
        ), r66++, n72 = 0, i65 = [], s60 = [], o71 = [], f80 = [], l63 = [], u72 = []);
      }), t43;
    },
    // Generate data for a single face in a geometry. If the face is a quad then split it into 2 tris
    genFace: function(e48, t43, r66, n72, a62, i65, s60, o71, f80, l63) {
      for (var u72 = 2; u72 < l63; u72++)
        e48.vertex.push(t43.vertexPositions[r66[0]]), e48.vertex.push(t43.vertexPositions[r66[1]]), e48.vertex.push(t43.vertexPositions[r66[2]]), e48.vertex.push(t43.vertexPositions[r66[(u72 - 1) * 3]]), e48.vertex.push(t43.vertexPositions[r66[(u72 - 1) * 3 + 1]]), e48.vertex.push(t43.vertexPositions[r66[(u72 - 1) * 3 + 2]]), e48.vertex.push(t43.vertexPositions[r66[u72 * 3]]), e48.vertex.push(t43.vertexPositions[r66[u72 * 3 + 1]]), e48.vertex.push(t43.vertexPositions[r66[u72 * 3 + 2]]), t43.skeleton && (e48.vertexWeights.push(o71[0]), e48.vertexWeights.push(o71[1]), e48.vertexWeights.push(o71[2]), e48.vertexWeights.push(o71[3]), e48.vertexWeights.push(o71[(u72 - 1) * 4]), e48.vertexWeights.push(o71[(u72 - 1) * 4 + 1]), e48.vertexWeights.push(o71[(u72 - 1) * 4 + 2]), e48.vertexWeights.push(o71[(u72 - 1) * 4 + 3]), e48.vertexWeights.push(o71[u72 * 4]), e48.vertexWeights.push(o71[u72 * 4 + 1]), e48.vertexWeights.push(o71[u72 * 4 + 2]), e48.vertexWeights.push(o71[u72 * 4 + 3]), e48.weightsIndices.push(f80[0]), e48.weightsIndices.push(f80[1]), e48.weightsIndices.push(f80[2]), e48.weightsIndices.push(f80[3]), e48.weightsIndices.push(f80[(u72 - 1) * 4]), e48.weightsIndices.push(f80[(u72 - 1) * 4 + 1]), e48.weightsIndices.push(f80[(u72 - 1) * 4 + 2]), e48.weightsIndices.push(f80[(u72 - 1) * 4 + 3]), e48.weightsIndices.push(f80[u72 * 4]), e48.weightsIndices.push(f80[u72 * 4 + 1]), e48.weightsIndices.push(f80[u72 * 4 + 2]), e48.weightsIndices.push(f80[u72 * 4 + 3])), t43.color && (e48.colors.push(i65[0]), e48.colors.push(i65[1]), e48.colors.push(i65[2]), e48.colors.push(i65[(u72 - 1) * 3]), e48.colors.push(i65[(u72 - 1) * 3 + 1]), e48.colors.push(i65[(u72 - 1) * 3 + 2]), e48.colors.push(i65[u72 * 3]), e48.colors.push(i65[u72 * 3 + 1]), e48.colors.push(i65[u72 * 3 + 2])), t43.material && t43.material.mappingType !== "AllSame" && (e48.materialIndex.push(n72), e48.materialIndex.push(n72), e48.materialIndex.push(n72)), t43.normal && (e48.normal.push(a62[0]), e48.normal.push(a62[1]), e48.normal.push(a62[2]), e48.normal.push(a62[(u72 - 1) * 3]), e48.normal.push(a62[(u72 - 1) * 3 + 1]), e48.normal.push(a62[(u72 - 1) * 3 + 2]), e48.normal.push(a62[u72 * 3]), e48.normal.push(a62[u72 * 3 + 1]), e48.normal.push(a62[u72 * 3 + 2])), t43.uv && t43.uv.forEach(function(p66, c85) {
          e48.uvs[c85] === void 0 && (e48.uvs[c85] = []), e48.uvs[c85].push(s60[c85][0]), e48.uvs[c85].push(s60[c85][1]), e48.uvs[c85].push(s60[c85][(u72 - 1) * 2]), e48.uvs[c85].push(s60[c85][(u72 - 1) * 2 + 1]), e48.uvs[c85].push(s60[c85][u72 * 2]), e48.uvs[c85].push(s60[c85][u72 * 2 + 1]);
        });
    },
    addMorphTargets: function(e48, t43, r66, n72) {
      if (r66.length !== 0) {
        e48.morphTargetsRelative = true, e48.morphAttributes.position = [];
        var a62 = this;
        r66.forEach(function(i65) {
          i65.rawTargets.forEach(function(s60) {
            var o71 = v58.Objects.Geometry[s60.geoID];
            o71 !== void 0 && a62.genMorphGeometry(e48, t43, o71, n72, s60.name);
          });
        });
      }
    },
    // a morph geometry node is similar to a standard  node, and the node is also contained
    // in FBXTree.Objects.Geometry, however it can only have attributes for position, normal
    // and a special attribute Index defining which vertices of the original geometry are affected
    // Normal and position attributes only have data for the vertices that are affected by the morph
    genMorphGeometry: function(e48, t43, r66, n72, a62) {
      for (var i65 = t43.PolygonVertexIndex !== void 0 ? t43.PolygonVertexIndex.a : [], s60 = r66.Vertices !== void 0 ? r66.Vertices.a : [], o71 = r66.Indexes !== void 0 ? r66.Indexes.a : [], f80 = e48.attributes.position.count * 3, l63 = new Float32Array(f80), u72 = 0; u72 < o71.length; u72++) {
        var p66 = o71[u72] * 3;
        l63[p66] = s60[u72 * 3], l63[p66 + 1] = s60[u72 * 3 + 1], l63[p66 + 2] = s60[u72 * 3 + 2];
      }
      var c85 = {
        vertexIndices: i65,
        vertexPositions: l63
      }, h66 = this.genBuffers(c85), w49 = new Float32BufferAttribute(h66.vertex, 3);
      w49.name = a62 || r66.attrName, w49.applyMatrix4(n72), e48.morphAttributes.position.push(w49);
    },
    // Parse normal from FBXTree.Objects.Geometry.LayerElementNormal if it exists
    parseNormals: function(e48) {
      var t43 = e48.MappingInformationType, r66 = e48.ReferenceInformationType, n72 = e48.Normals.a, a62 = [];
      return r66 === "IndexToDirect" && ("NormalIndex" in e48 ? a62 = e48.NormalIndex.a : "NormalsIndex" in e48 && (a62 = e48.NormalsIndex.a)), {
        dataSize: 3,
        buffer: n72,
        indices: a62,
        mappingType: t43,
        referenceType: r66
      };
    },
    // Parse UVs from FBXTree.Objects.Geometry.LayerElementUV if it exists
    parseUVs: function(e48) {
      var t43 = e48.MappingInformationType, r66 = e48.ReferenceInformationType, n72 = e48.UV.a, a62 = [];
      return r66 === "IndexToDirect" && (a62 = e48.UVIndex.a), {
        dataSize: 2,
        buffer: n72,
        indices: a62,
        mappingType: t43,
        referenceType: r66
      };
    },
    // Parse Vertex Colors from FBXTree.Objects.Geometry.LayerElementColor if it exists
    parseVertexColors: function(e48) {
      var t43 = e48.MappingInformationType, r66 = e48.ReferenceInformationType, n72 = e48.Colors.a, a62 = [];
      return r66 === "IndexToDirect" && (a62 = e48.ColorIndex.a), {
        dataSize: 4,
        buffer: n72,
        indices: a62,
        mappingType: t43,
        referenceType: r66
      };
    },
    // Parse mapping and material data in FBXTree.Objects.Geometry.LayerElementMaterial if it exists
    parseMaterialIndices: function(e48) {
      var t43 = e48.MappingInformationType, r66 = e48.ReferenceInformationType;
      if (t43 === "NoMappingInformation")
        return {
          dataSize: 1,
          buffer: [0],
          indices: [0],
          mappingType: "AllSame",
          referenceType: r66
        };
      for (var n72 = e48.Materials.a, a62 = [], i65 = 0; i65 < n72.length; ++i65)
        a62.push(i65);
      return {
        dataSize: 1,
        buffer: n72,
        indices: a62,
        mappingType: t43,
        referenceType: r66
      };
    },
    // Generate a NurbGeometry from a node in FBXTree.Objects.Geometry
    parseNurbsGeometry: function(e48) {
      if (e12 === void 0)
        return console.error(
          "THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."
        ), new BufferGeometry();
      var t43 = parseInt(e48.Order);
      if (isNaN(t43))
        return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s", e48.Order, e48.id), new BufferGeometry();
      for (var r66 = t43 - 1, n72 = e48.KnotVector.a, a62 = [], i65 = e48.Points.a, s60 = 0, o71 = i65.length; s60 < o71; s60 += 4)
        a62.push(new Vector4().fromArray(i65, s60));
      var f80, l63;
      if (e48.Form === "Closed")
        a62.push(a62[0]);
      else if (e48.Form === "Periodic") {
        f80 = r66, l63 = n72.length - 1 - f80;
        for (var s60 = 0; s60 < r66; ++s60)
          a62.push(a62[s60]);
      }
      var u72 = new e12(r66, n72, a62, f80, l63), p66 = u72.getPoints(a62.length * 7), c85 = new Float32Array(p66.length * 3);
      p66.forEach(function(w49, g67) {
        w49.toArray(c85, g67 * 3);
      });
      var h66 = new BufferGeometry();
      return h66.setAttribute("position", new BufferAttribute(c85, 3)), h66;
    }
  };
  function K32() {
  }
  K32.prototype = {
    constructor: K32,
    // take raw animation clips and turn them into three.js animation clips
    parse: function() {
      var e48 = [], t43 = this.parseClips();
      if (t43 !== void 0)
        for (var r66 in t43) {
          var n72 = t43[r66], a62 = this.addClip(n72);
          e48.push(a62);
        }
      return e48;
    },
    parseClips: function() {
      if (v58.Objects.AnimationCurve !== void 0) {
        var e48 = this.parseAnimationCurveNodes();
        this.parseAnimationCurves(e48);
        var t43 = this.parseAnimationLayers(e48), r66 = this.parseAnimStacks(t43);
        return r66;
      }
    },
    // parse nodes in FBXTree.Objects.AnimationCurveNode
    // each AnimationCurveNode holds data for an animation transform for a model (e.g. left arm rotation )
    // and is referenced by an AnimationLayer
    parseAnimationCurveNodes: function() {
      var e48 = v58.Objects.AnimationCurveNode, t43 = /* @__PURE__ */ new Map();
      for (var r66 in e48) {
        var n72 = e48[r66];
        if (n72.attrName.match(/S|R|T|DeformPercent/) !== null) {
          var a62 = {
            id: n72.id,
            attr: n72.attrName,
            curves: {}
          };
          t43.set(a62.id, a62);
        }
      }
      return t43;
    },
    // parse nodes in FBXTree.Objects.AnimationCurve and connect them up to
    // previously parsed AnimationCurveNodes. Each AnimationCurve holds data for a single animated
    // axis ( e.g. times and values of x rotation)
    parseAnimationCurves: function(e48) {
      var t43 = v58.Objects.AnimationCurve;
      for (var r66 in t43) {
        var n72 = {
          id: t43[r66].id,
          times: t43[r66].KeyTime.a.map(de9),
          values: t43[r66].KeyValueFloat.a
        }, a62 = y51.get(n72.id);
        if (a62 !== void 0) {
          var i65 = a62.parents[0].ID, s60 = a62.parents[0].relationship;
          s60.match(/X/) ? e48.get(i65).curves.x = n72 : s60.match(/Y/) ? e48.get(i65).curves.y = n72 : s60.match(/Z/) ? e48.get(i65).curves.z = n72 : s60.match(/d|DeformPercent/) && e48.has(i65) && (e48.get(i65).curves.morph = n72);
        }
      }
    },
    // parse nodes in FBXTree.Objects.AnimationLayer. Each layers holds references
    // to various AnimationCurveNodes and is referenced by an AnimationStack node
    // note: theoretically a stack can have multiple layers, however in practice there always seems to be one per stack
    parseAnimationLayers: function(e48) {
      var t43 = v58.Objects.AnimationLayer, r66 = /* @__PURE__ */ new Map();
      for (var n72 in t43) {
        var a62 = [], i65 = y51.get(parseInt(n72));
        if (i65 !== void 0) {
          var s60 = i65.children;
          s60.forEach(function(o71, f80) {
            if (e48.has(o71.ID)) {
              var l63 = e48.get(o71.ID);
              if (l63.curves.x !== void 0 || l63.curves.y !== void 0 || l63.curves.z !== void 0) {
                if (a62[f80] === void 0) {
                  var u72 = y51.get(o71.ID).parents.filter(function(d73) {
                    return d73.relationship !== void 0;
                  })[0].ID;
                  if (u72 !== void 0) {
                    var p66 = v58.Objects.Model[u72.toString()];
                    if (p66 === void 0) {
                      console.warn("THREE.FBXLoader: Encountered a unused curve.", o71);
                      return;
                    }
                    var c85 = {
                      modelName: p66.attrName ? PropertyBinding.sanitizeNodeName(p66.attrName) : "",
                      ID: p66.id,
                      initialPosition: [0, 0, 0],
                      initialRotation: [0, 0, 0],
                      initialScale: [1, 1, 1]
                    };
                    T38.traverse(function(d73) {
                      d73.ID === p66.id && (c85.transform = d73.matrix, d73.userData.transformData && (c85.eulerOrder = d73.userData.transformData.eulerOrder));
                    }), c85.transform || (c85.transform = new Matrix4()), "PreRotation" in p66 && (c85.preRotation = p66.PreRotation.value), "PostRotation" in p66 && (c85.postRotation = p66.PostRotation.value), a62[f80] = c85;
                  }
                }
                a62[f80] && (a62[f80][l63.attr] = l63);
              } else if (l63.curves.morph !== void 0) {
                if (a62[f80] === void 0) {
                  var h66 = y51.get(o71.ID).parents.filter(function(S52) {
                    return S52.relationship !== void 0;
                  })[0].ID, w49 = y51.get(h66).parents[0].ID, g67 = y51.get(w49).parents[0].ID, u72 = y51.get(g67).parents[0].ID, p66 = v58.Objects.Model[u72], c85 = {
                    modelName: p66.attrName ? PropertyBinding.sanitizeNodeName(p66.attrName) : "",
                    morphName: v58.Objects.Deformer[h66].attrName
                  };
                  a62[f80] = c85;
                }
                a62[f80][l63.attr] = l63;
              }
            }
          }), r66.set(parseInt(n72), a62);
        }
      }
      return r66;
    },
    // parse nodes in FBXTree.Objects.AnimationStack. These are the top level node in the animation
    // hierarchy. Each Stack node will be used to create a AnimationClip
    parseAnimStacks: function(e48) {
      var t43 = v58.Objects.AnimationStack, r66 = {};
      for (var n72 in t43) {
        var a62 = y51.get(parseInt(n72)).children;
        a62.length > 1 && console.warn(
          "THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers."
        );
        var i65 = e48.get(a62[0].ID);
        r66[n72] = {
          name: t43[n72].attrName,
          layer: i65
        };
      }
      return r66;
    },
    addClip: function(e48) {
      var t43 = [], r66 = this;
      return e48.layer.forEach(function(n72) {
        t43 = t43.concat(r66.generateTracks(n72));
      }), new AnimationClip(e48.name, -1, t43);
    },
    generateTracks: function(e48) {
      var t43 = [], r66 = new Vector3(), n72 = new Quaternion(), a62 = new Vector3();
      if (e48.transform && e48.transform.decompose(r66, n72, a62), r66 = r66.toArray(), n72 = new Euler().setFromQuaternion(n72, e48.eulerOrder).toArray(), a62 = a62.toArray(), e48.T !== void 0 && Object.keys(e48.T.curves).length > 0) {
        var i65 = this.generateVectorTrack(e48.modelName, e48.T.curves, r66, "position");
        i65 !== void 0 && t43.push(i65);
      }
      if (e48.R !== void 0 && Object.keys(e48.R.curves).length > 0) {
        var s60 = this.generateRotationTrack(
          e48.modelName,
          e48.R.curves,
          n72,
          e48.preRotation,
          e48.postRotation,
          e48.eulerOrder
        );
        s60 !== void 0 && t43.push(s60);
      }
      if (e48.S !== void 0 && Object.keys(e48.S.curves).length > 0) {
        var o71 = this.generateVectorTrack(e48.modelName, e48.S.curves, a62, "scale");
        o71 !== void 0 && t43.push(o71);
      }
      if (e48.DeformPercent !== void 0) {
        var f80 = this.generateMorphTrack(e48);
        f80 !== void 0 && t43.push(f80);
      }
      return t43;
    },
    generateVectorTrack: function(e48, t43, r66, n72) {
      var a62 = this.getTimesForAllAxes(t43), i65 = this.getKeyframeTrackValues(a62, t43, r66);
      return new VectorKeyframeTrack(e48 + "." + n72, a62, i65);
    },
    generateRotationTrack: function(e48, t43, r66, n72, a62, i65) {
      t43.x !== void 0 && (this.interpolateRotations(t43.x), t43.x.values = t43.x.values.map(MathUtils.degToRad)), t43.y !== void 0 && (this.interpolateRotations(t43.y), t43.y.values = t43.y.values.map(MathUtils.degToRad)), t43.z !== void 0 && (this.interpolateRotations(t43.z), t43.z.values = t43.z.values.map(MathUtils.degToRad));
      var s60 = this.getTimesForAllAxes(t43), o71 = this.getKeyframeTrackValues(s60, t43, r66);
      n72 !== void 0 && (n72 = n72.map(MathUtils.degToRad), n72.push(i65), n72 = new Euler().fromArray(n72), n72 = new Quaternion().setFromEuler(n72)), a62 !== void 0 && (a62 = a62.map(MathUtils.degToRad), a62.push(i65), a62 = new Euler().fromArray(a62), a62 = new Quaternion().setFromEuler(a62).inverse());
      for (var f80 = new Quaternion(), l63 = new Euler(), u72 = [], p66 = 0; p66 < o71.length; p66 += 3)
        l63.set(o71[p66], o71[p66 + 1], o71[p66 + 2], i65), f80.setFromEuler(l63), n72 !== void 0 && f80.premultiply(n72), a62 !== void 0 && f80.multiply(a62), f80.toArray(u72, p66 / 3 * 4);
      return new QuaternionKeyframeTrack(e48 + ".quaternion", s60, u72);
    },
    generateMorphTrack: function(e48) {
      var t43 = e48.DeformPercent.curves.morph, r66 = t43.values.map(function(a62) {
        return a62 / 100;
      }), n72 = T38.getObjectByName(e48.modelName).morphTargetDictionary[e48.morphName];
      return new NumberKeyframeTrack(e48.modelName + ".morphTargetInfluences[" + n72 + "]", t43.times, r66);
    },
    // For all animated objects, times are defined separately for each axis
    // Here we'll combine the times into one sorted array without duplicates
    getTimesForAllAxes: function(e48) {
      var t43 = [];
      return e48.x !== void 0 && (t43 = t43.concat(e48.x.times)), e48.y !== void 0 && (t43 = t43.concat(e48.y.times)), e48.z !== void 0 && (t43 = t43.concat(e48.z.times)), t43 = t43.sort(function(r66, n72) {
        return r66 - n72;
      }).filter(function(r66, n72, a62) {
        return a62.indexOf(r66) == n72;
      }), t43;
    },
    getKeyframeTrackValues: function(e48, t43, r66) {
      var n72 = r66, a62 = [], i65 = -1, s60 = -1, o71 = -1;
      return e48.forEach(function(f80) {
        if (t43.x && (i65 = t43.x.times.indexOf(f80)), t43.y && (s60 = t43.y.times.indexOf(f80)), t43.z && (o71 = t43.z.times.indexOf(f80)), i65 !== -1) {
          var l63 = t43.x.values[i65];
          a62.push(l63), n72[0] = l63;
        } else
          a62.push(n72[0]);
        if (s60 !== -1) {
          var u72 = t43.y.values[s60];
          a62.push(u72), n72[1] = u72;
        } else
          a62.push(n72[1]);
        if (o71 !== -1) {
          var p66 = t43.z.values[o71];
          a62.push(p66), n72[2] = p66;
        } else
          a62.push(n72[2]);
      }), a62;
    },
    // Rotations are defined as Euler angles which can have values  of any size
    // These will be converted to quaternions which don't support values greater than
    // PI, so we'll interpolate large rotations
    interpolateRotations: function(e48) {
      for (var t43 = 1; t43 < e48.values.length; t43++) {
        var r66 = e48.values[t43 - 1], n72 = e48.values[t43] - r66, a62 = Math.abs(n72);
        if (a62 >= 180) {
          for (var i65 = a62 / 180, s60 = n72 / i65, o71 = r66 + s60, f80 = e48.times[t43 - 1], l63 = e48.times[t43] - f80, u72 = l63 / i65, p66 = f80 + u72, c85 = [], h66 = []; p66 < e48.times[t43]; )
            c85.push(p66), p66 += u72, h66.push(o71), o71 += s60;
          e48.times = ie10(e48.times, t43, c85), e48.values = ie10(e48.values, t43, h66);
        }
      }
    }
  };
  function W25() {
  }
  W25.prototype = {
    constructor: W25,
    getPrevNode: function() {
      return this.nodeStack[this.currentIndent - 2];
    },
    getCurrentNode: function() {
      return this.nodeStack[this.currentIndent - 1];
    },
    getCurrentProp: function() {
      return this.currentProp;
    },
    pushStack: function(e48) {
      this.nodeStack.push(e48), this.currentIndent += 1;
    },
    popStack: function() {
      this.nodeStack.pop(), this.currentIndent -= 1;
    },
    setCurrentProp: function(e48, t43) {
      this.currentProp = e48, this.currentPropName = t43;
    },
    parse: function(e48) {
      this.currentIndent = 0, this.allNodes = new k47(), this.nodeStack = [], this.currentProp = [], this.currentPropName = "";
      var t43 = this, r66 = e48.split(/[\r\n]+/);
      return r66.forEach(function(n72, a62) {
        var i65 = n72.match(/^[\s\t]*;/), s60 = n72.match(/^[\s\t]*$/);
        if (!(i65 || s60)) {
          var o71 = n72.match("^\\t{" + t43.currentIndent + "}(\\w+):(.*){", ""), f80 = n72.match("^\\t{" + t43.currentIndent + "}(\\w+):[\\s\\t\\r\\n](.*)"), l63 = n72.match("^\\t{" + (t43.currentIndent - 1) + "}}");
          o71 ? t43.parseNodeBegin(n72, o71) : f80 ? t43.parseNodeProperty(n72, f80, r66[++a62]) : l63 ? t43.popStack() : n72.match(/^[^\s\t}]/) && t43.parseNodePropertyContinued(n72);
        }
      }), this.allNodes;
    },
    parseNodeBegin: function(e48, t43) {
      var r66 = t43[1].trim().replace(/^"/, "").replace(/"$/, ""), n72 = t43[2].split(",").map(function(o71) {
        return o71.trim().replace(/^"/, "").replace(/"$/, "");
      }), a62 = { name: r66 }, i65 = this.parseNodeAttr(n72), s60 = this.getCurrentNode();
      this.currentIndent === 0 ? this.allNodes.add(r66, a62) : r66 in s60 ? (r66 === "PoseNode" ? s60.PoseNode.push(a62) : s60[r66].id !== void 0 && (s60[r66] = {}, s60[r66][s60[r66].id] = s60[r66]), i65.id !== "" && (s60[r66][i65.id] = a62)) : typeof i65.id == "number" ? (s60[r66] = {}, s60[r66][i65.id] = a62) : r66 !== "Properties70" && (r66 === "PoseNode" ? s60[r66] = [a62] : s60[r66] = a62), typeof i65.id == "number" && (a62.id = i65.id), i65.name !== "" && (a62.attrName = i65.name), i65.type !== "" && (a62.attrType = i65.type), this.pushStack(a62);
    },
    parseNodeAttr: function(e48) {
      var t43 = e48[0];
      e48[0] !== "" && (t43 = parseInt(e48[0]), isNaN(t43) && (t43 = e48[0]));
      var r66 = "", n72 = "";
      return e48.length > 1 && (r66 = e48[1].replace(/^(\w+)::/, ""), n72 = e48[2]), { id: t43, name: r66, type: n72 };
    },
    parseNodeProperty: function(e48, t43, r66) {
      var n72 = t43[1].replace(/^"/, "").replace(/"$/, "").trim(), a62 = t43[2].replace(/^"/, "").replace(/"$/, "").trim();
      n72 === "Content" && a62 === "," && (a62 = r66.replace(/"/g, "").replace(/,$/, "").trim());
      var i65 = this.getCurrentNode(), s60 = i65.name;
      if (s60 === "Properties70") {
        this.parseNodeSpecialProperty(e48, n72, a62);
        return;
      }
      if (n72 === "C") {
        var o71 = a62.split(",").slice(1), f80 = parseInt(o71[0]), l63 = parseInt(o71[1]), u72 = a62.split(",").slice(3);
        u72 = u72.map(function(p66) {
          return p66.trim().replace(/^"/, "");
        }), n72 = "connections", a62 = [f80, l63], Te5(a62, u72), i65[n72] === void 0 && (i65[n72] = []);
      }
      n72 === "Node" && (i65.id = a62), n72 in i65 && Array.isArray(i65[n72]) ? i65[n72].push(a62) : n72 !== "a" ? i65[n72] = a62 : i65.a = a62, this.setCurrentProp(i65, n72), n72 === "a" && a62.slice(-1) !== "," && (i65.a = q38(a62));
    },
    parseNodePropertyContinued: function(e48) {
      var t43 = this.getCurrentNode();
      t43.a += e48, e48.slice(-1) !== "," && (t43.a = q38(t43.a));
    },
    // parse "Property70"
    parseNodeSpecialProperty: function(e48, t43, r66) {
      var n72 = r66.split('",').map(function(l63) {
        return l63.trim().replace(/^\"/, "").replace(/\s/, "_");
      }), a62 = n72[0], i65 = n72[1], s60 = n72[2], o71 = n72[3], f80 = n72[4];
      switch (i65) {
        case "int":
        case "enum":
        case "bool":
        case "ULongLong":
        case "double":
        case "Number":
        case "FieldOfView":
          f80 = parseFloat(f80);
          break;
        case "Color":
        case "ColorRGB":
        case "Vector3D":
        case "Lcl_Translation":
        case "Lcl_Rotation":
        case "Lcl_Scaling":
          f80 = q38(f80);
          break;
      }
      this.getPrevNode()[a62] = {
        type: i65,
        type2: s60,
        flag: o71,
        value: f80
      }, this.setCurrentProp(this.getPrevNode(), a62);
    }
  };
  function Y23() {
  }
  Y23.prototype = {
    constructor: Y23,
    parse: function(e48) {
      var t43 = new b55(e48);
      t43.skip(23);
      var r66 = t43.getUint32();
      console.info("THREE.FBXLoader: FBX binary version: " + r66);
      for (var n72 = new k47(); !this.endOfContent(t43); ) {
        var a62 = this.parseNode(t43, r66);
        a62 !== null && n72.add(a62.name, a62);
      }
      return n72;
    },
    // Check if reader has reached the end of content.
    endOfContent: function(e48) {
      return e48.size() % 16 === 0 ? (e48.getOffset() + 160 + 16 & -16) >= e48.size() : e48.getOffset() + 160 + 16 >= e48.size();
    },
    // recursively parse nodes until the end of the file is reached
    parseNode: function(e48, t43) {
      var r66 = {}, n72 = t43 >= 7500 ? e48.getUint64() : e48.getUint32(), a62 = t43 >= 7500 ? e48.getUint64() : e48.getUint32();
      t43 >= 7500 ? e48.getUint64() : e48.getUint32();
      var i65 = e48.getUint8(), s60 = e48.getString(i65);
      if (n72 === 0)
        return null;
      for (var o71 = [], f80 = 0; f80 < a62; f80++)
        o71.push(this.parseProperty(e48));
      var l63 = o71.length > 0 ? o71[0] : "", u72 = o71.length > 1 ? o71[1] : "", p66 = o71.length > 2 ? o71[2] : "";
      for (r66.singleProperty = a62 === 1 && e48.getOffset() === n72; n72 > e48.getOffset(); ) {
        var c85 = this.parseNode(e48, t43);
        c85 !== null && this.parseSubNode(s60, r66, c85);
      }
      return r66.propertyList = o71, typeof l63 == "number" && (r66.id = l63), u72 !== "" && (r66.attrName = u72), p66 !== "" && (r66.attrType = p66), s60 !== "" && (r66.name = s60), r66;
    },
    parseSubNode: function(e48, t43, r66) {
      if (r66.singleProperty === true) {
        var n72 = r66.propertyList[0];
        Array.isArray(n72) ? (t43[r66.name] = r66, r66.a = n72) : t43[r66.name] = n72;
      } else if (e48 === "Connections" && r66.name === "C") {
        var a62 = [];
        r66.propertyList.forEach(function(p66, c85) {
          c85 !== 0 && a62.push(p66);
        }), t43.connections === void 0 && (t43.connections = []), t43.connections.push(a62);
      } else if (r66.name === "Properties70") {
        var i65 = Object.keys(r66);
        i65.forEach(function(p66) {
          t43[p66] = r66[p66];
        });
      } else if (e48 === "Properties70" && r66.name === "P") {
        var s60 = r66.propertyList[0], o71 = r66.propertyList[1], f80 = r66.propertyList[2], l63 = r66.propertyList[3], u72;
        s60.indexOf("Lcl ") === 0 && (s60 = s60.replace("Lcl ", "Lcl_")), o71.indexOf("Lcl ") === 0 && (o71 = o71.replace("Lcl ", "Lcl_")), o71 === "Color" || o71 === "ColorRGB" || o71 === "Vector" || o71 === "Vector3D" || o71.indexOf("Lcl_") === 0 ? u72 = [r66.propertyList[4], r66.propertyList[5], r66.propertyList[6]] : u72 = r66.propertyList[4], t43[s60] = {
          type: o71,
          type2: f80,
          flag: l63,
          value: u72
        };
      } else
        t43[r66.name] === void 0 ? typeof r66.id == "number" ? (t43[r66.name] = {}, t43[r66.name][r66.id] = r66) : t43[r66.name] = r66 : r66.name === "PoseNode" ? (Array.isArray(t43[r66.name]) || (t43[r66.name] = [t43[r66.name]]), t43[r66.name].push(r66)) : t43[r66.name][r66.id] === void 0 && (t43[r66.name][r66.id] = r66);
    },
    parseProperty: function(e48) {
      var t43 = e48.getString(1);
      switch (t43) {
        case "C":
          return e48.getBoolean();
        case "D":
          return e48.getFloat64();
        case "F":
          return e48.getFloat32();
        case "I":
          return e48.getInt32();
        case "L":
          return e48.getInt64();
        case "R":
          var r66 = e48.getUint32();
          return e48.getArrayBuffer(r66);
        case "S":
          var r66 = e48.getUint32();
          return e48.getString(r66);
        case "Y":
          return e48.getInt16();
        case "b":
        case "c":
        case "d":
        case "f":
        case "i":
        case "l":
          var n72 = e48.getUint32(), a62 = e48.getUint32(), i65 = e48.getUint32();
          if (a62 === 0)
            switch (t43) {
              case "b":
              case "c":
                return e48.getBooleanArray(n72);
              case "d":
                return e48.getFloat64Array(n72);
              case "f":
                return e48.getFloat32Array(n72);
              case "i":
                return e48.getInt32Array(n72);
              case "l":
                return e48.getInt64Array(n72);
            }
          typeof nt2 == "undefined" && console.error(
            "THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js"
          );
          var s60 = new nt2.Inflate(new Uint8Array(e48.getArrayBuffer(i65))), o71 = new b55(s60.decompress().buffer);
          switch (t43) {
            case "b":
            case "c":
              return o71.getBooleanArray(n72);
            case "d":
              return o71.getFloat64Array(n72);
            case "f":
              return o71.getFloat32Array(n72);
            case "i":
              return o71.getInt32Array(n72);
            case "l":
              return o71.getInt64Array(n72);
          }
        default:
          throw new Error("THREE.FBXLoader: Unknown property type " + t43);
      }
    }
  };
  function b55(e48, t43) {
    this.dv = new DataView(e48), this.offset = 0, this.littleEndian = t43 !== void 0 ? t43 : true;
  }
  b55.prototype = {
    constructor: b55,
    getOffset: function() {
      return this.offset;
    },
    size: function() {
      return this.dv.buffer.byteLength;
    },
    skip: function(e48) {
      this.offset += e48;
    },
    // seems like true/false representation depends on exporter.
    // true: 1 or 'Y'(=0x59), false: 0 or 'T'(=0x54)
    // then sees LSB.
    getBoolean: function() {
      return (this.getUint8() & 1) === 1;
    },
    getBooleanArray: function(e48) {
      for (var t43 = [], r66 = 0; r66 < e48; r66++)
        t43.push(this.getBoolean());
      return t43;
    },
    getUint8: function() {
      var e48 = this.dv.getUint8(this.offset);
      return this.offset += 1, e48;
    },
    getInt16: function() {
      var e48 = this.dv.getInt16(this.offset, this.littleEndian);
      return this.offset += 2, e48;
    },
    getInt32: function() {
      var e48 = this.dv.getInt32(this.offset, this.littleEndian);
      return this.offset += 4, e48;
    },
    getInt32Array: function(e48) {
      for (var t43 = [], r66 = 0; r66 < e48; r66++)
        t43.push(this.getInt32());
      return t43;
    },
    getUint32: function() {
      var e48 = this.dv.getUint32(this.offset, this.littleEndian);
      return this.offset += 4, e48;
    },
    // JavaScript doesn't support 64-bit integer so calculate this here
    // 1 << 32 will return 1 so using multiply operation instead here.
    // There's a possibility that this method returns wrong value if the value
    // is out of the range between Number.MAX_SAFE_INTEGER and Number.MIN_SAFE_INTEGER.
    // TODO: safely handle 64-bit integer
    getInt64: function() {
      var e48, t43;
      return this.littleEndian ? (e48 = this.getUint32(), t43 = this.getUint32()) : (t43 = this.getUint32(), e48 = this.getUint32()), t43 & 2147483648 ? (t43 = ~t43 & 4294967295, e48 = ~e48 & 4294967295, e48 === 4294967295 && (t43 = t43 + 1 & 4294967295), e48 = e48 + 1 & 4294967295, -(t43 * 4294967296 + e48)) : t43 * 4294967296 + e48;
    },
    getInt64Array: function(e48) {
      for (var t43 = [], r66 = 0; r66 < e48; r66++)
        t43.push(this.getInt64());
      return t43;
    },
    // Note: see getInt64() comment
    getUint64: function() {
      var e48, t43;
      return this.littleEndian ? (e48 = this.getUint32(), t43 = this.getUint32()) : (t43 = this.getUint32(), e48 = this.getUint32()), t43 * 4294967296 + e48;
    },
    getFloat32: function() {
      var e48 = this.dv.getFloat32(this.offset, this.littleEndian);
      return this.offset += 4, e48;
    },
    getFloat32Array: function(e48) {
      for (var t43 = [], r66 = 0; r66 < e48; r66++)
        t43.push(this.getFloat32());
      return t43;
    },
    getFloat64: function() {
      var e48 = this.dv.getFloat64(this.offset, this.littleEndian);
      return this.offset += 8, e48;
    },
    getFloat64Array: function(e48) {
      for (var t43 = [], r66 = 0; r66 < e48; r66++)
        t43.push(this.getFloat64());
      return t43;
    },
    getArrayBuffer: function(e48) {
      var t43 = this.dv.buffer.slice(this.offset, this.offset + e48);
      return this.offset += e48, t43;
    },
    getString: function(e48) {
      for (var t43 = [], r66 = 0; r66 < e48; r66++)
        t43[r66] = this.getUint8();
      var n72 = t43.indexOf(0);
      return n72 >= 0 && (t43 = t43.slice(0, n72)), LoaderUtils.decodeText(new Uint8Array(t43));
    }
  };
  function k47() {
  }
  k47.prototype = {
    constructor: k47,
    add: function(e48, t43) {
      this[e48] = t43;
    }
  };
  function ge10(e48) {
    var t43 = "Kaydara FBX Binary  \0";
    return e48.byteLength >= t43.length && t43 === ne14(e48, 0, t43.length);
  }
  function ye5(e48) {
    var t43 = ["K", "a", "y", "d", "a", "r", "a", "\\", "F", "B", "X", "\\", "B", "i", "n", "a", "r", "y", "\\", "\\"], r66 = 0;
    function n72(s60) {
      var o71 = e48[s60 - 1];
      return e48 = e48.slice(r66 + s60), r66++, o71;
    }
    for (var a62 = 0; a62 < t43.length; ++a62) {
      var i65 = n72(1);
      if (i65 === t43[a62])
        return false;
    }
    return true;
  }
  function te10(e48) {
    var t43 = /FBXVersion: (\d+)/, r66 = e48.match(t43);
    if (r66) {
      var n72 = parseInt(r66[1]);
      return n72;
    }
    throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.");
  }
  function de9(e48) {
    return e48 / 46186158e3;
  }
  var we4 = [];
  function D52(e48, t43, r66, n72) {
    var a62;
    switch (n72.mappingType) {
      case "ByPolygonVertex":
        a62 = e48;
        break;
      case "ByPolygon":
        a62 = t43;
        break;
      case "ByVertice":
        a62 = r66;
        break;
      case "AllSame":
        a62 = n72.indices[0];
        break;
      default:
        console.warn("THREE.FBXLoader: unknown attribute mapping type " + n72.mappingType);
    }
    n72.referenceType === "IndexToDirect" && (a62 = n72.indices[a62]);
    var i65 = a62 * n72.dataSize, s60 = i65 + n72.dataSize;
    return Ae5(we4, n72.buffer, i65, s60);
  }
  var Z18 = new Euler(), M48 = new Vector3();
  function re7(e48) {
    var t43 = new Matrix4(), r66 = new Matrix4(), n72 = new Matrix4(), a62 = new Matrix4(), i65 = new Matrix4(), s60 = new Matrix4(), o71 = new Matrix4(), f80 = new Matrix4(), l63 = new Matrix4(), u72 = new Matrix4(), p66 = new Matrix4(), c85 = e48.inheritType ? e48.inheritType : 0;
    if (e48.translation && t43.setPosition(M48.fromArray(e48.translation)), e48.preRotation) {
      var h66 = e48.preRotation.map(MathUtils.degToRad);
      h66.push(e48.eulerOrder), r66.makeRotationFromEuler(Z18.fromArray(h66));
    }
    if (e48.rotation) {
      var h66 = e48.rotation.map(MathUtils.degToRad);
      h66.push(e48.eulerOrder), n72.makeRotationFromEuler(Z18.fromArray(h66));
    }
    if (e48.postRotation) {
      var h66 = e48.postRotation.map(MathUtils.degToRad);
      h66.push(e48.eulerOrder), a62.makeRotationFromEuler(Z18.fromArray(h66));
    }
    e48.scale && i65.scale(M48.fromArray(e48.scale)), e48.scalingOffset && o71.setPosition(M48.fromArray(e48.scalingOffset)), e48.scalingPivot && s60.setPosition(M48.fromArray(e48.scalingPivot)), e48.rotationOffset && f80.setPosition(M48.fromArray(e48.rotationOffset)), e48.rotationPivot && l63.setPosition(M48.fromArray(e48.rotationPivot)), e48.parentMatrixWorld && (u72 = e48.parentMatrixWorld);
    var w49 = r66.multiply(n72).multiply(a62), g67 = new Matrix4();
    u72.extractRotation(g67);
    var d73 = new Matrix4();
    d73.copyPosition(u72);
    var A62 = new Matrix4();
    A62.getInverse(g67).multiply(u72);
    var L40 = new Matrix4();
    if (c85 === 0)
      L40.copy(g67).multiply(w49).multiply(A62).multiply(i65);
    else if (c85 === 1)
      L40.copy(g67).multiply(A62).multiply(w49).multiply(i65);
    else {
      var S52 = new Matrix4().getInverse(i65), R43 = new Matrix4().multiply(A62).multiply(S52);
      L40.copy(g67).multiply(w49).multiply(R43).multiply(i65);
    }
    var $23 = new Matrix4().getInverse(l63), I49 = new Matrix4().getInverse(s60), E53 = new Matrix4();
    E53.copy(t43).multiply(f80).multiply(l63).multiply(r66).multiply(n72).multiply(a62).multiply($23).multiply(o71).multiply(s60).multiply(i65).multiply(I49);
    var P55 = new Matrix4().copyPosition(E53), C52 = new Matrix4().copy(u72).multiply(P55);
    return p66.copyPosition(C52), E53 = new Matrix4().multiply(p66).multiply(L40), E53;
  }
  function ae7(e48) {
    e48 = e48 || 0;
    var t43 = [
      "ZYX",
      // -> XYZ extrinsic
      "YZX",
      // -> XZY extrinsic
      "XZY",
      // -> YZX extrinsic
      "ZXY",
      // -> YXZ extrinsic
      "YXZ",
      // -> ZXY extrinsic
      "XYZ"
      // -> ZYX extrinsic
      // 'SphericXYZ', // not possible to support
    ];
    return e48 === 6 ? (console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."), t43[0]) : t43[e48];
  }
  function q38(e48) {
    var t43 = e48.split(",").map(function(r66) {
      return parseFloat(r66);
    });
    return t43;
  }
  function ne14(e48, t43, r66) {
    return t43 === void 0 && (t43 = 0), r66 === void 0 && (r66 = e48.byteLength), LoaderUtils.decodeText(new Uint8Array(e48, t43, r66));
  }
  function Te5(e48, t43) {
    for (var r66 = 0, n72 = e48.length, a62 = t43.length; r66 < a62; r66++, n72++)
      e48[n72] = t43[r66];
  }
  function Ae5(e48, t43, r66, n72) {
    for (var a62 = r66, i65 = 0; a62 < n72; a62++, i65++)
      e48[i65] = t43[a62];
    return e48;
  }
  function ie10(e48, t43, r66) {
    return e48.slice(0, t43).concat(r66).concat(e48.slice(t43));
  }
  return z28;
}();

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelChassisCompassPlugin/Plugin.js
var h16 = (n72, a62, s60) => new Promise((d73, e48) => {
  var m66 = (r66) => {
    try {
      c85(s60.next(r66));
    } catch (i65) {
      e48(i65);
    }
  }, b55 = (r66) => {
    try {
      c85(s60.throw(r66));
    } catch (i65) {
      e48(i65);
    }
  }, c85 = (r66) => r66.done ? d73(r66.value) : Promise.resolve(r66.value).then(m66, b55);
  c85((s60 = s60.apply(n72, a62)).next());
});
var X11 = (n72, a62) => {
  var j37;
  const s60 = a62.fbx_url || "//vrlab-image4.ljcdn.com/release/web/dipan2.f38a21cc.FBX", d73 = (j37 = a62.north_rad) != null ? j37 : void 0, e48 = {};
  let m66 = { x: 0, y: 0, z: 0 }, b55 = [0, 0, 0], c85 = 1, r66 = d73;
  n72.on("modelLoaded", y51);
  const i65 = (t43) => h16(void 0, null, function* () {
    var u72;
    const o71 = (t43 == null ? void 0 : t43.fbx_url) || s60;
    if (r66 = (u72 = t43 == null ? void 0 : t43.north_rad) != null ? u72 : d73, typeof r66 != "number")
      throw new Error('"northRad"配置参数缺失：未配置指南针指向！');
    const f80 = yield new qe().loadAsync(o71);
    return O13(f80, {
      transparent: true,
      side: DoubleSide,
      blending: AdditiveBlending
    }), e48.object = f80, y51(), true;
  }), x49 = ({ latitude: t43 }) => {
    if (!e48.object)
      return;
    const o71 = p66(t43);
    o71 && (e48.object.position.y = o71);
  }, p66 = (t43) => {
    if (e48.yBase === void 0)
      return;
    const o71 = 0.6;
    if (t43 >= Math.PI / 4)
      return e48.yBase - (o71 + 1.6);
    const l63 = t43 * (4 / Math.PI);
    return e48.yBase - (o71 * l63 + 1.6);
  }, g67 = () => {
    if (!e48.object)
      return;
    const t43 = p66(n72.getPose().latitude);
    t43 && (e48.object.position.y = t43), n72.scene.add(e48.object), n72.needsRender = true, n72.on("cameraDirectionUpdate", x49);
  }, B42 = () => {
    e48.object && (n72.scene.remove(e48.object), n72.needsRender = true, n72.off("cameraDirectionUpdate", x49));
  };
  function y51() {
    const t43 = e48.object;
    if (!t43)
      return;
    const o71 = n72.model.bounding, l63 = o71.max.x - o71.min.x, f80 = o71.max.z - o71.min.z, u72 = Math.max(l63, f80), {
      max: { x: P55, z: R43 },
      min: { x: w49, y: M48, z: L40 }
    } = o71;
    e48.yBase = M48, m66 = { x: (P55 + w49) / 2, y: M48 - 1.6, z: (R43 + L40) / 2 }, b55 = [0, r66 - Math.PI / 2, 0], c85 = 45e-4 * u72, p12(t43, { position: m66, rotation: b55, scale: c85 });
  }
  return { load: i65, disable: B42, enable: g67 };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/createCanvasTextTexture.js
function z7(n72, t43) {
  var s60, a62, x49, u72, C52;
  const e48 = (s60 = t43 == null ? void 0 : t43.size) != null ? s60 : 512, b55 = (a62 = t43 == null ? void 0 : t43.fontSize) != null ? a62 : e48 * (35 / 256) * 1.2, d73 = (x49 = t43 == null ? void 0 : t43.backgroundColor) != null ? x49 : "rgba(0,0,0,0)", o71 = (u72 = t43 == null ? void 0 : t43.fontColor) != null ? u72 : "#fff", A62 = (C52 = t43 == null ? void 0 : t43.textAlign) != null ? C52 : "center", l63 = document.createElement("canvas");
  l63.setAttribute("width", e48 + ""), l63.setAttribute("height", e48 + "");
  const r66 = l63.getContext("2d");
  return r66.fillStyle = d73, r66.fillRect(0, 0, e48, e48), r66.font = `${b55}px "微软雅黑"`, r66.textAlign = A62, r66.fillStyle = o71, r66.fillText(n72, e48 / 2, e48 * 0.7), new CanvasTexture(l63);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/transformPositionToVector3.js
var c28 = ({ x: o71, y: r66, z: t43 }) => new Vector3(o71, r66, t43);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelEntryDoorGuidePlugin/Plugin.js
var C22 = (t43, s60, e48) => new Promise((P55, E53) => {
  var h66 = (r66) => {
    try {
      l63(e48.next(r66));
    } catch (u72) {
      E53(u72);
    }
  }, x49 = (r66) => {
    try {
      l63(e48.throw(r66));
    } catch (u72) {
      E53(u72);
    }
  }, l63 = (r66) => r66.done ? P55(r66.value) : Promise.resolve(r66.value).then(h66, x49);
  l63((e48 = e48.apply(t43, s60)).next());
});
var W10 = (t43, s60) => {
  var G31, T38, R43;
  const e48 = {}, P55 = (G31 = s60.animationEnabled) != null ? G31 : true, E53 = (T38 = s60.position) != null ? T38 : void 0, h66 = (R43 = s60.rad) != null ? R43 : void 0, x49 = s60.fbx_url || "//vrlab-image4.ljcdn.com/release/web/entryDoorMini/Anim_Door1.fbx", l63 = [], r66 = (o71) => C22(void 0, null, function* () {
    var m66, b55, M48, p66, f80, j37, y51, q38;
    const c85 = (m66 = o71 == null ? void 0 : o71.position) != null ? m66 : E53;
    if (!c85)
      return Promise.reject(new Error("ModelEntryDoorGuidePlugin.load(): position is undefined"));
    const i65 = c28(c85), n72 = (b55 = o71 == null ? void 0 : o71.rad) != null ? b55 : h66, A62 = (M48 = o71 == null ? void 0 : o71.fbx_url) != null ? M48 : x49;
    if (e48.rad = n72, n72 === void 0)
      return Promise.reject(new Error(`ModelEntryDoorGuidePlugin.load(): rad is ${n72}`));
    const a62 = yield new qe().loadAsync(A62);
    a62.position.copy(i65), a62.rotation.z = n72, a62.scale.set(0.8, 0.8, 0.8), O13(a62, { transparent: true, side: DoubleSide });
    const d73 = (y51 = (j37 = (f80 = (p66 = a62.children) == null ? void 0 : p66[0]) == null ? void 0 : f80.children) == null ? void 0 : j37[3]) == null ? void 0 : y51.clone();
    if (!d73)
      return Promise.reject(new Error(`ModelEntryDoorGuidePlugin.load(): textMesh is ${d73}`));
    const w49 = (q38 = s60.name) != null ? q38 : "入户门";
    return d73.material = new MeshBasicMaterial({ transparent: true, map: z7(w49) }), d73.renderOrder = 3, a62.children[0].add(d73), e48.object = a62, true;
  }), u72 = () => {
    if (e48.animation)
      return;
    if (!e48.object)
      return console.error("ModelEntryDoorGuidePlugin.initAnimation(): state.object is ", e48.object);
    const o71 = 1, c85 = new AnimationMixer(e48.object);
    l63.push(c85);
    const i65 = c85.clipAction(e48.object.animations[0]);
    i65.timeScale = o71;
    let n72;
    const A62 = () => {
      let m66 = 0, b55 = 0;
      const M48 = 1e3 / 30, p66 = (f80) => {
        m66 = requestAnimationFrame(p66);
        const j37 = f80 - b55;
        j37 < M48 || (b55 = f80, l63.forEach((y51) => y51.update(j37 / 1e3)), t43.needsRender = true);
      };
      return m66 = requestAnimationFrame(p66), () => {
        cancelAnimationFrame(m66);
      };
    }, w49 = { play: () => {
      n72 || (i65.play(), n72 = A62(), requestAnimationFrame(() => {
        e48.object && e48.object.rotation.z !== e48.rad && (e48.object.rotation.z = e48.rad);
      }));
    }, stop: () => {
      i65.stop(), n72 == null || n72(), n72 = void 0;
    } };
    e48.animation = w49;
  }, g67 = (o71) => {
    var i65;
    if (!e48.object)
      return console.error("ModelEntryDoorGuidePlugin.enable(): object is ", e48.object);
    ((i65 = o71 == null ? void 0 : o71.animationEnable) != null ? i65 : P55) && (e48.animation || u72(), e48.animation.play()), t43.scene.add(e48.object), t43.needsRender = true;
  }, F45 = () => {
    e48.object && (e48.animation && e48.animation.stop(), t43.scene.remove(e48.object), t43.needsRender = true);
  }, D52 = (o71) => o71 === "Floorplan" ? g67() : F45();
  return { load: r66, enable: (o71) => (e48.enabled || (e48.enabled = true, D52(t43.currentMode), t43.on("modeChange", D52), g67(o71)), true), disable: () => (e48.enabled && (e48.enabled = false, F45(), t43.off("modeChange", D52)), true) };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/animationFrame/index.js
var w14 = (e48, t43, i65) => new Promise((a62, r66) => {
  var u72 = (o71) => {
    try {
      n72(i65.next(o71));
    } catch (c85) {
      r66(c85);
    }
  }, s60 = (o71) => {
    try {
      n72(i65.throw(o71));
    } catch (c85) {
      r66(c85);
    }
  }, n72 = (o71) => o71.done ? a62(o71.value) : Promise.resolve(o71.value).then(u72, s60);
  n72((i65 = i65.apply(e48, t43)).next());
});
var m21 = window.requestAnimationFrame || ((e48) => setTimeout(e48, 16));
var F13 = window.cancelAnimationFrame || clearTimeout;
function T13(e48, t43 = 0) {
  t43 <= 0 ? m21(e48) : m21(() => T13(e48, t43 - 1));
}
function A19() {
  return w14(this, null, function* () {
    return new Promise((e48) => {
      m21(() => e48());
    });
  });
}
function l18(e48, t43 = 60) {
  let i65 = -1, a62 = 0, r66 = -1;
  const u72 = 1e3 / t43;
  function s60(n72) {
    r66 === -1 && (r66 = n72), i65 = m21(s60), !(n72 - a62 < u72) && (a62 = n72, e48 == null || e48(n72 - r66));
  }
  return i65 = m21(s60), function() {
    F13(i65);
  };
}
function p14() {
  const e48 = Date.now();
  return new Promise((t43) => {
    m21(() => {
      t43(Date.now() - e48);
    });
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/animationFrame/tween.js
var m22 = y2;
function f18(t43, o71, a62, l63 = m22.Linear.None) {
  const e48 = new M(t43).to(o71, a62).easing(l63);
  T13(() => e48.start(0));
  const r66 = l18((n72) => {
    e48.update(n72) === false && r66();
  }), s60 = [];
  return e48.onDestroy = (n72) => (s60.push(n72), e48), e48.destroy = function() {
    this.stop(), Object.assign(e48, {
      _onStartCallback: null,
      _onUpdateCallback: null,
      _onCompleteCallback: null,
      _onStopCallbackL: null
    });
    let n72;
    for (; n72 = s60.shift(); )
      n72();
    r66();
  }, e48;
}
function h17(t43, o71) {
  return f18({ progress: 0 }, { progress: 1 }, t43, o71);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CameraMovementPlugin/typing.js
var e13 = ((o71) => (o71.Move = "Move", o71.Rotate = "Rotate", o71))(e13 || {});
var r15 = ((o71) => (o71.Clockwise = "Clockwise", o71.Anticlockwise = "Anticlockwise", o71.Loop = "Loop", o71))(r15 || {});

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/animationFrame/formatRad.js
var t16 = Math.PI * 2;
function o24(n72) {
  return (n72 % t16 + t16) % t16;
}
function r16(n72) {
  return n72 % t16;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/animationFrame/calculateProgress.js
function t17(r66, e48, n72) {
  return r66 + (e48 - r66) * n72;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CameraMovementPlugin/CameraMovementPlugin.js
var A20 = Object.defineProperty;
var x12 = Object.getOwnPropertySymbols;
var D11 = Object.prototype.hasOwnProperty;
var N9 = Object.prototype.propertyIsEnumerable;
var y12 = (e48, o71, n72) => o71 in e48 ? A20(e48, o71, { enumerable: true, configurable: true, writable: true, value: n72 }) : e48[o71] = n72;
var P16 = (e48, o71) => {
  for (var n72 in o71 || (o71 = {}))
    D11.call(o71, n72) && y12(e48, n72, o71[n72]);
  if (x12)
    for (var n72 of x12(o71))
      N9.call(o71, n72) && y12(e48, n72, o71[n72]);
  return e48;
};
var I13 = (e48, o71, n72) => new Promise((m66, p66) => {
  var t43 = (r66) => {
    try {
      i65(n72.next(r66));
    } catch (f80) {
      p66(f80);
    }
  }, a62 = (r66) => {
    try {
      i65(n72.throw(r66));
    } catch (f80) {
      p66(f80);
    }
  }, i65 = (r66) => r66.done ? m66(r66.value) : Promise.resolve(r66.value).then(t43, a62);
  i65((n72 = n72.apply(e48, o71)).next());
});
var s17 = (e48, o71, n72) => {
  const m66 = Math.PI, p66 = m66 * 2;
  let t43 = o24(e48), a62 = o24(o71);
  return n72 === r15.Anticlockwise && t43 < a62 && (t43 += p66), n72 === r15.Clockwise && a62 < t43 && (a62 += p66), n72 === r15.Loop && a62 - t43 > m66 ? s17(t43, a62, r15.Anticlockwise) : n72 === r15.Loop && t43 - a62 > m66 ? s17(t43, a62, r15.Clockwise) : { from: t43, to: a62 };
};
var O15 = (e48) => {
  const o71 = {}, n72 = (r66, f80, ...S52) => I13(void 0, [r66, f80, ...S52], function* (t43, a62, i65 = { preload: true }) {
    return o71.interruptCallback && o71.interruptCallback(false), i65.asyncStartCallback && (yield i65.asyncStartCallback()), t43.mode && t43.mode !== e48.currentMode && (yield e48.changeMode(t43.mode)), i65.preload && t43.panoIndex !== void 0 && t43.panoIndex !== e48.panoIndex && (yield e48.preloadPano(t43.panoIndex)), i65.asyncEndCallback && (yield i65.asyncEndCallback()), t43.panoIndex === void 0 && t43.fov === void 0 && t43.latitude === void 0 && t43.longitude === void 0 ? true : yield new Promise((c85, d73) => {
      const l63 = t43.panoIndex !== void 0 ? t43.panoIndex : e48.panoIndex;
      l63 !== void 0 ? e48.moveToPano(l63, P16({
        duration: a62,
        // 移动耗时
        moveEndCallback: () => c85(true),
        // 移动结束
        moveCancelCallback: () => d73(new Error("move canceled"))
      }, t43)) : d73(new Error("unexpected error"));
    });
  }), m66 = (t43) => {
    const a62 = e48.state, i65 = r16(a62.latitude), r66 = r16(t43.latitude), { from: f80, to: S52 } = s17(
      a62.longitude,
      t43.longitude,
      t43.rotation || r15.Loop
    ), c85 = a62.fov, d73 = t43.fov;
    return {
      from: { latitude: i65, longitude: f80, fov: c85 },
      to: { latitude: r66, longitude: S52, fov: d73 }
    };
  };
  return {
    move: n72,
    rotate: (r66, f80, ...S52) => I13(void 0, [r66, f80, ...S52], function* (t43, a62, i65 = {}) {
      o71.interruptCallback && o71.interruptCallback(false), i65.asyncStartCallback && (yield i65.asyncStartCallback()), e48.currentMode !== Five.Mode.Panorama && (yield e48.changeMode(Five.Mode.Panorama)), t43.panoIndex !== void 0 && t43.panoIndex !== e48.panoIndex && (i65.preload && (yield e48.preloadPano(t43.panoIndex)), yield new Promise((l63, w49) => {
        if (!t43.panoIndex) {
          l63(true);
          return;
        }
        e48.moveToPano(t43.panoIndex, {
          moveEndCallback: () => l63(true),
          // 移动结束
          moveCancelCallback: () => w49(new Error("move canceled"))
          // 移动开始
        });
      })), i65.asyncEndCallback && (yield i65.asyncEndCallback());
      const { from: c85, to: d73 } = m66(t43);
      return yield new Promise((l63) => {
        const w49 = ({ progress: C52 }) => {
          const k47 = {};
          k47.longitude = t17(c85.longitude, d73.longitude, C52), k47.latitude = t17(c85.latitude, d73.latitude, C52), k47.fov = t17(c85.fov, d73.fov, C52), e48.setState(k47, true);
        }, h66 = () => {
          l63(true);
        }, F45 = () => {
          l63(false);
        }, T38 = t43.rotateSpeed ? Math.ceil(Math.abs(d73.longitude - c85.longitude) / t43.rotateSpeed * 1e3) : a62, v58 = h17(T38, y2.Linear.None).onUpdate(w49).onComplete(h66).onDestroy(F45);
        t43.rotation === r15.Loop && v58.repeat(1 / 0).yoyo(true), o71.interruptCallback = (C52 = true) => {
          v58.destroy(), o71.interruptCallback = void 0, o71.timeoutId && (clearTimeout(o71.timeoutId), o71.timeoutId = void 0), l63(C52);
        }, o71.timeoutId = setTimeout(() => {
          o71.interruptCallback && o71.interruptCallback(true);
        }, a62);
      });
    })
  };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/math/planimetry.js
function I14(x49, r66) {
  return x49.x === r66.x && x49.y === r66.y;
}
function b16(x49, r66) {
  return Math.abs(x49) === 1 / 0 && Math.abs(r66) === 1 / 0 ? true : Math.abs(x49 - r66) < 1e-3;
}
function M17(x49, r66) {
  return (r66.y - x49.y) / (r66.x - x49.x);
}
function g13(x49, r66, y51) {
  const a62 = M17(x49[1], x49[0]), u72 = M17(r66[1], r66[0]);
  if (isNaN(a62) || isNaN(u72) || b16(a62, u72))
    return false;
  if (m23(x49[0], r66))
    return x49[0];
  if (m23(x49[1], r66))
    return x49[1];
  if (m23(r66[0], x49))
    return r66[0];
  if (m23(r66[1], x49))
    return r66[1];
  if (y51 && !O16(x49, r66))
    return false;
  const f80 = x49[0], c85 = r66[0];
  if (Math.abs(a62) === 1 / 0)
    return { x: f80.x, y: r66[1].y - (r66[1].x - f80.x) * u72 };
  if (Math.abs(u72) === 1 / 0)
    return { x: c85.x, y: x49[1].y - (x49[1].x - c85.x) * a62 };
  const t43 = (c85.y - f80.y + a62 * f80.x - u72 * c85.x) / (a62 - u72), N33 = a62 * t43 - a62 * f80.x + f80.y;
  return { x: t43, y: N33 };
}
function m23(x49, r66) {
  return I14(x49, r66[0]) || I14(x49, r66[1]) ? true : (r66[0].x - x49.x) * (x49.x - r66[1].x) >= 0 && (r66[0].y - x49.y) * (x49.y - r66[1].y) >= 0 && b16(M17(r66[0], x49), M17(x49, r66[1]));
}
function K9(x49) {
  let r66 = 1 / 0, y51 = -1 / 0, a62 = 1 / 0, u72 = -1 / 0;
  return x49.forEach((f80) => {
    r66 = Math.min(r66, f80.x), y51 = Math.max(y51, f80.x), a62 = Math.min(a62, f80.y), u72 = Math.max(u72, f80.y);
  }), { x: (r66 + y51) / 2, y: (a62 + u72) / 2 };
}
function h18(x49, r66, y51) {
  return (x49.x - y51.x) * (r66.y - y51.y) - (r66.x - y51.x) * (x49.y - y51.y);
}
function O16(x49, r66) {
  return Math.max(x49[0].x, x49[1].x) >= Math.min(r66[0].x, r66[1].x) && Math.max(r66[0].x, r66[1].x) >= Math.min(x49[0].x, x49[1].x) && Math.max(x49[0].y, x49[1].y) >= Math.min(r66[0].y, r66[1].y) && h18(r66[0], x49[1], x49[0]) * h18(x49[1], r66[1], x49[0]) > 0 && h18(x49[0], r66[1], r66[0]) * h18(r66[1], x49[1], r66[0]) > 0 ? 1 : 0;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/nextFrame.js
function i17(e48, t43 = 0) {
  t43 <= 0 ? requestAnimationFrame(e48) : requestAnimationFrame(() => i17(e48, t43 - 1));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoRulerPlugin/style.js
var e14 = `<style type="text/css">
.PanoRulerPlugin-rule-line {
  position: absolute;
  transform-origin: left center;
  width: 0;
  height: 0.0625rem;
}

.PanoRulerPlugin-rule-line::after {
  content: '';
  position: absolute;
  left: -0.125rem;
  top: -0.1rem;
  width: 0.25rem;
  height: 0.25rem;
  border-radius: 50%;
  background: #FFFFFF;
  z-index: 1;
  animation: viewport-rule-point 0.1s 1s;
  animation-fill-mode: both;
}

.PanoRulerPlugin-rule-line::before {
  content: '';
  position: absolute;
  right: -0.125rem;
  top: -0.1rem;
  width: 0.25rem;
  height: 0.25rem;
  border-radius: 50%;
  background: #FFFFFF;
  animation: viewport-rule-point 0.1s 1.5s;
  animation-fill-mode: both;
}

.PanoRulerPlugin-rule-line em {
  background: #fff;
  display: block;
  height: 100%;
  animation: viewport-rule-line 0.5s ease 1s;
  animation-fill-mode: both;
  box-shadow: 0 0 0.25rem rgb(0 0 0 / 40%);
}

.PanoRulerPlugin-rule-label {
  position: absolute;
  width: 0;
  height: 0;
  top: 0.0625rem;
}

.PanoRulerPlugin-rule-label-name {
  position: absolute;
  padding: 0.1875rem 0.375rem;
  background: rgba(195,195,195,0.30);
  backdrop-filter: blur(0.25rem);
  -webkit-backdrop-filter: blur(0.25rem);
  border-radius: 6.25rem;
  border: 0.0625rem solid rgba(255,255,255,0.6);
  white-space: nowrap;
  overflow: hidden;
  color: #FFFFFF;
  font-weight: 500;
  font-size: 0.75rem;
  line-height: 1;
  -webkit-animation: viewport-rule-label 0.25s ease 1s;
  animation: viewport-rule-label 0.25s ease 1s;
  animation-fill-mode: both;
  box-shadow: inset 0 0 0.625rem 0 rgba(255,255,255,0.30);
}

@keyframes viewport-rule-line {
  0% { width: 0% }
  100% { width: 100% }
}

@keyframes viewport-rule-label {
  0% { opacity: 0; transform: scaleX(0); }
  100% { opacity: 1; transform: translate(-50%, -50%) scaleX(1); }
}

@keyframes viewport-rule-point {
  0% { transform: scaleX(0); }
  100% { transform: scaleX(1); }
}
</style>
`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoRulerPlugin/Plugin.js
var ne6 = Object.defineProperty;
var J11 = Object.getOwnPropertySymbols;
var oe7 = Object.prototype.hasOwnProperty;
var se3 = Object.prototype.propertyIsEnumerable;
var Q9 = (t43, o71, e48) => o71 in t43 ? ne6(t43, o71, { enumerable: true, configurable: true, writable: true, value: e48 }) : t43[o71] = e48;
var B8 = (t43, o71) => {
  for (var e48 in o71 || (o71 = {}))
    oe7.call(o71, e48) && Q9(t43, e48, o71[e48]);
  if (J11)
    for (var e48 of J11(o71))
      se3.call(o71, e48) && Q9(t43, e48, o71[e48]);
  return t43;
};
var X12 = (t43, o71, e48) => new Promise((I49, g67) => {
  var S52 = (h66) => {
    try {
      f80(e48.next(h66));
    } catch (E53) {
      g67(E53);
    }
  }, i65 = (h66) => {
    try {
      f80(e48.throw(h66));
    } catch (E53) {
      g67(E53);
    }
  }, f80 = (h66) => h66.done ? I49(h66.value) : Promise.resolve(h66.value).then(S52, i65);
  f80((e48 = e48.apply(t43, o71)).next());
});
var ue3 = (t43, o71) => Math.sqrt(Math.pow(t43.z - o71.z, 2) + Math.pow(t43.x - o71.x, 2));
var de2 = (t43, o71) => {
  const e48 = {}, I49 = new Raycaster(), g67 = o71.work;
  if (!g67)
    return e48;
  const S52 = t43.observers;
  g67.observers.forEach((i65, f80) => {
    const { standingPosition: h66 } = i65, E53 = new Vector3(h66.x, h66.y, h66.z);
    I49.set(E53, new Vector3(0, 1, 0));
    const [O40] = o71.model.intersectRaycaster(I49), q38 = O40 ? O40.point.y : 2.7, k47 = S52[f80];
    if (!k47)
      return e48;
    const A62 = t43.rooms[k47].name;
    e48[A62] === void 0 ? e48[A62] = {
      __roof: [q38],
      __floor: [E53.y]
    } : (e48[A62].__roof.push(q38), e48[A62].__floor.push(E53.y));
  });
  for (const i65 in e48) {
    const f80 = e48[i65];
    f80.__roof.sort(), f80.__floor.sort(), f80.floor = f80.__floor[~~(f80.__floor.length / 2)], f80.roof = f80.__roof[f80.__roof.length - 1];
  }
  return e48;
};
var Pe = (t43, o71) => {
  const e48 = {
    enable: false,
    loaded: false,
    options: o71.options || {
      distanceText: (r66) => `${r66.toFixed(1)}m`
    }
  }, I49 = (r66, l63) => {
    const a62 = `
      <div class="PanoRulerPlugin-rule-line">
        <em></em>
        <div class="PanoRulerPlugin-rule-label">
          <div class="PanoRulerPlugin-rule-label-name">${e48.options.distanceText(l63)}</div>
        </div>
      </div>
    `, s60 = document.createElement("div");
    return s60.setAttribute("class", "PanoRulerPlugin-rule"), s60.setAttribute("data-name", r66), s60.setAttribute("style", "display: none"), s60.innerHTML = a62, s60;
  }, g67 = document.createElement("div");
  g67.setAttribute("style", "position: absolute;pointer-events: none;width: 100%;height: 100%;left: 0;top: 0;overflow: hidden;");
  const S52 = document.createElement("div");
  S52.innerHTML = e14, g67.appendChild(S52);
  const i65 = {}, f80 = (r66, l63) => {
    var d73;
    if (e48.loaded)
      throw new Error("标尺被重复初始化！");
    const a62 = de2(r66, t43), s60 = t43.work;
    if (!s60)
      return false;
    for (const c85 in l63) {
      const P55 = l63[c85], x49 = (d73 = s60.observers[0]) == null ? void 0 : d73.standingPosition;
      if (!x49)
        return;
      const v58 = P55.map(({ x: u72, z: b55, observers: n72 }) => {
        const m66 = n72.length > 0 ? r66.rooms[r66.observers[n72[0]]].name : "", y51 = a62[m66] ? a62[m66].floor : null;
        let p66 = 1 / 0, w49 = {
          index: 0,
          x: x49.x,
          y: x49.y,
          z: x49.z
        };
        n72.forEach((C52) => {
          if (!s60.observers[C52])
            return;
          const { standingPosition: F45 } = s60.observers[C52], T38 = {
            index: C52,
            x: F45.x,
            y: F45.y,
            z: F45.z
          }, R43 = ue3({ x: u72, z: b55 }, T38);
          y51 ? R43 < p66 && Math.abs(T38.y - y51) < 0.3 && (p66 = R43, w49 = T38) : R43 < p66 && (p66 = R43, w49 = T38);
        });
        const M48 = new Vector3(u72, w49.y, b55);
        Object.assign(M48, { observers: n72 });
        const H39 = a62[m66] ? a62[m66].roof : null, j37 = H39 ? new Vector3(u72, H39, b55) : null;
        return j37 && Object.assign(j37, { observers: n72 }), { origin: M48, vertical: j37 };
      });
      i65[c85] = {
        origins: v58.map((u72) => u72.origin),
        rules: []
      };
      for (const { origin: u72, vertical: b55 } of v58) {
        if (!b55)
          continue;
        const n72 = I49(c85, u72.distanceTo(b55));
        g67.append(n72), i65[c85].rules.push({ vertical: true, rule: [u72, b55], $element: n72 });
      }
      for (let u72 = 0; u72 < v58.length; u72++) {
        let b55 = u72 + 1;
        b55 >= v58.length && (b55 = 0);
        const { origin: n72 } = v58[u72], { origin: m66 } = v58[b55], y51 = I49(c85, n72.distanceTo(m66));
        g67.append(y51), i65[c85].rules.push({ vertical: false, rule: [n72, m66], $element: y51 });
      }
    }
    return e48.loaded = true, true;
  }, h66 = (r66, l63, a62) => X12(void 0, null, function* () {
    const s60 = r66 || o71.roomInfo, d73 = l63 || o71.roomRules;
    if (!s60 || !d73)
      throw new Error("标尺数据依赖不齐全！");
    return e48.loaded = false, e48.options = B8(B8({}, e48.options), a62 || {}), t43.model.loaded ? f80(s60, d73) : yield new Promise((c85) => t43.once("modelLoaded", () => c85(f80(s60, d73))));
  });
  o71.roomInfo && o71.roomRules && h66(o71.roomInfo, o71.roomRules);
  const E53 = (r66, l63, a62, s60) => {
    const d73 = [
      [
        { x: 0, y: 0 },
        { x: a62, y: 0 }
      ],
      [
        { x: 0, y: 0 },
        { x: 0, y: s60 }
      ],
      [
        { x: a62, y: 0 },
        { x: a62, y: s60 }
      ],
      [
        { x: 0, y: s60 },
        { x: a62, y: s60 }
      ]
    ], c85 = [];
    for (let P55 = 0; P55 < d73.length; P55++) {
      const x49 = g13([r66, l63], [d73[P55][0], d73[P55][1]], true);
      x49 && c85.push(x49);
    }
    return c85.length === 0 ? false : c85;
  }, O40 = () => {
    var b55;
    const r66 = (b55 = t43.getElement()) == null ? void 0 : b55.parentElement;
    if (!r66 || !e48.loaded || Object.keys(i65).length <= 0)
      return;
    const { panoIndex: l63, camera: a62, currentMode: s60 } = t43;
    if (l63 === void 0)
      return;
    let d73;
    for (const n72 in i65)
      n72.split(",").indexOf(l63.toString()) >= 0 && (d73 = n72);
    if (!d73) {
      for (const n72 in i65)
        for (const { $element: m66 } of i65[n72].rules)
          m66.style.display = "none";
      return;
    }
    const c85 = a62.position, P55 = a62.getWorldDirection(new Vector3()), x49 = r66.clientWidth, v58 = r66.clientHeight;
    if (s60 !== Five.Mode.Panorama) {
      for (const n72 in i65)
        for (const { $element: m66 } of i65[n72].rules)
          m66.style.display = "none";
      return;
    }
    for (const n72 in i65)
      for (const { $element: m66 } of i65[n72].rules)
        m66.style.display = n72 === d73 ? "block" : "none";
    const [u72] = i65[d73].origins.slice().filter((n72) => n72.observers.indexOf(l63) >= 0).sort((n72, m66) => {
      const y51 = n72.clone().setY(0).sub(c85).normalize().angleTo(P55.clone().setY(0)), p66 = m66.clone().setY(0).sub(c85).normalize().angleTo(P55.clone().setY(0));
      return y51 - p66;
    });
    for (const { rule: n72, vertical: m66, $element: y51 } of i65[d73].rules) {
      const [p66, w49] = n72, M48 = y51.querySelector(".PanoRulerPlugin-rule-line");
      if (!M48)
        return;
      if (!u72) {
        y51.style.display = "none";
        continue;
      }
      if (p66 !== u72 && w49 !== u72) {
        y51.style.display = "none";
        continue;
      }
      if (p66.distanceTo(w49) < 0.3) {
        y51.style.display = "none";
        continue;
      }
      if (p66.observers.indexOf(l63) === -1 || w49.observers.indexOf(l63) === -1) {
        y51.style.display = "none";
        continue;
      }
      if (p66.clone().sub(c85).normalize().angleTo(P55) > Math.PI / 2) {
        y51.style.display = "none";
        continue;
      }
      if (w49.clone().sub(c85).normalize().angleTo(P55) > Math.PI / 2) {
        y51.style.display = "none";
        continue;
      }
      const K32 = p66.distanceTo(w49);
      if (w49.clone().sub(
        w49.clone().sub(p66).divide(new Vector3(2, 2, 2))
      ).distanceTo(c85) / K32 > 8) {
        y51.style.display = "none";
        continue;
      }
      const F45 = p66.clone().project(a62), T38 = (F45.x + 1) / 2 * x49, R43 = (-F45.y + 1) / 2 * v58, V25 = w49.clone().project(a62), Y23 = (V25.x + 1) / 2 * x49, N33 = (-V25.y + 1) / 2 * v58, $23 = Math.sqrt(Math.pow(Y23 - T38, 2) + Math.pow(N33 - R43, 2));
      let D52 = $23, z28 = 50;
      const _32 = E53(
        { x: ~~T38, y: ~~R43 },
        {
          x: ~~Y23,
          y: ~~N33
        },
        x49,
        v58
      );
      if (_32 && _32.length === 1 && (u72 === p66 ? (D52 = Math.sqrt(Math.pow(_32[0].x - T38, 2) + Math.pow(_32[0].y - R43, 2)), z28 = D52 / $23 * 50) : u72 === w49 && (D52 = Math.sqrt(Math.pow(_32[0].x - Y23, 2) + Math.pow(_32[0].y - N33, 2)), z28 = 100 - D52 / $23 * 50)), _32 && _32.length === 2) {
        const G31 = {
          x: (_32[0].x + _32[1].x) / 2,
          y: (_32[0].y + _32[1].y) / 2
        };
        z28 = Math.sqrt(Math.pow(G31.x - T38, 2) + Math.pow(G31.y - R43, 2)) / $23 * 100;
      }
      const te10 = (Math.PI / 2 - Math.atan2(Y23 - T38, R43 - N33)) / Math.PI * 180, W25 = M48.querySelector(".PanoRulerPlugin-rule-label"), U33 = W25.children[0].clientWidth;
      U33 >= $23 || U33 / 2 >= z28 / 100 * $23 || U33 / 2 >= (1 - z28 / 100) * $23 ? M48.style.display = "none" : (M48.style.display = "block", M48.style.width = $23 + "px", M48.style.left = T38 + "px", M48.style.top = R43 + "px", M48.style.transform = `rotate(${-te10}deg)`, W25.style.left = `${z28}%`);
    }
  }, q38 = () => i17(O40), k47 = () => {
    var r66, l63;
    return e48.loaded ? (e48.enable || (g67.setAttribute("class", "PanoRulerPlugin" + (e48.options.className ? " " + e48.options.className : "")), (l63 = (r66 = t43.getElement()) == null ? void 0 : r66.parentElement) == null || l63.append(g67), O40(), t43.on("modeChange", O40), t43.on("cameraUpdate", q38), e48.enable = true), true) : false;
  }, A62 = () => (e48.enable && (t43.off("modeChange", O40), t43.off("cameraUpdate", q38), g67 && g67.remove(), e48.enable = false), true);
  function Z18(r66) {
    if (r66.distanceText && r66.distanceText !== e48.options.distanceText) {
      const l63 = r66.distanceText;
      e48.options.distanceText = l63, Object.values(i65).forEach((a62) => {
        a62.rules.forEach((s60) => {
          const [d73, c85] = s60.rule, P55 = d73.distanceTo(c85), x49 = s60.$element.querySelector(".PanoRulerPlugin-rule-label-name");
          x49 && (x49.innerText = l63(P55));
        });
      });
    }
  }
  return {
    enable: k47,
    disable: A62,
    load: h66,
    state: e48,
    changeConfigs: Z18
  };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoRulerProPlugin/RulerItem.js
function J12(i65) {
  Qt2(i65, "svelte-1h27ktp", ".PanoRulerPlugin-rule-line.svelte-1h27ktp.svelte-1h27ktp{position:absolute;transform-origin:left 0.0625rem;width:0;height:0.125rem;pointer-events:none}.PanoRulerPlugin-rule-line.svelte-1h27ktp.svelte-1h27ktp::after{content:'';position:absolute;left:-0.125rem;top:-0.1rem;width:0.25rem;height:0.25rem;border-radius:50%;background:#fff;z-index:1;animation:svelte-1h27ktp-viewport-rule-point 0.1s 1s;animation-fill-mode:both}.PanoRulerPlugin-rule-line.svelte-1h27ktp.svelte-1h27ktp::before{content:'';position:absolute;right:-0.125rem;top:-0.1rem;width:0.25rem;height:0.25rem;border-radius:50%;background:#fff;z-index:1;animation:svelte-1h27ktp-viewport-rule-point 0.1s 1.5s;animation-fill-mode:both}.PanoRulerPlugin-rule-line.svelte-1h27ktp em.svelte-1h27ktp{display:block;height:0.0625rem;animation:svelte-1h27ktp-viewport-rule-line 0.5s ease 1s;animation-fill-mode:both;box-shadow:0 0 0.25rem rgb(0 0 0 / 40%);position:relative}.rule-mixed-line.svelte-1h27ktp.svelte-1h27ktp{display:flex;height:0.0625rem;animation:svelte-1h27ktp-viewport-rule-line 0.5s ease 1s;animation-fill-mode:both;align-items:center}.em-solid.svelte-1h27ktp.svelte-1h27ktp{height:100%;background:#ffffff}.em-dotted.svelte-1h27ktp.svelte-1h27ktp{height:0.125rem;background:var(--background-image);background-position:center;background-repeat:repeat}.PanoRulerPlugin-rule-label.svelte-1h27ktp.svelte-1h27ktp{position:absolute;width:0;height:0;top:0.0625rem;pointer-events:none}.PanoRulerPlugin-rule-label-name.svelte-1h27ktp.svelte-1h27ktp{position:absolute;padding:0.1875rem 0.375rem;background:rgba(195, 195, 195, 0.3);backdrop-filter:blur(0.25rem);-webkit-backdrop-filter:blur(0.25rem);border-radius:6.25rem;border:0.0625rem solid rgba(255, 255, 255, 0.6);white-space:nowrap;overflow:hidden;color:#ffffff;font-weight:500;font-size:0.75rem;line-height:1;animation:svelte-1h27ktp-viewport-rule-label 0.25s ease 1s;animation-fill-mode:both;box-shadow:inset 0 0 0.625rem 0 rgba(255, 255, 255, 0.3)}@keyframes svelte-1h27ktp-viewport-rule-line{0%{width:0%}100%{width:100%}}@keyframes svelte-1h27ktp-viewport-rule-label{0%{opacity:0;transform:scaleX(0)}100%{opacity:1;transform:translate(-50%, -50%) scaleX(1)}}@keyframes svelte-1h27ktp-viewport-rule-point{0%{transform:scaleX(0)}100%{transform:scaleX(1)}}");
}
function G9(i65, e48, s60) {
  const l63 = i65.slice();
  return l63[6] = e48[s60], l63;
}
function D12(i65) {
  let e48, s60 = (
    /*rulerItemProp*/
    i65[0].children
  ), l63 = [];
  for (let t43 = 0; t43 < s60.length; t43 += 1)
    l63[t43] = X13(G9(i65, s60, t43));
  return {
    c() {
      e48 = K4("div");
      for (let t43 = 0; t43 < l63.length; t43 += 1)
        l63[t43].c();
      te2(e48, "class", "rule-mixed-line svelte-1h27ktp");
    },
    m(t43, o71) {
      Nt(t43, e48, o71);
      for (let n72 = 0; n72 < l63.length; n72 += 1)
        l63[n72] && l63[n72].m(e48, null);
    },
    p(t43, o71) {
      if (o71 & /*rulerItemProp, vars*/
      9) {
        s60 = /*rulerItemProp*/
        t43[0].children;
        let n72;
        for (n72 = 0; n72 < s60.length; n72 += 1) {
          const p66 = G9(t43, s60, n72);
          l63[n72] ? l63[n72].p(p66, o71) : (l63[n72] = X13(p66), l63[n72].c(), l63[n72].m(e48, null));
        }
        for (; n72 < l63.length; n72 += 1)
          l63[n72].d(1);
        l63.length = s60.length;
      }
    },
    d(t43) {
      t43 && J4(e48), Vt(l63, t43);
    }
  };
}
function A21(i65) {
  let e48, s60;
  return {
    c() {
      e48 = K4("em"), te2(e48, "class", s60 = Gt(
        /*rulerItemProp*/
        i65[0].state ? "em-solid" : "em-dotted"
      ) + " svelte-1h27ktp"), te2(
        e48,
        "style",
        /*vars*/
        i65[3]
      );
    },
    m(l63, t43) {
      Nt(l63, e48, t43);
    },
    p(l63, t43) {
      t43 & /*rulerItemProp*/
      1 && s60 !== (s60 = Gt(
        /*rulerItemProp*/
        l63[0].state ? "em-solid" : "em-dotted"
      ) + " svelte-1h27ktp") && te2(e48, "class", s60), t43 & /*vars*/
      8 && te2(
        e48,
        "style",
        /*vars*/
        l63[3]
      );
    },
    d(l63) {
      l63 && J4(e48);
    }
  };
}
function X13(i65) {
  let e48, s60, l63 = `${/*child*/
  i65[6].width}px`;
  return {
    c() {
      e48 = K4("div"), te2(e48, "class", s60 = Gt(
        /*child*/
        i65[6].state ? "em-solid" : "em-dotted"
      ) + " svelte-1h27ktp"), te2(
        e48,
        "style",
        /*vars*/
        i65[3]
      ), ne2(e48, "width", l63);
    },
    m(t43, o71) {
      Nt(t43, e48, o71);
    },
    p(t43, o71) {
      o71 & /*rulerItemProp*/
      1 && s60 !== (s60 = Gt(
        /*child*/
        t43[6].state ? "em-solid" : "em-dotted"
      ) + " svelte-1h27ktp") && te2(e48, "class", s60), o71 & /*vars*/
      8 && te2(
        e48,
        "style",
        /*vars*/
        t43[3]
      ), (o71 & /*vars*/
      8 || o71 & /*rulerItemProp, vars*/
      9 && l63 !== (l63 = `${/*child*/
      t43[6].width}px`)) && ne2(e48, "width", l63);
    },
    d(t43) {
      t43 && J4(e48);
    }
  };
}
function C23(i65) {
  let e48, s60, l63, t43, o71 = (
    /*rulerItemProp*/
    i65[0].labelElement + ""
  ), n72, p66, f80 = `${/*rulerItemProp*/
  i65[0].labelOffset}%`, u72 = `${/*rulerItemProp*/
  i65[0].width}px`, v58 = `${/*rulerItemProp*/
  i65[0].left}px`, b55 = `${/*rulerItemProp*/
  i65[0].top}px`, I49 = `rotate(${/*rulerItemProp*/
  i65[0].rotateDeg}deg)`;
  function w49(r66, m66) {
    return (
      /*rulerItemProp*/
      r66[0].children.length === 0 ? A21 : D12
    );
  }
  let g67 = w49(i65), h66 = g67(i65);
  return {
    c() {
      e48 = K4("div"), h66.c(), s60 = Xt(), l63 = K4("div"), t43 = K4("div"), n72 = gt(o71), te2(t43, "class", "PanoRulerPlugin-rule-label-name svelte-1h27ktp"), z2(() => (
        /*div0_elementresize_handler*/
        i65[4].call(t43)
      )), te2(l63, "class", "PanoRulerPlugin-rule-label svelte-1h27ktp"), ne2(l63, "left", f80), te2(e48, "class", "PanoRulerPlugin-rule-line svelte-1h27ktp"), ne2(e48, "width", u72), ne2(e48, "left", v58), ne2(e48, "top", b55), ne2(e48, "transform", I49), ne2(
        e48,
        "display",
        /*rulerItemProp*/
        i65[0].visible && /*_visible*/
        i65[2] ? "block" : "none"
      );
    },
    m(r66, m66) {
      Nt(r66, e48, m66), h66.m(e48, null), pt(e48, s60), pt(e48, l63), pt(l63, t43), pt(t43, n72), p66 = ie2(
        t43,
        /*div0_elementresize_handler*/
        i65[4].bind(t43)
      );
    },
    p(r66, [m66]) {
      g67 === (g67 = w49(r66)) && h66 ? h66.p(r66, m66) : (h66.d(1), h66 = g67(r66), h66 && (h66.c(), h66.m(e48, s60))), m66 & /*rulerItemProp*/
      1 && o71 !== (o71 = /*rulerItemProp*/
      r66[0].labelElement + "") && ee2(n72, o71), m66 & /*rulerItemProp*/
      1 && f80 !== (f80 = `${/*rulerItemProp*/
      r66[0].labelOffset}%`) && ne2(l63, "left", f80), m66 & /*rulerItemProp*/
      1 && u72 !== (u72 = `${/*rulerItemProp*/
      r66[0].width}px`) && ne2(e48, "width", u72), m66 & /*rulerItemProp*/
      1 && v58 !== (v58 = `${/*rulerItemProp*/
      r66[0].left}px`) && ne2(e48, "left", v58), m66 & /*rulerItemProp*/
      1 && b55 !== (b55 = `${/*rulerItemProp*/
      r66[0].top}px`) && ne2(e48, "top", b55), m66 & /*rulerItemProp*/
      1 && I49 !== (I49 = `rotate(${/*rulerItemProp*/
      r66[0].rotateDeg}deg)`) && ne2(e48, "transform", I49), m66 & /*rulerItemProp, _visible*/
      5 && ne2(
        e48,
        "display",
        /*rulerItemProp*/
        r66[0].visible && /*_visible*/
        r66[2] ? "block" : "none"
      );
    },
    i: N4,
    o: N4,
    d(r66) {
      r66 && J4(e48), h66.d(), p66();
    }
  };
}
function Y10(i65, e48, s60) {
  let l63, { rulerItemProp: t43 } = e48, o71 = true, n72, p66 = "data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjQiIHdpZHRoPSIxMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PGZpbHRlciBpZD0icHJlZml4X19hIiBoZWlnaHQ9IjQwMCUiIHdpZHRoPSIxMzcuNCUiIHg9Ii0xOC43JSIgeT0iLTE1MCUiPjxmZU1vcnBob2xvZ3kgaW49IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0iZGlsYXRlIiByYWRpdXM9Ii41IiByZXN1bHQ9InNoYWRvd1NwcmVhZE91dGVyMSIvPjxmZU9mZnNldCBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPjxmZU1vcnBob2xvZ3kgaW49IlNvdXJjZUFscGhhIiByYWRpdXM9IjEiIHJlc3VsdD0ic2hhZG93SW5uZXIiLz48ZmVPZmZzZXQgaW49InNoYWRvd0lubmVyIiByZXN1bHQ9InNoYWRvd0lubmVyIi8+PGZlQ29tcG9zaXRlIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIGluMj0ic2hhZG93SW5uZXIiIG9wZXJhdG9yPSJvdXQiIHJlc3VsdD0ic2hhZG93T2Zmc2V0T3V0ZXIxIi8+PGZlR2F1c3NpYW5CbHVyIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSIgc3RkRGV2aWF0aW9uPSIuNSIvPjxmZUNvbG9yTWF0cml4IGluPSJzaGFkb3dCbHVyT3V0ZXIxIiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMiAwIi8+PC9maWx0ZXI+PHBhdGggaWQ9InByZWZpeF9fYiIgZD0iTS44ODkgMkgxMS41OCIvPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHN0cm9rZS1kYXNoYXJyYXk9IjUgNiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNwcmVmaXhfX2EpIiB4bGluazpocmVmPSIjcHJlZml4X19iIi8+PHVzZSBzdHJva2U9IiNmZmYiIHN0cm9rZS1vcGFjaXR5PSIuNCIgeGxpbms6aHJlZj0iI3ByZWZpeF9fYiIvPjwvZz48L3N2Zz4=";
  function f80() {
    n72 = this.offsetWidth, s60(1, n72);
  }
  return i65.$$set = (u72) => {
    "rulerItemProp" in u72 && s60(0, t43 = u72.rulerItemProp);
  }, i65.$$.update = () => {
    i65.$$.dirty & /*labelWidth, rulerItemProp*/
    3 && (n72 >= t43.width || n72 / 2 >= t43.labelOffset / 100 * t43.width || n72 / 2 >= (1 - t43.labelOffset / 100) * t43.width ? s60(2, o71 = false) : s60(2, o71 = true));
  }, s60(3, l63 = `--background-image: url(${p66})`), [t43, n72, o71, l63, f80];
}
var U8 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, Y10, C23, Ft, { rulerItemProp: 0 }, J12);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoRulerProPlugin/RulerItems.js
function J13(d73, r66, c85) {
  const t43 = d73.slice();
  return t43[12] = r66[c85], t43;
}
function K10(d73) {
  let r66, c85;
  return r66 = new U8({
    props: { rulerItemProp: (
      /*itemData*/
      d73[12]
    ) }
  }), {
    c() {
      Ae(r66.$$.fragment);
    },
    m(t43, e48) {
      Dt(r66, t43, e48), c85 = true;
    },
    p(t43, e48) {
      const w49 = {};
      e48 & /*rulerItemProp*/
      1 && (w49.rulerItemProp = /*itemData*/
      t43[12]), r66.$set(w49);
    },
    i(t43) {
      c85 || (ot(r66.$$.fragment, t43), c85 = true);
    },
    o(t43) {
      $t(r66.$$.fragment, t43), c85 = false;
    },
    d(t43) {
      Rt(r66, t43);
    }
  };
}
function dt2(d73) {
  let r66, c85, t43 = (
    /*rulerItemProp*/
    d73[0]
  ), e48 = [];
  for (let n72 = 0; n72 < t43.length; n72 += 1)
    e48[n72] = K10(J13(d73, t43, n72));
  const w49 = (n72) => $t(e48[n72], 1, 1, () => {
    e48[n72] = null;
  });
  return {
    c() {
      r66 = K4("div");
      for (let n72 = 0; n72 < e48.length; n72 += 1)
        e48[n72].c();
    },
    m(n72, s60) {
      Nt(n72, r66, s60);
      for (let o71 = 0; o71 < e48.length; o71 += 1)
        e48[o71] && e48[o71].m(r66, null);
      c85 = true;
    },
    p(n72, [s60]) {
      if (s60 & /*rulerItemProp*/
      1) {
        t43 = /*rulerItemProp*/
        n72[0];
        let o71;
        for (o71 = 0; o71 < t43.length; o71 += 1) {
          const A62 = J13(n72, t43, o71);
          e48[o71] ? (e48[o71].p(A62, s60), ot(e48[o71], 1)) : (e48[o71] = K10(A62), e48[o71].c(), ot(e48[o71], 1), e48[o71].m(r66, null));
        }
        for (Lt(), o71 = t43.length; o71 < e48.length; o71 += 1)
          w49(o71);
        Ot();
      }
    },
    i(n72) {
      if (!c85) {
        for (let s60 = 0; s60 < t43.length; s60 += 1)
          ot(e48[s60]);
        c85 = true;
      }
    },
    o(n72) {
      e48 = e48.filter(Boolean);
      for (let s60 = 0; s60 < e48.length; s60 += 1)
        $t(e48[s60]);
      c85 = false;
    },
    d(n72) {
      n72 && J4(r66), Vt(e48, n72);
    }
  };
}
function gt2(d73, r66, c85) {
  var B42, G31, H39, U33;
  let { five: t43 } = r66, { rulerDatas: e48 } = r66, { options: w49 } = r66, n72 = [];
  const s60 = ((G31 = (B42 = t43.getElement()) == null ? void 0 : B42.parentElement) == null ? void 0 : G31.clientWidth) || 0, o71 = ((U33 = (H39 = t43.getElement()) == null ? void 0 : H39.parentElement) == null ? void 0 : U33.clientHeight) || 0, A62 = (a62, m66) => {
    const l63 = [
      [{ x: 0, y: 0 }, { x: s60, y: 0 }],
      [{ x: 0, y: 0 }, { x: 0, y: o71 }],
      [{ x: s60, y: 0 }, { x: s60, y: o71 }],
      [{ x: 0, y: o71 }, { x: s60, y: o71 }]
    ], f80 = [];
    for (let u72 = 0; u72 < l63.length; u72++) {
      const g67 = g13([a62, m66], [l63[u72][0], l63[u72][1]], true);
      g67 && f80.push(g67);
    }
    return f80.length === 0 ? false : f80;
  }, j37 = (a62, m66) => {
    const l63 = a62.clone().project(t43.camera), f80 = (l63.x + 1) / 2 * s60, u72 = (-l63.y + 1) / 2 * o71, g67 = m66.clone().project(t43.camera), L40 = (g67.x + 1) / 2 * s60, y51 = (-g67.y + 1) / 2 * o71, i65 = Math.sqrt(Math.pow(L40 - f80, 2) + Math.pow(y51 - u72, 2));
    return {
      startLeft: f80,
      startTop: u72,
      endLeft: L40,
      endTop: y51,
      distance: i65
    };
  }, N33 = (a62, m66, l63) => {
    const f80 = t43.camera.position, u72 = t43.camera.getWorldDirection(new Vector3()), g67 = a62.clone().sub(f80).normalize().angleTo(u72), L40 = m66.clone().sub(f80).normalize().angleTo(u72), y51 = a62.distanceTo(m66), T38 = m66.clone().sub(m66.clone().sub(a62).divide(new Vector3(2, 2, 2))).distanceTo(f80), { startLeft: h66, startTop: x49, endLeft: v58, endTop: q38, distance: D52 } = j37(a62, m66), S52 = -((Math.PI / 2 - Math.atan2(v58 - h66, x49 - q38)) / Math.PI) * 180;
    let P55 = true;
    l63 || (P55 = false), !b6(a62, l63) && !b6(m66, l63) && (P55 = false), y51 < 0.3 && (P55 = false), g67 > Math.PI / 2 && (P55 = false), L40 > Math.PI / 2 && (P55 = false), T38 / y51 > 8 && (P55 = false);
    let I49 = 50, b55 = D52;
    const p66 = A62({ x: ~~h66, y: ~~x49 }, { x: ~~v58, y: ~~q38 });
    if (p66 && p66.length === 1 && (b6(a62, l63) ? (b55 = Math.sqrt(Math.pow(p66[0].x - h66, 2) + Math.pow(p66[0].y - x49, 2)), I49 = b55 / D52 * 50) : b6(m66, l63) && (b55 = Math.sqrt(Math.pow(p66[0].x - v58, 2) + Math.pow(p66[0].y - q38, 2)), I49 = 100 - b55 / D52 * 50)), p66 && p66.length === 2) {
      const F45 = {
        x: (p66[0].x + p66[1].x) / 2,
        y: (p66[0].y + p66[1].y) / 2
      };
      I49 = Math.sqrt(Math.pow(F45.x - h66, 2) + Math.pow(F45.y - x49, 2)) / D52 * 100;
    }
    return {
      startLeft: h66,
      startTop: x49,
      distance: D52,
      deg: S52,
      visible: P55,
      labelOffset: I49,
      ruleLength: y51
    };
  }, _32 = () => {
    const a62 = t43.panoIndex, m66 = e48.find((i65) => i65.panoIndex === a62);
    if (!m66)
      return c85(0, n72 = []);
    if (t43.currentMode !== Five.Mode.Panorama)
      return c85(0, n72 = []);
    const l63 = t43.camera.position, f80 = t43.camera.getWorldDirection(new Vector3()), u72 = m66.lines.map((i65) => new Vector3(i65.start[0], -i65.start[1], -i65.start[2])), g67 = m66.lines.map((i65) => new Vector3(i65.end[0], -i65.end[1], -i65.end[2])), [L40] = u72.concat(g67).sort((i65, T38) => {
      const h66 = i65.clone().setY(0).sub(l63).normalize().angleTo(f80.clone().setY(0)), x49 = T38.clone().setY(0).sub(l63).normalize().angleTo(f80.clone().setY(0));
      return h66 - x49;
    }), y51 = m66.lines.map((i65) => {
      var b55, p66;
      const T38 = i65.start, h66 = i65.end, { startLeft: x49, startTop: v58, distance: q38, deg: D52, visible: V25, labelOffset: S52, ruleLength: P55 } = N33(new Vector3(T38[0], -T38[1], -T38[2]), new Vector3(h66[0], -h66[1], -h66[2]), L40), I49 = [];
      return i65.children && ((b55 = i65.children) == null ? void 0 : b55.length) > 0 && ((p66 = i65.children) == null || p66.forEach((F45) => {
        const W25 = F45.start, Y23 = F45.end, { distance: O40 } = j37(new Vector3(W25[0], -W25[1], -W25[2]), new Vector3(Y23[0], -Y23[1], -Y23[2]));
        I49.push({ width: O40, state: F45.state });
      })), {
        width: q38,
        left: x49,
        top: v58,
        rotateDeg: D52,
        state: i65.state,
        children: I49,
        labelOffset: S52,
        visible: V25,
        labelElement: w49.distanceText(P55)
      };
    });
    c85(0, n72 = y51);
  }, E53 = () => T13(_32), R43 = o6(_32, 80);
  return ce(() => {
    _32(), t43.on("panoArrived", _32), t43.on("modeChange", _32), t43.on("cameraDirectionUpdate", E53), t43.on("movingToPano", E53), t43.on("mouseWheel", () => R43()), t43.on("pinchGesture", () => R43());
  }), le(() => {
    t43.off("panoArrived", _32), t43.off("modeChange", _32), t43.off("cameraDirectionUpdate", E53), t43.off("movingToPano", E53), t43.off("mouseWheel", () => R43()), t43.off("pinchGesture", () => R43());
  }), d73.$$set = (a62) => {
    "five" in a62 && c85(1, t43 = a62.five), "rulerDatas" in a62 && c85(2, e48 = a62.rulerDatas), "options" in a62 && c85(3, w49 = a62.options);
  }, [n72, t43, e48, w49];
}
var Re = class extends Ce {
  constructor(r66) {
    super(), Te(this, r66, gt2, dt2, Ft, { five: 1, rulerDatas: 2, options: 3 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoRulerProPlugin/Controller.js
var f19 = Object.defineProperty;
var c29 = Object.getOwnPropertySymbols;
var v17 = Object.prototype.hasOwnProperty;
var b17 = Object.prototype.propertyIsEnumerable;
var h19 = (r66, t43, i65) => t43 in r66 ? f19(r66, t43, { enumerable: true, configurable: true, writable: true, value: i65 }) : r66[t43] = i65;
var u17 = (r66, t43) => {
  for (var i65 in t43 || (t43 = {}))
    v17.call(t43, i65) && h19(r66, i65, t43[i65]);
  if (c29)
    for (var i65 of c29(t43))
      b17.call(t43, i65) && h19(r66, i65, t43[i65]);
  return r66;
};
var e15 = (r66, t43, i65) => (h19(r66, typeof t43 != "symbol" ? t43 + "" : t43, i65), i65);
var n18 = (r66, t43, i65) => new Promise((p66, s60) => {
  var m66 = (o71) => {
    try {
      l63(i65.next(o71));
    } catch (d73) {
      s60(d73);
    }
  }, a62 = (o71) => {
    try {
      l63(i65.throw(o71));
    } catch (d73) {
      s60(d73);
    }
  }, l63 = (o71) => o71.done ? p66(o71.value) : Promise.resolve(o71.value).then(m66, a62);
  l63((i65 = i65.apply(r66, t43)).next());
});
var zt2 = class {
  constructor(t43, i65) {
    e15(this, "five");
    e15(this, "container", document.createElement("div"));
    e15(this, "panoRulerProData");
    e15(this, "rulerItems");
    e15(this, "state", {
      enabled: false,
      loaded: false,
      options: {
        className: "",
        distanceText: (t44) => `${t44.toFixed(1)}m`
      }
    });
    var p66, s60;
    this.five = t43, this.container.classList.add("panoRulerProPlugin-container"), this.container.setAttribute(
      "style",
      "position: absolute;pointer-events: none;width: 100%;height: 100%;left: 0;top: 0;overflow: hidden;"
    ), i65 && (i65.data && this.load(i65.data), this.state.options = u17(u17({}, this.state.options), i65.options || {}), (p66 = i65.options) != null && p66.className && this.container.classList.add((s60 = i65.options) == null ? void 0 : s60.className)), this.five.once("modelLoaded", () => n18(this, null, function* () {
      var m66, a62;
      (a62 = (m66 = this.five.getElement()) == null ? void 0 : m66.parentNode) == null || a62.append(this.container);
    })), this.five.once("dispose", () => this.dispose());
  }
  load(t43) {
    return n18(this, null, function* () {
      if (!this.five.work)
        return;
      const i65 = t43.data;
      if (!i65)
        throw new Error("标尺数据依赖不齐全！");
      this.panoRulerProData = i65, this.state.loaded = true;
    });
  }
  enable() {
    return this.state.loaded ? (this.state.enabled || (this.state.enabled = true, this.render()), true) : false;
  }
  disable() {
    return this.state.enabled && (this.state.enabled = false, this.render()), true;
  }
  render() {
    return n18(this, null, function* () {
      var t43;
      if (this.state.enabled) {
        if (!this.panoRulerProData || !this.container)
          return;
        this.rulerItems = new Re({
          target: this.container,
          props: {
            five: this.five,
            rulerDatas: this.panoRulerProData,
            options: this.state.options
          }
        });
      } else
        (t43 = this.rulerItems) == null || t43.$destroy(), this.rulerItems = void 0;
    });
  }
  dispose() {
    var t43;
    this.container && ((t43 = this.rulerItems) == null || t43.$destroy(), this.rulerItems = void 0), this.container.remove();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoRulerProPlugin/index.js
var br2 = (r66, o71) => new zt2(r66, o71);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoCompassPlugin/Assets/roomInfoIcon.js
var A22 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZIAAABCCAYAAAB9y1BhAAAAAXNSR0IArs4c6QAADh5JREFUeAHtnVuPLDcVhedwC/dACKAICDxEIBQpygNI/Ab+MX8B8YCQEAjxgBAQLsm5Jjkn58r6Sl4jT52qnu4zXd121dqSx67q7ip7eXsv721XzcVFJAgEgSAQBIJAEAgCQeC4CLx48eKbSu+RH/fKuVoQWB8Cn1tfk9KiIHAUBH6tq/xKiTwSBILADgRCJDvAyUebRuAbpfXxSDatBmn8Pgh8YZ8v5TtBYIMIvFCbSZEgEASuQSBEcg1A+XizCDzfbMvT8CBwIAIhkgMBy9c3g0CIZDNdnYbeFIEQyU0RzO/XikCIZK09m3YdHYEQydEhzQVXgkCIZCUdmWYsj0CIZHmMc4c+EchCe5/9llqfAYEQyRlAzy27QCAeSRfdlEq2gECIpIVeSB1aRAAiudVixVKnINAaAiGS1nok9WkFAUJb8Upa6Y3Uo2kEQiRNd08qd0YEQiJnBD+37guBEElf/ZXang6BEMnpsM6dOkcgRNJ5B66x+nrjLmsTX1J6bSJHZ7+o9HklynWaOse1eKcc+XVlvxYFEnlfaThWfb7mcsn5nPRM6WmVU55KfO+J0mdKj8f5rVu3skNMoET6RSBE0m/fdVNzGWII4StKXy65y18t58aEAVGcUjDkGHsLhIOYfCC1xUT4QDJjgnmkc58qkT8saSiLeCCkSBBoBoEQSTNd0V9FZADRH8iAGfvXS06Zc5CFCePQt0y3EFaq61CX1ayjC56U8br24sKd+kAuJhkI55OSPi75pyIcvKNIEFgcgRDJ4hD3ewMZLDwDXqfOq9RNFCYOCAMPYx851BDjIXiWzky9Tpyvw0kOL/nc+Jh7DyGqko+P+cznVLwMf31Uypz7jZLJ0GEy8jqURnl8zPjyObDEsxknztsDUnFvMfF8e+4X6j88F4hlTDT3de6BiAYsI0HgxgiESG4MYd8XkLEhrARZTKUxUWB0MXrkiA3wdYYQg8Xs2cmzaR977cCE8eSM6wYDsQiXSyOrulDPRUT3AbsxydAnYO9kz87HfH9Kxv3D976lNEk2ujf9ANE8GCe1OeEzgRLZD4EQyX44df8tGQ08iNdHCU+jnhGPDVG9bgAGGD3Iw8TB5xgjz3jr3CTxSEapxxAL7VxcCmGaQPe6n/qScWtSIcdLrD1FhxbtRZn4x/3rtanvlBtffq57UCcI5l6dVF9CaJEgcAWBEMkVOPo+0ODHwGNEIAxIwsRBea6vdxlMPsNwYFAcIoEsnB4WQ6hTqxOMqg1wU40rxEx/kCal6AKejEnGOSFKvE8mFiYaFV8S9AVP5oo3o+syKSA0ZoJxmTWZJvFSXSMLIzBnXBa+bS5/UwQ0oDECEIRDF87n+nSOMDAMkIUNU51v2TjM4SWo2pdi1E34L1W4mnRALFOJtZ0pQe/QNVItT3XNOzpxV8n5fdWjaxzrBqY8j8Cc0Zn/RT45OQIaoPQT3oUHMDnHUzPKuYFLqGJYZFXObNILroSmIi8jMIfjy9/s8EwhGu/0+s+4CdI5vBkmKngv6Bo5x3NbodFFQmQOk6l48VzXQdcgF6d7unePoU7aE5lBIEQyA8y5TmvgEZ5iwBJSeKMkBrHXJVS8lCljZ8IwaZgwFlswvqzNugpT2K6rhTtaI2PPBIN0hWSkn6zJmFSc7yIYSIj0Y6VBdA108nZJd5TjuSQsNqDT558QyZn7rQxMSKNO435hkE0NNEIXzPhIzPiY7cXDEBBHkE0TyRx+0i9vovhf/R3pMR6MPWWTB+syU+JQ2tvlQ8Ji6C/kArHcKfcpHydrHYGxwWq9vl3XT4MFr4JZHO4/3gbkMTXYxkYMEmHtAsJgNsegYxaH9xFZBgH6YMoLXOZunV+1TGCYxHzgpkjfCYPhrUAw5BAMJDLGlbAY44E0iH7LJAlSgVw+UuK5l6nJlD6KnBuBEMmCPaDBwACpiYOBwuCqB0S9xZYBxmfs4YcsGEjkiSsLhBML/VD304lv3//tykTnQ7WENIjGBDYHQoFcSEym2IaMWP/JCaG9VZKyi8f6LaRSE8t4wsX3ImdAIERyRNALcTBIGByeYY13v4yJg+P7SiaOhKcERgMSI7VAJ4hcWGjHwyANonFTh8UYO3gv440kjKPvlqTs4llFLEy4GDfpM5A5g4RIbgi6lNkeh8NV4wEwVm7CUSg+CfLAZR9/R6cjZ0YgfXKiDpD+e2F/CIuVCRnjyh4L5DLeLYbXUu8Sg1gYUwNJ6ZoPVI6cCAE6I3IAAlJW3HCTBl6H3fK5qxCmMnGwiMiWy0jjCKiff6kqDuNDffbbxqu7+uqpP3iAEkJx2mfcOQx2W32YV74sqCUhkmvAlQLjUjMzcqiKxcJdwuwKT2NIUmAWDSOdIaB+/4WrrD78ncvJ20BA/cMmFcalE+GxXcJmFa+x3FWf1iHmXb/LZ3sgkNDWBEhSUhb67DYzA6rDVeOQBy/3gzQGJZWC5nkNgbECGffzCpq0niaUCRqTtH/RqjJmPdmDXMYvtoR4SD9U4kHJOgyWMStQbiLxSISelAoc6rUOFG5O2MnD4ni9xpHdPXNodXpeOvG+qy6j9XuXk7ePQDWeIRQmgizeT9k6zjF2IaRhbUV5thkLhENlCtxDr9Hl96VseGMommcxu7wzwlUmDnaHxC3ustf3r7T04z1/W/39B5eT94eA+pLw9OtKJpZdYTB2ldUhsLzOZY8u32U89/h5X1+RQuHuQhyErVCsmkjrUAazlHtKkEeeshUIGxT0odaPDUKwjiaXiZ/JwWEwL9qP7QBh7DdLkskY3hWGt8KC/eX/qFkHMsdrxeoHihSBbYP2OnBx58RrHZBHvI45lDZyXnrzrpsqA/JHl5OvCwH1s70ViAWPZby2Ujf4vg4GQpJO5K0SFTKrJBIpB1sDUQwIZNcuK2Kjd0v6RMqRtQ6BERnWzX5uHKQXf3I5+XoRkN3AHrLNGEIh7Vor9S4wIhab31q8GiKpyAMCQRmmBKLgOQ68DrYAbl4BpkDKuYFIfiYchvEhPflzMNkeAsWmQCi2KXP2kgkpnspmSWUOmC60Rh3NGg+dTJrzPCAPZg+D5yGjkDinwIjsRkC69VN/QzrzF5eTbxMB6QMhL3sq2Jo524mt8drqZhbq58BoVlvUocQ0WeswebA45pAU7XGZVyTcI8kQbKZD1d7IERCQnr3jy0h//upy8iAg3WACyyI9iccGbEexPbZBnsBCKrype9U7PbvYtaWOgyyYBTAjgET8gCCdxe4ak4c9j9V3nNocWRaBehffsnfK1btCoExMh+dOqokttslRERMLIXbO8QAkC/VERT7W71enW26w2teeCPz6raB4IlPiV5JAHvE8phDKuYMRkO79xD+SXv3N5eRBYA4B6QwTcya6kMrcsyp4JkRKWKPFdq1CmiOSUWfMvZiNRXIYPv/caRVq2F4jpIdvu1Ya8H93OXkQ2AcB6Q+PHUAqpDk7xqtZIJXuJ8FNEIlApx64gYA+t5DFIjnrHrzCIO/GERCR5RCQTv5IVx9CptK3fyx3p1x57QhIl/x/7llPmXpOBT1jNymk0uVjCGclkoq1AXhqvQaAWffA+3ioAe21EB1GgsByCEg3f+CrS+/+6XLyIPCqCEinsLeEvHZNmAnPM2HuKtpyciIpYNr7AFTIwfVwGY8DMFe5MKV2RRpHQHr6lqsoIvnA5eRB4BgISL+8gYhJNB4LYvvnCTN2kEl0816KDTiNWFQEHC4doBG68q6r+p7sZMD7gDzy+oEamZRPjoD09fu66TA+pI//PnkFcsPNICBdYz0Fu3idbSSs3+RzcIsSiQDi+ngdAGTWVfGKsHOB+GBCV1dgycE5EZDufs/31+D9r8vJg8BSCFT2kojN3K4vvBQm3E3Zy0WIRICwVRcwSFPbdu194LKt+kEdtT/SIQLS4Tddbenohy4nDwKnQGAPG4rdZALehA09KpGo8bhou9iUbbs0/jMNTscBdRgJAm0hIF1+wzWSrt52OXkQOCUC0kNsNNuHsatz24iHqI709GxLAjcmktJQEwj5WPA+aCiuWB4YHKOT4yYRkF7zUNkg0lueSI4EgbMiIJ1kZyshL9LUOjNEwkT9sXT2pBP1VyaSQiCse9Coqa27LApBIPE+BEKkLwSk32zRHESDkp0zkSDQBALF9uKdYHunnkthwo7tfXQqQjmYSNQImBACIU2xIuGreB8CIdIvAtJzNogMosHI4mYkCDSHgPTUXspU2ItoEIvzEArlxWRvIlGFWTSnsnWF+b1dKAhk8QrrHpEgsDgC0ndi0oNoEBIuiASBZhGQvnqCz/KCJ/jYZtto7DPRoUU2N11LJIXxqNyUC0VFqeCTpRlP94gEgZMhIL0nbDCIdJswQSQINI9AIRRsNRP+KfvOkgNrKEddr5660YUqw3k8EAhkbvsuCztPVSF7JDqMBIF1IKAxcOl5S8eZLEWCQDcIFBtO2Kv2UOr645lAKkex4VeIpLo5jHbls1KD4eYaWIu4R+UeyYLA2RHQWGAADiJ9P9u2StcheRB4VQSkyzgD2PQppwBH4MaEMpBFRSDcqCYQx9ggDphr0QUb3SMSBJpAQGPiciei9P6oYYAmGphKbA4B6TRrJ+j1HKHYzh8cZbpVBowXZ8bgQhzPNJAOvvD4QjkOAj0hUAbdUOVMoHrqudT1OgSk2zgLkAl2n/LYvh9s900kutYV4UIvQiBXMMlBEAgCQWA1CBRCgUjmHAkI5vk+PACR1BcZmGmfH64GzTQkCASBILBhBAqhgEC9rDFGJI7FGJEcB4EgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEAgCm0fg/x4jQQWGalpFAAAAAElFTkSuQmCC";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoCompassPlugin/getRoomInfoInstance.js
function i18() {
  const e48 = document.createElement("div"), o71 = document.createElement("i"), t43 = document.createElement("span");
  return e48.appendChild(o71), e48.appendChild(t43), e48.style.position = "relative", e48.style.width = "100%", e48.style.display = "flex", e48.style.flexDirection = "column", e48.style.alignItems = "center", e48.style.marginTop = `${150 / 16}rem`, e48.style.opacity = "0", e48.style.transition = "opacity 1000ms linear", o71.style.display = "block", o71.style.width = `${134 / 16}rem`, o71.style.height = `${22 / 16}rem`, o71.style.backgroundSize = "100%", o71.style.backgroundRepeat = "no-repeat", o71.style.backgroundImage = `url(${A22})`, t43.style.marginTop = `${10 / 16}rem`, t43.style.fontSize = `${16 / 16}rem`, t43.style.color = "#fff", t43.style.opacity = "0.7", t43.style.textShadow = "0 2px 16px rgb(22 34 83 / 24%)", t43.style.fontWeight = "bold", {
    appendTo(n72) {
      n72.appendChild(e48);
    },
    dispose() {
      e48.remove();
    },
    setRoom(n72) {
      t43.innerHTML = n72.name + " " + Math.floor(n72.size / 1e6) + "㎡";
    },
    show() {
      e48.style.opacity = "1";
    },
    hide() {
      e48.style.opacity = "0";
    }
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/loadTexture.js
var i19 = (n72, e48, t43) => new Promise((d73, c85) => {
  var l63 = (r66) => {
    try {
      o71(t43.next(r66));
    } catch (s60) {
      c85(s60);
    }
  }, h66 = (r66) => {
    try {
      o71(t43.throw(r66));
    } catch (s60) {
      c85(s60);
    }
  }, o71 = (r66) => r66.done ? d73(r66.value) : Promise.resolve(r66.value).then(l63, h66);
  o71((t43 = t43.apply(n72, e48)).next());
});
var m24 = new TextureLoader();
function p15(n72) {
  return i19(this, null, function* () {
    return new Promise((e48, t43) => {
      m24.load(n72, e48, void 0, t43);
    }).then((e48) => (e48.encoding = sRGBEncoding, e48.minFilter = NearestFilter, e48.magFilter = NearestFilter, e48));
  });
}
function u18(n72) {
  return i19(this, null, function* () {
    return p15(n72).then((e48) => {
      const t43 = n72.startsWith("data:") ? n72.includes("png") : new URL(n72, location.href).pathname.toLowerCase().endsWith(".png");
      return { texture: e48, transparent: t43 };
    });
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/animationFrame/BetterTween.js
var r17 = Object.defineProperty;
var n19 = (t43, e48, s60) => e48 in t43 ? r17(t43, e48, { enumerable: true, configurable: true, writable: true, value: s60 }) : t43[e48] = s60;
var i20 = (t43, e48, s60) => (n19(t43, typeof e48 != "symbol" ? e48 + "" : e48, s60), s60);
var d18 = class extends M {
  constructor() {
    super(...arguments);
    i20(this, "disposeMethods", []);
    i20(this, "animationFrameDisposer");
    i20(this, "onDispose", (s60) => (this.disposeMethods.push(s60), this));
    i20(this, "play", () => {
      var s60;
      return this.start(0), (s60 = this.animationFrameDisposer) == null || s60.call(this), this.animationFrameDisposer = l18((o71) => this.update(o71)), this;
    });
    i20(this, "stop", () => {
      var s60;
      return super.stop(), (s60 = this.animationFrameDisposer) == null || s60.call(this), this;
    });
    i20(this, "dispose", () => {
      var s60;
      this.stop(), (s60 = this.animationFrameDisposer) == null || s60.call(this), this.disposeMethods.forEach((o71) => o71()), this.disposeMethods = [], j(this);
    });
  }
};
function F14(t43, e48 = y2.Linear.None) {
  const s60 = new d18({ progress: 0 }).to({ progress: 1 });
  return t43 !== void 0 && s60.duration(t43), e48 !== void 0 && s60.easing(e48), s60;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoCompassPlugin/Controller.js
var P17 = Object.defineProperty;
var b18 = Object.getOwnPropertySymbols;
var C24 = Object.prototype.hasOwnProperty;
var F15 = Object.prototype.propertyIsEnumerable;
var u19 = (h66, n72, e48) => n72 in h66 ? P17(h66, n72, { enumerable: true, configurable: true, writable: true, value: e48 }) : h66[n72] = e48;
var f20 = (h66, n72) => {
  for (var e48 in n72 || (n72 = {}))
    C24.call(n72, e48) && u19(h66, e48, n72[e48]);
  if (b18)
    for (var e48 of b18(n72))
      F15.call(n72, e48) && u19(h66, e48, n72[e48]);
  return h66;
};
var r18 = (h66, n72, e48) => (u19(h66, typeof n72 != "symbol" ? n72 + "" : n72, e48), e48);
var d19 = (h66, n72, e48) => new Promise((t43, o71) => {
  var s60 = (p66) => {
    try {
      m66(e48.next(p66));
    } catch (c85) {
      o71(c85);
    }
  }, i65 = (p66) => {
    try {
      m66(e48.throw(p66));
    } catch (c85) {
      o71(c85);
    }
  }, m66 = (p66) => p66.done ? t43(p66.value) : Promise.resolve(p66.value).then(s60, i65);
  m66((e48 = e48.apply(h66, n72)).next());
});
var g14 = { userAction: true };
var qe2 = class extends e9 {
  constructor(e48, t43) {
    super(e48, t43);
    r18(this, "state", {
      visible: true,
      enabled: true,
      config: {
        /**
         * @todo 图片转base64
         */
        compassImageUrl: this.absoluteUrl("/release/web/v3/north-point-circle.96498e69.png"),
        entryDoorImageUrl: this.absoluteUrl("/release/web/enterDoor.831b8208.png")
      }
    });
    r18(this, "data");
    r18(this, "group", new Group());
    r18(this, "roomInfoInstance");
    r18(this, "roomInfoWrapperInstance");
    r18(this, "compassMeshTween");
    r18(this, "compassMesh");
    r18(this, "logoMesh");
    r18(this, "logoMeshTween");
    r18(this, "entryDoorMesh");
    r18(this, "dispose", () => {
      var e49, t44, o71, s60;
      this.five.scene.remove(this.group), this.group.remove(...this.group.children), (t44 = (e49 = this.compassMesh) == null ? void 0 : e49.material.map) == null || t44.dispose(), (s60 = (o71 = this.entryDoorMesh) == null ? void 0 : o71.material.map) == null || s60.dispose(), this.five.off("dispose", this.dispose), this.five.off("panoArrived", this.onFivePanoArrived), this.five.off("panoWillArrive", this.onFivePanoWillArrive), this.five.off("cameraDirectionUpdate", this.onFiveCameraDirectionUpdate);
    });
    r18(this, "_addEventListener", () => {
      this.five.on("panoArrived", this.onFivePanoArrived), this.five.on("panoWillArrive", this.onFivePanoWillArrive), this.five.on("modeChange", this.onFiveModeChange), this.five.on("cameraDirectionUpdate", this.onFiveCameraDirectionUpdate);
    });
    r18(this, "_removeEventListener", () => {
      this.five.off("panoArrived", this.onFivePanoArrived), this.five.off("panoWillArrive", this.onFivePanoWillArrive), this.five.off("modeChange", this.onFiveModeChange), this.five.off("cameraDirectionUpdate", this.onFiveCameraDirectionUpdate);
    });
    r18(this, "_enable", () => {
      this.five.scene.add(this.group), this.init(), this.onFivePanoArrived(this.five.panoIndex || 0), this._addEventListener();
    });
    r18(this, "_disable", () => {
      this._clearCompassIfNeed(), this._clearEntryDoorIfNeed(), this.five.scene.remove(this.group), this._removeEventListener();
    });
    r18(this, "_toggleVisible", () => {
      this.group.visible = this.state.visible, this.five.needsRender = true;
    });
    r18(this, "_clearCompassIfNeed", () => {
      var e49;
      this.compassMesh && (this.group.remove(this.compassMesh), (e49 = this.compassMesh.material.map) == null || e49.dispose(), this.compassMesh = null);
    });
    r18(this, "_clearLogoIfNeed", () => {
      var e49;
      this.logoMesh && (this.group.remove(this.logoMesh), (e49 = this.logoMesh.material.map) == null || e49.dispose(), this.logoMesh = null);
    });
    r18(this, "_clearEntryDoorIfNeed", () => {
      var e49;
      this.entryDoorMesh && (this.group.remove(this.entryDoorMesh), (e49 = this.entryDoorMesh.material.map) == null || e49.dispose(), this.entryDoorMesh = null), this.roomInfoInstance && (this.roomInfoInstance.dispose(), this.roomInfoInstance = null), this.roomInfoWrapperInstance && (this.roomInfoWrapperInstance.dispose(), this.roomInfoWrapperInstance = null);
    });
    r18(this, "onFivePanoWillArrive", (e49) => {
      var t44, o71, s60, i65;
      e49 !== this.five.panoIndex && ((t44 = this.compassMeshTween) == null || t44.dispose(), (o71 = this.compassMesh) == null || o71.material.setValues({ opacity: 0 }), (s60 = this.logoMeshTween) == null || s60.dispose(), (i65 = this.logoMesh) == null || i65.material.setValues({ opacity: 0 }));
    });
    r18(this, "onFivePanoArrived", (e49) => {
      var o71, s60, i65, m66, p66, c85, y51, I49;
      const t44 = (i65 = (s60 = (o71 = this.five.work) == null ? void 0 : o71.observers) == null ? void 0 : s60[e49]) == null ? void 0 : i65.standingPosition;
      if (this.compassMesh && t44 && (this.compassMesh.position.copy(t44.clone().setY(t44.y + 0.01)), this.compassMesh.material.opacity === 0 && ((m66 = this.compassMeshTween) == null || m66.dispose(), this.compassMeshTween = F14(1e3).onUpdate(({ progress: v58 }) => {
        var l63;
        (l63 = this.compassMesh) == null || l63.material.setValues({ opacity: v58 }), this.five.needsRender = true;
      }).play())), this.logoMesh && t44 && (this.logoMesh.position.copy(t44.clone().setY(t44.y + 0.011)), this.logoMesh.material.opacity === 0 && ((p66 = this.logoMeshTween) == null || p66.dispose(), this.logoMeshTween = F14(1e3).onUpdate(({ progress: v58 }) => {
        var l63;
        (l63 = this.logoMesh) == null || l63.material.setValues({ opacity: v58 }), this.five.needsRender = true;
      }).play())), this.entryDoorMesh) {
        const l63 = new Vector3(
          this.data.entrance.position.x,
          this.data.entrance.position.y,
          this.data.entrance.position.z
        ).clone().setY(t44.y).sub(t44).normalize(), w49 = t44.clone().add(l63.clone().multiplyScalar(0.7)).setY(t44.y + 0.01);
        this.entryDoorMesh.rotation.z = new Vector3(0, 0, -1).angleTo(l63), this.entryDoorMesh.position.copy(w49), ((c85 = this.data) == null ? void 0 : c85.room_observers[e49].room.type) === 1 ? (y51 = this.entryDoorMesh) == null || y51.material.setValues({ opacity: 1 }) : (I49 = this.entryDoorMesh) == null || I49.material.setValues({ opacity: 0 });
      }
      this.roomInfoInstance && this.roomInfoWrapperInstance && t44 && (this.roomInfoWrapperInstance.css3DObject.position.copy(t44.clone().setY(t44.y + 0.01)), this.roomInfoInstance.setRoom(this.data.room_observers[e49].room)), this.five.needsRender = true;
    });
    r18(this, "onFiveCameraDirectionUpdate", ({ longitude: e49, latitude: t44 }) => {
      var o71, s60;
      this.roomInfoWrapperInstance && (this.roomInfoWrapperInstance.css3DObject.rotation.z = e49, t44 > 0.66 && this.five.getCurrentState().mode === "Panorama" ? (o71 = this.roomInfoInstance) == null || o71.show() : (s60 = this.roomInfoInstance) == null || s60.hide());
    });
    r18(this, "onFiveModeChange", (e49, t44, o71, s60, i65) => {
      e49 !== t44 && this.setState(
        {
          visible: e49 === Five.Mode.Panorama
        },
        { userAction: i65 }
      );
    });
    this.five.scene.add(this.group), this.five.once("dispose", this.dispose), this.setState({
      visible: true,
      enabled: true,
      config: f20(f20({}, this.state.config), t43 || {})
    });
  }
  /**
   * 启用插件，响应用户操作并展示UI
   * @param options
   */
  enable(e48 = g14) {
    this.setState(
      {
        enabled: true
      },
      e48
    );
  }
  /**
   * 禁用插件，禁止响应用户操作并隐藏UI
   * @param options
   */
  disable(e48 = g14) {
    this.setState(
      {
        enabled: false
      },
      e48
    );
  }
  /**
   * 展示UI
   * @param options
   * @returns
   * @todo 需要考虑动画
   */
  show(e48 = g14) {
    if (this.state.enabled)
      return this.setState(
        {
          visible: true
        },
        e48
      ), Promise.resolve();
  }
  /**
   * 隐藏UI
   * @param options
   * @returns
   * @todo 需要考虑动画
   */
  hide(e48 = g14) {
    if (this.state.enabled)
      return this.setState(
        {
          visible: false
        },
        e48
      ), Promise.resolve();
  }
  setState(e48, t43 = { userAction: true }) {
    var s60, i65;
    const o71 = JSON.parse(JSON.stringify(this.state));
    this.state = {
      visible: (s60 = e48.visible) != null ? s60 : o71.visible,
      enabled: (i65 = e48.enabled) != null ? i65 : o71.enabled,
      config: f20(f20({}, o71.config), e48.config || {})
    }, this.hooks.emit("stateChange", {
      state: this.state,
      prevState: o71,
      userAction: t43.userAction
    }), e48.enabled === true && (this._enable(), this.hooks.emit("enable", t43)), e48.enabled === false && (this._disable(), this.hooks.emit("disable", t43)), e48.visible === false && (this._toggleVisible(), this.hooks.emit("hide", t43)), e48.visible === true && (this._toggleVisible(), this.hooks.emit("show", t43)), e48.config && this.init();
  }
  load(e48, t43, o71 = true) {
    return d19(this, null, function* () {
      const s60 = yield this.formatData(e48);
      JSON.stringify(this.data) !== JSON.stringify(s60) && (this.hooks.emit("dataChange", s60, this.data), this.data = f20({}, s60), this.init(), t43 && this.setState(t43, { userAction: o71 }), this.hooks.emit("dataLoaded", this.data));
    });
  }
  formatData(e48) {
    return e48.version && e48.data ? Promise.resolve(e48.data) : Promise.resolve(e48);
  }
  /**
   * 初始化
   * @todo 逻辑需要细分
   */
  init() {
    return d19(this, null, function* () {
      var o71, s60, i65, m66;
      const e48 = (s60 = (o71 = this.data) == null ? void 0 : o71.north_rad) != null ? s60 : null;
      this._clearCompassIfNeed(), e48 !== null && (this.compassMesh = yield this.loadCompassMesh(), this.compassMesh && (this.compassMesh.rotateX(-Math.PI / 2), this.compassMesh.rotateZ(e48 - Math.PI / 2), this.group.add(this.compassMesh))), this._clearLogoIfNeed(), this.logoMesh = yield this.loadLogoMesh(), this.logoMesh && (this.logoMesh.rotateX(-Math.PI / 2), this.group.add(this.logoMesh));
      const t43 = (m66 = (i65 = this.data) == null ? void 0 : i65.entrance) != null ? m66 : null;
      this._clearEntryDoorIfNeed(), t43 !== null && (this.entryDoorMesh = yield this.loadEntryDoorMesh(), this.roomInfoWrapperInstance = this.loadRoomInfo(), this.roomInfoInstance = i18(), this.entryDoorMesh.rotateX(-Math.PI / 2), this.roomInfoWrapperInstance && this.roomInfoInstance.appendTo(this.roomInfoWrapperInstance.container), this.group.add(this.entryDoorMesh)), this.onFivePanoArrived(this.five.panoIndex || 0), this.five.needsRender = true;
    });
  }
  loadCompassMesh() {
    return d19(this, null, function* () {
      const e48 = this.state.config.compassImageUrl, t43 = yield p15(e48), o71 = new CircleGeometry(0.7, 32), s60 = new MeshBasicMaterial({
        map: t43,
        transparent: true,
        opacity: 0,
        depthTest: false
      }), i65 = new Mesh(o71, s60);
      return i65.name = "pano-compass-mesh", i65;
    });
  }
  loadLogoMesh() {
    return d19(this, null, function* () {
      if (!this.state.config.logoURL)
        return;
      const e48 = this.state.config.logoURL, t43 = yield p15(e48);
      t43.minFilter = NearestFilter, t43.magFilter = NearestFilter;
      const o71 = new PlaneBufferGeometry(0.4, 0.4), s60 = new MeshBasicMaterial({
        map: t43,
        opacity: 0,
        transparent: true,
        depthTest: false
      }), i65 = new Mesh(o71, s60);
      return i65.name = "pano-compass-logo-mesh", i65;
    });
  }
  loadEntryDoorMesh() {
    return d19(this, null, function* () {
      const e48 = this.state.config.entryDoorImageUrl, t43 = yield p15(e48), o71 = new PlaneGeometry(0.2, 0.16), s60 = new MeshBasicMaterial({
        map: t43,
        transparent: true,
        opacity: 0.8,
        depthTest: false
      }), i65 = new Mesh(o71, s60);
      return i65.name = "pano-compass-entry-door", i65;
    });
  }
  loadRoomInfo() {
    const e48 = [
      new Vector3(-0.7, 0, -0.7),
      new Vector3(0.7, 0, -0.7),
      new Vector3(0.7, 0, 0.7),
      new Vector3(-0.7, 0, 0.7)
    ];
    return ar2(this.five).create3DDomContainer(e48);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoCompassPlugin/index.js
var vo = (o71, r66) => new qe2(o71, r66);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/constants.js
var C25 = Object.defineProperty;
var g15 = Object.defineProperties;
var d20 = Object.getOwnPropertyDescriptors;
var t18 = Object.getOwnPropertySymbols;
var p16 = Object.prototype.hasOwnProperty;
var a17 = Object.prototype.propertyIsEnumerable;
var i21 = (e48, o71, A62) => o71 in e48 ? C25(e48, o71, { enumerable: true, configurable: true, writable: true, value: A62 }) : e48[o71] = A62;
var r19 = (e48, o71) => {
  for (var A62 in o71 || (o71 = {}))
    p16.call(o71, A62) && i21(e48, A62, o71[A62]);
  if (t18)
    for (var A62 of t18(o71))
      a17.call(o71, A62) && i21(e48, A62, o71[A62]);
  return e48;
};
var l19 = (e48, o71) => g15(e48, d20(o71));
var c30 = 1;
var h20 = 3;
var L13 = new Color(16777215);
var I15 = new Color(6522623);
var R16 = new Color(16777215);
var J14 = new Color(6522623);
var E18 = 6;
var M18 = 8;
var O17 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAIVBMVEUAAAD////////////////////////////////////////PIev5AAAACnRSTlMAG/Py2baba05un7UgfgAAAHJJREFUKM9joBpgLHVSCRdA4metAoJlCJHmVWBgAeNzroKCCVCBLpjACqgJVjCBxRBT2FbBQQJYQAohsBAsUIUQWA4WiEIILAULeCEEloAFtBACizAEMLRgGIphLabDMJ2O6TlM72MGECIIMQIZIxqoBQCPvpJ/e9FaAAAAAABJRU5ErkJggg==";
var s18 = new TextureLoader().load(O17);
var U9 = {
  pointTexture: s18,
  pointSize: E18,
  lineWidth: c30,
  lineColor: L13,
  pointColor: R16,
  lineRenderOrder: 20,
  pointsRenderOrder: 20
};
var w15 = l19(r19({}, U9), { dashed: true });
var Q10 = {
  pointTexture: s18,
  pointSize: M18,
  lineWidth: h20,
  lineColor: I15,
  pointColor: J14,
  lineRenderOrder: 10,
  pointsRenderOrder: 10
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/line.js
function v18(i65, t43, e48) {
  var d73, c85, m66, f80, h66;
  const a62 = (d73 = e48 == null ? void 0 : e48.lineWidth) != null ? d73 : 2, o71 = (c85 = e48 == null ? void 0 : e48.lineColor) != null ? c85 : new Color(16777215), r66 = (m66 = e48 == null ? void 0 : e48.pointSize) != null ? m66 : 5, L40 = (f80 = e48 == null ? void 0 : e48.lineRenderOrder) != null ? f80 : 10, O40 = (h66 = e48 == null ? void 0 : e48.lineRenderOrder) != null ? h66 : 20, n72 = new n13(i65, t43);
  n72.setMaterial({ linewidth: a62, color: o71 }), n72.line.material.depthTest = false, n72.line.material.transparent = true, n72.line.renderOrder = L40, n72.points.renderOrder = O40;
  const l63 = n72.points.material;
  return l63.depthTest = false, l63.size = r66, e48 != null && e48.pointColor && l63.color.set(e48.pointColor).convertSRGBToLinear(), e48 != null && e48.pointTexture && (l63.map = e48.pointTexture), n72;
}
function S19(i65, t43) {
  const [e48, a62] = i65.points, o71 = t43 === "light" ? Q10 : U9, r66 = v18(e48.position, a62.position, o71);
  return r66.name = "normalLine_" + i65.id, r66;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/isNDCPointInScreen.js
function e16(t43) {
  const { x: n72, y: r66, z: a62 } = t43;
  return !(Math.abs(n72) > 1 || Math.abs(r66) > 1 || Math.abs(a62) > 1);
}
function s19(t43) {
  const { z: n72 } = t43;
  return !(Math.abs(n72) > 1);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/dom/base.js
var h21 = Object.defineProperty;
var d21 = (e48, t43, i65) => t43 in e48 ? h21(e48, t43, { enumerable: true, configurable: true, writable: true, value: i65 }) : e48[t43] = i65;
var n20 = (e48, t43, i65) => (d21(e48, typeof t43 != "symbol" ? t43 + "" : t43, i65), i65);
function m25(e48) {
  const t43 = document.createElement("div");
  return t43.setAttribute(
    "style",
    "backdrop-filter: blur(4px);-webkit-backdrop-filter: blur(4px);-webkit-tap-highlight-color: rgba(0,0,0,0);"
  ), t43.style.width = "max-content", t43.style.padding = "3px 6px", t43.style.lineHeight = "1", t43.style.textAlign = "center", t43.style.transform = "translate(-50%, -50%)", t43.style.fontSize = "14px", t43.style.color = "#fff", t43.style.cursor = "pointer", t43.style.userSelect = "none", e48 != null && e48.style && Object.assign(t43.style, e48 == null ? void 0 : e48.style), t43;
}
function D13(e48) {
  const t43 = document.createElement("div");
  return e48 != null && e48.id && (t43.id = e48 == null ? void 0 : e48.id), t43.classList.add("five-plugin-measure__distance"), t43.style.position = "absolute", t43.style.left = "0", t43.style.top = "0", t43.style.width = "0", t43.style.height = "0", t43.style.transform = "translate(-10px, -10px)", t43.style.transformOrigin = "left top", e48 != null && e48.style && Object.assign(t43.style, e48.style), t43;
}
var f21 = class {
  constructor(t43) {
    n20(this, "ndcPosition");
    n20(this, "contentDom");
    n20(this, "containerDom");
    n20(this, "params");
    n20(this, "canSelected");
    n20(this, "handleClick", (t44) => {
      var i65, o71;
      (o71 = (i65 = this.params).clickCallback) == null || o71.call(i65, t44, this);
    });
    this.params = t43, this.contentDom = m25({ style: t43.contentStyle }), this.containerDom = D13({ style: t43.containerStyle }), this.setCanSelect(true);
  }
  setCanSelect(t43) {
    this.canSelected = t43, this.containerDom.style.pointerEvents = t43 ? "all" : "none";
  }
  highlight() {
    this.contentDom.style.border = "0.5px solid #95AEFF", this.contentDom.style.background = "linear-gradient(90deg, #95AEFF 0%, #6386FF 100%)";
  }
  unHighlight() {
    this.contentDom.style.border = "0.5px solid rgba(255,255,255,0.6)", this.contentDom.style.background = "rgba(195,195,195,0.70)";
  }
  appendTo(t43) {
    return t43.appendChild(this.containerDom), this.containerDom.addEventListener("click", this.handleClick), this;
  }
  remove() {
    this.contentDom.removeEventListener("click", this.handleClick), this.containerDom.remove();
  }
  show() {
    this.containerDom.style.visibility = "visible";
  }
  hide() {
    this.containerDom.style.visibility = "hidden";
  }
  tempHide() {
    this.containerDom.style.opacity = "0";
  }
  tempShow() {
    this.containerDom.style.opacity = "1";
  }
  /**
   * @description: camera update 的时候，更新dom的位置
   */
  updateDomPosition(t43) {
    if (!this.ndcPosition) {
      this.tempHide();
      return;
    }
    const i65 = t43.getElement();
    if (!i65)
      return;
    const o71 = i65.clientWidth, l63 = i65.clientHeight, s60 = this.ndcPosition.clone().project(t43.camera);
    if (!s19(s60)) {
      this.tempHide();
      return;
    }
    const c85 = (s60.x + 1) / 2 * o71, r66 = -(s60.y - 1) / 2 * l63;
    this.containerDom.style.transform = `translate(${c85}px, ${r66}px)`, this.tempShow();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/dom/distanceItem.js
var j8 = Object.defineProperty;
var V7 = Object.defineProperties;
var $8 = Object.getOwnPropertyDescriptors;
var F16 = Object.getOwnPropertySymbols;
var A23 = Object.prototype.hasOwnProperty;
var B9 = Object.prototype.propertyIsEnumerable;
var u20 = (i65, t43, e48) => t43 in i65 ? j8(i65, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : i65[t43] = e48;
var y13 = (i65, t43) => {
  for (var e48 in t43 || (t43 = {}))
    A23.call(t43, e48) && u20(i65, e48, t43[e48]);
  if (F16)
    for (var e48 of F16(t43))
      B9.call(t43, e48) && u20(i65, e48, t43[e48]);
  return i65;
};
var D14 = (i65, t43) => V7(i65, $8(t43));
var m26 = (i65, t43, e48) => (u20(i65, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var K11 = class extends f21 {
  constructor(e48) {
    var n72;
    e48.contentStyle = D14(y13({}, e48.contentStyle), {
      background: "#FFFFFF",
      color: "#041066",
      fontFamily: "Arial-BoldMT",
      fontWeight: "BoldMT",
      letterSpacing: "0",
      lineHeight: "20px",
      padding: "2px 8px",
      borderRadius: "12px",
      display: "flex",
      alignItems: "center",
      justifyContent: "center",
      "--distance-scale": "1",
      transition: "font-size 0.5s ease"
    });
    super(e48);
    m26(this, "line");
    m26(this, "lastFOV");
    m26(this, "cameraUpdateHandler", null);
    m26(this, "onPanoChange", () => {
      const e49 = this.getFiveInstance();
      e49 && setTimeout(() => this.update(e49), 100);
    });
    if (this.line = e48.line, (n72 = this.params.userDistanceItem) != null && n72.element ? this.containerDom.appendChild(this.params.userDistanceItem.element) : this.containerDom.appendChild(this.contentDom), !document.getElementById("PanoMeasurePluginFontSizes")) {
      const a62 = document.createElement("style");
      a62.id = "PanoMeasurePluginFontSizes", document.head.appendChild(a62), a62.innerHTML = `
        .pano-measure-item-content {
          transition: font-size 0.5s ease; /* Smooth transition for font size */
        }
        
        /* sm screen */
        @media screen and (max-width: 499px) {
          .pano-measure-item-content {
            font-size: calc(12px + (14px - 12px) * var(--distance-scale));
          }
        }
        
        /* md screen */
        @media screen and (min-width: 500px) and (max-width: 929px) {
          .pano-measure-item-content {
            font-size: calc(12px + (14px - 12px) * var(--distance-scale));
          }
        }
        
        /* lg screen */
        @media screen and (min-width: 930px) and (max-width: 1365px) {
          .pano-measure-item-content {
            font-size: calc(14px + (16px - 14px) * var(--distance-scale));
          }
        }
        
        /* xl screen */
        @media screen and (min-width: 1366px) and (max-width: 2549px) {
          .pano-measure-item-content {
            font-size: calc(14px + (16px - 14px) * var(--distance-scale));
          }
        }
        
        /* xxl screen */
        @media screen and (min-width: 2550px) {
          .pano-measure-item-content {
            font-size: calc(0.875rem + (1rem - 0.875rem) * var(--distance-scale));
          }
        }
      `;
    }
    this.contentDom.classList.add("pano-measure-item-content");
  }
  appendTo(e48) {
    if (super.appendTo(e48), !this.cameraUpdateHandler) {
      this.cameraUpdateHandler = () => this.onCameraUpdate();
      const n72 = this.getFiveInstance();
      n72 && (n72.on("cameraUpdate", this.cameraUpdateHandler), n72.on("cameraFovUpdate", this.cameraUpdateHandler), n72.on("panoArrived", this.onPanoChange));
    }
    return this;
  }
  remove() {
    if (this.cameraUpdateHandler) {
      const e48 = this.getFiveInstance();
      e48 && (e48.off("cameraUpdate", this.cameraUpdateHandler), e48.off("cameraFovUpdate", this.cameraUpdateHandler), e48.off("panoArrived", this.onPanoChange)), this.cameraUpdateHandler = null;
    }
    super.remove();
  }
  /** 获取内容文本 */
  getCurrentContent() {
    var l63, d73, s60, o71;
    if (this.line.points.length < 2)
      return "";
    const [e48, n72] = this.line.points, a62 = e48.position.clone().distanceTo(n72.position), r66 = (d73 = this.line.text) != null ? d73 : (l63 = this.line.model.config) == null ? void 0 : l63.defaultText, p66 = (o71 = (s60 = this.line.model.config) == null ? void 0 : s60.getDistanceText) == null ? void 0 : o71.call(s60, a62), c85 = r66 != null ? r66 : p66;
    return c85 != null ? c85 : a62.toFixed(2) + "m";
  }
  update(e48) {
    var v58;
    if (this.line.mesh.visible === false) {
      this.hide();
      return;
    }
    const n72 = e48.getElement();
    if (!n72)
      return;
    const a62 = n72.clientWidth, r66 = n72.clientHeight, p66 = a62 / 2, c85 = r66 / 2;
    if (this.line.points.length < 2)
      return;
    const [l63, d73] = this.line.points.map((W25) => W25.position.clone().applyMatrix4(this.line.mesh.matrixWorld)), s60 = l63.clone().project(e48.camera), o71 = d73.clone().project(e48.camera), h66 = c9(l63, d73).clone().project(e48.camera), f80 = new Vector2(s60.x * p66, s60.y * c85), x49 = new Vector2(o71.x * p66, o71.y * c85), P55 = f80.distanceTo(x49);
    if ((() => !(Math.abs(s60.z) > 1 || Math.abs(o71.z) > 1 || !s19(s60) && !s19(o71) || !s19(h66) || P55 === 0))() === false) {
      this.hide();
      return;
    }
    const C52 = c9(l63, d73).distanceTo(e48.camera.position), H39 = e48.camera.fov || 60, M48 = 2 * Math.tan(0.5 * H39 / 180 * Math.PI), z28 = Math.max(Math.min(1 - M48 * C52 / 40, 1), 0);
    this.contentDom.style.setProperty("--distance-scale", z28.toString());
    const S52 = (h66.x + 1) / 2 * a62, w49 = -(h66.y - 1) / 2 * r66, T38 = -(Math.atan((f80.y - x49.y) / (f80.x - x49.x)) * 180) / Math.PI, b55 = this.containerDom.parentElement && this.contentDom.clientWidth > P55 ? -20 : 0;
    this.containerDom.style.transform = `translate(${S52}px, ${w49}px) rotate(${T38}deg) translateY(${b55}px)`, this.show(), (v58 = this.params.userDistanceItem) == null || v58.update({ line: this.line, polyline: this.line.getPolyline() });
    const E53 = this.getCurrentContent();
    this.contentDom.innerText = E53;
  }
  getFiveInstance() {
    var e48, n72;
    return (n72 = (e48 = this.line.model) == null ? void 0 : e48.config) == null ? void 0 : n72.five;
  }
  onCameraUpdate() {
    const e48 = this.getFiveInstance();
    e48 != null && e48.camera && this.lastFOV !== e48.camera.fov && (this.lastFOV = e48.camera.fov, this.update(e48));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Model/line.js
var l20 = Object.defineProperty;
var m27 = (s60, t43, i65) => t43 in s60 ? l20(s60, t43, { enumerable: true, configurable: true, writable: true, value: i65 }) : s60[t43] = i65;
var e17 = (s60, t43, i65) => (m27(s60, typeof t43 != "symbol" ? t43 + "" : t43, i65), i65);
var r20 = class _r2 {
  constructor(t43, i65, o71) {
    e17(this, "id");
    e17(this, "selected", false);
    e17(this, "text");
    e17(this, "type", "line");
    e17(this, "model");
    e17(this, "mesh");
    e17(this, "points");
    e17(this, "lightMesh");
    e17(this, "hook");
    e17(this, "distanceItem");
    e17(this, "polyline");
    e17(this, "visible");
    var h66;
    if (this.id = r2(), this.model = o71, t43.id === i65.id)
      throw new Error("无效的线段, 一个点无法构成线段");
    typeof o71.config.defaultText == "string" && (this.text = o71.config.defaultText), this.hook = new Subscribe(), this.points = [t43, i65], this.mesh = S19(this, "normal"), this.lightMesh = S19(this, "light"), this.distanceItem = new K11({
      line: this,
      clickCallback: () => this.hook.emit("selected", this),
      userDistanceItem: (h66 = this.model.config) != null && h66.userDistanceItemCreator ? this.model.config.userDistanceItemCreator() : void 0
    });
  }
  hide() {
    this.visible && (this.visible = false, this.mesh.visible = false, this.distanceItem.hide());
  }
  show() {
    this.visible || (this.visible = true, this.mesh.visible = true, this.distanceItem.show());
  }
  setPoints(t43, i65) {
    this.points[0].position.copy(t43), this.points[1].position.copy(i65), this.mesh.setPoints(t43, i65);
  }
  remove() {
    this.mesh.parent && this.mesh.parent.remove(this.mesh), this.distanceItem.remove();
  }
  clear() {
    this.selected = false, this.polyline = void 0;
  }
  isEmpty() {
    return this.points.length === 0;
  }
  getPolyline() {
    if (this.polyline)
      return this.polyline;
    const t43 = this.model.polylines.find((i65) => i65.lines.includes(this));
    if (t43)
      return this.polyline = t43, t43;
  }
  findAnotherPoint(t43) {
    return this.points.find(({ id: i65 }) => i65 !== t43.id);
  }
  setText(t43) {
    this.text = t43, this.hook.emit("textChanged", t43);
  }
  toJSON() {
    return this.toJson();
  }
  toJson() {
    return { id: this.id, points: this.points.map((t43) => t43.toJson()), text: this.text };
  }
  clone() {
    const t43 = new _r2(this.points[0].clone(), this.points[1].clone(), this.model);
    return t43.text = this.text, t43;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Model/point.js
var e18 = Object.defineProperty;
var n21 = (t43, o71, i65) => o71 in t43 ? e18(t43, o71, { enumerable: true, configurable: true, writable: true, value: i65 }) : t43[o71] = i65;
var r21 = (t43, o71, i65) => (n21(t43, typeof o71 != "symbol" ? o71 + "" : o71, i65), i65);
var s20 = class _s {
  constructor(o71) {
    r21(this, "id");
    r21(this, "position");
    r21(this, "type", "point");
    if (this.id = r2(), this.position = new Vector3(), Array.isArray(o71))
      this.position.fromArray(o71);
    else if (typeof o71 == "object" && o71.isVector3)
      this.position.copy(o71);
    else
      throw new Error("position must be Vector3 or number[]");
  }
  toJson() {
    return { id: this.id, position: this.position.toArray() };
  }
  clone() {
    return new _s(this.position);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/ironbox.js
var t19 = (e48) => e48.preventDefault();

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Controller/BaseController.js
var f22 = Object.defineProperty;
var g16 = Object.defineProperties;
var v19 = Object.getOwnPropertyDescriptors;
var l21 = Object.getOwnPropertySymbols;
var E19 = Object.prototype.hasOwnProperty;
var I16 = Object.prototype.propertyIsEnumerable;
var d22 = (o71, e48, t43) => e48 in o71 ? f22(o71, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[e48] = t43;
var m28 = (o71, e48) => {
  for (var t43 in e48 || (e48 = {}))
    E19.call(e48, t43) && d22(o71, t43, e48[t43]);
  if (l21)
    for (var t43 of l21(e48))
      I16.call(e48, t43) && d22(o71, t43, e48[t43]);
  return o71;
};
var u21 = (o71, e48) => g16(o71, v19(e48));
var i22 = (o71, e48, t43) => (d22(o71, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var V8 = class {
  constructor(e48) {
    i22(this, "model");
    i22(this, "five");
    i22(this, "group");
    i22(this, "config");
    i22(this, "dashed");
    i22(this, "perpendicularDashed");
    i22(this, "disposed", false);
    i22(this, "isMobile");
    i22(this, "editParams");
    i22(this, "magnifierParams");
    i22(this, "mouseGroup");
    i22(this, "container");
    i22(this, "hook");
    i22(this, "magnifier");
    i22(this, "userDistanceItemCreator");
    i22(this, "pointSelectorConfig");
    i22(this, "workUtil");
    i22(this, "getMeasureType");
    i22(this, "updateDistanceUI", () => {
      this.dashed.distanceItem.update(this.five), this.model.getAllLines().forEach((e49) => e49.distanceItem.update(this.five));
    });
    i22(this, "updateAreaUI", () => {
      this.dashed.distanceItem.update(this.five), this.model.getAllAreas().forEach((e49) => {
        e49.areaItem.updateArea(this.five), e49.polyline.lines.forEach((t44) => {
          t44.distanceItem.update(this.five);
        });
      });
    });
    var s60, r66, h66;
    this.five = e48.five, this.hook = e48.hook, this.model = e48.model, this.getMeasureType = e48.getMeasureType, this.config = e48.config, this.editParams = e48.editParams, this.magnifierParams = e48.magnifierParams, this.magnifier = e48.magnifier, this.pointSelectorConfig = u21(m28({}, e48.pointSelectorConfig), {
      helper: m28({ magnifierParams: e48.magnifierParams }, (s60 = e48.pointSelectorConfig) == null ? void 0 : s60.helper)
    }), this.container = e48.container, this.isMobile = (h66 = (r66 = e48.openParams) == null ? void 0 : r66.isMobile) != null ? h66 : false, this.workUtil = e48.workUtil, this.userDistanceItemCreator = e48.userDistanceItemCreator, this.group = e48.group, this.mouseGroup = e48.mouseGroup, this.dashed = new r20(new s20([0, 0, 0]), new s20([0, 0, 0]), this.model), this.dashed.distanceItem.setCanSelect(false), this.dashed.mesh.setMaterial({ dashed: true, dashScale: 100 }), this.dashed.mesh.name = "dashLine", this.perpendicularDashed = new r20(new s20([0, 0, 0]), new s20([0, 0, 0]), this.model), this.perpendicularDashed.distanceItem.setCanSelect(false), this.perpendicularDashed.mesh.setMaterial({ dashed: true, dashScale: 40, color: new Color(10218089) }), this.perpendicularDashed.mesh.name = "perpendicularDashLine";
    const t43 = this.five.getElement();
    t43 && (t43.addEventListener("touchstart", t19), t43.addEventListener("contextmenu", t19));
  }
  get currentMeasureType() {
    return this.getMeasureType();
  }
  removeLine(e48) {
    this.group.remove(e48.mesh, e48.lightMesh), e48.distanceItem.remove(), this.five.needsRender = true;
  }
  updateMouseGroup(e48, t43) {
    if (!e48)
      return this.mouseGroup;
    if (this.mouseGroup.position.copy(e48.point), t43)
      this.mouseGroup.quaternion.copy(t43.quaternion);
    else if (e48.face) {
      const r66 = e48.face.normal.clone().multiplyScalar(0.05), c85 = e48.point.clone().add(r66).clone().add(r66);
      this.mouseGroup.lookAt(c85);
    }
    return this.mouseGroup;
  }
  dispose() {
    var t43;
    this.disposed = true, (t43 = this.magnifier) == null || t43.disable(), this.model.getAllLines().forEach((s60) => this.removeLine(s60)), this.model.areas.forEach((s60) => s60.remove());
    const e48 = this.five.getElement();
    e48 && (e48.removeEventListener("touchstart", t19), e48.removeEventListener("contextmenu", t19));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Model/polyline.js
var c31 = Object.defineProperty;
var f23 = (r66, i65, e48) => i65 in r66 ? c31(r66, i65, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[i65] = e48;
var t20 = (r66, i65, e48) => (f23(r66, typeof i65 != "symbol" ? i65 + "" : i65, e48), e48);
var R17 = class {
  constructor(i65) {
    t20(this, "id", r2());
    t20(this, "lines", []);
    t20(this, "visiblePanoIndexes");
    t20(this, "visibleFiveMode");
    t20(this, "model");
    t20(this, "type", "polyline");
    t20(this, "hook", new Subscribe());
    this.model = i65.model;
  }
  get points() {
    const i65 = /* @__PURE__ */ new Set();
    return this.lines.forEach((e48) => {
      i65.add(e48.points[0]), i65.add(e48.points[1]);
    }), Array.from(i65);
  }
  addLine(i65) {
    if (this.includes(i65)) {
      console.error(new Error("不能重复添加线段"));
      return;
    }
    const e48 = this.getLastPoint(), l63 = e48 && i65.findAnotherPoint(e48);
    if (e48 && !l63) {
      console.error(new Error("传入线段无法与当前折线进行连接"));
      return;
    }
    this.lines.push(i65), this.hook.emit("lineAdded", i65);
  }
  removeLine(i65) {
    if (this.lines.length === 0)
      return;
    if (!this.isLastLine(i65)) {
      console.error(new Error("传入线段不是当前折线的最后一段"));
      return;
    }
    this.lines.pop() && this.hook.emit("lineRemoved", i65);
  }
  isLastLine(i65) {
    const e48 = this.getLastLine();
    return e48 ? i65.id === e48.id : false;
  }
  getLastLine() {
    return this.lines.slice(-1)[0];
  }
  /**
   * @description: 获取连续线段的顶点数量
   */
  getPointLength() {
    return this.lines.length + 1;
  }
  clear() {
    const i65 = this.lines.slice();
    this.lines.length = 0, i65.reduceRight((e48, l63) => this.hook.emit("lineRemoved", l63), void 0);
  }
  /** 是否产生重叠 */
  overlapWith(i65) {
    return i65.type === "point" ? this.includes(i65) : i65.type === "line" ? i65.points.some((e48) => this.includes(e48)) : i65.type === "polyline" ? i65.points.some((e48) => this.includes(e48)) : true;
  }
  includes(i65) {
    return i65.type === "point" ? this.points.find(({ id: e48 }) => e48 === i65.id) !== void 0 : i65.type === "line" ? this.lines.find(({ id: e48 }) => e48 === i65.id) !== void 0 : false;
  }
  isEmpty() {
    return this.lines.length === 0;
  }
  getLastPoint() {
    return this.points.slice(-1)[0];
  }
  toJSON() {
    return this.toJson();
  }
  toJson() {
    return {
      id: this.id,
      lines: this.lines.map((i65) => i65.toJson()),
      visiblePanoIndexes: this.visiblePanoIndexes,
      visibleFiveMode: this.visibleFiveMode
    };
  }
  getPointByID(i65) {
    return this.points.find(({ id: e48 }) => e48 === i65);
  }
  fromJson(i65) {
    this.clear(), this.id = i65.id;
    const { getPoint: e48 } = u72(), l63 = i65.lines.map((n72) => {
      const [d73, p66] = n72.points, s60 = e48(d73), h66 = e48(p66);
      if (!s60 || !h66)
        throw new Error("线上的点不存在");
      const o71 = new r20(s60, h66, this.model);
      return o71.id = n72.id, o71.text = n72.text, o71;
    });
    this.lines.push(...l63), this.visiblePanoIndexes = i65.visiblePanoIndexes, this.visibleFiveMode = i65.visibleFiveMode;
    function u72() {
      const n72 = /* @__PURE__ */ new Map();
      function d73(s60) {
        const h66 = n72.get(s60.id);
        if (h66)
          return h66;
        const o71 = new s20(s60.position);
        return o71.id = s60.id, n72.set(s60.id, o71), o71;
      }
      function p66() {
        return Array.from(n72.values());
      }
      return { getPoint: d73, getAllPoints: p66 };
    }
    return this;
  }
  replace(i65) {
    this.id = i65.id, this.clear(), this.lines.push(...i65.lines);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/earcut/src/earcut.js
var B10 = {};
var N10 = {
  get exports() {
    return B10;
  },
  set exports(e48) {
    B10 = e48;
  }
};
N10.exports = P18;
B10.default = P18;
function P18(e48, r66, n72) {
  n72 = n72 || 2;
  var t43 = r66 && r66.length, x49 = t43 ? r66[0] * n72 : e48.length, u72 = G10(e48, 0, x49, n72, true), f80 = [];
  if (!u72 || u72.next === u72.prev)
    return f80;
  var v58, o71, i65, c85, s60, l63, w49;
  if (t43 && (u72 = I17(e48, r66, u72, n72)), e48.length > 80 * n72) {
    v58 = i65 = e48[0], o71 = c85 = e48[1];
    for (var p66 = n72; p66 < x49; p66 += n72)
      s60 = e48[p66], l63 = e48[p66 + 1], s60 < v58 && (v58 = s60), l63 < o71 && (o71 = l63), s60 > i65 && (i65 = s60), l63 > c85 && (c85 = l63);
    w49 = Math.max(i65 - v58, c85 - o71), w49 = w49 !== 0 ? 32767 / w49 : 0;
  }
  return k12(u72, f80, n72, v58, o71, w49, 0), f80;
}
function G10(e48, r66, n72, t43, x49) {
  var u72, f80;
  if (x49 === R18(e48, r66, n72, t43) > 0)
    for (u72 = r66; u72 < n72; u72 += t43)
      f80 = $9(u72, e48[u72], e48[u72 + 1], f80);
  else
    for (u72 = n72 - t43; u72 >= r66; u72 -= t43)
      f80 = $9(u72, e48[u72], e48[u72 + 1], f80);
  return f80 && C26(f80, f80.next) && (z8(f80), f80 = f80.next), f80;
}
function g17(e48, r66) {
  if (!e48)
    return e48;
  r66 || (r66 = e48);
  var n72 = e48, t43;
  do
    if (t43 = false, !n72.steiner && (C26(n72, n72.next) || Z6(n72.prev, n72, n72.next) === 0)) {
      if (z8(n72), n72 = r66 = n72.prev, n72 === n72.next)
        break;
      t43 = true;
    } else
      n72 = n72.next;
  while (t43 || n72 !== r66);
  return r66;
}
function k12(e48, r66, n72, t43, x49, u72, f80) {
  if (e48) {
    !f80 && u72 && q12(e48, t43, x49, u72);
    for (var v58 = e48, o71, i65; e48.prev !== e48.next; ) {
      if (o71 = e48.prev, i65 = e48.next, u72 ? U10(e48, t43, x49, u72) : Q11(e48)) {
        r66.push(o71.i / n72 | 0), r66.push(e48.i / n72 | 0), r66.push(i65.i / n72 | 0), z8(e48), e48 = i65.next, v58 = i65.next;
        continue;
      }
      if (e48 = i65, e48 === v58) {
        f80 ? f80 === 1 ? (e48 = W11(g17(e48), r66, n72), k12(e48, r66, n72, t43, x49, u72, 2)) : f80 === 2 && _11(e48, r66, n72, t43, x49, u72) : k12(g17(e48), r66, n72, t43, x49, u72, 1);
        break;
      }
    }
  }
}
function Q11(e48) {
  var r66 = e48.prev, n72 = e48, t43 = e48.next;
  if (Z6(r66, n72, t43) >= 0)
    return false;
  for (var x49 = r66.x, u72 = n72.x, f80 = t43.x, v58 = r66.y, o71 = n72.y, i65 = t43.y, c85 = x49 < u72 ? x49 < f80 ? x49 : f80 : u72 < f80 ? u72 : f80, s60 = v58 < o71 ? v58 < i65 ? v58 : i65 : o71 < i65 ? o71 : i65, l63 = x49 > u72 ? x49 > f80 ? x49 : f80 : u72 > f80 ? u72 : f80, w49 = v58 > o71 ? v58 > i65 ? v58 : i65 : o71 > i65 ? o71 : i65, p66 = t43.next; p66 !== r66; ) {
    if (p66.x >= c85 && p66.x <= l63 && p66.y >= s60 && p66.y <= w49 && F17(x49, v58, u72, o71, f80, i65, p66.x, p66.y) && Z6(p66.prev, p66, p66.next) >= 0)
      return false;
    p66 = p66.next;
  }
  return true;
}
function U10(e48, r66, n72, t43) {
  var x49 = e48.prev, u72 = e48, f80 = e48.next;
  if (Z6(x49, u72, f80) >= 0)
    return false;
  for (var v58 = x49.x, o71 = u72.x, i65 = f80.x, c85 = x49.y, s60 = u72.y, l63 = f80.y, w49 = v58 < o71 ? v58 < i65 ? v58 : i65 : o71 < i65 ? o71 : i65, p66 = c85 < s60 ? c85 < l63 ? c85 : l63 : s60 < l63 ? s60 : l63, M48 = v58 > o71 ? v58 > i65 ? v58 : i65 : o71 > i65 ? o71 : i65, L40 = c85 > s60 ? c85 > l63 ? c85 : l63 : s60 > l63 ? s60 : l63, T38 = D15(w49, p66, r66, n72, t43), V25 = D15(M48, L40, r66, n72, t43), y51 = e48.prevZ, h66 = e48.nextZ; y51 && y51.z >= T38 && h66 && h66.z <= V25; ) {
    if (y51.x >= w49 && y51.x <= M48 && y51.y >= p66 && y51.y <= L40 && y51 !== x49 && y51 !== f80 && F17(v58, c85, o71, s60, i65, l63, y51.x, y51.y) && Z6(y51.prev, y51, y51.next) >= 0 || (y51 = y51.prevZ, h66.x >= w49 && h66.x <= M48 && h66.y >= p66 && h66.y <= L40 && h66 !== x49 && h66 !== f80 && F17(v58, c85, o71, s60, i65, l63, h66.x, h66.y) && Z6(h66.prev, h66, h66.next) >= 0))
      return false;
    h66 = h66.nextZ;
  }
  for (; y51 && y51.z >= T38; ) {
    if (y51.x >= w49 && y51.x <= M48 && y51.y >= p66 && y51.y <= L40 && y51 !== x49 && y51 !== f80 && F17(v58, c85, o71, s60, i65, l63, y51.x, y51.y) && Z6(y51.prev, y51, y51.next) >= 0)
      return false;
    y51 = y51.prevZ;
  }
  for (; h66 && h66.z <= V25; ) {
    if (h66.x >= w49 && h66.x <= M48 && h66.y >= p66 && h66.y <= L40 && h66 !== x49 && h66 !== f80 && F17(v58, c85, o71, s60, i65, l63, h66.x, h66.y) && Z6(h66.prev, h66, h66.next) >= 0)
      return false;
    h66 = h66.nextZ;
  }
  return true;
}
function W11(e48, r66, n72) {
  var t43 = e48;
  do {
    var x49 = t43.prev, u72 = t43.next.next;
    !C26(x49, u72) && J15(x49, t43, t43.next, u72) && H8(x49, u72) && H8(u72, x49) && (r66.push(x49.i / n72 | 0), r66.push(t43.i / n72 | 0), r66.push(u72.i / n72 | 0), z8(t43), z8(t43.next), t43 = e48 = u72), t43 = t43.next;
  } while (t43 !== e48);
  return g17(t43);
}
function _11(e48, r66, n72, t43, x49, u72) {
  var f80 = e48;
  do {
    for (var v58 = f80.next.next; v58 !== f80.prev; ) {
      if (f80.i !== v58.i && m29(f80, v58)) {
        var o71 = K12(f80, v58);
        f80 = g17(f80, f80.next), o71 = g17(o71, o71.next), k12(f80, r66, n72, t43, x49, u72, 0), k12(o71, r66, n72, t43, x49, u72, 0);
        return;
      }
      v58 = v58.next;
    }
    f80 = f80.next;
  } while (f80 !== e48);
}
function I17(e48, r66, n72, t43) {
  var x49 = [], u72, f80, v58, o71, i65;
  for (u72 = 0, f80 = r66.length; u72 < f80; u72++)
    v58 = r66[u72] * t43, o71 = u72 < f80 - 1 ? r66[u72 + 1] * t43 : e48.length, i65 = G10(e48, v58, o71, t43, false), i65 === i65.next && (i65.steiner = true), x49.push(b19(i65));
  for (x49.sort(S20), u72 = 0; u72 < x49.length; u72++)
    n72 = X14(x49[u72], n72);
  return n72;
}
function S20(e48, r66) {
  return e48.x - r66.x;
}
function X14(e48, r66) {
  var n72 = j9(e48, r66);
  if (!n72)
    return r66;
  var t43 = K12(n72, e48);
  return g17(t43, t43.next), g17(n72, n72.next);
}
function j9(e48, r66) {
  var n72 = r66, t43 = e48.x, x49 = e48.y, u72 = -1 / 0, f80;
  do {
    if (x49 <= n72.y && x49 >= n72.next.y && n72.next.y !== n72.y) {
      var v58 = n72.x + (x49 - n72.y) * (n72.next.x - n72.x) / (n72.next.y - n72.y);
      if (v58 <= t43 && v58 > u72 && (u72 = v58, f80 = n72.x < n72.next.x ? n72 : n72.next, v58 === t43))
        return f80;
    }
    n72 = n72.next;
  } while (n72 !== r66);
  if (!f80)
    return null;
  var o71 = f80, i65 = f80.x, c85 = f80.y, s60 = 1 / 0, l63;
  n72 = f80;
  do
    t43 >= n72.x && n72.x >= i65 && t43 !== n72.x && F17(x49 < c85 ? t43 : u72, x49, i65, c85, x49 < c85 ? u72 : t43, x49, n72.x, n72.y) && (l63 = Math.abs(x49 - n72.y) / (t43 - n72.x), H8(n72, e48) && (l63 < s60 || l63 === s60 && (n72.x > f80.x || n72.x === f80.x && Y11(f80, n72))) && (f80 = n72, s60 = l63)), n72 = n72.next;
  while (n72 !== o71);
  return f80;
}
function Y11(e48, r66) {
  return Z6(e48.prev, e48, r66.prev) < 0 && Z6(r66.next, e48, e48.next) < 0;
}
function q12(e48, r66, n72, t43) {
  var x49 = e48;
  do
    x49.z === 0 && (x49.z = D15(x49.x, x49.y, r66, n72, t43)), x49.prevZ = x49.prev, x49.nextZ = x49.next, x49 = x49.next;
  while (x49 !== e48);
  x49.prevZ.nextZ = null, x49.prevZ = null, a18(x49);
}
function a18(e48) {
  var r66, n72, t43, x49, u72, f80, v58, o71, i65 = 1;
  do {
    for (n72 = e48, e48 = null, u72 = null, f80 = 0; n72; ) {
      for (f80++, t43 = n72, v58 = 0, r66 = 0; r66 < i65 && (v58++, t43 = t43.nextZ, !!t43); r66++)
        ;
      for (o71 = i65; v58 > 0 || o71 > 0 && t43; )
        v58 !== 0 && (o71 === 0 || !t43 || n72.z <= t43.z) ? (x49 = n72, n72 = n72.nextZ, v58--) : (x49 = t43, t43 = t43.nextZ, o71--), u72 ? u72.nextZ = x49 : e48 = x49, x49.prevZ = u72, u72 = x49;
      n72 = t43;
    }
    u72.nextZ = null, i65 *= 2;
  } while (f80 > 1);
  return e48;
}
function D15(e48, r66, n72, t43, x49) {
  return e48 = (e48 - n72) * x49 | 0, r66 = (r66 - t43) * x49 | 0, e48 = (e48 | e48 << 8) & 16711935, e48 = (e48 | e48 << 4) & 252645135, e48 = (e48 | e48 << 2) & 858993459, e48 = (e48 | e48 << 1) & 1431655765, r66 = (r66 | r66 << 8) & 16711935, r66 = (r66 | r66 << 4) & 252645135, r66 = (r66 | r66 << 2) & 858993459, r66 = (r66 | r66 << 1) & 1431655765, e48 | r66 << 1;
}
function b19(e48) {
  var r66 = e48, n72 = e48;
  do
    (r66.x < n72.x || r66.x === n72.x && r66.y < n72.y) && (n72 = r66), r66 = r66.next;
  while (r66 !== e48);
  return n72;
}
function F17(e48, r66, n72, t43, x49, u72, f80, v58) {
  return (x49 - f80) * (r66 - v58) >= (e48 - f80) * (u72 - v58) && (e48 - f80) * (t43 - v58) >= (n72 - f80) * (r66 - v58) && (n72 - f80) * (u72 - v58) >= (x49 - f80) * (t43 - v58);
}
function m29(e48, r66) {
  return e48.next.i !== r66.i && e48.prev.i !== r66.i && !d23(e48, r66) && // dones't intersect other edges
  (H8(e48, r66) && H8(r66, e48) && ee4(e48, r66) && // locally visible
  (Z6(e48.prev, e48, r66.prev) || Z6(e48, r66.prev, r66)) || // does not create opposite-facing sectors
  C26(e48, r66) && Z6(e48.prev, e48, e48.next) > 0 && Z6(r66.prev, r66, r66.next) > 0);
}
function Z6(e48, r66, n72) {
  return (r66.y - e48.y) * (n72.x - r66.x) - (r66.x - e48.x) * (n72.y - r66.y);
}
function C26(e48, r66) {
  return e48.x === r66.x && e48.y === r66.y;
}
function J15(e48, r66, n72, t43) {
  var x49 = A24(Z6(e48, r66, n72)), u72 = A24(Z6(e48, r66, t43)), f80 = A24(Z6(n72, t43, e48)), v58 = A24(Z6(n72, t43, r66));
  return !!(x49 !== u72 && f80 !== v58 || x49 === 0 && E20(e48, n72, r66) || u72 === 0 && E20(e48, t43, r66) || f80 === 0 && E20(n72, e48, t43) || v58 === 0 && E20(n72, r66, t43));
}
function E20(e48, r66, n72) {
  return r66.x <= Math.max(e48.x, n72.x) && r66.x >= Math.min(e48.x, n72.x) && r66.y <= Math.max(e48.y, n72.y) && r66.y >= Math.min(e48.y, n72.y);
}
function A24(e48) {
  return e48 > 0 ? 1 : e48 < 0 ? -1 : 0;
}
function d23(e48, r66) {
  var n72 = e48;
  do {
    if (n72.i !== e48.i && n72.next.i !== e48.i && n72.i !== r66.i && n72.next.i !== r66.i && J15(n72, n72.next, e48, r66))
      return true;
    n72 = n72.next;
  } while (n72 !== e48);
  return false;
}
function H8(e48, r66) {
  return Z6(e48.prev, e48, e48.next) < 0 ? Z6(e48, r66, e48.next) >= 0 && Z6(e48, e48.prev, r66) >= 0 : Z6(e48, r66, e48.prev) < 0 || Z6(e48, e48.next, r66) < 0;
}
function ee4(e48, r66) {
  var n72 = e48, t43 = false, x49 = (e48.x + r66.x) / 2, u72 = (e48.y + r66.y) / 2;
  do
    n72.y > u72 != n72.next.y > u72 && n72.next.y !== n72.y && x49 < (n72.next.x - n72.x) * (u72 - n72.y) / (n72.next.y - n72.y) + n72.x && (t43 = !t43), n72 = n72.next;
  while (n72 !== e48);
  return t43;
}
function K12(e48, r66) {
  var n72 = new O18(e48.i, e48.x, e48.y), t43 = new O18(r66.i, r66.x, r66.y), x49 = e48.next, u72 = r66.prev;
  return e48.next = r66, r66.prev = e48, n72.next = x49, x49.prev = n72, t43.next = n72, n72.prev = t43, u72.next = t43, t43.prev = u72, t43;
}
function $9(e48, r66, n72, t43) {
  var x49 = new O18(e48, r66, n72);
  return t43 ? (x49.next = t43.next, x49.prev = t43, t43.next.prev = x49, t43.next = x49) : (x49.prev = x49, x49.next = x49), x49;
}
function z8(e48) {
  e48.next.prev = e48.prev, e48.prev.next = e48.next, e48.prevZ && (e48.prevZ.nextZ = e48.nextZ), e48.nextZ && (e48.nextZ.prevZ = e48.prevZ);
}
function O18(e48, r66, n72) {
  this.i = e48, this.x = r66, this.y = n72, this.prev = null, this.next = null, this.z = 0, this.prevZ = null, this.nextZ = null, this.steiner = false;
}
P18.deviation = function(e48, r66, n72, t43) {
  var x49 = r66 && r66.length, u72 = x49 ? r66[0] * n72 : e48.length, f80 = Math.abs(R18(e48, 0, u72, n72));
  if (x49)
    for (var v58 = 0, o71 = r66.length; v58 < o71; v58++) {
      var i65 = r66[v58] * n72, c85 = v58 < o71 - 1 ? r66[v58 + 1] * n72 : e48.length;
      f80 -= Math.abs(R18(e48, i65, c85, n72));
    }
  var s60 = 0;
  for (v58 = 0; v58 < t43.length; v58 += 3) {
    var l63 = t43[v58] * n72, w49 = t43[v58 + 1] * n72, p66 = t43[v58 + 2] * n72;
    s60 += Math.abs(
      (e48[l63] - e48[p66]) * (e48[w49 + 1] - e48[l63 + 1]) - (e48[l63] - e48[w49]) * (e48[p66 + 1] - e48[l63 + 1])
    );
  }
  return f80 === 0 && s60 === 0 ? 0 : Math.abs((s60 - f80) / f80);
};
function R18(e48, r66, n72, t43) {
  for (var x49 = 0, u72 = r66, f80 = n72 - t43; u72 < n72; u72 += t43)
    x49 += (e48[f80] - e48[u72]) * (e48[u72 + 1] + e48[f80 + 1]), f80 = u72;
  return x49;
}
P18.flatten = function(e48) {
  for (var r66 = e48[0][0].length, n72 = { vertices: [], holes: [], dimensions: r66 }, t43 = 0, x49 = 0; x49 < e48.length; x49++) {
    for (var u72 = 0; u72 < e48[x49].length; u72++)
      for (var f80 = 0; f80 < r66; f80++)
        n72.vertices.push(e48[x49][u72][f80]);
    x49 > 0 && (t43 += e48[x49 - 1].length, n72.holes.push(t43));
  }
  return n72;
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/getNormal.js
function l22(r66) {
  if (r66.length < 3) {
    console.error("points.length < 3");
    return;
  }
  const [n72, o71, t43] = r66;
  return new Vector3().subVectors(t43, o71).cross(new Vector3().subVectors(n72, o71)).normalize();
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/earcut3D.js
function p17(o71) {
  if (o71.length < 3)
    return [];
  const n72 = l22(o71), e48 = new Quaternion().setFromUnitVectors(n72, new Vector3(0, 1, 0)), a62 = o71.map((t43) => t43.clone().applyQuaternion(e48)).flatMap((t43) => [t43.x, t43.z]);
  return B10(a62);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/isIntersecting.js
function a19(n72, t43) {
  const s60 = Array.isArray(t43) ? t43 : [t43];
  for (let u72 = 0; u72 < s60.length; u72++) {
    const r66 = n72.start, e48 = n72.end, c85 = s60[u72].start, o71 = s60[u72].end;
    if (!(f24(r66, c85) || f24(r66, o71) || f24(e48, c85) || f24(e48, o71) || f24(r66, e48)) && d24([r66.x, r66.y, r66.z], [e48.x, e48.y, e48.z], [c85.x, c85.y, c85.z], [o71.x, o71.y, o71.z]))
      return true;
  }
  return false;
}
function d24(n72, t43, s60, u72) {
  const r66 = [t43[0] - n72[0], t43[1] - n72[1], t43[2] - n72[2]], e48 = [u72[0] - s60[0], u72[1] - s60[1], u72[2] - s60[2]], c85 = [
    [r66[0], -e48[0]],
    [r66[1], -e48[1]],
    [r66[2], -e48[2]]
  ], o71 = [s60[0] - n72[0], s60[1] - n72[1], s60[2] - n72[2]], i65 = g18(c85, o71);
  if (i65 === null)
    return false;
  const [x49, z28] = i65;
  return !!(y14(x49) && y14(z28));
}
function g18(n72, t43) {
  if (q13(n72) === 0)
    return null;
  const u72 = I18(n72);
  return V9(u72, t43);
}
function q13(n72) {
  return n72[0][0] * n72[1][1] - n72[0][1] * n72[1][0];
}
function I18(n72) {
  const t43 = n72[0][0] * n72[1][1] - n72[0][1] * n72[1][0];
  return [
    [n72[1][1] / t43, -n72[0][1] / t43],
    [-n72[1][0] / t43, n72[0][0] / t43]
  ];
}
function V9(n72, t43) {
  return [n72[0][0] * t43[0] + n72[0][1] * t43[1], n72[1][0] * t43[0] + n72[1][1] * t43[1]];
}
function y14(n72) {
  return n72 >= 0 && n72 <= 1;
}
function f24(n72, t43) {
  return n72.x === t43.x && n72.y === t43.y && n72.z === t43.z;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/generatePolygonGeometry.js
function h22(a62, s60) {
  const t43 = [...new Set(a62)];
  if (t43.length < 3)
    return;
  if (t43.at(-1).equals(t43[0]) || t43.push(t43[0]), s60 != null && s60.checkLinesIntersect && t43.length >= 5) {
    const e48 = t43.map((r66, o71) => o71 === 0 ? null : { start: t43[o71 - 1], end: t43[o71] }).filter(Boolean);
    for (let r66 = 0; r66 < e48.length; r66++)
      if (a19(e48[r66], e48.slice(r66)))
        return;
  }
  const u72 = t43.flatMap((e48) => [e48.x, e48.y, e48.z]), l63 = new Float32BufferAttribute(u72, 3), c85 = p17(t43), n72 = new BufferGeometry();
  return n72.setAttribute("position", l63), n72.setIndex(c85), n72.name = "PolygonGeometry", n72;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Model/polygon.js
var c32 = Object.defineProperty;
var h23 = (o71, t43, e48) => t43 in o71 ? c32(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var s21 = (o71, t43, e48) => (h23(o71, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var d25 = new BufferGeometry();
var k13 = class extends c16 {
  constructor(e48) {
    super();
    s21(this, "isPolygonMesh", true);
    s21(this, "geometry", new BufferGeometry());
    s21(this, "isBlank", true);
    s21(this, "points", []);
    const i65 = new MeshBasicMaterial({
      color: 4090367,
      transparent: true,
      side: DoubleSide,
      depthTest: true,
      opacity: 0.5
    }), m66 = new MeshBasicMaterial({
      color: 16777215,
      transparent: true,
      side: DoubleSide,
      depthTest: false,
      depthWrite: false,
      opacity: 0.3
    }), n72 = new Mesh(this.geometry, i65), a62 = new Mesh(this.geometry, m66);
    n72.renderOrder = 1, a62.renderOrder = 0, e48 && this.updatePoints(e48), this.add(n72, a62);
  }
  /**
   * @description: 按照新的端点来更新多边形的geometry
   */
  updatePoints(e48) {
    this.points = e48;
    const i65 = h22(e48);
    i65 ? (this.geometry.copy(i65), this.isBlank = false) : (this.geometry.copy(d25), this.isBlank = true);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/geometryUtil.js
function b20(n72) {
  const t43 = A25(n72);
  if (t43.length === 0) {
    console.warn("No geometry triangles found"), console.debug({ geometry: n72, triangles: t43 });
    return;
  }
  let e48 = 0, r66 = new Vector3();
  for (const [i65, o71, c85] of t43) {
    const s60 = u22(i65, o71, c85), g67 = d26(i65, o71, c85, s60);
    e48 += s60, r66.add(g67);
  }
  return r66 = r66.divideScalar(e48), { center: r66, area: e48 };
}
function u22(n72, t43, e48) {
  return t43.clone().sub(n72).cross(e48.clone().sub(n72)).length() / 2;
}
function d26(n72, t43, e48, r66) {
  const i65 = r66 != null ? r66 : u22(n72, t43, e48);
  return c9(n72, t43, e48).multiplyScalar(i65);
}
function A25(n72) {
  var i65;
  const t43 = n72.getAttribute("position"), e48 = (i65 = n72.getIndex()) == null ? void 0 : i65.array;
  if (!t43 || !e48)
    return [];
  let r66 = [];
  for (let o71 = 0; o71 < e48.length; o71 += 3) {
    const c85 = e48[o71], s60 = e48[o71 + 1], g67 = e48[o71 + 2], f80 = new Vector3().fromArray([t43.getX(c85), t43.getY(c85), t43.getZ(c85)]), a62 = new Vector3().fromArray([t43.getX(s60), t43.getY(s60), t43.getZ(s60)]), m66 = new Vector3().fromArray([t43.getX(g67), t43.getY(g67), t43.getZ(g67)]);
    r66.push([f80, a62, m66]);
  }
  return r66;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/dom/areaDom.js
var u23 = Object.defineProperty;
var D16 = Object.defineProperties;
var f25 = Object.getOwnPropertyDescriptors;
var h24 = Object.getOwnPropertySymbols;
var A26 = Object.prototype.hasOwnProperty;
var T14 = Object.prototype.propertyIsEnumerable;
var e19 = (i65, o71, t43) => o71 in i65 ? u23(i65, o71, { enumerable: true, configurable: true, writable: true, value: t43 }) : i65[o71] = t43;
var n22 = (i65, o71) => {
  for (var t43 in o71 || (o71 = {}))
    A26.call(o71, t43) && e19(i65, t43, o71[t43]);
  if (h24)
    for (var t43 of h24(o71))
      T14.call(o71, t43) && e19(i65, t43, o71[t43]);
  return i65;
};
var s22 = (i65, o71) => D16(i65, f25(o71));
var l23 = (i65, o71, t43) => (e19(i65, typeof o71 != "symbol" ? o71 + "" : o71, t43), t43);
var Bt2 = class extends f21 {
  constructor(t43) {
    t43.containerStyle = s22(n22({}, t43.containerStyle), {
      zIndex: "1"
    }), t43.contentStyle = s22(n22({}, t43.contentStyle), {
      background: "#6386FF",
      borderRadius: "2px"
    });
    super(t43);
    l23(this, "area");
    this.area = t43.area, this.containerDom.appendChild(this.contentDom);
  }
  /**
   * @description: dom 依赖的多边形的顶点的位置更新时，更新 dom 的位置和面积
   */
  updateArea(t43, r66) {
    var c85, d73;
    const p66 = r66 != null ? r66 : this.area.polygon.geometry, m66 = b20(p66);
    if (!m66) {
      this.ndcPosition = null, this.updateDomPosition(t43);
      return;
    }
    const { area: a62, center: x49 } = m66;
    this.ndcPosition = x49.clone(), this.updateDomPosition(t43), (d73 = (c85 = this.area.model) == null ? void 0 : c85.config) != null && d73.getAreaText ? this.contentDom.innerText = this.area.model.config.getAreaText(a62) : this.updateAreaText(a62, { fix: 2 });
  }
  updateAreaText(t43, r66) {
    const { unit: p66 = "m²", fix: m66 } = r66 != null ? r66 : {};
    this.contentDom.innerText = `${t7(m66) ? t43 : t43.toFixed(m66)}${p66}`;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Model/area.js
var l24 = Object.defineProperty;
var d27 = (e48, t43, o71) => t43 in e48 ? l24(e48, t43, { enumerable: true, configurable: true, writable: true, value: o71 }) : e48[t43] = o71;
var i23 = (e48, t43, o71) => (d27(e48, typeof t43 != "symbol" ? t43 + "" : t43, o71), o71);
var Gt2 = class {
  constructor(t43, o71) {
    i23(this, "id", r2());
    i23(this, "selected", false);
    i23(this, "text");
    i23(this, "type", "area");
    i23(this, "lightMesh");
    i23(this, "areaItem");
    i23(this, "hook", new Subscribe());
    i23(this, "model");
    i23(this, "polygon");
    i23(this, "points", []);
    i23(this, "planeHelper");
    i23(this, "polyline");
    i23(this, "meshContainer");
    i23(this, "domContainer");
    i23(this, "five");
    i23(this, "updateDom", () => {
      this.five && (this.polyline.lines.forEach((t44) => t44.distanceItem.update(this.five)), this.areaItem.updateDomPosition(this.five));
    });
    var r66;
    t43 && (this.points = t43), this.model = o71.model, this.polygon = new k13(t43), this.polyline = new R17({ model: o71.model }), this.areaItem = new Bt2({
      area: this,
      clickCallback: (s60, p66) => {
        const a62 = s60.clientX + "px", h66 = s60.clientY + "px";
        this.hook.emit("selected", this, { left: a62, top: h66 });
      }
    }), this.domContainer = o71.domContainer || null, this.meshContainer = o71.meshContainer || null, this.five = o71.five || null, this.areaItem.appendTo(this.domContainer), (r66 = this.five) == null || r66.on("cameraUpdate", this.updateDom);
  }
  /**
   * @description: 多边形的端点是否闭合
   */
  get isClosed() {
    var t43;
    return this.points.length >= 4 && ((t43 = this.points.at(0)) == null ? void 0 : t43.equals(this.points.at(-1)));
  }
  addPoints(t43) {
    var s60;
    this.points = this.points.concat(t43);
    const o71 = this.points.at(-2), r66 = this.points.at(-1);
    if (o71 && r66) {
      const p66 = new r20(new s20(o71), new s20(r66), this.polyline.model);
      this.polyline.addLine(p66), this.meshContainer.add(p66.mesh), this.five && (p66.distanceItem.setCanSelect(false), p66.distanceItem.appendTo(this.domContainer), p66.distanceItem.update(this.five));
    }
    (s60 = this.meshContainer) != null && s60.children.includes(this.polygon) || this.meshContainer.add(this.polygon), this.polygon.updatePoints(this.points), this.areaItem.updateArea(this.five), this.points.length === 3 ? this.planeHelper = new Plane().setFromCoplanarPoints(this.points[0], this.points[1], this.points[2]) : this.points.length < 3 && (this.planeHelper = null);
  }
  /**
   * @description: 移除最后一个添加的点
   */
  popPoint() {
    this.points.pop();
    const t43 = this.polyline.lines.pop();
    t43 == null || t43.remove(), this.polygon.updatePoints(this.points), this.areaItem.updateArea(this.five), this.points.length < 3 && (this.planeHelper = null);
  }
  /**
   * @description: 自动补全多边形的各个边
   */
  complete() {
    this.points.at(-1).equals(this.points[0]) || this.addPoints(this.points[0]);
  }
  hideArea() {
    this.polygon.visible = false, this.areaItem.hide();
  }
  showArea() {
    this.polygon.visible = true, this.areaItem.show();
  }
  /**
   * @description: 获取一个点投影在当前平面上的点
   */
  projectPoint(t43) {
    return t43 && (this.planeHelper ? this.planeHelper.projectPoint(t43, new Vector3()) : t43);
  }
  remove() {
    this.polygon.removeFromParent(), this.areaItem.remove(), this.polyline.lines.forEach((t43) => t43.remove());
  }
  /**
   * @todo: 没写完
   */
  dispose() {
    this.remove(), this.model.areas.splice(this.model.areas.indexOf(this), 1), this.planeHelper = null, this.five.off("cameraUpdate", this.updateDom), this.five.needsRender = true;
  }
  toJSON() {
    return {
      id: this.id,
      points: this.points.map((t43) => t43.toArray()),
      text: this.text
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/DeleteDom/_Assets/delete.svg.js
var t21 = `
<svg class="fpm__delete-icon" width="16px" height="17px" viewBox="0 0 16 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
        <linearGradient x1="22.185491%" y1="100%" x2="66.8316686%" y2="6.67239121%" id="linearGradient-1">
            <stop stop-color="#FFFCFC" stop-opacity="0.6" offset="0%"></stop>
            <stop stop-color="#FFFFFF" offset="100%"></stop>
        </linearGradient>
    </defs>   
     <path fill="url(#linearGradient-1)" fill-rule="nonzero" transform="translate(2.16 2.16)" d="M11.2979686,2.71818182 C11.611378,2.71818182 11.8654465,2.97561809 11.8654465,3.29318182 C11.8654465,3.58428191 11.6519584,3.82485822 11.374972,3.86293275 L11.2979686,3.86818182 L10.464,3.868 L9.7236795,10.6246222 C9.64153248,11.3737453 9.04854423,11.9512142 8.32013277,12.0165596 L8.18206028,12.0227273 L3.68338622,12.0227273 C2.89302127,12.0227273 2.22904821,11.4205655 2.141767,10.6246222 L2.141767,10.6246222 L1.4,3.868 L0.567477876,3.86818182 C0.254068499,3.86818182 0,3.61074555 0,3.29318182 C0,3.00208173 0.213488114,2.76150541 0.49047449,2.72343089 L0.567477876,2.71818182 L11.2979686,2.71818182 Z M9.322,3.868 L2.542,3.868 L3.26978106,10.4976259 C3.28762252,10.6603274 3.39528004,10.7928487 3.53932022,10.8467307 L3.61412483,10.866894 L3.68338622,10.8727273 L8.18206028,10.8727273 C8.39410941,10.8727273 8.57224853,10.7111717 8.59566544,10.4976259 L8.59566544,10.4976259 L9.322,3.868 Z M8.16824216,0 C8.48165153,0 8.73572003,0.257436269 8.73572003,0.575 C8.73572003,0.866100087 8.52223192,1.1066764 8.24524554,1.14475093 L8.16824216,1.15 L3.69720434,1.15 C3.38379497,1.15 3.12972647,0.892563731 3.12972647,0.575 C3.12972647,0.283899913 3.34321458,0.0433235966 3.62020096,0.00524907226 L3.69720434,0 L8.16824216,0 Z"></path>                 
</svg>
`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/DeleteDom/_Assets/delete_bg.png.js
var I19 = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTciIGhlaWdodD0iMjUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSIxMC43MDYlIiB5MT0iNDIuNzQ0JSIgeDI9Ijg5LjA2NCUiIHkyPSI1Ny4yMDglIiBpZD0icHJlZml4X19hIj48c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iMCUiLz48c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii4zMDgiIG9mZnNldD0iNDkuNTY5JSIvPjxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHJlY3QgeD0iLS4yNSIgeT0iLS4yNSIgd2lkdGg9IjU3LjUiIGhlaWdodD0iMjMuNSIgcng9IjExLjI1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEpIiBmaWxsPSIjMkMyQzJDIiBzdHJva2U9InVybCgjcHJlZml4X19hKSIgc3Ryb2tlLXdpZHRoPSIuNSIgZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsLW9wYWNpdHk9Ii4zMDMiLz48L3N2Zz4=";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/DeleteDom/_Assets/delete_hover_bg.png.js
var e20 = "data:image/png;base64,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";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/DeleteDom/index.js
var f26 = Object.defineProperty;
var k14 = (o71, t43, e48) => t43 in o71 ? f26(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var n23 = (o71, t43, e48) => (k14(o71, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var w16 = class {
  constructor(t43, e48) {
    n23(this, "visible", false);
    n23(this, "five");
    n23(this, "lines", []);
    n23(this, "points", []);
    n23(this, "onClick");
    n23(this, "cancel");
    n23(this, "content", document.createElement("div"));
    n23(this, "container", document.createElement("div"));
    n23(this, "masking", document.createElement("div"));
    n23(this, "target");
    n23(this, "clickHandler", (t44) => {
      this.onClick(t44, this.target);
    });
    n23(this, "cancelHandler", () => {
      this.cancel(this.target);
    });
    n23(this, "hover", () => {
      this.content.style.backgroundImage = `url(${e20})`;
    });
    n23(this, "unHover", () => {
      this.content.style.backgroundImage = `url(${I19})`;
    });
    var a62, r66;
    this.five = t43, this.onClick = (e48 == null ? void 0 : e48.onClick) || (() => {
    }), this.cancel = (e48 == null ? void 0 : e48.cancel) || (() => {
    }), this.container.classList.add("fpm__delete"), this.container.style.opacity = "0", this.container.style.position = "absolute", this.container.style.left = "0", this.container.style.top = "10px", this.container.style.transform = "translate3d(0, 0, 10px)", this.container.style.pointerEvents = "none", this.container.style.transition = "opacity 200ms ease", this.container.style.zIndex = "99", this.content.classList.add("fpm__delete-content"), this.content.style.width = "62px", this.content.style.height = "26px", this.content.style.display = "flex", this.content.style.alignItems = "center", this.content.style.justifyContent = "center", this.content.style.transform = "translate(-50%, -50%)", this.content.style.color = "#fff", this.content.style.fontSize = "12px", this.content.style.lineHeight = "17px", this.content.style.borderRadius = "11px", this.content.style.backgroundSize = "100% 100%", this.content.style.cursor = "pointer", this.content.style.userSelect = "none", this.content.style.backgroundImage = `url(${I19})`, this.content.innerHTML = `
      ${t21}
      <span>${(r66 = (a62 = e48.i18n) == null ? void 0 : a62.call(e48, "删除")) != null ? r66 : "删除"}</span>
    `, this.container.append(this.content);
    const s60 = this.content.querySelector(".fpm__delete-icon");
    s60 && (s60.style.width = "16px", s60.style.height = "17px", s60.style.marginRight = "1px"), this.content.addEventListener("click", this.clickHandler), this.content.addEventListener("mouseenter", this.hover), this.content.addEventListener("mouseleave", this.unHover), this.masking.setAttribute("style", "position: absolute;top: 0;left: 0;bottom: 0;right: 0;pointer-events: none;"), this.masking.addEventListener("click", this.cancelHandler), this.masking.addEventListener("touchstart", this.cancelHandler);
  }
  dispose() {
    this.content.removeEventListener("click", this.clickHandler), this.content.removeEventListener("mouseenter", this.hover), this.content.removeEventListener("mouseleave", this.unHover), this.container.remove(), this.masking.removeEventListener("click", this.cancelHandler), this.masking.removeEventListener("touchstart", this.cancelHandler), this.masking.remove();
  }
  appendTo(t43) {
    return t43.append(this.container), t43.append(this.masking), this;
  }
  setLines(t43) {
    return this.lines = t43, this.points = Array.from(new Set(this.lines.map((e48) => [e48.points[0], e48.points[1]]).flat(1))), this;
  }
  setTarget(t43) {
    return this.target = t43, this;
  }
  updatePosition(t43, e48) {
    if (t43 && e48)
      return this.container.style.left = t43, this.container.style.top = e48, this.container.style.transform = "", this.show();
    if (this.lines.length === 0)
      return this;
    const s60 = this.points.map((i65) => i65.position).map((i65) => i65.clone().applyMatrix4(this.lines[0].mesh.matrixWorld)), a62 = s60.map((i65) => i65.clone().project(this.five.camera));
    if (a62.some((i65) => Math.abs(i65.z) > 1))
      return this.hide();
    const r66 = a62.map((i65) => i65.x), c85 = a62.map((i65) => i65.y), p66 = (Math.min(...r66) + Math.max(...r66)) / 2, v58 = Math.max(...c85), h66 = this.container.parentElement;
    if (!h66)
      return this;
    const l63 = (p66 + 1) / 2 * h66.clientWidth, u72 = -(v58 - 1) / 2 * h66.clientHeight;
    let m66 = l63, d73 = u72 - 34;
    if (this.lines.length === 1 && s60.length === 2) {
      const i65 = (c85[1] - c85[0]) / (r66[1] - r66[0]), g67 = -((c85[1] + c85[0]) / 2 - 1) / 2 * h66.clientHeight;
      Math.abs(i65) > 0.4 && (m66 = l63 + 57, d73 = g67);
    }
    return this.container.style.top = "0", this.container.style.left = "0", this.container.style.transform = `translate3d(${m66}px, ${d73}px, 0)`, this.show();
  }
  hide() {
    return this.visible = false, this.masking.style.pointerEvents = "none", this.container.style.opacity = "0", this.container.style.pointerEvents = "none", this.unHover(), this;
  }
  show() {
    return this.visible = true, this.masking.style.pointerEvents = "auto", this.container.style.opacity = "1", this.container.style.pointerEvents = "auto", this;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/math.js
function q14(c85, t43) {
  const u72 = c85.x - t43[0].x, a62 = c85.y - t43[0].y, x49 = t43[1].x - t43[0].x, y51 = t43[1].y - t43[0].y, A62 = u72 * x49 + a62 * y51, D52 = x49 * x49 + y51 * y51, r66 = A62 / D52;
  let f80, m66;
  return r66 < 0 || e21(t43[0], t43[1]) ? (f80 = t43[0].x, m66 = t43[0].y) : r66 > 1 ? (f80 = t43[1].x, m66 = t43[1].y) : (f80 = t43[0].x + r66 * x49, m66 = t43[0].y + r66 * y51), new Vector2(f80, m66);
}
function e21(c85, t43) {
  return c85.x === t43.x && c85.y === t43.y;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Controller/EditController.js
var x13 = Object.defineProperty;
var j10 = Object.defineProperties;
var G11 = Object.getOwnPropertyDescriptors;
var D17 = Object.getOwnPropertySymbols;
var B11 = Object.prototype.hasOwnProperty;
var O19 = Object.prototype.propertyIsEnumerable;
var w17 = (d73, a62, e48) => a62 in d73 ? x13(d73, a62, { enumerable: true, configurable: true, writable: true, value: e48 }) : d73[a62] = e48;
var k15 = (d73, a62) => {
  for (var e48 in a62 || (a62 = {}))
    B11.call(a62, e48) && w17(d73, e48, a62[e48]);
  if (D17)
    for (var e48 of D17(a62))
      O19.call(a62, e48) && w17(d73, e48, a62[e48]);
  return d73;
};
var M19 = (d73, a62) => j10(d73, G11(a62));
var o25 = (d73, a62, e48) => (w17(d73, typeof a62 != "symbol" ? a62 + "" : a62, e48), e48);
var U11 = () => false;
var bt2 = class extends V8 {
  constructor(e48) {
    super(e48);
    o25(this, "type", "edit");
    o25(this, "polyline");
    o25(this, "area");
    o25(this, "hasAppendDashed", false);
    o25(this, "fiveElement");
    o25(this, "lastPoint", null);
    o25(this, "pointSelector");
    o25(this, "deleteDom");
    o25(this, "onIntersectionUpdate", o6((e49) => {
      e49 && (this.currentMeasureType === "area" && typeof e49.isAdsorbed == "boolean" && (e49.isAdsorbed ? this.hook.emit("readyComplete") : this.hook.emit("notReadyComplete")), this.updateDashed());
    }, 20));
    o25(this, "revoke", () => {
      this.currentMeasureType === "area" ? this.revokeArea() : this.currentMeasureType === "line" && this.revokeLine();
    });
    o25(this, "revokeArea", () => {
      if (this.area.points.length !== 0) {
        if (this.area.popPoint(), this.hook.emit("pointsChange", this.area.points), this.area.points.length === 0) {
          this.lastPoint = null, this.hasAppendDashed = false, this.dashed.remove(), this.five.needsRender = true, this.hook.emit("revoke", { isEmpty: true });
          return;
        } else
          this.lastPoint = new s20(this.area.points[this.area.points.length - 1]), this.updateDashed();
        this.five.needsRender = true;
      }
    });
    o25(this, "revokeLine", (e49) => {
      const t43 = e49 || this.polyline;
      if (t43.lines.length === 0 && this.lastPoint) {
        this.lastPoint = null, this.hasAppendDashed = false, this.pointSelector.setAdherePoints(null), this.dashed.remove(), this.hook.emit("anchorChange", null), this.hook.emit("editedDashedLineChange", null), this.five.needsRender = true, this.hook.emit("pointsChange", []);
        return;
      }
      if (t43.lines.length === 0 && !this.lastPoint || !this.lastPoint)
        return;
      const i65 = t43.lines[t43.lines.length - 1], n72 = i65.findAnotherPoint(this.lastPoint);
      n72 && (this.lastPoint = n72, this.hook.emit("anchorChange", n72.position), this.group.remove(i65.mesh), t43.removeLine(i65), i65.distanceItem.remove(), this.updateDashed(), this.five.needsRender = true);
    });
    o25(this, "checkMouseLeave", (e49) => {
      e49 || (this.dashed.hide(), this.perpendicularDashed.hide(), this.area.hideArea());
    });
    o25(this, "onLineChanged", () => {
      this.hook.emit("editedPolylineChange", this.polyline);
    });
    o25(this, "onWantsSelect", () => {
      if (this.currentMeasureType === "area") {
        const e49 = this.area.polygon.isBlank || this.area.polygon.visible === false;
        if (this.area.points.length >= 3 && e49)
          return false;
      }
    });
    o25(this, "wantsMoveToPano", () => {
      if (this.lastPoint)
        return false;
    });
    o25(this, "onSelect", () => {
      var l63, c85, u72, y51;
      this.hasAppendDashed || (this.dashed.distanceItem.appendTo(this.container), this.group.add(this.dashed.mesh), this.currentMeasureType === "area" && this.group.add(this.perpendicularDashed.mesh)), this.hasAppendDashed = true;
      const e49 = (() => {
        var s60, h66;
        if (this.currentMeasureType === "area")
          return this.area.projectPoint((s60 = this.pointSelector.position) == null ? void 0 : s60.point);
        if (this.currentMeasureType === "line")
          return (h66 = this.pointSelector.position) == null ? void 0 : h66.point;
      })();
      if (!e49)
        return;
      const t43 = new s20(e49), i65 = this.lastPoint;
      if (i65 != null && i65.position && t43.position.equals(i65 == null ? void 0 : i65.position))
        return;
      this.lastPoint = t43;
      const n72 = (s60) => {
        if (!this.lastPoint)
          return [];
        const { intersection: h66, pointSelectorInstance: L40 } = s60, g67 = L40.pointSelectorHelper.pointHelper, m66 = new Vector3(0, 0, 1).applyQuaternion(g67.quaternion);
        if (m66.x > 0.9999 || m66.y > 0.9999 || m66.z > 0.9999 || m66.x < -0.9999 || m66.y < -0.9999 || m66.z < -0.9999) {
          const A62 = h66.point, v58 = this.lastPoint.position.clone().sub(A62);
          L40.pointSelectorHelper.updateWithIntersect(h66, { emitEvent: false });
          const r66 = new Line3(
            g67.localToWorld(new Vector3(1, 0, 0)).add(v58),
            g67.localToWorld(new Vector3(-1, 0, 0)).add(v58)
          ), p66 = new Line3(
            g67.localToWorld(new Vector3(0, 1, 0)).add(v58),
            g67.localToWorld(new Vector3(0, -1, 0)).add(v58)
          ), S52 = r66.closestPointToPoint(A62, false, new Vector3()), P55 = p66.closestPointToPoint(A62, false, new Vector3());
          return [S52, P55];
        }
        return [];
      };
      if (this.pointSelector.setAdherePoints(n72), this.currentMeasureType === "line") {
        if (t43 && i65) {
          const h66 = new r20(i65, t43, this.model);
          h66.distanceItem.setCanSelect(false), h66.distanceItem.appendTo(this.container), this.polyline.addLine(h66), this.group.add(h66.mesh), h66.distanceItem.update(this.five);
        }
        const s60 = (c85 = (l63 = this.editParams) == null ? void 0 : l63.autoEndConfig) == null ? void 0 : c85.line;
        typeof s60 == "number" && (this.polyline.getPointLength() >= s60 ? this.complete() : this.polyline.getPointLength() === s60 - 1 && this.hook.emit("readyComplete")), this.hook.emit("pointsChange", this.polyline.points);
      } else if (this.currentMeasureType === "area") {
        if (this.area.addPoints(t43.position), this.area.isClosed) {
          this.complete();
          return;
        }
        this.area.points.length >= 3 && this.pointSelector.setAdherePoints((...h66) => {
          var L40;
          return [this.area.points[0], ...(L40 = n72(...h66)) != null ? L40 : []].filter(i7);
        });
        const s60 = (y51 = (u72 = this.editParams) == null ? void 0 : u72.autoEndConfig) == null ? void 0 : y51.area;
        typeof s60 == "number" && (this.area.points.length >= s60 ? this.complete() : this.area.points.length === s60 - 1 && this.hook.emit("readyComplete")), this.hook.emit("pointsChange", this.area.points);
      }
      this.updateDashed(), this.five.needsRender = true, this.hook.emit("anchorChange", t43.position);
    });
    o25(this, "onCameraUpdate", () => {
      this.updateDistanceUI();
    });
    o25(this, "updateDashed", () => {
      var i65;
      if (!this.lastPoint)
        return;
      const e49 = this.lastPoint.position, t43 = (() => {
        var n72, l63;
        if (this.currentMeasureType === "area")
          return this.area.projectPoint((n72 = this.pointSelector.position) == null ? void 0 : n72.point);
        if (this.currentMeasureType === "line")
          return (l63 = this.pointSelector.position) == null ? void 0 : l63.point;
      })();
      if (!t43) {
        this.dashed.hide();
        return;
      }
      if (this.dashed.show(), this.dashed.setPoints(e49, t43), this.dashed.distanceItem.update(this.five), this.hook.emit("editedDashedLineChange", this.dashed), this.currentMeasureType === "area")
        if (this.area.areaItem.setCanSelect(false), this.area.points.length >= 2) {
          const n72 = (i65 = this.pointSelector.position) == null ? void 0 : i65.point;
          if (n72) {
            const s60 = n72, h66 = t43;
            this.perpendicularDashed.setPoints(s60, h66), this.perpendicularDashed.show();
          } else
            this.perpendicularDashed.hide();
          const l63 = this.area.polyline.lines.map((s60) => ({ start: s60.points[0].position, end: s60.points[1].position })), c85 = a19({ start: e49, end: t43 }, l63), u72 = a19({ start: t43, end: this.area.points[0] }, l63);
          if (c85 || u72)
            this.area.hideArea(), this.hook.emit("allowAddPointStateChange", "forbid");
          else {
            this.area.showArea();
            const s60 = [...this.area.points, t43];
            this.area.polygon.updatePoints(s60), this.area.areaItem.updateArea(this.five), this.hook.emit("allowAddPointStateChange", "allow");
          }
        } else
          this.area.hideArea(), this.perpendicularDashed.hide();
      this.five.needsRender = true;
    });
    o25(this, "wantsTapGesture", (e49) => {
      var A62, v58;
      if (this.editParams.pointSelectorMode === "cursor" || this.lastPoint)
        return false;
      const t43 = this.model.areas.map((r66) => e49.intersectObject(r66.polygon, true)[0]).sort((r66, p66) => r66.distance - p66.distance), i65 = (v58 = (A62 = t43[0]) == null ? void 0 : A62.object) == null ? void 0 : v58.parent;
      if (i65 != null && i65.isPolygonMesh) {
        const r66 = this.model.areas.find((p66) => p66.polygon === i65);
        if (r66) {
          const { x: p66, y: S52 } = t43[0].point.clone().project(this.five.camera), P55 = `${(p66 + 1) / 2 * 100}%`, C52 = `${(-S52 + 1) / 2 * 100}%`;
          return this.chooseArea(r66, { left: P55, top: C52 }), false;
        }
      }
      const [n72] = l2(this.five).intersectRaycaster(e49);
      if (!n72)
        return;
      const l63 = this.five.camera, c85 = n72.point.clone().project(l63), u72 = this.container.clientWidth, y51 = this.container.clientHeight, s60 = new Vector2(c85.x * u72, c85.y * y51), h66 = this.model.getAllLines().map((r66) => {
        const [p66, S52] = r66.points, P55 = p66.position.clone().project(l63), C52 = S52.position.clone().project(l63);
        if (!e16(P55) && !e16(C52))
          return null;
        const V25 = new Vector2(P55.x * u72, P55.y * y51), W25 = new Vector2(C52.x * u72, C52.y * y51);
        return { id: r66.id, points: [V25, W25] };
      }).filter((r66) => !!r66);
      if (h66.length === 0)
        return;
      const g67 = h66.map((r66) => {
        const p66 = q14(s60, r66.points);
        return { id: r66.id, distance: p66.distanceTo(s60) };
      }).sort((r66, p66) => r66.distance - p66.distance)[0];
      if (g67.distance > 20)
        return;
      const m66 = this.model.getAllLines().find(({ id: r66 }) => r66 === g67.id);
      if (m66)
        return this.chooseLine(m66), false;
    });
    o25(this, "chooseLine", (e49) => {
      const t43 = e49.getPolyline().lines;
      this.deleteDom.setTarget(t43).setLines(t43).updatePosition().show(), this.highlightLines(t43), this.hook.emit("selectedChange", t43);
    });
    o25(this, "chooseArea", (e49, t43) => {
      this.deleteDom.setTarget(e49).updatePosition(t43.left, `calc(${t43.top} - 1.5rem)`).show(), this.highlightArea(e49);
    });
    o25(this, "deleteArea", (e49) => {
      this.unHighlightArea(e49), e49.dispose(), this.deleteDom.hide();
    });
    o25(this, "deleteLine", (e49) => {
      const t43 = e49[0], i65 = this.model.getPolylineByLine(t43);
      i65 && (this.model.removePolyline(i65), i65.lines.forEach((n72) => this.removeLine(n72)), this.deleteDom.setLines([]).hide());
    });
    this.fiveElement = this.five.getElement(), this.deleteDom = new w16(this.five, {
      i18n: this.config.i18n,
      onClick: (t43, i65) => {
        var c85;
        const n72 = i65.type === "area", l63 = Array.isArray(i65) && ((c85 = i65[0]) == null ? void 0 : c85.type) === "line";
        n72 && this.deleteArea(i65), l63 && this.deleteLine(i65);
      },
      cancel: (t43) => {
        var l63;
        this.deleteDom.hide();
        const i65 = t43.type === "area", n72 = Array.isArray(t43) && ((l63 = t43[0]) == null ? void 0 : l63.type) === "line";
        i65 && this.unHighlightArea(t43), n72 && this.unHighlightLines(t43);
      }
    }).appendTo(this.container), this.pointSelector = new se(this.five, M19(k15({}, this.pointSelectorConfig), {
      mode: this.editParams.pointSelectorMode,
      helper: k15({ magnifierParams: this.magnifierParams, container: this.container }, this.pointSelectorConfig.helper)
    })), this.pointSelector.enable(), this.polyline = new R17({ model: this.model }), this.area = new Gt2(void 0, {
      five: this.five,
      model: this.model,
      meshContainer: this.group,
      domContainer: this.container
    }), this.model.addPolyline(this.polyline), this.model.addArea(this.area), this.model.getAllLines().forEach((t43) => {
      t43.distanceItem.appendTo(this.container), t43.distanceItem.update(this.five), t43.distanceItem.setCanSelect(true), t43.hook.on("selected", this.chooseLine), this.group.add(t43.mesh);
    }), this.model.getAllAreas().forEach((t43) => {
      t43.areaItem.appendTo(this.container), t43.areaItem.updateDomPosition(this.five), t43.areaItem.setCanSelect(true), t43.hook.on("selected", this.chooseArea), this.group.add(t43.polygon), t43.polyline.lines.forEach((i65) => {
        i65.distanceItem.appendTo(this.container), i65.distanceItem.update(this.five), this.group.add(i65.mesh);
      });
    }), this.five.on("cameraUpdate", this.onCameraUpdate), this.five.on("wantsTapGesture", this.wantsTapGesture), this.five.on("wantsMoveToPano", this.wantsMoveToPano), this.five.on("wantsChangeMode", U11), this.pointSelector.on("intersectionUpdate", this.onIntersectionUpdate), this.pointSelector.on("intersectionUpdate", this.checkMouseLeave), this.pointSelector.on("select", this.onSelect), this.pointSelector.on("wantsSelect", this.onWantsSelect), this.polyline.hook.on("lineAdded", this.onLineChanged), this.polyline.hook.on("lineRemoved", this.onLineChanged), this.five.helperVisible = false, this.hook.emit("anchorChange", null), this.hook.emit("editedDashedLineChange", null), this.five.refresh();
  }
  dispose() {
    super.dispose(), this.model.areas.forEach((e48) => {
      (e48.points.length < 2 || e48.polygon.isBlank) && this.model.removeArea(e48);
    }), this.five.helperVisible = true, this.pointSelector.disable(), this.dashed.remove(), this.perpendicularDashed.remove(), this.five.off("cameraUpdate", this.onCameraUpdate), this.five.off("wantsTapGesture", this.wantsTapGesture), this.five.off("wantsMoveToPano", this.wantsMoveToPano), this.five.off("wantsChangeMode", U11), this.pointSelector.off("intersectionUpdate", this.onIntersectionUpdate), this.pointSelector.off("intersectionUpdate", this.checkMouseLeave), this.pointSelector.off("select", this.onSelect), this.pointSelector.off("wantsSelect", this.onWantsSelect), this.polyline.hook.off("lineAdded", this.onLineChanged), this.polyline.hook.off("lineRemoved", this.onLineChanged), this.magnifier.dispose(), this.deleteDom.dispose(), this.dashed.distanceItem.remove(), this.five.needsRender = true;
  }
  getEditingLines() {
    return this.polyline.lines;
  }
  selectPoint() {
    this.onSelect();
  }
  complete() {
    this.hook.emit("complete"), this.currentMeasureType === "area" ? (this.area.points.length < 3 ? this.deleteArea(this.area) : (this.area.showArea(), this.area.complete(), this.area.hook.on("selected", this.chooseArea)), this.area = new Gt2(void 0, { five: this.five, model: this.model, meshContainer: this.group, domContainer: this.container }), this.model.addArea(this.area)) : this.currentMeasureType === "line" && (this.polyline.lines.forEach((e48) => {
      e48.hook.on("selected", this.chooseLine), e48.distanceItem.setCanSelect(true);
    }), this.polyline = new R17({ model: this.model }), this.model.addPolyline(this.polyline)), this.pointSelector.setAdherePoints(null), this.dashed.hide(), this.perpendicularDashed.hide(), this.lastPoint = void 0;
  }
  highlightArea(e48) {
    this.highlightLines(e48.polyline.lines), this.five.needsRender = true;
  }
  unHighlightArea(e48) {
    this.unHighlightLines(e48.polyline.lines), this.five.needsRender = true;
  }
  highlightLines(e48) {
    e48.forEach((t43) => this.highlightLine(t43));
  }
  unHighlightLines(e48) {
    e48.forEach((t43) => {
      t43.selected = false, t43.distanceItem.unHighlight(), this.group.remove(t43.lightMesh), this.five.needsRender = true;
    });
  }
  highlightLine(e48) {
    this.unHighlightLines(this.model.getAllLines()), !e48.selected && (e48.selected = true, this.group.add(e48.lightMesh), e48.distanceItem.highlight(), this.five.needsRender = true);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Controller/ViewController.js
var r22 = Object.defineProperty;
var n24 = (a62, o71, i65) => o71 in a62 ? r22(a62, o71, { enumerable: true, configurable: true, writable: true, value: i65 }) : a62[o71] = i65;
var s23 = (a62, o71, i65) => (n24(a62, typeof o71 != "symbol" ? o71 + "" : o71, i65), i65);
var R19 = class extends V8 {
  constructor(i65) {
    super(i65);
    s23(this, "type", "view");
    s23(this, "hammer");
    s23(this, "polylineRemoved", (i66) => {
      i66.lines.forEach((e49) => this.removeLine(e49)), this.hook.emit(
        "selectedChange",
        this.model.getAllLines().filter((e49) => e49.selected).map((e49) => e49)
      );
    });
    s23(this, "polylineAdded", (i66) => {
      const { panoIndex: e49, mode: t43 } = this.five.getCurrentState();
      i66.lines.forEach((d73) => {
        i66.visibleFiveMode && !i66.visibleFiveMode.includes(t43) && (d73.mesh.visible = false), i66.visiblePanoIndexes && !i66.visiblePanoIndexes.includes(e49) && (d73.mesh.visible = false), d73.distanceItem.appendTo(this.container), d73.distanceItem.update(this.five), this.group.add(d73.mesh);
      }), this.updateDistanceUI();
    });
    s23(this, "onCameraUpdate", () => {
      this.updateDistanceUI();
    });
    s23(this, "onFiveModeChange", (i66) => {
      i66 !== "Panorama" && (this.model.polylines.forEach((e49) => {
        e49.visibleFiveMode && !e49.visibleFiveMode.includes(i66) && e49.lines.forEach((t43) => {
          t43.mesh.visible = false, t43.distanceItem.update(this.five);
        });
      }), this.five.ready().then(() => {
        const e49 = this.five.getCurrentState().mode;
        e49 !== "Panorama" && this.model.polylines.forEach((t43) => {
          t43.visibleFiveMode && t43.visibleFiveMode.includes(e49) && t43.lines.forEach((d73) => {
            d73.mesh.visible = true, d73.distanceItem.update(this.five);
          });
        });
      }));
    });
    s23(this, "onFivePanoWillArrive", (i66) => {
      this.model.polylines.forEach((e49) => {
        (e49.visiblePanoIndexes && !e49.visiblePanoIndexes.includes(i66) || e49.visibleFiveMode && !e49.visibleFiveMode.includes(this.five.getCurrentState().mode)) && e49.lines.forEach((t43) => {
          t43.mesh.visible = false, t43.distanceItem.update(this.five);
        });
      });
    });
    s23(this, "onFivePanoArrived", (i66) => {
      this.model.polylines.forEach((e49) => {
        e49.visiblePanoIndexes && e49.visiblePanoIndexes.includes(i66) && e49.visibleFiveMode && e49.visibleFiveMode.includes(this.five.getCurrentState().mode) && e49.lines.forEach((t43) => {
          t43.mesh.visible = true, t43.distanceItem.update(this.five);
        });
      });
    });
    this.model.getAllLines().forEach((t43) => {
      t43.distanceItem.appendTo(this.container), t43.distanceItem.update(this.five), this.group.add(t43.mesh), t43.mesh.updateMatrixWorld();
    });
    const e48 = this.five.getElement();
    if (e48) {
      const t43 = new Qt(e48);
      this.hammer = t43;
    }
    this.onFiveModeChange(this.five.getCurrentState().mode), this.onFivePanoWillArrive(this.five.getCurrentState().panoIndex), this.onFivePanoArrived(this.five.getCurrentState().panoIndex), this.updateDistanceUI(), this.five.needsRender = true, this.model.hook.on("polylineAdded", this.polylineAdded), this.model.hook.on("polylineRemoved", this.polylineRemoved), this.five.on("cameraUpdate", this.onCameraUpdate), this.five.on("panoArrived", this.onFivePanoArrived), this.five.on("modeChange", this.onFiveModeChange), this.five.on("panoWillArrive", this.onFivePanoWillArrive);
  }
  dispose() {
    var i65;
    super.dispose(), this.model.hook.off("polylineAdded", this.polylineAdded), this.model.hook.off("polylineRemoved", this.polylineRemoved), this.five.off("cameraUpdate", this.onCameraUpdate), this.five.off("panoArrived", this.onFivePanoArrived), this.five.off("modeChange", this.onFiveModeChange), this.five.off("panoWillArrive", this.onFivePanoWillArrive), this.five.needsRender = true, this.hook.emit("selectedChange", []), (i65 = this.hammer) == null || i65.destroy();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/ndc2Screen.js
function n25(t43, e48) {
  const r66 = (t43.x + 1) / 2 * e48.width, o71 = -(t43.y - 1) / 2 * e48.height;
  return new Vector2(r66, o71);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/findClosestPoint.js
function p18(i65, o71, s60, r66) {
  const e48 = i65.getElement();
  if (!e48 || o71.length === 0)
    return null;
  const d73 = { width: e48.clientWidth, height: e48.clientHeight }, c85 = o71.map((n72) => {
    const t43 = n72.position.clone().project(i65.camera);
    return e16(t43) ? { distance: n25(t43, d73).distanceTo(s60), point: n72 } : { distance: 1 / 0, point: n72 };
  }).sort((n72, t43) => n72.distance - t43.distance);
  return typeof r66 == "number" && c85[0].distance > r66 ? null : c85[0];
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/getPointFromHammerEvent.js
function m30(t43) {
  const { x: c85, y: i65 } = t43.center, { clientWidth: r66, clientHeight: s60 } = t43.target, o71 = t43.target.getBoundingClientRect(), n72 = new Vector2(c85, i65).sub(new Vector2(o71.left, o71.top)), l63 = new Vector2(n72.x / r66 * 2 - 1, -(n72.y / s60) * 2 + 1);
  return { point: n72, ndcPoint: l63 };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Controller/WatchController.js
var I20 = Object.defineProperty;
var R20 = (p66, r66, t43) => r66 in p66 ? I20(p66, r66, { enumerable: true, configurable: true, writable: true, value: t43 }) : p66[r66] = t43;
var o26 = (p66, r66, t43) => (R20(p66, typeof r66 != "symbol" ? r66 + "" : r66, t43), t43);
var D18 = () => false;
var De4 = class extends V8 {
  constructor(t43) {
    super(t43);
    o26(this, "type", "watch");
    o26(this, "deleteDom");
    o26(this, "choose");
    o26(this, "highlightedLines", []);
    o26(this, "highlightedArea");
    o26(this, "fiveElement");
    o26(this, "editPointState");
    o26(this, "hammer");
    o26(this, "onPanStart", (t44) => {
      var l63;
      if (this.model.getAllLines().length === 0 || !this.fiveElement)
        return;
      const i66 = m30(t44).point, e48 = (l63 = p18(this.five, this.model.getAllPoints(), i66, 20)) == null ? void 0 : l63.point;
      if (!e48) {
        this.editPointState = void 0;
        return;
      }
      const n72 = this.model.polylines.find((a62) => a62.includes(e48)), m66 = {
        point: e48,
        associatedLines: n72.lines
      };
      this.hook.emit("wantsDragLine", {
        point: e48.id,
        lines: m66.associatedLines.map(({ id: a62 }) => a62)
      }) || (this.editPointState = m66, this.magnifier.appendTo(this.container), this.magnifier.enable(), this.group.add(this.mouseGroup));
    });
    o26(this, "onPanEnd", () => {
      this.editPointState && (this.editPointState.associatedLines.forEach((t44) => t44.mesh.setMaterial({ dashed: false })), this.highlightLines(this.editPointState.associatedLines), this.editPointState = void 0, this.magnifier.disable(), this.group.remove(this.mouseGroup));
    });
    o26(this, "onPan", (t44) => {
      if (!this.editPointState || !this.fiveElement)
        return;
      const i66 = m30(t44).ndcPoint, e48 = new Raycaster();
      e48.setFromCamera(i66, this.five.camera);
      const [n72] = l2(this.five).intersectRaycaster(e48);
      n72 && this.onIntersectionUpdate(n72);
    });
    o26(this, "onIntersectionUpdate", (t44, i66) => {
      if (this.editPointState) {
        if (this.clearHighlightLines(), this.editPointState.point.position.copy(t44.point), this.editPointState.associatedLines.forEach((e48) => {
          e48.mesh.setPoints(e48.points[0].position.clone(), e48.points[1].position.clone()), e48.lightMesh.setPoints(e48.points[0].position.clone(), e48.points[1].position.clone()), e48.mesh.setMaterial({ dashed: true });
        }), this.updateDistanceUI(), this.magnifier.renderWithPoint(t44.point), this.mouseGroup.position.copy(t44.point), i66)
          this.mouseGroup.quaternion.copy(i66.quaternion);
        else if (t44.face) {
          const n72 = t44.face.normal.clone().multiplyScalar(0.05), c85 = t44.point.clone().add(n72).clone().add(n72);
          this.mouseGroup.lookAt(c85);
        }
        this.five.needsRender = true, this.hook.emit(
          "selectedChange",
          this.editPointState.associatedLines.map((e48) => e48)
        );
      }
    });
    o26(this, "wantsPanGesture", () => {
      if (this.editPointState)
        return false;
    });
    o26(this, "wantsTapGesture", (t44) => {
      var S52;
      const i66 = this.model.areas.map((s60) => t44.intersectObject(s60.polygon, true)[0]).sort((s60, h66) => s60.distance - h66.distance), e48 = (S52 = i66[0]) == null ? void 0 : S52.object.parent;
      if (e48 instanceof k13) {
        const s60 = this.model.areas.find((h66) => h66.polygon === e48);
        if (s60) {
          const { x: h66, y: u72 } = i66[0].point.clone().project(this.five.camera), d73 = `${(h66 + 1) / 2 * 100}%`, g67 = `${(-u72 + 1) / 2 * 100}%`;
          return this.chooseArea(s60, { left: d73, top: g67 }), false;
        }
      }
      const n72 = l2(this.five), [m66] = n72.intersectRaycaster(t44);
      if (!m66)
        return;
      const c85 = this.five.camera, l63 = m66.point.clone().project(c85), a62 = this.container.clientWidth, f80 = this.container.clientHeight, P55 = new Vector2(l63.x * a62, l63.y * f80), v58 = this.model.getAllLines().map((s60) => {
        const [h66, u72] = s60.points, d73 = h66.position.clone().project(c85), g67 = u72.position.clone().project(c85);
        if (!e16(d73) && !e16(g67))
          return null;
        const H39 = new Vector2(d73.x * a62, d73.y * f80), k47 = new Vector2(g67.x * a62, g67.y * f80);
        return { id: s60.id, points: [H39, k47] };
      }).filter((s60) => !!s60);
      if (v58.length === 0)
        return;
      const y51 = v58.map((s60) => {
        const h66 = q14(P55, s60.points);
        return { id: s60.id, distance: h66.distanceTo(P55) };
      }).sort((s60, h66) => s60.distance - h66.distance)[0];
      if (y51.distance > 20)
        return;
      const A62 = this.model.getAllLines().find(({ id: s60 }) => s60 === y51.id);
      if (A62)
        return this.chooseLine(A62), false;
    });
    o26(this, "chooseLine", (t44) => {
      this.choose = "line";
      const i66 = t44.getPolyline().lines;
      this.deleteDom.setLines(i66).updatePosition().show(), this.highlightLines(i66), this.five.needsRender = true, this.hook.emit(
        "selectedChange",
        i66.map((e48) => e48)
      );
    });
    o26(this, "chooseArea", (t44, i66) => {
      this.choose = t44, this.deleteDom.updatePosition(i66.left, `calc(${i66.top} - 20px)`).show(), this.highlightArea(t44);
    });
    o26(this, "polylineRemoved", (t44) => {
      t44.lines.forEach((i66) => this.removeLine(i66)), this.hook.emit(
        "selectedChange",
        this.model.getAllLines().filter((i66) => i66.selected).map((i66) => i66)
      );
    });
    o26(this, "onCameraUpdate", () => {
      this.updateDistanceUI(), this.highlightedLines.length > 0 && this.deleteDom.updatePosition();
    });
    o26(this, "deleteArea", (t44) => {
      this.unHighlightArea(t44), t44.dispose(), this.deleteDom.hide();
    });
    o26(this, "deleteLine", () => {
      const t44 = this.highlightedLines[0], i66 = this.model.getPolylineByLine(t44);
      i66 && (this.model.removePolyline(i66), this.highlightedLines = [], this.deleteDom.setLines([]).hide());
    });
    o26(this, "cancelDeleteClickCallback", () => {
      this.deleteDom.hide(), this.clearHighlightLines(), this.unHighlightArea();
    });
    this.deleteDom = new w16(this.five, {
      i18n: this.config.i18n,
      onClick: () => {
        this.choose === "line" ? this.deleteLine() : this.choose instanceof Gt2 && this.deleteArea(this.choose);
      },
      cancel: this.cancelDeleteClickCallback
    }).appendTo(this.container), this.model.getAllLines().forEach((e48) => {
      e48.distanceItem.appendTo(this.container), e48.distanceItem.update(this.five), e48.hook.on("selected", this.chooseLine), e48.distanceItem.setCanSelect(true), this.group.add(e48.mesh);
    }), this.model.getAllAreas().forEach((e48) => {
      e48.areaItem.appendTo(this.container), e48.areaItem.updateArea(this.five), e48.hook.on("selected", this.chooseArea), e48.areaItem.setCanSelect(true), this.group.add(e48.polygon), e48.polyline.lines.forEach((n72) => {
        n72.distanceItem.appendTo(this.container), n72.distanceItem.update(this.five), this.group.add(n72.mesh);
      });
    });
    const i65 = this.five.getElement();
    if (i65) {
      this.fiveElement = i65;
      const e48 = new Qt(i65);
      this.hammer = e48, e48.on("pan", this.onPan), e48.on("panstart", this.onPanStart), e48.on("panend", this.onPanEnd);
    }
    this.updateDistanceUI(), this.five.needsRender = true, this.five.on("cameraUpdate", this.onCameraUpdate), this.five.on("wantsTapGesture", this.wantsTapGesture), this.five.on("wantsPanGesture", this.wantsPanGesture), this.five.on("wantsChangeMode", D18), this.model.hook.on("polylineRemoved", this.polylineRemoved);
  }
  dispose() {
    var t43;
    super.dispose(), this.deleteDom.dispose(), this.model.hook.off("polylineRemoved", this.polylineRemoved), this.model.getAllLines().forEach((i65) => i65.hook.off("selected", this.chooseLine)), this.five.off("cameraUpdate", this.onCameraUpdate), this.five.off("wantsPanGesture", this.wantsPanGesture), this.five.off("wantsTapGesture", this.wantsTapGesture), this.five.off("wantsChangeMode", D18), this.five.needsRender = true, this.hook.emit("selectedChange", []), (t43 = this.hammer) == null || t43.destroy();
  }
  highlightLine(t43) {
    t43.selected || (t43.selected = true, this.group.add(t43.lightMesh), t43.distanceItem.highlight(), this.five.needsRender = true);
  }
  clearHighlightLines() {
    this.group.children.length !== 0 && (this.unHighlightLines(this.highlightedLines), this.highlightedLines = []);
  }
  highlightArea(t43) {
    this.unHighlightLines(), this.unHighlightArea(), this.highlightLines(t43.polyline.lines), this.five.needsRender = true;
  }
  unHighlightArea(t43) {
    const i65 = t43 != null ? t43 : this.highlightedArea;
    i65 && (this.unHighlightLines(i65.polyline.lines), this.five.needsRender = true);
  }
  highlightLines(t43) {
    this.unHighlightLines(), this.highlightedLines = t43, t43.forEach((i65) => this.highlightLine(i65));
  }
  unHighlightLines(t43) {
    this.unHighlightArea();
    const i65 = t43 != null ? t43 : this.highlightedLines;
    i65 && i65.forEach((e48) => {
      e48.selected = false, e48.distanceItem.unHighlight(), this.group.remove(e48.lightMesh), this.five.needsRender = true;
    });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Model/index.js
var t22 = Object.defineProperty;
var l25 = (s60, e48, i65) => e48 in s60 ? t22(s60, e48, { enumerable: true, configurable: true, writable: true, value: i65 }) : s60[e48] = i65;
var r23 = (s60, e48, i65) => (l25(s60, typeof e48 != "symbol" ? e48 + "" : e48, i65), i65);
var x14 = class {
  constructor(e48) {
    r23(this, "config");
    r23(this, "polylines", []);
    r23(this, "areas", []);
    r23(this, "hook", new E3());
    this.config = e48;
  }
  addPolyline(e48) {
    if (this.includes(e48)) {
      console.error(new Error("不能重复添加 polyline"));
      return;
    }
    this.polylines.push(e48), this.hook.emit("polylineAdded", e48);
  }
  addArea(e48) {
    if (this.areas.find(({ id: i65 }) => i65 === e48.id) !== void 0) {
      console.error(new Error("不能重复添加 area"));
      return;
    }
    this.areas.push(e48), this.hook.emit("areaAdded", e48);
  }
  replacePolylineByID(e48, i65) {
    const o71 = this.getPolylineByID(e48);
    o71 == null || o71.replace(i65);
  }
  removePolyline(e48) {
    const i65 = this.polylines.findIndex(({ id: o71 }) => o71 === e48.id);
    if (i65 === -1) {
      console.error(new Error("polyline 不存在"));
      return;
    }
    this.polylines.splice(i65, 1), this.hook.emit("polylineRemoved", e48);
  }
  removeArea(e48) {
    const i65 = this.areas.findIndex(({ id: o71 }) => o71 === e48.id);
    if (i65 === -1) {
      console.error(new Error("area 不存在"));
      return;
    }
    this.areas.splice(i65, 1);
  }
  getPolylineByID(e48) {
    return this.polylines.find((i65) => i65.id === e48);
  }
  getPolylineByLine(e48) {
    return this.polylines.find((i65) => i65.includes(e48));
  }
  getLineByID(e48) {
    return this.getAllLines().find((i65) => i65.id === e48);
  }
  getAllLines() {
    return this.polylines.map((e48) => e48.lines).flat(1);
  }
  getAllAreas() {
    return this.areas;
  }
  getAllPoints() {
    return this.polylines.map((e48) => e48.points).flat(1);
  }
  includes(e48) {
    return this.polylines.find(({ id: i65 }) => i65 === e48.id) !== void 0;
  }
  clear() {
    this.polylines.forEach((e48) => this.hook.emit("polylineRemoved", e48)), this.areas.forEach((e48) => e48.dispose()), this.polylines.splice(0, this.polylines.length), this.areas.splice(0, this.areas.length);
  }
  dispose() {
    this.clear();
  }
  getClosestPoint() {
  }
  parse(e48) {
    this.clear(), this.polylines.push(...e48.polylines.map((i65) => new R17({ model: this }).fromJson(i65))), this.polylines.forEach((i65) => this.hook.emit("polylineAdded", i65));
  }
  toJson() {
    return {
      polylines: this.polylines.map((e48) => e48.toJson()).filter((e48) => e48.lines.length > 0)
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/noop.js
function o27() {
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/utils/mouseGroup.js
var Y12 = "data:image/png;base64,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";
var N11 = "data:image/png;base64,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";
var c33 = `
varying vec2 vUv;
void main() {
  vUv = uv;
  vec4 mvPosition = modelViewMatrix * vec4(position, 1);
  gl_Position = projectionMatrix * mvPosition;
}
`;
var Z7 = `
varying vec2 vUv;
void main() {
  vec2 uv = vec2(vUv.x, vUv.y);
  float a = 1.0;
  float match = 1.0 - uv.x;
  gl_FragColor = vec4(1.0,1.0,1.0,match);
}
`;
function D19(A62) {
  var b55, P55;
  const s60 = (b55 = A62.isMobile) != null ? b55 : true, t43 = (P55 = A62.useNormalVector) != null ? P55 : true;
  let Q29 = 10349931;
  t43 && A62.ballColor >= 0 && (Q29 = A62.ballColor);
  const C52 = new Group(), x49 = new PlaneGeometry(0.3, 0.3), n72 = s60 ? Y12 : N11, E53 = new TextureLoader().load(n72);
  E53.encoding = sRGBEncoding, E53.minFilter = LinearFilter;
  const B42 = new MeshBasicMaterial({
    map: E53,
    transparent: true,
    depthTest: false
  }), e48 = new Mesh(x49, B42), g67 = new CurvePath();
  g67.add(new LineCurve3(new Vector3(0, 0, 0), new Vector3(0, 0, 0.1)));
  const u72 = new TubeGeometry(g67, 8, 3e-3), z28 = new ShaderMaterial({
    vertexShader: c33,
    fragmentShader: Z7,
    depthTest: false,
    transparent: true
  }), L40 = new Mesh(u72, z28), j37 = new SphereGeometry(0.01, 20, 20), X24 = new MeshBasicMaterial({
    color: Q29,
    depthTest: false,
    transparent: true,
    side: DoubleSide
  }), v58 = new Mesh(j37, X24);
  return v58.position.set(0, 0, 0.1), C52.name = "mouse-current", C52.add(e48), t43 && C52.add(L40, v58), C52;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/calculateThreeMouse.js
function h25(t43, e48) {
  const { top: n72, left: o71, width: r66, height: c85 } = e48.getBoundingClientRect();
  return new Vector2((t43.x - o71) / r66 * 2 - 1, -(t43.y - n72) / c85 * 2 + 1);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/rangePiece/index.js
var y15 = Object.defineProperty;
var m31 = Object.getOwnPropertySymbols;
var g19 = Object.prototype.hasOwnProperty;
var S21 = Object.prototype.propertyIsEnumerable;
var l26 = (a62, t43, e48) => t43 in a62 ? y15(a62, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : a62[t43] = e48;
var d28 = (a62, t43) => {
  for (var e48 in t43 || (t43 = {}))
    g19.call(t43, e48) && l26(a62, e48, t43[e48]);
  if (m31)
    for (var e48 of m31(t43))
      S21.call(t43, e48) && l26(a62, e48, t43[e48]);
  return a62;
};
var i24 = (a62, t43, e48) => (l26(a62, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var F18 = class {
  // eslint-disable-next-line @typescript-eslint/explicit-member-accessibility
  constructor(t43) {
    i24(this, "container", document.createElement("div"));
    i24(this, "five");
    i24(this, "group");
    i24(this, "mouseGroup");
    i24(this, "hasAppendMouseGroup", false);
    i24(this, "hook");
    i24(this, "content");
    i24(this, "intersectMesh");
    i24(this, "centerMouseXY");
    i24(this, "raycaster", new Raycaster());
    i24(this, "pieceStyl", {
      matrix3d: [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1],
      scale: 1,
      opacity: 0.4
    });
    i24(this, "onCameraDirectionUpdate", () => {
      const t44 = this.getIntersection();
      if (t44) {
        this.pieceChange(t44), this.updateMouseGroup(t44);
        const e48 = new s20(this.mouseGroup.position);
        this.hook.emit("nowPointChange", e48);
      }
    });
    i24(this, "onWillChangeState", (t44, e48) => {
      var s60;
      this.dotAnimation();
      const o71 = (s60 = this.getIntersection()) == null ? void 0 : s60.point;
      o71 && (e48 === "editing" ? this.hook.emit("getStartPoint", new s20(o71)) : this.hook.emit("getEndPoint", new s20(o71)));
    });
    i24(this, "computedCenterMouseXY", () => {
      const t44 = this.container.querySelector(".range-piece__aim");
      if (!t44)
        return null;
      const { left: e48, top: o71, width: s60, height: n72 } = t44.getBoundingClientRect(), r66 = Math.round(e48 + s60 / 2), c85 = Math.round(o71 + n72 / 2), h66 = h25({ x: r66, y: c85 }, this.five.getElement());
      this.centerMouseXY = h66;
    });
    i24(this, "getIntersection", () => {
      if (!this.centerMouseXY)
        return null;
      this.raycaster.setFromCamera(this.centerMouseXY, this.five.camera);
      const t44 = l2(this.five).intersectRaycaster(this.raycaster)[0];
      return t44 || null;
    });
    this.five = t43.five, this.hook = t43.hook, this.group = t43.group, this.mouseGroup = D19(d28({ isMobile: true }, t43.openParams.crossHairParameter)), this.container.innerHTML = n7, this.container.classList.add("range-piece-controller"), this.content = this.container.querySelector(".range-piece__content"), this.content && (this.content.style.transform = `matrix3d(${this.pieceStyl.matrix3d.toString()}) scale(${this.pieceStyl.scale})`, this.content.style.opacity = `${this.pieceStyl.opacity}`), t43.container.append(this.container), this.intersectMesh = new Mesh(
      new RingGeometry(0.04, 0.08, 32),
      new MeshBasicMaterial({ color: 1245179, opacity: 0, side: DoubleSide, transparent: true })
    ), this.container.addEventListener("animationend", this.computedCenterMouseXY), this.five.on("cameraUpdate", this.onCameraDirectionUpdate), this.hook.on("willChangeState", this.onWillChangeState);
  }
  dispose() {
    this.container.removeEventListener("animationend", this.computedCenterMouseXY), this.five.off("cameraUpdate", this.onCameraDirectionUpdate), this.hook.off("willChangeState", this.onWillChangeState), this.container.remove(), this.group.remove(this.mouseGroup), this.mouseGroup.remove(), this.hasAppendMouseGroup = false, this.five.scene.remove(this.intersectMesh);
  }
  pieceChange(t43) {
    const e48 = t43.face, o71 = t43.point;
    if (e48 && o71) {
      const n72 = e48.normal.clone().clone().multiplyScalar(0.05), r66 = o71.clone().add(n72);
      this.intersectMesh.position.copy(r66);
      const c85 = r66.clone().add(n72);
      this.intersectMesh.lookAt(c85), this.five.scene.add(this.intersectMesh);
      const u72 = this.intersectMesh.modelViewMatrix.clone().toArray();
      this.changePieceStyl("matrix3d", u72);
      const h66 = this.calculateSize(o71);
      this.changePieceStyl("scale", h66);
    }
  }
  calculateSize(t43) {
    if (!t43)
      return;
    const e48 = this.five.camera.position;
    let o71 = t43.distanceTo(e48);
    const s60 = 4, n72 = 1;
    return o71 > s60 && (o71 = s60), o71 < n72 && (o71 = n72), -0.51 / (s60 - n72) * o71 + 1;
  }
  /** 点击按钮时圆片动画 */
  dotAnimation() {
    const t43 = U.Easing.Quadratic.InOut, e48 = { opacity: 0.4, scale: this.pieceStyl.scale }, o71 = { opacity: [1, 0.4], scale: [this.pieceStyl.scale * 0.8, this.pieceStyl.scale] };
    let s60 = o27;
    const n72 = new U.Tween(e48).to(o71, 500).easing(t43).start(0).onUpdate(({ opacity: r66, scale: c85 }) => {
      this.changePieceStyl("scale", c85), this.changePieceStyl("opacity", r66);
    }).onComplete(() => {
      s60();
    });
    s60 = l18((r66) => {
      n72.update(r66);
    });
  }
  changePieceStyl(t43, e48) {
    this.content && (this.pieceStyl[t43] = e48, this.content.style.transform = `matrix3d(${this.pieceStyl.matrix3d.toString()}) scale(${this.pieceStyl.scale})`, this.content.style.opacity = `${this.pieceStyl.opacity}`);
  }
  updateMouseGroup(t43, e48) {
    if (!this.hasAppendMouseGroup) {
      this.group.add(this.mouseGroup), this.hasAppendMouseGroup = true;
      const o71 = this.container.querySelector(".range-piece__aim");
      o71 && (o71.style.opacity = "0");
    }
    if (!t43)
      return this.mouseGroup;
    if (this.mouseGroup.position.copy(t43.point), e48)
      this.mouseGroup.quaternion.copy(e48.quaternion);
    else if (t43.face) {
      const s60 = t43.face.normal.clone().multiplyScalar(0.05), r66 = t43.point.clone().add(s60).clone().add(s60);
      this.mouseGroup.lookAt(r66);
    }
    return this.mouseGroup;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Controller/MixedController.js
var y16 = Object.defineProperty;
var D20 = (n72, s60, e48) => s60 in n72 ? y16(n72, s60, { enumerable: true, configurable: true, writable: true, value: e48 }) : n72[s60] = e48;
var t23 = (n72, s60, e48) => (D20(n72, typeof s60 != "symbol" ? s60 + "" : s60, e48), e48);
var me4 = class extends V8 {
  constructor(e48) {
    super(e48);
    t23(this, "state", "watching");
    t23(this, "polyline");
    t23(this, "hasAppendDashed", false);
    t23(this, "mobileStartPoint", null);
    t23(this, "mobileNowPoint", null);
    t23(this, "highlightedLines", []);
    t23(this, "deleteDom");
    t23(this, "rangePieceController");
    t23(this, "disposers", []);
    t23(this, "onWantsTapGesture", (e49) => {
      if (this.state === "editing")
        return false;
      const i65 = l2(this.five), [r66] = i65.intersectRaycaster(e49);
      if (!r66)
        return;
      const a62 = this.five.camera, g67 = r66.point.clone().project(a62), l63 = this.container.clientWidth, d73 = this.container.clientHeight, f80 = new Vector2(g67.x * l63, g67.y * d73), u72 = this.model.getAllLines().map((o71) => {
        const [h66, w49] = o71.points, c85 = h66.position.clone().project(a62), m66 = w49.position.clone().project(a62);
        if (!e16(c85) && !e16(m66))
          return null;
        const k47 = new Vector2(c85.x * l63, c85.y * d73), b55 = new Vector2(m66.x * l63, m66.y * d73);
        return { id: o71.id, points: [k47, b55] };
      }).filter((o71) => !!o71);
      if (u72.length === 0)
        return;
      const P55 = u72.map((o71) => {
        const h66 = q14(f80, o71.points);
        return { id: o71.id, distance: h66.distanceTo(f80) };
      }).sort((o71, h66) => o71.distance - h66.distance)[0];
      if (P55.distance > 20)
        return;
      const v58 = this.model.getAllLines().find(({ id: o71 }) => o71 === P55.id);
      if (v58)
        return this.chooseLine(v58), false;
    });
    t23(this, "onWantsToMoveToPano", () => this.state === "watching");
    t23(this, "onCameraUpdate", () => {
      this.updateDistanceUI(), this.dashed.distanceItem.update(this.five);
    });
    t23(this, "updateMobileDashed", () => {
      !this.mobileStartPoint || !this.mobileNowPoint || (this.dashed.setPoints(this.mobileStartPoint.position, this.mobileNowPoint.position), this.dashed.distanceItem.update(this.five), this.hook.emit("editedDashedLineChange", this.dashed));
    });
    t23(this, "updateMagnifier", (e49) => {
      this.magnifier.containerDom !== this.container && this.magnifier.appendTo(this.container), this.magnifier.state.enabled || this.magnifier.enable(), requestAnimationFrame(() => this.magnifier.renderWithPoint(e49.position)), this.five.needsRender = true;
    });
    t23(this, "onGetStartPoint", (e49) => {
      this.mobileStartPoint = e49, this.polyline = new R17({ model: this.model }), this.polyline.hook.on("lineAdded", () => this.hook.emit("editedPolylineChange", this.polyline)), this.polyline.hook.on("lineRemoved", () => this.hook.emit("editedPolylineChange", this.polyline));
    });
    t23(this, "onGetEndPoint", () => {
      const e49 = this.mobileNowPoint;
      if (this.removeLine(this.dashed), this.hasAppendDashed = false, this.mobileStartPoint && e49) {
        const i65 = new r20(this.mobileStartPoint, e49, this.model);
        this.polyline.addLine(i65), i65.distanceItem.appendTo(this.container), i65.distanceItem.update(this.five), i65.hook.on("selected", this.chooseLine), this.disposers.push(() => i65.hook.off("selected", this.chooseLine)), this.group.add(i65.mesh), this.model.addPolyline(this.polyline);
      }
      this.mobileStartPoint = null, this.mobileNowPoint = null, this.five.needsRender = true;
    });
    t23(this, "onNowPointChange", (e49) => {
      if (this.state === "watching") {
        this.mobileNowPoint = e49, this.updateMagnifier(e49);
        return;
      }
      this.hasAppendDashed || (this.dashed.distanceItem.appendTo(this.container), this.group.add(this.dashed.mesh), this.hasAppendDashed = true), this.five.needsRender = true, this.mobileNowPoint = e49, this.updateMobileDashed(), this.updateMagnifier(e49), this.five.needsRender = true;
    });
    t23(this, "onWillChangeState", (e49, i65) => {
      this.state = i65, this.state === "watching" ? this.five.helperVisible = true : this.five.helperVisible = false;
    });
    t23(this, "chooseLine", (e49) => {
      const i65 = e49.getPolyline().lines;
      this.highlightLines(i65), this.five.needsRender = true, this.hook.emit(
        "selectedChange",
        i65.map((r66) => r66)
      );
    });
    t23(this, "deleteDomClickCallback", () => {
      this.highlightedLines.forEach((e49) => {
        this.removeLine(e49);
        const i65 = this.model.getPolylineByLine(e49);
        this.model.removePolyline(i65);
      }), this.highlightedLines = [], this.deleteDom.setLines([]).hide();
    });
    t23(this, "cancelDeleteClickCallback", () => {
      this.clearHighlightLines();
    });
    this.model = new x14(this.config), this.polyline = new R17({ model: this.model }), this.rangePieceController = new F18(e48), this.deleteDom = new w16(this.five, {
      i18n: this.config.i18n,
      onClick: this.deleteDomClickCallback,
      cancel: this.cancelDeleteClickCallback
    }).appendTo(this.container), this.five.on("cameraUpdate", this.onCameraUpdate), this.five.on("wantsTapGesture", this.onWantsTapGesture), this.five.on("wantsToMoveToPano", this.onWantsToMoveToPano), this.five.helperVisible = false, this.hook.emit("editedDashedLineChange", null), this.hook.on("getStartPoint", this.onGetStartPoint), this.hook.on("getEndPoint", this.onGetEndPoint), this.hook.on("nowPointChange", this.onNowPointChange), this.hook.on("willChangeState", this.onWillChangeState), this.five.refresh();
  }
  dispose() {
    super.dispose(), this.disposers.forEach((e48) => e48()), this.five.helperVisible = true, this.rangePieceController.dispose(), this.group.remove(this.mouseGroup), this.dashed.remove(), this.perpendicularDashed.remove(), this.five.off("cameraUpdate", this.onCameraUpdate), this.five.off("wantsTapGesture", this.onWantsTapGesture), this.five.off("wantsToMoveToPano", this.onWantsToMoveToPano), this.hook.off("getStartPoint", this.onGetStartPoint), this.hook.off("getEndPoint", this.onGetEndPoint), this.hook.off("nowPointChange", this.onNowPointChange), this.hook.off("willChangeState", this.onWillChangeState), this.hook.emit("selectedChange", []), this.five.needsRender = true;
  }
  highlightLine(e48) {
    e48.selected || (e48.selected = true, this.group.add(e48.lightMesh), e48.distanceItem.highlight(), this.five.needsRender = true);
  }
  clearHighlightLines() {
    this.group.children.length !== 0 && (this.deleteDom.setLines([]).hide(), this.model.getAllLines().forEach((e48) => {
      e48.selected = false, e48.distanceItem.unHighlight(), this.group.remove(e48.lightMesh);
    }), this.highlightedLines = [], this.five.needsRender = true);
  }
  getEditingLines() {
    return this.model.polylines;
  }
  highlightLines(e48) {
    this.clearHighlightLines(), this.highlightedLines = e48, this.deleteDom.setLines(e48).updatePosition().show(), e48.forEach((i65) => this.highlightLine(i65));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/UIController/mobileHTML.js
var I21 = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIiIGhlaWdodD0iNzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxmaWx0ZXIgeD0iLTUuMyUiIHk9Ii01LjMlIiB3aWR0aD0iMTEwLjUlIiBoZWlnaHQ9IjExMC41JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0icHJlZml4X19hIj48ZmVPZmZzZXQgaW49IlNvdXJjZUFscGhhIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSIvPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjEiIGluPSJzaGFkb3dPZmZzZXRPdXRlcjEiIHJlc3VsdD0ic2hhZG93Qmx1ck91dGVyMSIvPjxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93Qmx1ck91dGVyMSIgaW4yPSJTb3VyY2VBbHBoYSIgb3BlcmF0b3I9Im91dCIgcmVzdWx0PSJzaGFkb3dCbHVyT3V0ZXIxIi8+PGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDEgMCAwIDAgMCAxIDAgMCAwIDAgMSAwIDAgMCAwLjUgMCIgaW49InNoYWRvd0JsdXJPdXRlcjEiLz48L2ZpbHRlcj48ZmlsdGVyIHg9Ii0xMS40JSIgeT0iLTExLjQlIiB3aWR0aD0iMTIyLjklIiBoZWlnaHQ9IjEyMi45JSIgZmlsdGVyVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94IiBpZD0icHJlZml4X19jIj48ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSI0LjUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dCbHVySW5uZXIxIi8+PGZlT2Zmc2V0IGluPSJzaGFkb3dCbHVySW5uZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldElubmVyMSIvPjxmZUNvbXBvc2l0ZSBpbj0ic2hhZG93T2Zmc2V0SW5uZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0iYXJpdGhtZXRpYyIgazI9Ii0xIiBrMz0iMSIgcmVzdWx0PSJzaGFkb3dJbm5lcklubmVyMSIvPjxmZUNvbG9yTWF0cml4IHZhbHVlcz0iMCAwIDAgMCAxIDAgMCAwIDAgMSAwIDAgMCAwIDEgMCAwIDAgMC4zIDAiIGluPSJzaGFkb3dJbm5lcklubmVyMSIvPjwvZmlsdGVyPjxmaWx0ZXIgeD0iLTEyNi42JSIgeT0iLTMzNy41JSIgd2lkdGg9IjM1My4xJSIgaGVpZ2h0PSI3NzUlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJwcmVmaXhfX2UiPjxmZUdhdXNzaWFuQmx1ciBzdGREZXZpYXRpb249IjE2IiBpbj0iU291cmNlR3JhcGhpYyIvPjwvZmlsdGVyPjxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMTAwJSIgeDI9IjUwJSIgeTI9IjAlIiBpZD0icHJlZml4X19kIj48c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii43IiBvZmZzZXQ9IjAlIi8+PHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjI2LjQzMiUiLz48c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iODIuMzA1JSIvPjxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjQiIG9mZnNldD0iMTAwJSIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjEwMCUiIGlkPSJwcmVmaXhfX2YiPjxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjA1IiBvZmZzZXQ9IjAlIi8+PHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuMiIgb2Zmc2V0PSIxMDAlIi8+PC9saW5lYXJHcmFkaWVudD48Y2lyY2xlIGlkPSJwcmVmaXhfX2IiIGN4PSIzNiIgY3k9IjM2IiByPSIyOC40NDQiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48dXNlIGZpbGw9IiMwMDAiIGZpbHRlcj0idXJsKCNwcmVmaXhfX2EpIiB4bGluazpocmVmPSIjcHJlZml4X19iIi8+PHVzZSBmaWxsPSIjMDAwIiBmaWx0ZXI9InVybCgjcHJlZml4X19jKSIgeGxpbms6aHJlZj0iI3ByZWZpeF9fYiIvPjxjaXJjbGUgc3Ryb2tlPSJ1cmwoI3ByZWZpeF9fZCkiIHN0cm9rZS13aWR0aD0iLjQiIGZpbGwtb3BhY2l0eT0iLjI0MSIgZmlsbD0iI0ZGRiIgc3Ryb2tlLWxpbmVqb2luPSJzcXVhcmUiIGN4PSIzNiIgY3k9IjM2IiByPSIyOC4yNDQiLz48ZWxsaXBzZSBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuNTk2IiBmaWx0ZXI9InVybCgjcHJlZml4X19lKSIgY3g9IjM2IiBjeT0iMzYiIHJ4PSIxOC45NjMiIHJ5PSI3LjExMSIvPjxwYXRoIGQ9Ik0zNiAwQzE2LjExOCAwIDAgMTYuMTE4IDAgMzZzMTYuMTE4IDM2IDM2IDM2IDM2LTE2LjExOCAzNi0zNlM1NS44ODIgMCAzNiAwem0wIDQuNDQ0YzE3LjQyOCAwIDMxLjU1NiAxNC4xMjggMzEuNTU2IDMxLjU1NlM1My40MjggNjcuNTU2IDM2IDY3LjU1NiA0LjQ0NCA1My40MjggNC40NDQgMzYgMTguNTcyIDQuNDQ0IDM2IDQuNDQ0eiIgZmlsbD0idXJsKCNwcmVmaXhfX2YpIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L2c+PC9zdmc+";
var i25 = "data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIiIGhlaWdodD0iNzIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PGxpbmVhckdyYWRpZW50IHgxPSIxNS41MSUiIHkxPSIxMi40OTclIiB4Mj0iODUuMjY1JSIgeTI9Ijg2LjE0MyUiIGlkPSJwcmVmaXhfX2IiPjxzdG9wIHN0b3AtY29sb3I9IiM5NUFFRkYiIG9mZnNldD0iMCUiLz48c3RvcCBzdG9wLWNvbG9yPSIjNjM4NkZGIiBvZmZzZXQ9IjEwMCUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMTAwJSIgeDI9IjUwJSIgeTI9IjAlIiBpZD0icHJlZml4X19hIj48c3RvcCBzdG9wLWNvbG9yPSIjOTlBRUZGIiBvZmZzZXQ9IjAlIi8+PHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjI2LjQzMiUiLz48c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9IjAiIG9mZnNldD0iODIuMzA1JSIvPjxzdG9wIHN0b3AtY29sb3I9IiM5OUFFRkYiIHN0b3Atb3BhY2l0eT0iLjQiIG9mZnNldD0iMTAwJSIvPjwvbGluZWFyR3JhZGllbnQ+PGxpbmVhckdyYWRpZW50IHgxPSI1MCUiIHkxPSIwJSIgeDI9IjUwJSIgeTI9IjEwMCUiIGlkPSJwcmVmaXhfX2QiPjxzdG9wIHN0b3AtY29sb3I9IiM4Nzk3RDIiIHN0b3Atb3BhY2l0eT0iLjA1IiBvZmZzZXQ9IjAlIi8+PHN0b3Agc3RvcC1jb2xvcj0iIzYyNzdDNyIgc3RvcC1vcGFjaXR5PSIuMiIgb2Zmc2V0PSIxMDAlIi8+PC9saW5lYXJHcmFkaWVudD48ZmlsdGVyIHg9Ii02My4zJSIgeT0iLTE2OC44JSIgd2lkdGg9IjIyNi42JSIgaGVpZ2h0PSI0MzcuNSUiIGZpbHRlclVuaXRzPSJvYmplY3RCb3VuZGluZ0JveCIgaWQ9InByZWZpeF9fYyI+PGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iOCIgaW49IlNvdXJjZUdyYXBoaWMiLz48L2ZpbHRlcj48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIHN0cm9rZT0idXJsKCNwcmVmaXhfX2EpIiBzdHJva2Utd2lkdGg9Ii40IiBmaWxsPSJ1cmwoI3ByZWZpeF9fYikiIG9wYWNpdHk9Ii43IiBjeD0iMzYiIGN5PSIzNiIgcj0iMjguMjQ0Ii8+PGVsbGlwc2UgZmlsbD0iIzdDOTBEQSIgb3BhY2l0eT0iLjU5NiIgZmlsdGVyPSJ1cmwoI3ByZWZpeF9fYykiIGN4PSIzNiIgY3k9IjM2IiByeD0iMTguOTYzIiByeT0iNy4xMTEiLz48cGF0aCBkPSJNMzYgMEMxNi4xMTggMCAwIDE2LjExOCAwIDM2czE2LjExOCAzNiAzNiAzNiAzNi0xNi4xMTggMzYtMzZTNTUuODgyIDAgMzYgMHptMCA0LjQ0NGMxNy40MjggMCAzMS41NTYgMTQuMTI4IDMxLjU1NiAzMS41NTZTNTMuNDI4IDY3LjU1NiAzNiA2Ny41NTYgNC40NDQgNTMuNDI4IDQuNDQ0IDM2IDE4LjU3MiA0LjQ0NCAzNiA0LjQ0NHoiIGZpbGw9InVybCgjcHJlZml4X19kKSIgZmlsbC1ydWxlPSJub256ZXJvIi8+PC9nPjwvc3ZnPg==";
var l27 = `
  <svg class="fpm__exit-icon width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <radialGradient cx="50%" cy="50%" fx="50%" fy="50%" r="86.3016741%" id="radialGradient-1">
        <stop stop-color="#FFFFFF" offset="0%"></stop>
        <stop stop-color="#FFFFFF" stop-opacity="0.3" offset="100%"></stop>
      </radialGradient>
      <radialGradient cx="50%" cy="50%" fx="50%" fy="50%" r="70.7106781%" id="radialGradient-2">
        <stop stop-color="#FFFFFF" offset="0%"></stop>
        <stop stop-color="#FFFFFF" stop-opacity="0" offset="100%"></stop>
      </radialGradient>
    </defs>
      <g fill="url(#radialGradient-1)" fill-rule="nonzero" stroke="url(#radialGradient-2)" stroke-width="0.2">
        <path d="M19.1859205,4.10000004 C19.3691554,4.09993923 19.5526088,4.16602323 19.6925352,4.29904206 C19.8171021,4.41745965 19.8858582,4.56899486 19.8980316,4.7239943 C19.9103475,4.88080848 19.8647874,5.04088037 19.7661957,5.16777131 L19.7661957,5.16777131 L14.3769795,11.1697063 C14.1649599,11.4058657 14.0589501,11.7029328 14.0589501,12 C14.0589501,12.2970672 14.1649599,12.5941343 14.3769795,12.8302937 L14.3769795,12.8302937 L19.6928862,18.7509889 C19.8173649,18.8694879 19.8860087,19.0210672 19.8980683,19.1760728 C19.9102693,19.3328965 19.8645908,19.4929392 19.7701664,19.6153111 C19.6099275,19.772809 19.4324896,19.8610254 19.2586274,19.8856752 C19.0810547,19.910851 18.9081905,19.8692156 18.765363,19.7704965 L18.765363,19.7704965 L11.9999322,13.2904645 L5.32508998,19.6962598 C5.16077108,19.8156635 4.99335965,19.8785989 4.83451361,19.8898888 C4.67442082,19.9012674 4.52389835,19.8596921 4.3968979,19.7731206 C4.23619359,19.588506 4.14871527,19.4164558 4.12392544,19.2589757 C4.09801173,19.094356 4.14341261,18.9485987 4.23380428,18.8322287 L4.23380428,18.8322287 L9.62302046,12.8302937 C9.81773049,12.6134147 9.92302682,12.3451662 9.93892926,12.0727274 C9.95499717,11.7974536 9.87975312,11.5179151 9.70614397,11.2737767 L9.70614397,11.2737767 L4.31595492,5.25860214 C4.17860663,5.08857057 4.11166276,4.9104714 4.11172409,4.7432513 C4.11178577,4.57506821 4.18051603,4.41972395 4.30746483,4.29904206 C4.43371817,4.17902131 4.59543385,4.11349344 4.76041858,4.10187732 L4.76041858,4.10187732 L12.0000677,10.7085251 L18.6794563,4.29937602 C18.8192839,4.16626546 19.0026873,4.10006086 19.1859205,4.10000004 Z" id="形状结合"></path>
      </g>
  </svg>
`;
var m32 = `
  <style>
  .mobile .fpm__exit {
    position: absolute;
    top: 53px;
    left: 16px;
    width: 24px;
    height: 24px;
    z-index: 10;
    pointer-events: all;
  }
  .mobile .fpm__exit-icon {
    width: 100%;
    height: 100%;
    cursor: pointer;
  }
  .fpm_operating--mobile {
    padding-bottom: 23px;
  }
  .fpm__main-btn {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 0 !important;
  }
  .fpm__main-btn-text {
    position: absolute;
    font-weight: 500;
    font-size: 14px;
    color: #FFFFFF;
    text-align: center;
    text-shadow: 0 2px 8px rgba(0,0,0,0.50);
    transition: all 200ms ease-in-out;
  }
  .fpm__main-text__hide {
    transform: scale(0.8) translateY(4px);
    opacity: 0;
  }
  .fpm__main-text__show {
    transform: scale(1) translateY(0);
    opacity: 1;
  }
  .fpm__main__start {
    background-image: url(${I21});
  }
  .fpm__main__end {
    background-image: url(${i25});
  }

  </style>
  <div class="fpm__exit">
    ${l27}
  </div>
  <div class="fpm_ui-bg"></div>
  <div class="fpm_operating-space fpm_operating--mobile">
    <div class="fpm__main fpm__main-btn">
      <div class="fpm__main-icon fpm__main__start"></div>
      <div class="fpm__text fpm__main-text fpm__main-btn-text"></div>
    </div>
  </div>
`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/UIController/HTML.js
var o28 = `
  <svg class="fpm__revoke-icon" width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient x1="47.631%" y1="55.183%" x2="2.967%" y2="86.323%" id="fpm__revoke-a">
        <stop stop-color="#FFF" offset="0%" />
        <stop stop-color="#FFF" stop-opacity=".5" offset="100%" />
      </linearGradient>
      <linearGradient x1="5.297%" y1="43.016%" x2="38.238%" y2="79.932%" id="fpm__revoke-b">
        <stop stop-color="#FFF" offset="0%" />
        <stop stop-color="#FFF" stop-opacity="0" offset="100%" />
      </linearGradient>
    </defs>
    <path
      d="M13.388 7.108c.552 0 1.005.42 1.06.957l.006.11v1.224c0 .921.745 1.667 1.666 1.667h7.184c5.804 0 10.509 4.616 10.509 10.309 0 5.595-4.544 10.15-10.21 10.305l-.3.004H8.924c-.917 0-1.66-.729-1.66-1.628 0-.846.658-1.541 1.5-1.62l.16-.008h14.38c3.972 0 7.191-3.158 7.191-7.053 0-3.81-3.08-6.916-6.933-7.049l-.257-.004H10.029l-.109-.005H8.212c-.245 0-.482-.085-.67-.237l-.09-.082a1.066 1.066 0 0 1-.065-1.422l.079-.086 5.175-5.077c.2-.195.468-.305.747-.305z"
      fill="url(#fpm__revoke-a)"
      fill-rule="nonzero"
      stroke="url(#fpm__revoke-b)"
      stroke-width=".5"
    />
  </svg>
`;
var i26 = `
  <svg class="fpm__exit-icon width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
    <defs>
      <linearGradient x1="36.288%" y1="73.736%" x2="54.242%" y2="97.166%" id="fpm__exit-a">
        <stop stop-color="#FFF" offset="0%" />
        <stop stop-color="#FFF" stop-opacity=".5" offset="100%" />
      </linearGradient>
      <linearGradient x1="100%" y1="47.234%" x2="24.047%" y2="47.234%" id="fpm__exit-b">
        <stop stop-color="#FFF" offset="0%" />
        <stop stop-color="#FFF" stop-opacity=".005" offset="99.535%" />
        <stop stop-color="#FFF" stop-opacity="0" offset="100%" />
      </linearGradient>
    </defs>
    <path
      d="M22 7a1.5 1.5 0 0 1 .144 2.993L22 10h-9a1.5 1.5 0 0 0-1.493 1.356l-.007.144v17a1.5 1.5 0 0 0 1.356 1.493L13 30h9a1.5 1.5 0 0 1 .144 2.993L22 33h-9a4.5 4.5 0 0 1-4.495-4.288L8.5 28.5v-17a4.5 4.5 0 0 1 4.288-4.495L13 7h9zm6.317 7.755a1 1 0 0 1 .7.286l4.856 4.764a1 1 0 0 1-.7 1.713h-5.856V21.5h-8.032a1.5 1.5 0 1 1 0-3h6.365c.92 0 1.666-.746 1.667-1.667v-1.078a1 1 0 0 1 1-1z"
      fill="url(#fpm__exit-a)"
      fill-rule="nonzero"
      stroke="url(#fpm__exit-b)"
      stroke-width=".5"
    />
  </svg>
`;
var s24 = `
  <style>
    .fpm__other-btn {
      height: 40px;
      width: 88px;
      background: rgba(0, 0, 0, 0.15);
      border-radius: 20px;
      overflow: hidden;    
    }

    .fpm__other-content {
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .fpm__revoke {
      opacity: 0.3;
    }  
    .fpm__revoke.enabled {
      opacity: 0.85;
    }    
    .fpm__revoke.enabled:hover {
      opacity: 1;
    }
    
    .fpm__revoke-icon {
      width: 24px;
      height: 24px;
      margin-right: 4px;
      cursor: pointer;
    }
    
    .fpm__main-btn {
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .fpm__main-btn-text {
      position: absolute;
      font-weight: 500;
      font-size: 14px;
      color: #FFFFFF;
      text-align: center;
      text-shadow: 0 2px 8px rgba(0,0,0,0.50);
      transition: all 200ms ease-in-out;
    }
    .fpm__main-text__hide {
      transform: scale(0.8) translateY(4px);
      opacity: 0;
    }
    .fpm__main-text__show {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
    .fpm__main__start {
      background-image: url(${I21});
    }
    .fpm__main__end {
      background-image: url(${i25});
    }
    
  </style>
  <div class="fpm_ui-bg"></div>
  <div class="fpm_operating-space">
    <div class="fpm__other-btn">
      <div class="fpm__other-content fpm__revoke">
        ${o28}
        <span class="fpm__text fpm__revoke-text"></span>
      </div>
    </div>
    <div class="fpm__main fpm__main-btn">
      <div class="fpm__main-icon fpm__main__start"></div>
      <div class="fpm__text fpm__main-text fpm__main-btn-text"></div>
    </div>
    <div class="fpm__other-btn">
      <div class="fpm__other-content fpm__exit">
        ${i26}
        <span class="fpm__text fpm__exit-text"></span>
      </div>
    </div>
  </div>
`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/UIController/style.js
var t24 = {
  display: "none",
  position: "absolute",
  top: "0",
  left: "0",
  width: "100%",
  height: "100%",
  opacity: "0",
  transform: "translate(0, 10px)",
  transition: "opacity 500ms ease-in-out, transform 500ms ease-in-out"
};
var e22 = {
  position: "absolute",
  left: "50%",
  bottom: "32px",
  transform: "translateX(-50%)",
  height: "89px",
  display: "flex",
  justifyContent: "space-between",
  alignItems: "center",
  fontSize: "14px",
  pointerEvents: "all",
  color: "#fff",
  zIndex: "10"
};
var n26 = {
  position: "absolute",
  bottom: "0",
  left: "0",
  opacity: "0.5",
  width: "100%",
  height: "184px",
  background: "linear-gradient(180deg, rgba(0,0,0,0.00) 0%, #000000 100%)",
  zIndex: "0"
};
var o29 = {
  margin: "0 64px"
};
var i27 = {
  opacity: "0.85"
};
var a20 = {
  width: "72px",
  height: "72px",
  backgroundSize: "100%",
  cursor: "pointer",
  transition: "all 200ms ease-in-out"
};
var s25 = {
  width: "24px",
  height: "24px",
  marginRight: "4px",
  backgroundSize: "100%",
  cursor: "pointer"
};
var r24 = {
  userSelect: "none",
  pointerEvents: "none"
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/UIController/MainBtnController.js
var c34 = Object.defineProperty;
var h26 = (s60, e48, t43) => e48 in s60 ? c34(s60, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : s60[e48] = t43;
var n27 = (s60, e48, t43) => (h26(s60, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var u24 = class {
  constructor(e48, t43, i65) {
    n27(this, "container");
    n27(this, "measureController");
    n27(this, "mainElement");
    n27(this, "_params");
    n27(this, "_btnTexts", {
      start: "开始",
      end: "结束",
      revoke: "撤销",
      exit: "退出"
    });
    n27(this, "onMouseEnter", () => {
      const { mainItem: e49 } = this.mainElement;
      e49.style.opacity = "1";
    });
    n27(this, "onMouseLeave", () => {
      const { mainItem: e49 } = this.mainElement;
      e49.style.opacity = "0.85";
    });
    n27(this, "onClick", () => {
      this.measureController.getCurrentMode() !== "Edit" ? this.measureController.changeMode("Edit") : this.measureController.save().changeMode("Watch");
    });
    n27(this, "modeChangeHandler", (e49) => {
      e49 === "Edit" ? this.change2Done() : this.change2Add();
    });
    var o71, r66, _32, l63;
    this._params = i65, this._btnTexts = {
      start: (o71 = this._params.startButtonText) != null ? o71 : this._btnTexts.start,
      end: (r66 = this._params.endButtonText) != null ? r66 : this._btnTexts.end,
      revoke: (_32 = this._params.revokeButtonText) != null ? _32 : this._btnTexts.revoke,
      exit: (l63 = this._params.exitButtonText) != null ? l63 : this._btnTexts.exit
    }, this.measureController = e48, this.container = t43, this.mainElement = this.getMainElement(), Object.assign(this.mainElement.mainIcon.style, a20), Object.assign(this.mainElement.mainItem.style, o29);
    const { revokeTextDom: a62, exitTextDom: m66 } = this._getTextElement();
    a62 && (a62.innerText = this._btnTexts.revoke), m66 && (m66.innerText = this._btnTexts.exit), this.change2Add(), this.measureController.hook.on("modeChange", this.modeChangeHandler), this.mainElement.mainItem.addEventListener("click", this.onClick), this.mainElement.mainItem.addEventListener("mouseenter", this.onMouseEnter), this.mainElement.mainItem.addEventListener("mouseleave", this.onMouseLeave);
  }
  dispose() {
    this.measureController.hook.off("modeChange", this.modeChangeHandler), this.mainElement.mainItem.removeEventListener("click", this.onClick), this.mainElement.mainItem.removeEventListener("mouseenter", this.onMouseEnter), this.mainElement.mainItem.removeEventListener("mouseleave", this.onMouseLeave);
  }
  getMainElement() {
    const e48 = this.container.querySelector(".fpm__main-text"), t43 = this.container.querySelector(".fpm__main"), i65 = this.container.querySelector(".fpm__main-icon");
    if (!t43 || !e48 || !i65)
      throw new Error("cannot find dom");
    return { mainTextDom: e48, mainItem: t43, mainIcon: i65 };
  }
  _getTextElement() {
    const e48 = this.container.querySelector(".fpm__revoke-text"), t43 = this.container.querySelector(".fpm__exit-text");
    return { revokeTextDom: e48, exitTextDom: t43 };
  }
  change2Add() {
    const { mainIcon: e48, mainTextDom: t43 } = this.mainElement;
    if (e48.className.includes("fpm__main__start")) {
      t43.innerText = this._btnTexts.start;
      return;
    }
    e48.className.includes("fpm__main__end") && (e48.style.transform = "scale(0.8)", t43.className.includes("fpm__main-text__show") ? t43.classList.replace("fpm__main-text__show", "fpm__main-text__hide") : t43.classList.add("fpm__main-text__hide"), setTimeout(() => {
      e48.classList.replace("fpm__main__end", "fpm__main__start"), e48.style.transform = "scale(1)", t43.innerText = this._btnTexts.start, t43.classList.replace("fpm__main-text__hide", "fpm__main-text__show");
    }, 200));
  }
  change2Done() {
    const { mainTextDom: e48, mainIcon: t43 } = this.getMainElement();
    e48.innerText !== this._btnTexts.end && (t43.className.includes("fpm__main__end") || t43.className.includes("fpm__main__start") && (t43.style.transform = "scale(0.8)", e48.className.includes("fpm__main-text__show") ? e48.classList.replace("fpm__main-text__show", "fpm__main-text__hide") : e48.classList.add("fpm__main-text__hide"), setTimeout(() => {
      t43.classList.replace("fpm__main__start", "fpm__main__end"), t43.style.transform = "scale(1)", e48.innerText = this._btnTexts.end, e48.classList.replace("fpm__main-text__hide", "fpm__main-text__show");
    }, 200)));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/UIController/mobileMainBtnController.js
var _12 = Object.defineProperty;
var r25 = (i65, t43, e48) => t43 in i65 ? _12(i65, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : i65[t43] = e48;
var n28 = (i65, t43, e48) => (r25(i65, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var d29 = class {
  constructor(t43, e48, s60) {
    n28(this, "container");
    n28(this, "measureController");
    n28(this, "mainElement");
    n28(this, "_params");
    n28(this, "_btnTexts", {
      start: "开始",
      end: "结束"
    });
    n28(this, "onClick", () => {
      var t44;
      this.mainElement.mainTextDom.innerText === ((t44 = this._params.startButtonText) != null ? t44 : "开始") ? (this.measureController.hook.emit("willChangeState", "watching", "editing"), this.change2Done()) : (this.measureController.hook.emit("willChangeState", "editing", "watching"), this.change2Add());
    });
    var a62, m66;
    this._params = s60, this._btnTexts = {
      start: (a62 = this._params.startButtonText) != null ? a62 : this._btnTexts.start,
      end: (m66 = this._params.endButtonText) != null ? m66 : this._btnTexts.end
    }, this.measureController = t43, this.container = e48, this.mainElement = this.getMainElement(), this.mainElement.mainIcon.setAttribute("style", "-webkit-tap-highlight-color: rgba(0,0,0,0);"), Object.assign(this.mainElement.mainIcon.style, a20), Object.assign(this.mainElement.mainItem.style, o29), this.change2Add(), this.mainElement.mainItem.addEventListener("click", this.onClick);
  }
  dispose() {
    this.mainElement.mainItem.removeEventListener("click", this.onClick);
  }
  getMainElement() {
    const t43 = this.container.querySelector(".fpm__main-text"), e48 = this.container.querySelector(".fpm__main"), s60 = this.container.querySelector(".fpm__main-icon");
    if (!e48 || !t43 || !s60)
      throw new Error("cannot find dom");
    return { mainTextDom: t43, mainItem: e48, mainIcon: s60 };
  }
  change2Add() {
    const { mainIcon: t43, mainTextDom: e48 } = this.mainElement;
    if (t43.className.includes("fpm__main__start")) {
      e48.innerText = this._btnTexts.start;
      return;
    }
    t43.className.includes("fpm__main__end") && (t43.style.transform = "scale(0.8)", e48.className.includes("fpm__main-text__show") ? e48.classList.replace("fpm__main-text__show", "fpm__main-text__hide") : e48.classList.add("fpm__main-text__hide"), setTimeout(() => {
      t43.classList.replace("fpm__main__end", "fpm__main__start"), t43.style.transform = "scale(1)", e48.innerText = this._btnTexts.start, e48.classList.replace("fpm__main-text__hide", "fpm__main-text__show");
    }, 200));
  }
  change2Done() {
    const { mainTextDom: t43, mainIcon: e48 } = this.mainElement;
    t43.innerText !== this._btnTexts.end && (e48.className.includes("fpm__main__end") || e48.className.includes("fpm__main__start") && (e48.style.transform = "scale(0.8)", t43.className.includes("fpm__main-text__show") ? t43.classList.replace("fpm__main-text__show", "fpm__main-text__hide") : t43.classList.add("fpm__main-text__hide"), setTimeout(() => {
      e48.classList.replace("fpm__main__start", "fpm__main__end"), e48.style.transform = "scale(1)", t43.innerText = this._btnTexts.end, t43.classList.replace("fpm__main-text__hide", "fpm__main-text__show");
    }, 200)));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/UIController/Revoke/index.js
var h27 = Object.defineProperty;
var i28 = (r66, e48, n72) => e48 in r66 ? h27(r66, e48, { enumerable: true, configurable: true, writable: true, value: n72 }) : r66[e48] = n72;
var o30 = (r66, e48, n72) => (i28(r66, typeof e48 != "symbol" ? e48 + "" : e48, n72), n72);
var c35 = class {
  constructor(e48, n72) {
    o30(this, "container");
    o30(this, "revokeIcon");
    o30(this, "revokeItem");
    o30(this, "measureController");
    o30(this, "onClick", () => {
      this.measureController.revoke();
    });
    o30(this, "onModeChange", (e49) => {
      if (e49 !== "Edit" && this.revokeItem.className.includes("enabled")) {
        this.revokeItem.classList.remove("enabled"), this.measureController.hook.off("anchorChange", this.onAnchorChange);
        return;
      }
      this.measureController.hook.on("anchorChange", this.onAnchorChange);
    });
    o30(this, "onAnchorChange", (e49) => {
      e49 && this.revokeItem.classList.add("enabled");
    });
    this.measureController = e48, this.container = n72;
    const t43 = this.container.querySelector(".fpm__revoke-icon"), s60 = this.container.querySelector(".fpm__revoke");
    if (!t43 || !s60)
      throw new Error("不正确的选择器");
    this.revokeIcon = t43, this.revokeItem = s60, this.revokeItem.addEventListener("click", this.onClick), e48.hook.on("modeChange", this.onModeChange);
  }
  dispose() {
    this.revokeItem.removeEventListener("click", this.onClick), this.measureController.hook.off("modeChange", this.onModeChange);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Components/Common/Switcher0.js
function j11(e48) {
  Qt2(e48, "svelte-1v1ixi2", '.Switcher.svelte-1v1ixi2.svelte-1v1ixi2{position:relative;box-sizing:border-box;width:-moz-max-content;width:max-content}.Switcher.svelte-1v1ixi2 .content.svelte-1v1ixi2,.Switcher.svelte-1v1ixi2 .active-slider.svelte-1v1ixi2{transition-property:transform, width, opacity;transition-duration:300ms;transition-timing-function:ease-out}.Switcher-bg.svelte-1v1ixi2.svelte-1v1ixi2{content:"";position:absolute;box-sizing:border-box;top:50%;left:0;width:100%;height:3.75rem;transform:translateY(-50%);border-style:solid;border-width:0rem 1.875rem;-o-border-image:url("data:image/png;base64,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");border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAsQAAAC0CAMAAACkNspZAAAAyVBMVEUAAAAAAAAICAgUFBQ9PT1OTk4dHR0tLS0kJCRcXFxGRkYzMzNXV1dmZmZiYmJtbW3////////////////////ExMSKiopycnJvb2////////9JSUl5eXn///////////////////////+QkJCZmZn///+tra2kpKS/v7+KioqAgICNjY2dnZ3T09PZ2dnq6uru7u6AgICtra28vLzCwsK1tbXKysqxsbHCwsLKysrCwsK6urrExMStra3ExMSfn5+dnZ26urqLi4vkhTy/AAAAQ3RSTlMzADQ2P0M4OzlIQT1GS0lNBQ4JFyGFWVBOCwdCUhEaFRMeHV1iHG5nelpNQj8pLygkVTR3VXRFcGI5gF80YGlcUk9NBLjkeAAAEPBJREFUeNrs2tfS0zAQhmHROwQcYoojN7kwA3Yy6aRA7v+mkFcxa8cyVkAcMOx7Bf/BMzuf9Yfdoah/vL+EeERRmu78hewiBrofoDcUpUnpsMXZGmL0C3TfV72mqJ4ACHC2INkiYuUX7E6n0yAI/CqHoloBC8lDIgHNSvLt3iwiRsDgt9Ir4XKeRKFsTFGdQlmUcC5BV5ZB8m2QLSJGwXCBJWDf4YmkW6yX2+3ptMjzr28pqtXXPF+cTtvtcl1Izgl3fAkZLrKpY/uI4QbLExz4nEcV31Mu/9DFJs2yTIg4/iSbUJSsshDHQkga6WYhD1x+qihHnPuBPMhwj4e82Uc8GinBvgOAt/nbfJWKeO5C71SvKOrShYQLzWORriSZLUB2fHA8cI6tIx7BDp4GDg/L9XbxdZEK4NuQ+4Kirmp4BsoilXS26zLkTgC7ou8cW0WMhGFFROP19muuAANftPuSojqhZqCsIOdft+txBLtCz9guYiQMR3i3z/M0BsDgF/E+oShtiBkkA+Q4zfP9LuSOlrFlxEjY51G5XOQb4YFgANzR+5yiGnUsA2Rw7IlNvliWEfc7jO0jHo0U4bBc5isxB8E14A7dBxTVqMO5hgyO52KVL8tQMcZPPPuIRx8U4WKZb2BGKME1YKJLGdWQXDuGWbHJl4VijMfYGmJcEnILR8V+kcYoWOP3I/SUohopFRrJ6DhOF/siktsYN4VdxLAknERu4fSTIlzfYPR7Rfc+RV264oyS63usGH9K5TZOHNgU9hDjGa6WxHi9QsIoWAEmuZRJteS2Y2S8Wo+rTWF+jJn5GQ6csNivhIeEQbAC3OX7jKJatX0gZHCMjD2x2hehE5gfY2a8hn0+O6+yFmElGABr7T6iqEtazQAZELUZZ6vzjPvGy5iZPko40W4DSwIJXwsmuZS552vHyBg2xWYXOabPFMxwSvDwvBFeizCsiFpwm+9jitKGRhAy7Iorxp7YnENuOCmYieGpn5THdOK6sCRqwiAYAffpfUj95/VZRsjguGYMm8J1J+m+TPypiWJm8irhhLsU1nCXMAomttRtpNFxlzEs43QXOiavFGzYcMDH51TAGpZLok0YBWv43qOon2kpA54OY7kpYBmL9DzmwbBiNvhJF/DZMZs0zjASbgkmutRtnBuOkXHrGE+y44wHg593bNhwecQpoc4wEr4IJr/UjTUhI+P6GOOkOJbDitmAYZ9/OQoPp4SGsAbwXYrSpoGsYYyTwhPHL9wfUMwGDCdFBoZhSlRnGAnjESa91O9axnOMjCUzmBRKcVYkA4rZgOFDFsPLGp5hINw8wgSY+p1a9xgZN48xvLXF2WFAMfu14R0YVnP4QduwIkyAqT+o4fha8QM1jEHxDhXfhPhyhz+579BwhzAJpv60Hsao+J376XKLb0UM78OFQMN4hs0JM4q6ZM4YjzEqFgW8F9+GeFQZ/vItVs8SaBjPsCJMdKlb63XcPMaoGD7v4m9fKsUjQ8RouJSGXTCsPunqM4yECTBlCTIyxmMMn3eg2JWKy37FrO83P3z2Pfbgm67PMAmmbDruUwxfd178fcb7fg3E9A8TU2esMSwvPZ5hIkz9Wf3HWELTKB47U/0TBet5mAg/x/X/ONBw4wyTYMpC/ccYFdf/9Yg/hz1PFEw/iJND2zBOCXWGiTBlJ90xxknRVnxI9LOY6QdxGc97DBNh6q8y7lc8j0uYxQaI1SCe6Aw/JMOU/bSTQqd4ombxEGIYE370eeK5V3sYDRNhynI6xd1d7HqTz5GvGRRM90J8kIbfqYcJMkzdmn3F6oninVR80L0WM82Y+MG+GeSmDkNR1IM/KWKCQPUkpQSpk6SVgCWw/0X9NMnj2Xk2HRF7cM4ajq7uu04u78FRt9mowygMyms1Vos3m6AWv18ShcKlysTVexyGpxSx2PtrqlA488xx/Lk2fnHUyS6BwvA6jMWDdovjzjfXn6M+eaQlHspEe5/LxHb7GCZwGCwrWKwTxXY7r8X3digUVuL4mePWxGUCh2EtrMW2UDQ38+ThzFXXDUGccHgAh+HFhBInLR6iuDO3nVtedf2yTOAwZFnDYlMoer3trMTjVReWCV2IcRjWIVMo/oWFYrztrMQSxK0E8bhM4DCsSN5iWSgkits4il0miKVM4DCsibVYC0U2il0cxN8axPFVh8OwFrmFQqP4O45iFwXxJQhiHIYC5CyOo/gSRbELN+KzDWIchrWxFtsoPodbsQsf67JBjMOwKn9Hcfhs57RNnI7LIMZhKIK12ETx8aR9woVnXdckgpgyAeujziWjuOnC086F+xpBDLXwPIrjlc3JN5jzWWeCGIehCM+ieD7t5ItM92gT+0PnvT7W6TSBw1ACO1Dos5333WH/6BNO28RN2wRBDMVJRrH2iZv2CRd8NmHbBEEMJbBRbPuEfkChEk8jsZx141cTtAkoif2CQk+7cSpWieM28Ra3CRyGcuT6xJv2iUji09m2iTGIcRiKEUax7RPnk0gslfjQxW2CIIbiiH3JPtEdfkuxSqwvHWGbIIihMPa0W7x3qMRjJaZNQHXk+4SUYpV4N1Zi8+SMw1AUtdg+PY+leDdJbCvx6DASQw3YfcKUYpH4Y5+pxDgMZXlaivcfKrGsxFqJfx1GYihP/N6hpViW4lHiaSX+mr9g2w4SU4mhHmYFY4m385dsX9NS7Ka7ru0buxITxFCe/FLc9O102Tn5qcN7KjFUSLYUey+/d7j5W+LprtOVmEoMdZBaiuWyO+xFYh0nzF2Hw1Cc9GUXzhMuNU5QiaEeJIrz84Qzj87cdVAV5rIzD89uXtgYJ6BS8vOEbGxOPiZmnIA6yc8TTX8OJG57s7Bx10El5De2vn1IvPtEYqiXZxJ/7lTi+0JiFjaohv/snT2KAzEMRmGq1CHV7pCQfoqcYe9/qCXG4lvHisU2jgzvneEh9GdLPbZXiX+qxHVgh8SQFUnsj+yqxBckhrQMJL64En8jMSSjnzv7Eu9IDFl5L/GOxLAGA4lJJ2ANRukEhR0sQVTY0WKD9EQtNoYdkJ7xsIOxMyzAeOzMAhAswEhiVjFhBcarmCzFwwJES/E8T4L0RM+TeCgK6QkeivJkH/IzfrLP5ymQn81vE+vzFL6xguyE31jxoSBkJ/pQkK9dITvh1658sg3ZiT7Z5twBpCc8d8DhGUhOfHiGE2CQHCclbk+AcYwRkhMfY+QsLiQnPovLgXLIzT8OlNeVYvIJSMYom7BlYpPYkuKyA2T5BKEYPszm9ibK9o+lxJK47AA9di+fwGL4EHLYzSb2R9n+aSS+3ft84oTEMINY4lOfTdxvkrjJJ7x5BxbDZOSwP+lQNmESWz6h/oSFYvIJ+BybW9apN2HZhCR+Du0O5ROEYphPHIiVTRzPcZ0kLnzZvKMbPWMxzMJ3WCPndtJRsglJbM87yv5EH4qxGCazvQ/EZW+iPuqQxDbvuB6EYshBFIiPq006JHHZn7BWsUIxFsMMYocViK1JXPcmWonPpbRTKFaDgoQC5iLf1JpQIK5l3bmRWKWdE4qxGGazxYHYyjpJrNLubyjGYphA7LATiFXWSWJ12V5CsWo7LIY5yDRVdU0gVn+tk1gLFM3YDothGr7D7bBOaxONxG4oLhsUWPzLrr0tKw1EQQB9ssoHtSiDiaUQLgkheElACBwOnEL9/48y2ZOxGWd0jAaeur9hVVfPThhP7mNY/ppwFjEQo4rnHzdtFZuDgooZX/o3bI6Jn0U810UMxEYVB+sP6g8KvO2omLlXbMN41em/Jj6sAyliCzFuxYsvGz0orAsFFTM3zbUw0zDGxObLAjdiEzE+282+/zIoqJhx5i6GrTHxfYaPdW7E8rYLR7qKf85iKma86d8wBrEu4lEorzoXYvNt9yl0DgpRTMYMcgPCMOwcE+EnvOpciPG2C+tBQcWMJ3c3/DbahHjVuRDjbRefk+ZCgVkMxWTMILcjDMMYxM1lYnWO8apzI8agSH7OYipmrNzXMAZxgjFhIbYGxfDrCoNCnyigmIyZ2xCGYRwmMCbCrzOMCSdiVHF9oSiT0KX4ORUz9zD83Gk4KevLxOuBBzE+eZzT0e8UkzFzM8J/MDxKz/jMYSG2B0XzZ7FWbOxiTAoyZnomjClh7WEx3PxFjDHhQTxQs1ged3KigOJ2GAtjOmb6EAzCmMMwLIcJedR9HQbymcOPGLN4fbEVm2VMxkw/hO0atg1f1hjEPsS4FpeXRL7cuRULYzpm+hEshN2G5UtdcilxIfYjhuLPl0Rmsd7F7fPOZEzITFfAHsLqSaf3sAzi5PIZhj2IkXeN4mIpil9CMcpYMYZjcma60YVgTRg1DMMvxfCyaAzjUedFjBPF4rxcXSl+phX/yphhusdNWBt+dmV4tTwvcJjogHggio91F0dQ/N5mTMfM/wq2Cb+H4aju4aMYHnRFDMVprVjdi1+YihvG4piQmX8BDMFC2DT8Qt2Ha8MpDHdDDMXFUn/1wKQAY13HhMx0B4wSBmFMCf2NY1nAcCfEUBx/floqxbqMwRh1LJBpmfkrvQCMEtaEUcPK8PLpcwzDnRBD8TQuW8V6UliMxbFAZhhfAFgE24T1lGgNl/EUhrsihuL1Uxa2inUZg7E4FsiUzHTwK4BFMAjrGtaGw+xpDcMdEUOx3IuH37I0up4UYAzHgEzOzO/pAjAEg/D1lIjS7NtQ7sMw3BExFI+D2THDpLAYw3FLmWGcAV8ItghjSmTHWTD2GPYhxt9Ak0V5ykJ1azMZw7EpmaQZm63pF4JNwuqyFmancjHBPz8exH7FMimqtC1jMG4dA7K2zDCIpReAtWAQbms4rWRKwLAfsfd5Nw7mx0O2ikzGUsfiWEEWygzjDPgKYC1YStgkHK2yw3EejPGk8yP2K24mRbzeVbKMrxnDsSGZnhmXXO3XEGwSljVc7dZxMyXEcA+IMSmCWXGqUoOxdgzI0MwwEssuAGvBBuG0OhWzAFOiD8S4Ukzi4b46rCIwhmOBLJQZxh3wVYAhGISj1aHaD+MJrhL9IEYZj4NFudtmYAzHCrKWTM+MS672qwBDMAhn2125CMao4d4QYxlPg3lx2h4SxVjqWDkWybDccGYYk67ohV8RLCXcEk4O21MxD6ZYw70ixpliEs+KXV4lERxryCKZYTx5cQUYgqOkynfFLJ7gKNEnYigevFaMy5pxuqkZa8cCWVMmZ8ZNF3wFsBZcE96kNeFSEX49gOE+EaOMFeN5vY3zQzoSxwoyJLecGUYFdOFXAVaCR+khr7fwXAibS6J/xGA8DeLZ8ZTnWRKJY4EslMUywzjzSvMVwCI4SrI8Px1ncTB1E+4fMRjXdTzcPzzmWbppIEOyYGYYMwov/ArgTZrljw/7YV3CHsI9Igbjto7L/cP2cdtAFslCWTQzjA7sCl/xK4C3j/nDvmxL2EO4N8RgLHVcr+Og7uNi/5C/yassTYSyYBbPDAO5Cq/w/dFuHaQwCENBGL6CbZouQ9NETTfdaFFc5P7H6rzZiEgR4W0K7z/DxzApd5/iAfiNDXZ4whzhA8LqiDnH4pi/gpDHWrxfhqnr+z7nlF7oblnohVLKGTS6aVi8L3UkYHkRFHw8wuqI1znmrwBkF9oYhfI81zqUsnjL2rSUMtQ6z8I3xjY4AOaLODHCuohXx/zHAhmSXQjtM6KbZe2K6NmG4OBXAPMHnxSsj3iFLJJBGZaBWXKWtYksHtALvvSrAFgLMWsoGZSli2X9iECu9KsAWBcxa4Qyu1rWLtBljZ7fFbF+jWXtIl39gNiy/rwvGmW4k6mR4W0AAAAASUVORK5CYII=");border-image-slice:0 90 fill}.Switcher-buttons.svelte-1v1ixi2.svelte-1v1ixi2{display:flex;align-items:center;box-sizing:border-box;padding:0 0.1875rem;height:100%}.Switcher-buttons.has-divider.svelte-1v1ixi2 .button.svelte-1v1ixi2:not(:last-child)::after{content:"";position:absolute;right:0;top:10%;height:80%;width:0.0625rem;background-image:linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.3), transparent);background-size:100%;background-repeat:no-repeat;background-position:center}.active-slider.svelte-1v1ixi2.svelte-1v1ixi2{box-sizing:border-box;position:absolute;height:3.25rem;top:50%;transform:translate(0, -50%);border-style:solid;border-width:0rem 1.875rem;-o-border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAACcCAMAAABY3aA6AAAAhFBMVEX///////8AAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////88i7DIAAAALHRSTlNmawBvc3d6BAcZDid8NwyFja/XEhYkHTErIS41gpajnUyRVEE7XKpiRczDuH1q6FcAAA1mSURBVHja7Ndtk5owFAXg2KKtiiUdlTdBYH1Z//8vbC4SjkmuDlpmOht7AWfdLyaPZw4ovo06PzydcZX+Eh3QP99gXvsCRkbvsX91s/B29A41/rch9mOjq09twUl6TbNRM/d4aH9rmsWVfkDmx0XX4ORN1HGcZdlWzdLbod2pTcYx8St5Dc/7jIiOjGtw4lbSaZ4nSbJTs/J0aG9qi3meKn+i1/AM+/joWlyBk3eaJ7tj/RlEsiyr/fm3t3PeV2Upo+CzPu6SPFXyBM+4j4oO8k6cwI+nUFbdihopI49HyqbLVSXD05HgO3ejZsZDR5OrkHfiCnxWns9VKaNQzczzCa+vaiJZVudzOVPwnbuKO9RHRidyCnkrLqQCb6I73FNvhtsdyTcKXorWneIO9jHRf1zJ5/F2ma9O0X5fEriXzvfHgi/3++i0ypfbeA72EdF78jS5TKtW/J20efvWvZpekvRJdjH49rneEHld7CsZhhx44Pm48OQuq31RE/tmPfhJRgwzBzlC7mhPA2/hsTXYI+5gH/YgI4aWebZM6qhqil4c4P5ac/o0lntRVlGdLLOhHSMGxnyZH6Y9Od8n3z0fvm069qaaHvLlwLCLQTfQbbr7LEuD3NUOPD9c+1v2qCw/d+n2GvbX0RFzahbd5ZZ4z+190G/xLXfd7apjdNhfQof5PEtXk1K65AB3ZmJfX2bshbP47TDsspys0mwO9RfQ1YPiYh1v80PRFA656327dPui40uczsIxVurhDnYFdci38XqBh8cn0anOqVo+JMXcJg8c7W7V7sq/UNCZvOjDtmfYKezygyoGxf4celvnVC1N1Mdci2M099eSfWVu8cGu3fuwRw1VTFvsT6Kjzo+hLBBzM+Tv4+3g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");border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXQAAACcCAMAAABY3aA6AAAAhFBMVEX///////8AAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////88i7DIAAAALHRSTlNmawBvc3d6BAcZDid8NwyFja/XEhYkHTErIS41gpajnUyRVEE7XKpiRczDuH1q6FcAAA1mSURBVHja7Ndtk5owFAXg2KKtiiUdlTdBYH1Z//8vbC4SjkmuDlpmOht7AWfdLyaPZw4ovo06PzydcZX+Eh3QP99gXvsCRkbvsX91s/B29A41/rch9mOjq09twUl6TbNRM/d4aH9rmsWVfkDmx0XX4ORN1HGcZdlWzdLbod2pTcYx8St5Dc/7jIiOjGtw4lbSaZ4nSbJTs/J0aG9qi3meKn+i1/AM+/joWlyBk3eaJ7tj/RlEsiyr/fm3t3PeV2Upo+CzPu6SPFXyBM+4j4oO8k6cwI+nUFbdihopI49HyqbLVSXD05HgO3ejZsZDR5OrkHfiCnxWns9VKaNQzczzCa+vaiJZVudzOVPwnbuKO9RHRidyCnkrLqQCb6I73FNvhtsdyTcKXorWneIO9jHRf1zJ5/F2ma9O0X5fEriXzvfHgi/3++i0ypfbeA72EdF78jS5TKtW/J20efvWvZpekvRJdjH49rneEHld7CsZhhx44Pm48OQuq31RE/tmPfhJRgwzBzlC7mhPA2/hsTXYI+5gH/YgI4aWebZM6qhqil4c4P5ac/o0lntRVlGdLLOhHSMGxnyZH6Y9Od8n3z0fvm069qaaHvLlwLCLQTfQbbr7LEuD3NUOPD9c+1v2qCw/d+n2GvbX0RFzahbd5ZZ4z+190G/xLXfd7apjdNhfQof5PEtXk1K65AB3ZmJfX2bshbP47TDsspys0mwO9RfQ1YPiYh1v80PRFA656327dPui40uczsIxVurhDnYFdci38XqBh8cn0anOqVo+JMXcJg8c7W7V7sq/UNCZvOjDtmfYKezygyoGxf4celvnVC1N1Mdci2M099eSfWVu8cGu3fuwRw1VTFvsT6Kjzo+hLBBzM+Tv4+3g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");border-image-slice:0 90 fill}.button.svelte-1v1ixi2.svelte-1v1ixi2{height:3.5rem;display:flex;position:relative;cursor:pointer;align-items:center;justify-content:center;pointer-events:all;width:7.25rem}.button.svelte-1v1ixi2 .content.svelte-1v1ixi2{position:absolute;display:flex;align-items:center;font-size:1rem;color:#fff;text-shadow:0 0.125rem 0.5rem rgba(0, 0, 0, 0.5);font-weight:bold}.button.svelte-1v1ixi2 .content .icon.svelte-1v1ixi2{display:inline-block;width:1.15625rem;height:1.15625rem;background-repeat:no-repeat;background-size:100%;margin-right:0.125rem}.button.svelte-1v1ixi2:not(.active) .content.svelte-1v1ixi2{opacity:0.65;transform:scale(0.875)}.button.svelte-1v1ixi2:not(.active) .content.svelte-1v1ixi2:hover{opacity:0.85}.button.active.svelte-1v1ixi2 .content.svelte-1v1ixi2{opacity:1;transform:scale(1)}');
}
function F19(e48, i65, t43) {
  const o71 = e48.slice();
  return o71[13] = i65[t43], o71[14] = i65, o71[15] = t43, o71;
}
function C27(e48) {
  let i65;
  return {
    c() {
      i65 = K4("div"), te2(i65, "class", "active-slider svelte-1v1ixi2"), ne2(
        i65,
        "width",
        /*activeButtonWidth*/
        e48[6] + "px"
      ), ne2(i65, "transform", `translate(${/*activeButtonLeft*/
      e48[7]}px, -50%)`);
    },
    m(t43, o71) {
      Nt(t43, i65, o71);
    },
    p(t43, o71) {
      o71 & /*activeButtonWidth*/
      64 && ne2(
        i65,
        "width",
        /*activeButtonWidth*/
        t43[6] + "px"
      ), o71 & /*activeButtonLeft*/
      128 && ne2(i65, "transform", `translate(${/*activeButtonLeft*/
      t43[7]}px, -50%)`);
    },
    d(t43) {
      t43 && J4(i65);
    }
  };
}
function R21(e48) {
  let i65;
  return {
    c() {
      i65 = K4("span"), te2(i65, "class", "icon svelte-1v1ixi2"), ne2(i65, "background-image", `url(${/*option*/
      e48[13].icon})`);
    },
    m(t43, o71) {
      Nt(t43, i65, o71);
    },
    p(t43, o71) {
      o71 & /*options*/
      1 && ne2(i65, "background-image", `url(${/*option*/
      t43[13].icon})`);
    },
    d(t43) {
      t43 && J4(i65);
    }
  };
}
function S22(e48) {
  let i65, t43, o71, u72 = (
    /*option*/
    e48[13].value + ""
  ), f80, h66, l63 = (
    /*index*/
    e48[15]
  ), c85, n72, s60 = (
    /*option*/
    e48[13].icon && R21(e48)
  );
  const A62 = () => (
    /*div1_binding*/
    e48[10](i65, l63)
  ), r66 = () => (
    /*div1_binding*/
    e48[10](null, l63)
  );
  function E53() {
    return (
      /*click_handler*/
      e48[11](
        /*option*/
        e48[13],
        /*index*/
        e48[15]
      )
    );
  }
  return {
    c() {
      i65 = K4("div"), t43 = K4("div"), s60 && s60.c(), o71 = Xt(), f80 = gt(u72), h66 = Xt(), te2(t43, "class", "content svelte-1v1ixi2"), te2(i65, "class", "button svelte-1v1ixi2"), re2(
        i65,
        "active",
        /*activeIndex*/
        e48[4] === /*index*/
        e48[15]
      );
    },
    m(x49, M48) {
      Nt(x49, i65, M48), pt(i65, t43), s60 && s60.m(t43, null), pt(t43, o71), pt(t43, f80), pt(i65, h66), A62(), c85 || (n72 = lt(i65, "click", E53), c85 = true);
    },
    p(x49, M48) {
      e48 = x49, /*option*/
      e48[13].icon ? s60 ? s60.p(e48, M48) : (s60 = R21(e48), s60.c(), s60.m(t43, o71)) : s60 && (s60.d(1), s60 = null), M48 & /*options*/
      1 && u72 !== (u72 = /*option*/
      e48[13].value + "") && ee2(f80, u72), l63 !== /*index*/
      e48[15] && (r66(), l63 = /*index*/
      e48[15], A62()), M48 & /*activeIndex*/
      16 && re2(
        i65,
        "active",
        /*activeIndex*/
        e48[4] === /*index*/
        e48[15]
      );
    },
    d(x49) {
      x49 && J4(i65), s60 && s60.d(), r66(), c85 = false, n72();
    }
  };
}
function D21(e48) {
  let i65, t43, o71, u72, f80, h66 = (
    /*activeButton*/
    e48[5] && C27(e48)
  ), l63 = (
    /*options*/
    e48[0]
  ), c85 = [];
  for (let n72 = 0; n72 < l63.length; n72 += 1)
    c85[n72] = S22(F19(e48, l63, n72));
  return {
    c() {
      i65 = K4("div"), t43 = K4("div"), o71 = Xt(), h66 && h66.c(), u72 = Xt(), f80 = K4("div");
      for (let n72 = 0; n72 < c85.length; n72 += 1)
        c85[n72].c();
      te2(t43, "class", "Switcher-bg svelte-1v1ixi2"), te2(f80, "class", "Switcher-buttons svelte-1v1ixi2"), re2(f80, "has-divider", !/*activeButton*/
      e48[5]), te2(i65, "class", "Switcher svelte-1v1ixi2");
    },
    m(n72, s60) {
      Nt(n72, i65, s60), pt(i65, t43), pt(i65, o71), h66 && h66.m(i65, null), pt(i65, u72), pt(i65, f80);
      for (let A62 = 0; A62 < c85.length; A62 += 1)
        c85[A62] && c85[A62].m(f80, null);
      e48[12](i65);
    },
    p(n72, [s60]) {
      if (
        /*activeButton*/
        n72[5] ? h66 ? h66.p(n72, s60) : (h66 = C27(n72), h66.c(), h66.m(i65, u72)) : h66 && (h66.d(1), h66 = null), s60 & /*elementList, activeIndex, onChange, options*/
        23
      ) {
        l63 = /*options*/
        n72[0];
        let A62;
        for (A62 = 0; A62 < l63.length; A62 += 1) {
          const r66 = F19(n72, l63, A62);
          c85[A62] ? c85[A62].p(r66, s60) : (c85[A62] = S22(r66), c85[A62].c(), c85[A62].m(f80, null));
        }
        for (; A62 < c85.length; A62 += 1)
          c85[A62].d(1);
        c85.length = l63.length;
      }
      s60 & /*activeButton*/
      32 && re2(f80, "has-divider", !/*activeButton*/
      n72[5]);
    },
    i: N4,
    o: N4,
    d(n72) {
      n72 && J4(i65), h66 && h66.d(), Vt(c85, n72), e48[12](null);
    }
  };
}
function B12(e48, i65, t43) {
  let o71;
  const f80 = (a62) => {
    t43(4, s60 = a62);
  };
  let { options: h66 } = i65, { onChange: l63 } = i65;
  const c85 = [];
  let n72, s60 = null, A62, r66;
  function E53(a62, w49) {
    ft[a62 ? "unshift" : "push"](() => {
      c85[w49] = a62, t43(2, c85);
    });
  }
  const x49 = (a62, w49) => {
    l63(a62.key), t43(4, s60 = w49);
  };
  function M48(a62) {
    ft[a62 ? "unshift" : "push"](() => {
      n72 = a62, t43(3, n72);
    });
  }
  return e48.$$set = (a62) => {
    "options" in a62 && t43(0, h66 = a62.options), "onChange" in a62 && t43(1, l63 = a62.onChange);
  }, e48.$$.update = () => {
    e48.$$.dirty & /*elementList, activeIndex*/
    20 && t43(5, o71 = c85[s60]), e48.$$.dirty & /*activeButton, container*/
    40 && o71 && n72 && setTimeout(
      () => {
        t43(6, A62 = o71.clientWidth), t43(7, r66 = o71.getBoundingClientRect().left - n72.getBoundingClientRect().left);
      },
      0
    );
  }, [
    h66,
    l63,
    c85,
    n72,
    s60,
    o71,
    A62,
    r66,
    null,
    f80,
    E53,
    x49,
    M48
  ];
}
var T15 = class extends Ce {
  constructor(i65) {
    super(), Te(
      this,
      i65,
      B12,
      D21,
      Ft,
      {
        defaultIndex: 8,
        setIndex: 9,
        options: 0,
        onChange: 1
      },
      j11
    );
  }
  get defaultIndex() {
    return this.$$.ctx[8];
  }
  get setIndex() {
    return this.$$.ctx[9];
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Components/Common/Exit.js
function p19(e48) {
  Qt2(e48, "svelte-1m0stw", ".exit.svelte-1m0stw{position:relative;pointer-events:all;cursor:pointer;left:1.5rem;top:1.5rem;width:1.5rem;height:1.5rem;background-image:url(data:image/png;base64,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);background-repeat:no-repeat;background-size:100% 100%}");
}
function B13(e48) {
  let A62, i65, o71;
  return {
    c() {
      A62 = K4("div"), te2(A62, "class", "exit svelte-1m0stw");
    },
    m(t43, s60) {
      Nt(t43, A62, s60), i65 || (o71 = lt(A62, "click", function() {
        L5(
          /*onClick*/
          e48[0]
        ) && e48[0].apply(this, arguments);
      }), i65 = true);
    },
    p(t43, [s60]) {
      e48 = t43;
    },
    i: N4,
    o: N4,
    d(t43) {
      t43 && J4(A62), i65 = false, o71();
    }
  };
}
function U12(e48, A62, i65) {
  let { onClick: o71 = null } = A62;
  return e48.$$set = (t43) => {
    "onClick" in t43 && i65(0, o71 = t43.onClick);
  }, [o71];
}
var S23 = class extends Ce {
  constructor(A62) {
    super(), Te(this, A62, U12, B13, Ft, { onClick: 0 }, p19);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Components/Common/icons/index.js
var A27 = "data:image/png;base64,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";
var g20 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAAFO0lEQVR4Ae2YWYgdRRSG78SFOG6Ju4MxIRnRgCCKBlSC24P64IO4h7wI6oMPCioqAX1TfFIQRFFBETQmIioqGhDBh3GJiMSAZnABNSIuUQTFbcz4fZcup297b9+t7525wznwU11d1aervj6nurprtbAgEASCQBAIAkEgCASBIBAEgkAQCAJBIAgEgSAQBIJAEMgIzM7OLkHL0STaJ8DMgRkDyDK0CX2MptEUOrMbSGPddB6VvkAwUo5Hd6OzCuP+hfr5Y2NjvxbON60uaXp2hE8CZ3+GfzJ6ABXhOLND0VoPOrF9O+k0Kn2AM85Y16M70UTJuL8taWtoWjSAgHMYM7sQ3YyWN8yysbKZ9NrdeKp1bVGsQcBxvbkUXYsOaD3d2jbabgXQ3yV9GppGPoKA43pyDboclb3G36T9rm7g0L82soAAY/S7CG9E56GybHiLduH4BuvKRhIQcIyUi5BwTmsz47dpvwftadOvafPIAQLOUmZiSl2JVjed1dzJ7Rzei74iembnTnd+NFKAgHMIU7seXYKObTPN92kXzue9wtH/yAACjkBuQecgN3tltoNGN4rTwNlb1rFd20gAAs4JTOR2dAYqe407351IOB/2C0dnlQBiAm7vZ6oYkIPKG77XUd+E1iDvU2bTND6I3qtqLH0BYvDuWP3uORHNUHeAOxlcRx+C9C01/F1MhzvQUahsj6OfT9HDaKoqODot2zvY3tIYvOuAi+W5SD++Xf5BU+h1BvklZc+G/+u4+AbkwtxunF/QRzivcl/HUJn1E0GTjMKNmtGin7+QKeD30AQTfI1ye7dPk+uMFFPqMtRuvaFLzQfxOKocjs57ApRNwrfKDPKJ+YSV9Z/RKcj2lfR9BUi/cdzW6GsU3o98U3Uytq/p9wR6serIwWfdevoflA3mh8yHGzBfpYJK5U8cuz5dhW5k4isoS40+ptJDaD3qBM439HsKbR0UHHzXegLkhdhnaBcyrfJwhKSMGtPuAnQbAM6mbGq0HU3DI+h01Akc/+c8owYJB/9tFz/7NDUmZUqtRFegVehP5OSU64jlfpkOp/wRbUNbmNQflHXDzyoO7kMnIX16rWr18L6nbTN6FD+m9EDNAfVsGaRJHAjpOGTEJDgJViqX0WakvYu2ot3oVHQT0odRJxT7C1Y/RUtwHgNOx/90ik66qfcFyBvlIG2gOoGMjgTFMg/sQOoHo++QQFynjC7BJjjpWq/LQ3LNM62GBod79Z5iXpwsg7SWul/YQiqmW4qINPmD6OM5zUU+QbQs9vUhzgsc7tsyz23r2Ah3J/kJegE5mXFkOjVbvNMC7v7JaHMd8ZzST/4a6/MGh3vXU8GybxMS9hGOfOJG0jFIAGnylk7edpXOm1qpzWPb7Ge0mYrPoaGmFff7zxxEZZZB2oFD00RIRyAhJSh5MHkoAhFOeit5vQvyFvTksBZk7vU/qxSQ3jNIH2R3cqPoh+bvKEVMiqJ8tKSo8TLXIdPqWfT0fMLh/tWlmM6SMam9pFsRkgt3ihRhGS3FiHLT6X7JfY475KG8yrlXS6s8gtKdCpCu5ryR5Os8H0H5NDNyhGNaPc/1Kd2ozp8NDJBTKkDawKkjkZFkeuVBOY49yMh5eaHAYSyDSTEdJytAcuF2n2TqmF5pD5Tg+B9pQUQOY6ubgxyKsSYZNf4GEdJqJJylyA/Pl9AbCw0OY6o/RcuhGJB8IMJZh1Ygf4u8g3YBx5QLk4DRhMaRC3NYEAgCQSAIBIEgEASCQBAIAkEgCASBIBAEgkAQCAJBYJEQ+BdpRqKi3IjqNwAAAABJRU5ErkJggg==";
var B14 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAABi0lEQVRoBe2Yu20DMRBEdW7EuVLX4NQVuAEVoUhFuAFV4FQ1OHWuRkzNABRwMLhDfbhcBhyA0IEjnvYNjjxoN5upmcBMYCYQmcCifjyl9AL/E+Md4xXjjHHCOC7L8ofPcJkAufgvVPhWqPIHc7sRIJiwJSZfKp7f5zz9cCkAPjZKNV+tbeYpAD7zSjVfrW3mKQBuWKWar9Y28xQATxsl7PNkHgJqYUtPARzxQzxtLG1h7KMhZIL5KP3/HkgonMVf9Y2LA45UzneXBChVkxPfw/tY+WEQdwOw6JEgHgIYCeJhgFEgngIYAeJpgGiIJgCREM0AoiCaAkRANAfoDeEC0BPCDaAXhCtADwh3AG+ILgCeEN0AvCC6AnhAdAdoDRECICB+4bEmtmzOGNU2ZhgAirP+2dFaS7YxVVdifROX69wIOODmTN6SbGOGArDiDFF7Esw2ZjhAjr3WpjT9UQC4YZVMfxSAWhvT9EcBUG1MnkL0i6ptnuIij0mjjVl9D3jUMu85E5gJzARuT+ACS7KuMQ7rOEcAAAAASUVORK5CYII=";
var Q12 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAAByElEQVRoBe1ZMU4DMRC8Q7yCJjVNKCh4ARVfAPo0PCYNPeQLVLyAggIa6jQ8g2NGsiJjeUfHrdGd0K60Sm7t3R3P+hx503UhwUAwEAzMyUCvkg/DcITxa+gldAXdQ5+hu77vv/DZTKbmMheQAt4D4XkF5Stsm1aL8OQiw5aQ+Rp4zqed461kci5VgUegO22F0BnnA9W+qcVQFeCeX4qYWNQC+MIuRUwsxwIhTxu1hV4w/ib8fzN0hskXwoFYqqIqsIMHT5uafML4XhuYaGMsxqwJMRBLVcyXmLOzs/ku8ybzTDhkthZfiWUNzSuxxbP8zVEV6HjOQx8KdNw2rcEzBWP+2JLMTQwctEQuwHJakj0WMHc1ogJRAScDsYWcBLrdowJuCp0BogJOAt3uUQE3hc4AUQEngW73/10BXimhtwVNvIDLq2gxf+wjYzL2QZg7XWsPtvKLCSQ5Wq1FXsCfoK2ulsRxBT2BliLbmGoLqXYfE/EC3koYqwae8WUbU1UgWoutyoM4KyuW2kJ7y2kGu4nF01rcVnpGk9aWTrq8eVbGad5alO2+MvuIZ9XGlLnMl5hJ01HK02ixfzGNICemBAPBQDDwhwx8A43PdoQvgLfYAAAAAElFTkSuQmCC";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Components/Controller0.js
function oe8(n72) {
  Qt2(n72, "svelte-468fdd", '*.forbid.svelte-468fdd.svelte-468fdd{pointer-events:none !important;opacity:0.5}.Measure-Controller.svelte-468fdd.svelte-468fdd{pointer-events:none;position:relative;width:100%;height:100%;z-index:2}.Measure-Controller.svelte-468fdd .mode-switcher.svelte-468fdd{margin-top:2.25rem}.Measure-Controller.svelte-468fdd .bottom.svelte-468fdd{position:absolute;width:100%;bottom:0}.Measure-Controller.svelte-468fdd .bottom .mask.svelte-468fdd{position:absolute;bottom:0;width:100%;height:11.5rem;background-size:100%;background-image:linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.3))}.Measure-Controller.svelte-468fdd .bottom .center.svelte-468fdd{display:flex;flex-direction:column;align-items:center;margin-bottom:2.5rem}.Measure-Controller.svelte-468fdd .buttons.svelte-468fdd{pointer-events:all;display:flex;align-items:center;height:2.5rem;background:rgba(0, 0, 0, 0.2);color:rgba(255, 255, 255, 0.85);width:-moz-max-content;width:max-content;border-radius:624.9375rem;overflow:hidden}.Measure-Controller.svelte-468fdd .buttons .button.svelte-468fdd{cursor:pointer;display:flex;align-items:center;position:relative;font-size:0.875rem;padding:0rem 1rem}.Measure-Controller.svelte-468fdd .buttons .button .icon.svelte-468fdd{width:1.5rem;height:1.5rem;background-repeat:no-repeat;background-size:100%;margin-right:0.25rem}.Measure-Controller.svelte-468fdd .buttons .button.svelte-468fdd::after{content:"";position:absolute;display:block;right:-0.03125rem;height:1.5rem;width:0.0625rem;background-image:linear-gradient(to bottom, transparent, rgba(255, 255, 255, 0.3), transparent);background-size:100%;background-repeat:no-repeat;background-position:center}.Measure-Controller.svelte-468fdd .buttons .button.svelte-468fdd:last-child::after{display:none}');
}
function L14(n72) {
  let o71, i65;
  return o71 = new S23({
    props: {
      onClick: (
        /*measureController*/
        n72[0].disable
      )
    }
  }), {
    c() {
      Ae(o71.$$.fragment);
    },
    m(t43, p66) {
      Dt(o71, t43, p66), i65 = true;
    },
    p(t43, p66) {
      const f80 = {};
      p66 & /*measureController*/
      1 && (f80.onClick = /*measureController*/
      t43[0].disable), o71.$set(f80);
    },
    i(t43) {
      i65 || (ot(o71.$$.fragment, t43), i65 = true);
    },
    o(t43) {
      $t(o71.$$.fragment, t43), i65 = false;
    },
    d(t43) {
      Rt(o71, t43);
    }
  };
}
function O20(n72) {
  let o71, i65, t43, p66, f80 = (
    /*i18n*/
    n72[2]("撤销") + ""
  ), m66, v58, d73, a62, b55, c85 = (
    /*i18n*/
    n72[2]("结束") + ""
  ), r66, l63, _32;
  return {
    c() {
      o71 = K4("div"), i65 = K4("div"), t43 = K4("div"), p66 = Xt(), m66 = gt(f80), v58 = Xt(), d73 = K4("div"), a62 = K4("div"), b55 = Xt(), r66 = gt(c85), te2(t43, "class", "icon svelte-468fdd"), ne2(t43, "background-image", `url(${A27})`), te2(i65, "class", "button svelte-468fdd"), re2(i65, "forbid", !/*canRevoke*/
      n72[3]), te2(a62, "class", "icon svelte-468fdd"), ne2(a62, "background-image", `url(${g20})`), te2(d73, "class", "button svelte-468fdd"), te2(o71, "class", "buttons svelte-468fdd");
    },
    m(u72, e48) {
      Nt(u72, o71, e48), pt(o71, i65), pt(i65, t43), pt(i65, p66), pt(i65, m66), pt(o71, v58), pt(o71, d73), pt(d73, a62), pt(d73, b55), pt(d73, r66), l63 || (_32 = [
        lt(
          i65,
          "click",
          /*click_handler*/
          n72[7]
        ),
        lt(
          d73,
          "click",
          /*complete*/
          n72[6]
        )
      ], l63 = true);
    },
    p(u72, e48) {
      e48 & /*i18n*/
      4 && f80 !== (f80 = /*i18n*/
      u72[2]("撤销") + "") && ee2(m66, f80), e48 & /*canRevoke*/
      8 && re2(i65, "forbid", !/*canRevoke*/
      u72[3]), e48 & /*i18n*/
      4 && c85 !== (c85 = /*i18n*/
      u72[2]("结束") + "") && ee2(r66, c85);
    },
    d(u72) {
      u72 && J4(o71), l63 = false, M8(_32);
    }
  };
}
function ie5(n72) {
  let o71, i65, t43, p66, f80, m66, v58, d73, a62, b55, c85, r66 = (
    /*showExit*/
    n72[1] && L14(n72)
  ), l63 = (
    /*showController*/
    n72[5] && O20(n72)
  );
  function _32(e48) {
    n72[9](e48);
  }
  let u72 = {
    options: [
      {
        key: "line",
        value: (
          /*i18n*/
          n72[2]("测距离")
        ),
        icon: B14
      },
      {
        key: "area",
        value: (
          /*i18n*/
          n72[2]("测面积")
        ),
        icon: Q12
      }
    ],
    onChange: (
      /*func*/
      n72[8]
    )
  };
  return (
    /*setSwitcherActiveIndex*/
    n72[4] !== void 0 && (u72.setIndex = /*setSwitcherActiveIndex*/
    n72[4]), a62 = new T15({ props: u72 }), ft.push(() => Me(a62, "setIndex", _32)), {
      c() {
        o71 = K4("div"), r66 && r66.c(), i65 = Xt(), t43 = K4("div"), p66 = K4("div"), f80 = Xt(), m66 = K4("div"), l63 && l63.c(), v58 = Xt(), d73 = K4("div"), Ae(a62.$$.fragment), te2(p66, "class", "mask svelte-468fdd"), te2(d73, "class", "mode-switcher svelte-468fdd"), te2(m66, "class", "center svelte-468fdd"), te2(t43, "class", "bottom svelte-468fdd"), te2(o71, "class", "Measure-Controller svelte-468fdd");
      },
      m(e48, k47) {
        Nt(e48, o71, k47), r66 && r66.m(o71, null), pt(o71, i65), pt(o71, t43), pt(t43, p66), pt(t43, f80), pt(t43, m66), l63 && l63.m(m66, null), pt(m66, v58), pt(m66, d73), Dt(a62, d73, null), c85 = true;
      },
      p(e48, [k47]) {
        e48[1] ? r66 ? (r66.p(e48, k47), k47 & /*showExit*/
        2 && ot(r66, 1)) : (r66 = L14(e48), r66.c(), ot(r66, 1), r66.m(o71, i65)) : r66 && (Lt(), $t(r66, 1, 1, () => {
          r66 = null;
        }), Ot()), /*showController*/
        e48[5] ? l63 ? l63.p(e48, k47) : (l63 = O20(e48), l63.c(), l63.m(m66, v58)) : l63 && (l63.d(1), l63 = null);
        const M48 = {};
        k47 & /*i18n*/
        4 && (M48.options = [
          {
            key: "line",
            value: (
              /*i18n*/
              e48[2]("测距离")
            ),
            icon: B14
          },
          {
            key: "area",
            value: (
              /*i18n*/
              e48[2]("测面积")
            ),
            icon: Q12
          }
        ]), k47 & /*measureController*/
        1 && (M48.onChange = /*func*/
        e48[8]), !b55 && k47 & /*setSwitcherActiveIndex*/
        16 && (b55 = true, M48.setIndex = /*setSwitcherActiveIndex*/
        e48[4], pe(() => b55 = false)), a62.$set(M48);
      },
      i(e48) {
        c85 || (ot(r66), ot(a62.$$.fragment, e48), c85 = true);
      },
      o(e48) {
        $t(r66), $t(a62.$$.fragment, e48), c85 = false;
      },
      d(e48) {
        e48 && J4(o71), r66 && r66.d(), l63 && l63.d(), Rt(a62);
      }
    }
  );
}
function re3(n72, o71, i65) {
  let { measureController: t43 } = o71, { showExit: p66 = false } = o71, { i18n: f80 = (e48) => e48 } = o71, m66 = false, v58;
  function d73(e48) {
    e48 === "Edit" ? i65(5, r66 = true) : (v58(null), i65(5, r66 = false));
  }
  function a62() {
    t43.controller instanceof bt2 && t43.controller.complete(), t43.save({ mode: "Watch" });
  }
  function b55(e48) {
    i65(3, m66 = e48.length > 0);
  }
  function c85() {
    i65(3, m66 = false);
  }
  ce(() => {
    t43.hook.on("modeChange", d73), t43.hook.on("complete", c85), t43.hook.on("pointsChange", b55);
  }), le(() => {
    t43.hook.off("modeChange", d73), t43.hook.off("complete", c85), t43.hook.off("pointsChange", b55);
  });
  let r66 = false;
  const l63 = () => t43.revoke(), _32 = (e48) => {
    t43.save().changeMode("Edit"), t43.changeMeasureType(e48);
  };
  function u72(e48) {
    v58 = e48, i65(4, v58);
  }
  return n72.$$set = (e48) => {
    "measureController" in e48 && i65(0, t43 = e48.measureController), "showExit" in e48 && i65(1, p66 = e48.showExit), "i18n" in e48 && i65(2, f80 = e48.i18n);
  }, [
    t43,
    p66,
    f80,
    m66,
    v58,
    r66,
    a62,
    l63,
    _32,
    u72
  ];
}
var Kt2 = class extends Ce {
  constructor(o71) {
    super(), Te(
      this,
      o71,
      re3,
      ie5,
      Ft,
      {
        measureController: 0,
        showExit: 1,
        i18n: 2
      },
      oe8
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Components/Common/Switcher1.js
function F20(e48) {
  Qt2(e48, "svelte-1mfj5mk", '.Switcher.svelte-1mfj5mk.svelte-1mfj5mk{pointer-events:all;position:relative;margin-bottom:1.5rem;box-sizing:border-box;width:-moz-max-content;width:max-content}.Switcher.svelte-1mfj5mk .svelte-1mfj5mk{transition-duration:300ms;transition-timing-function:ease-out}.Switcher.svelte-1mfj5mk .content.svelte-1mfj5mk{transition-property:opacity}.Switcher.svelte-1mfj5mk .highlight.svelte-1mfj5mk{transition-property:width}.Switcher.svelte-1mfj5mk .Switcher-buttons.svelte-1mfj5mk{transition-property:transform}.Switcher.svelte-1mfj5mk .Switcher-buttons.svelte-1mfj5mk{position:absolute;top:50%;left:0;transform:translate(0, -50%);width:-moz-max-content;width:max-content}.Switcher.svelte-1mfj5mk .Switcher-buttons .button.svelte-1mfj5mk{display:inline-block;margin:0 0.5625rem}.Switcher.svelte-1mfj5mk .highlight.svelte-1mfj5mk{height:2rem;background:rgba(0, 0, 0, 0.3);border-radius:624.9375rem}.Switcher.svelte-1mfj5mk .content.svelte-1mfj5mk{position:relative;padding:0 0.75rem}.Switcher.svelte-1mfj5mk .button:not(.active) .content.svelte-1mfj5mk::before{content:"";position:absolute;top:50%;left:10%;width:80%;transform:translateY(-50%);height:0;box-shadow:0 0 0.9375rem 0.3125rem rgba(0, 0, 0, 0.3)}');
}
function z9(e48, t43, n72) {
  const s60 = e48.slice();
  return s60[13] = t43[n72], s60[14] = t43, s60[15] = n72, s60;
}
function L15(e48) {
  let t43;
  return {
    c() {
      t43 = K4("span"), te2(t43, "class", "icon svelte-1mfj5mk"), ne2(
        t43,
        "background-image",
        /*option*/
        e48[13].icon
      );
    },
    m(n72, s60) {
      Nt(n72, t43, s60);
    },
    p(n72, s60) {
      s60 & /*options*/
      1 && ne2(
        t43,
        "background-image",
        /*option*/
        n72[13].icon
      );
    },
    d(n72) {
      n72 && J4(t43);
    }
  };
}
function R22(e48) {
  let t43, n72, s60, f80 = (
    /*option*/
    e48[13].value + ""
  ), c85, o71, i65 = (
    /*index*/
    e48[15]
  ), a62, l63, m66 = (
    /*option*/
    e48[13].icon && L15(e48)
  );
  const v58 = () => (
    /*div1_binding*/
    e48[9](t43, i65)
  ), b55 = () => (
    /*div1_binding*/
    e48[9](null, i65)
  );
  function _32() {
    return (
      /*click_handler*/
      e48[10](
        /*option*/
        e48[13],
        /*index*/
        e48[15]
      )
    );
  }
  return {
    c() {
      t43 = K4("div"), n72 = K4("div"), m66 && m66.c(), s60 = Xt(), c85 = gt(f80), o71 = Xt(), te2(n72, "class", "content svelte-1mfj5mk"), te2(t43, "class", "button svelte-1mfj5mk"), re2(
        t43,
        "active",
        /*activeIndex*/
        e48[4] === /*index*/
        e48[15]
      );
    },
    m(u72, h66) {
      Nt(u72, t43, h66), pt(t43, n72), m66 && m66.m(n72, null), pt(n72, s60), pt(n72, c85), pt(t43, o71), v58(), a62 || (l63 = lt(t43, "click", _32), a62 = true);
    },
    p(u72, h66) {
      e48 = u72, /*option*/
      e48[13].icon ? m66 ? m66.p(e48, h66) : (m66 = L15(e48), m66.c(), m66.m(n72, s60)) : m66 && (m66.d(1), m66 = null), h66 & /*options*/
      1 && f80 !== (f80 = /*option*/
      e48[13].value + "") && ee2(c85, f80), i65 !== /*index*/
      e48[15] && (b55(), i65 = /*index*/
      e48[15], v58()), h66 & /*activeIndex*/
      16 && re2(
        t43,
        "active",
        /*activeIndex*/
        e48[4] === /*index*/
        e48[15]
      );
    },
    d(u72) {
      u72 && J4(t43), m66 && m66.d(), b55(), a62 = false, l63();
    }
  };
}
function G12(e48) {
  let t43, n72, s60, f80, c85 = (
    /*options*/
    e48[0]
  ), o71 = [];
  for (let i65 = 0; i65 < c85.length; i65 += 1)
    o71[i65] = R22(z9(e48, c85, i65));
  return {
    c() {
      t43 = K4("div"), n72 = K4("div"), s60 = Xt(), f80 = K4("div");
      for (let i65 = 0; i65 < o71.length; i65 += 1)
        o71[i65].c();
      te2(n72, "class", "highlight svelte-1mfj5mk"), ne2(
        n72,
        "width",
        /*activeButtonWidth*/
        e48[5] ? `${/*activeButtonWidth*/
        e48[5]}px` : void 0
      ), te2(f80, "class", "Switcher-buttons svelte-1mfj5mk"), ne2(f80, "transform", `translate(${/*activeButtonLeft*/
      e48[6]}px, -50%)`), te2(t43, "class", "Switcher svelte-1mfj5mk");
    },
    m(i65, a62) {
      Nt(i65, t43, a62), pt(t43, n72), pt(t43, s60), pt(t43, f80);
      for (let l63 = 0; l63 < o71.length; l63 += 1)
        o71[l63] && o71[l63].m(f80, null);
      e48[11](t43);
    },
    p(i65, [a62]) {
      if (a62 & /*activeButtonWidth*/
      32 && ne2(
        n72,
        "width",
        /*activeButtonWidth*/
        i65[5] ? `${/*activeButtonWidth*/
        i65[5]}px` : void 0
      ), a62 & /*elementList, activeIndex, onChange, options*/
      23) {
        c85 = /*options*/
        i65[0];
        let l63;
        for (l63 = 0; l63 < c85.length; l63 += 1) {
          const m66 = z9(i65, c85, l63);
          o71[l63] ? o71[l63].p(m66, a62) : (o71[l63] = R22(m66), o71[l63].c(), o71[l63].m(f80, null));
        }
        for (; l63 < o71.length; l63 += 1)
          o71[l63].d(1);
        o71.length = c85.length;
      }
      a62 & /*activeButtonLeft*/
      64 && ne2(f80, "transform", `translate(${/*activeButtonLeft*/
      i65[6]}px, -50%)`);
    },
    i: N4,
    o: N4,
    d(i65) {
      i65 && J4(t43), Vt(o71, i65), e48[11](null);
    }
  };
}
function H9(e48, t43, n72) {
  let s60, f80, { options: c85 } = t43, { defaultKey: o71 = null } = t43, { onChange: i65 } = t43;
  const a62 = [];
  let l63, m66, v58 = 0;
  function b55() {
    if (f80 && l63) {
      n72(5, m66 = f80.clientWidth);
      const r66 = v58 + l63.getBoundingClientRect().left - f80.getBoundingClientRect().left;
      n72(6, v58 = r66);
    }
  }
  function _32(r66, j37) {
    ft[r66 ? "unshift" : "push"](() => {
      a62[j37] = r66, n72(2, a62);
    });
  }
  const u72 = (r66, j37) => {
    i65(r66.key), n72(4, s60 = j37);
  };
  function h66(r66) {
    ft[r66 ? "unshift" : "push"](() => {
      l63 = r66, n72(3, l63);
    });
  }
  return e48.$$set = (r66) => {
    "options" in r66 && n72(0, c85 = r66.options), "defaultKey" in r66 && n72(7, o71 = r66.defaultKey), "onChange" in r66 && n72(1, i65 = r66.onChange);
  }, e48.$$.update = () => {
    e48.$$.dirty & /*defaultKey, options*/
    129 && n72(4, s60 = o71 ? c85.findIndex((r66) => r66.key === o71) : 0), e48.$$.dirty & /*elementList, activeIndex*/
    20 && n72(8, f80 = a62[s60]), e48.$$.dirty & /*activeButton, container*/
    264 && f80 && l63 && setTimeout(() => b55(), 0);
  }, [
    c85,
    i65,
    a62,
    l63,
    s60,
    m66,
    v58,
    o71,
    f80,
    _32,
    u72,
    h66
  ];
}
var M20 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, H9, G12, Ft, { options: 0, defaultKey: 7, onChange: 1 }, F20);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Components/Common/CircleButton.js
function F21(n72) {
  Qt2(n72, "svelte-82ysdl", ".CircleButton.svelte-82ysdl.svelte-82ysdl{position:relative;display:flex;justify-content:center;align-items:center;width:4.5rem;height:4.5rem;background-image:inherit;background-size:100% auto;background-repeat:no-repeat;transition:transform 200ms ease-in-out}.CircleButton.svelte-82ysdl.svelte-82ysdl:active{transform:scale(0.8)}.CircleButton.svelte-82ysdl .text.svelte-82ysdl{position:absolute}");
}
function k16(n72) {
  let e48, s60, i65, o71;
  return {
    c() {
      e48 = K4("div"), s60 = gt(
        /*text*/
        n72[0]
      ), te2(e48, "class", "text svelte-82ysdl");
    },
    m(r66, t43) {
      Nt(r66, e48, t43), pt(e48, s60), o71 = true;
    },
    p(r66, t43) {
      (!o71 || t43 & /*text*/
      1) && ee2(
        s60,
        /*text*/
        r66[0]
      );
    },
    i(r66) {
      o71 || (z2(() => {
        o71 && (i65 || (i65 = ye(e48, C13, { duration: 300 }, true)), i65.run(1));
      }), o71 = true);
    },
    o(r66) {
      i65 || (i65 = ye(e48, C13, { duration: 300 }, false)), i65.run(0), o71 = false;
    },
    d(r66) {
      r66 && J4(e48), r66 && i65 && i65.end();
    }
  };
}
function G13(n72) {
  let e48, s60 = (
    /*text*/
    n72[0]
  ), i65, o71, r66, t43 = k16(n72);
  return {
    c() {
      e48 = K4("div"), t43.c(), te2(e48, "class", "CircleButton svelte-82ysdl"), ne2(e48, "background-image", `url(${/*bgImage*/
      n72[2]})`);
    },
    m(l63, u72) {
      Nt(l63, e48, u72), t43.m(e48, null), i65 = true, o71 || (r66 = lt(e48, "click", function() {
        L5(
          /*onClick*/
          n72[1]
        ) && n72[1].apply(this, arguments);
      }), o71 = true);
    },
    p(l63, [u72]) {
      n72 = l63, u72 & /*text*/
      1 && Ft(s60, s60 = /*text*/
      n72[0]) ? (Lt(), $t(t43, 1, 1, N4), Ot(), t43 = k16(n72), t43.c(), ot(t43, 1), t43.m(e48, null)) : t43.p(n72, u72), u72 & /*bgImage*/
      4 && ne2(e48, "background-image", `url(${/*bgImage*/
      n72[2]})`);
    },
    i(l63) {
      i65 || (ot(t43), i65 = true);
    },
    o(l63) {
      $t(t43), i65 = false;
    },
    d(l63) {
      l63 && J4(e48), t43.d(l63), o71 = false, r66();
    }
  };
}
function H10(n72, e48, s60) {
  let i65, { text: o71 } = e48, { onClick: r66 = null } = e48, { color: t43 = "white" } = e48;
  return n72.$$set = (l63) => {
    "text" in l63 && s60(0, o71 = l63.text), "onClick" in l63 && s60(1, r66 = l63.onClick), "color" in l63 && s60(3, t43 = l63.color);
  }, n72.$$.update = () => {
    n72.$$.dirty & /*color*/
    8 && s60(2, i65 = /* @__PURE__ */ (() => t43 === "white" ? I21 : t43 === "blue" ? i25 : I21)());
  }, [o71, r66, i65, t43];
}
var N12 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, H10, G13, Ft, { text: 0, onClick: 1, color: 3 }, F21);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Components/Controller1.js
function fe3(o71) {
  Qt2(o71, "svelte-ldjbp8", "*.forbid.svelte-ldjbp8.svelte-ldjbp8{pointer-events:none !important;opacity:0.5}.Measure-Controller.svelte-ldjbp8.svelte-ldjbp8{pointer-events:none;position:relative;width:100%;height:100%;z-index:2;color:white}.Measure-Controller.svelte-ldjbp8 .mode-switcher.svelte-ldjbp8{margin-top:2.25rem}.Measure-Controller.svelte-ldjbp8 .bottom.svelte-ldjbp8{position:absolute;width:100%;bottom:0}.Measure-Controller.svelte-ldjbp8 .bottom .mask.svelte-ldjbp8{position:absolute;bottom:0;width:100%;height:12.5rem;background-size:100%;z-index:-1;background-image:linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.5))}.Measure-Controller.svelte-ldjbp8 .bottom .center.svelte-ldjbp8{display:flex;flex-direction:column;align-items:center;margin-bottom:2.5rem}.Measure-Controller.svelte-ldjbp8 .controller.svelte-ldjbp8{pointer-events:all;display:flex;align-items:center}.Measure-Controller.svelte-ldjbp8 .controller .button.svelte-ldjbp8{cursor:pointer;display:flex;align-items:center;height:2.5rem;padding-left:1rem;padding-right:1rem;border-radius:624.9375rem;font-size:0.875rem;color:#fff;background-color:rgba(0, 0, 0, 0.2)}.Measure-Controller.svelte-ldjbp8 .controller .button .icon.svelte-ldjbp8{width:1.5rem;height:1.5rem;background-repeat:no-repeat;background-size:100%;margin:0 0.25rem}.Measure-Controller.svelte-ldjbp8 .controller .main-button.svelte-ldjbp8{margin-left:1.75rem;margin-right:1.75rem;font-size:0.875rem;font-weight:bold}");
}
function J16(o71) {
  let t43, i65;
  return t43 = new S23({
    props: {
      onClick: (
        /*measureController*/
        o71[0].disable
      )
    }
  }), {
    c() {
      Ae(t43.$$.fragment);
    },
    m(e48, a62) {
      Dt(t43, e48, a62), i65 = true;
    },
    p(e48, a62) {
      const l63 = {};
      a62 & /*measureController*/
      1 && (l63.onClick = /*measureController*/
      e48[0].disable), t43.$set(l63);
    },
    i(e48) {
      i65 || (ot(t43.$$.fragment, e48), i65 = true);
    },
    o(e48) {
      $t(t43.$$.fragment, e48), i65 = false;
    },
    d(e48) {
      Rt(t43, e48);
    }
  };
}
function L16(o71) {
  let t43, i65, e48, a62;
  return i65 = new M20({
    props: {
      options: [
        {
          key: "line",
          value: (
            /*i18n*/
            o71[2]("测距离")
          )
        },
        {
          key: "area",
          value: (
            /*i18n*/
            o71[2]("测面积")
          )
        }
      ],
      defaultKey: (
        /*measureController*/
        o71[0].currentMeasureType
      ),
      onChange: (
        /*measureController*/
        o71[0].changeMeasureType
      )
    }
  }), {
    c() {
      t43 = K4("div"), Ae(i65.$$.fragment), te2(t43, "class", "mode-switcher svelte-ldjbp8");
    },
    m(l63, n72) {
      Nt(l63, t43, n72), Dt(i65, t43, null), a62 = true;
    },
    p(l63, n72) {
      o71 = l63;
      const m66 = {};
      n72 & /*i18n*/
      4 && (m66.options = [
        {
          key: "line",
          value: (
            /*i18n*/
            o71[2]("测距离")
          )
        },
        {
          key: "area",
          value: (
            /*i18n*/
            o71[2]("测面积")
          )
        }
      ]), n72 & /*measureController*/
      1 && (m66.defaultKey = /*measureController*/
      o71[0].currentMeasureType), n72 & /*measureController*/
      1 && (m66.onChange = /*measureController*/
      o71[0].changeMeasureType), i65.$set(m66);
    },
    i(l63) {
      a62 || (ot(i65.$$.fragment, l63), l63 && z2(() => {
        a62 && (e48 || (e48 = ye(t43, C13, { duration: P19 }, true)), e48.run(1));
      }), a62 = true);
    },
    o(l63) {
      $t(i65.$$.fragment, l63), l63 && (e48 || (e48 = ye(t43, C13, { duration: P19 }, false)), e48.run(0)), a62 = false;
    },
    d(l63) {
      l63 && J4(t43), Rt(i65), l63 && e48 && e48.end();
    }
  };
}
function N13(o71) {
  let t43, i65, e48, a62 = (
    /*i18n*/
    o71[2]("撤销") + ""
  ), l63, n72, m66, f80, C52;
  return {
    c() {
      t43 = K4("div"), i65 = K4("div"), e48 = Xt(), l63 = gt(a62), te2(i65, "class", "icon svelte-ldjbp8"), ne2(i65, "background-image", `url(${A27})`), te2(t43, "class", "button svelte-ldjbp8"), re2(
        t43,
        "forbid",
        /*buttonState*/
        o71[3] === "start"
      );
    },
    m(r66, c85) {
      Nt(r66, t43, c85), pt(t43, i65), pt(t43, e48), pt(t43, l63), m66 = true, f80 || (C52 = lt(
        t43,
        "click",
        /*click_handler*/
        o71[13]
      ), f80 = true);
    },
    p(r66, c85) {
      o71 = r66, (!m66 || c85 & /*i18n*/
      4) && a62 !== (a62 = /*i18n*/
      o71[2]("撤销") + "") && ee2(l63, a62), (!m66 || c85 & /*buttonState*/
      8) && re2(
        t43,
        "forbid",
        /*buttonState*/
        o71[3] === "start"
      );
    },
    i(r66) {
      m66 || (r66 && z2(() => {
        m66 && (n72 || (n72 = ye(t43, C13, { duration: P19 }, true)), n72.run(1));
      }), m66 = true);
    },
    o(r66) {
      r66 && (n72 || (n72 = ye(t43, C13, { duration: P19 }, false)), n72.run(0)), m66 = false;
    },
    d(r66) {
      r66 && J4(t43), r66 && n72 && n72.end(), f80 = false, C52();
    }
  };
}
function Q13(o71) {
  let t43, i65, e48, a62 = (
    /*i18n*/
    o71[2]("结束") + ""
  ), l63, n72, m66, f80, C52;
  return {
    c() {
      t43 = K4("div"), i65 = K4("div"), e48 = Xt(), l63 = gt(a62), te2(i65, "class", "icon svelte-ldjbp8"), ne2(i65, "background-image", `url(${g20})`), te2(t43, "class", "button svelte-ldjbp8");
    },
    m(r66, c85) {
      Nt(r66, t43, c85), pt(t43, i65), pt(t43, e48), pt(t43, l63), m66 = true, f80 || (C52 = lt(
        t43,
        "click",
        /*complete*/
        o71[10]
      ), f80 = true);
    },
    p(r66, c85) {
      o71 = r66, (!m66 || c85 & /*i18n*/
      4) && a62 !== (a62 = /*i18n*/
      o71[2]("结束") + "") && ee2(l63, a62);
    },
    i(r66) {
      m66 || (r66 && z2(() => {
        m66 && (n72 || (n72 = ye(t43, C13, { duration: P19 }, true)), n72.run(1));
      }), m66 = true);
    },
    o(r66) {
      r66 && (n72 || (n72 = ye(t43, C13, { duration: P19 }, false)), n72.run(0)), m66 = false;
    },
    d(r66) {
      r66 && J4(t43), r66 && n72 && n72.end(), f80 = false, C52();
    }
  };
}
function ue4(o71) {
  let t43, i65, e48, a62, l63, n72, m66, f80, C52, r66, c85, z28, M48, b55 = (
    /*showExit*/
    o71[1] && J16(o71)
  ), p66 = (
    /*measureController*/
    o71[0].allowMeasureType.length >= 2 && /*buttonState*/
    o71[3] === "start" && L16(o71)
  ), u72 = (
    /*showButton*/
    o71[4] && N13(o71)
  );
  c85 = new N12({
    props: {
      onClick: (
        /*func*/
        o71[14]
      ),
      text: (
        /*buttonTextMap*/
        o71[6][
          /*buttonState*/
          o71[3]
        ]
      ),
      color: (
        /*buttonColorMap*/
        o71[7][
          /*buttonState*/
          o71[3]
        ]
      )
    }
  });
  let d73 = (
    /*showButton*/
    o71[4] && Q13(o71)
  );
  return {
    c() {
      t43 = K4("div"), b55 && b55.c(), i65 = Xt(), e48 = K4("div"), a62 = K4("div"), l63 = Xt(), n72 = K4("div"), p66 && p66.c(), m66 = Xt(), f80 = K4("div"), u72 && u72.c(), C52 = Xt(), r66 = K4("div"), Ae(c85.$$.fragment), z28 = Xt(), d73 && d73.c(), te2(a62, "class", "mask svelte-ldjbp8"), te2(r66, "class", "main-button svelte-ldjbp8"), re2(r66, "forbid", !/*allowAddPoint*/
      o71[5]), te2(f80, "class", "controller svelte-ldjbp8"), te2(n72, "class", "center svelte-ldjbp8"), te2(e48, "class", "bottom svelte-ldjbp8"), te2(t43, "class", "Measure-Controller svelte-ldjbp8");
    },
    m(s60, v58) {
      Nt(s60, t43, v58), b55 && b55.m(t43, null), pt(t43, i65), pt(t43, e48), pt(e48, a62), pt(e48, l63), pt(e48, n72), p66 && p66.m(n72, null), pt(n72, m66), pt(n72, f80), u72 && u72.m(f80, null), pt(f80, C52), pt(f80, r66), Dt(c85, r66, null), pt(f80, z28), d73 && d73.m(f80, null), M48 = true;
    },
    p(s60, [v58]) {
      s60[1] ? b55 ? (b55.p(s60, v58), v58 & /*showExit*/
      2 && ot(b55, 1)) : (b55 = J16(s60), b55.c(), ot(b55, 1), b55.m(t43, i65)) : b55 && (Lt(), $t(b55, 1, 1, () => {
        b55 = null;
      }), Ot()), /*measureController*/
      s60[0].allowMeasureType.length >= 2 && /*buttonState*/
      s60[3] === "start" ? p66 ? (p66.p(s60, v58), v58 & /*measureController, buttonState*/
      9 && ot(p66, 1)) : (p66 = L16(s60), p66.c(), ot(p66, 1), p66.m(n72, m66)) : p66 && (Lt(), $t(p66, 1, 1, () => {
        p66 = null;
      }), Ot()), /*showButton*/
      s60[4] ? u72 ? (u72.p(s60, v58), v58 & /*showButton*/
      16 && ot(u72, 1)) : (u72 = N13(s60), u72.c(), ot(u72, 1), u72.m(f80, C52)) : u72 && (Lt(), $t(u72, 1, 1, () => {
        u72 = null;
      }), Ot());
      const y51 = {};
      v58 & /*buttonState*/
      8 && (y51.onClick = /*func*/
      s60[14]), v58 & /*buttonState*/
      8 && (y51.text = /*buttonTextMap*/
      s60[6][
        /*buttonState*/
        s60[3]
      ]), v58 & /*buttonState*/
      8 && (y51.color = /*buttonColorMap*/
      s60[7][
        /*buttonState*/
        s60[3]
      ]), c85.$set(y51), (!M48 || v58 & /*allowAddPoint*/
      32) && re2(r66, "forbid", !/*allowAddPoint*/
      s60[5]), /*showButton*/
      s60[4] ? d73 ? (d73.p(s60, v58), v58 & /*showButton*/
      16 && ot(d73, 1)) : (d73 = Q13(s60), d73.c(), ot(d73, 1), d73.m(f80, null)) : d73 && (Lt(), $t(d73, 1, 1, () => {
        d73 = null;
      }), Ot());
    },
    i(s60) {
      M48 || (ot(b55), ot(p66), ot(u72), ot(c85.$$.fragment, s60), ot(d73), M48 = true);
    },
    o(s60) {
      $t(b55), $t(p66), $t(u72), $t(c85.$$.fragment, s60), $t(d73), M48 = false;
    },
    d(s60) {
      s60 && J4(t43), b55 && b55.d(), p66 && p66.d(), u72 && u72.d(), Rt(c85), d73 && d73.d();
    }
  };
}
var P19 = 100;
function de3(o71, t43, i65) {
  let { measureController: e48 } = t43, { showExit: a62 = false } = t43, { i18n: l63 = (h66) => h66 } = t43;
  const n72 = {
    start: l63("开始"),
    add: l63("添加"),
    end: l63("结束"),
    complete: l63("完成")
  }, m66 = {
    start: "white",
    add: "white",
    end: "blue",
    complete: "blue"
  };
  let f80 = false, C52 = true, r66 = "start", c85 = e48.currentMeasureType;
  const z28 = () => {
    e48.getCurrentMode() !== "Edit" ? e48.changeMode("Edit") : (p66("add"), M48());
  }, M48 = () => {
    e48.controller instanceof bt2 && e48.controller.selectPoint();
  }, b55 = () => {
    e48.controller instanceof bt2 && e48.controller.complete();
  }, p66 = (h66) => {
    i65(3, r66 = h66);
  }, u72 = () => {
    M48(), A62("allow");
  }, d73 = () => {
    p66("complete");
  }, s60 = () => {
    e48.currentMeasureType === "area" && r66 === "complete" && p66("add");
  }, v58 = (h66) => {
    h66.length;
  }, y51 = () => {
    p66("start"), A62("allow");
  }, A62 = (h66) => {
    i65(5, C52 = h66 === "allow");
  }, G31 = (h66) => {
    i65(12, c85 = h66);
  }, Z18 = (h66) => {
    h66.isEmpty && p66("start");
  };
  ce(() => {
    e48.hook.on("revoke", Z18), e48.hook.on("measureTypeChange", G31), e48.hook.on("modeChange", y51), e48.hook.on("pointsChange", v58), e48.hook.on("allowAddPointStateChange", A62), e48.hook.on("readyComplete", d73), e48.hook.on("notReadyComplete", s60), e48.hook.on("complete", y51);
  }), le(() => {
    e48.hook.off("measureTypeChange", G31), e48.hook.off("modeChange", y51), e48.hook.off("allowAddPointStateChange", A62), e48.hook.off("readyComplete", d73), e48.hook.off("pointsChange", v58), e48.hook.off("notReadyComplete", s60), e48.hook.off("complete", y51);
  });
  const $23 = () => e48.revoke(), x49 = () => {
    r66 === "start" ? z28() : r66 === "add" ? M48() : (r66 === "end" || r66 === "complete") && u72();
  };
  return o71.$$set = (h66) => {
    "measureController" in h66 && i65(0, e48 = h66.measureController), "showExit" in h66 && i65(1, a62 = h66.showExit), "i18n" in h66 && i65(2, l63 = h66.i18n);
  }, o71.$$.update = () => {
    o71.$$.dirty & /*currentMeasureType, buttonState*/
    4104 && i65(4, f80 = c85 === "area" && r66 !== "start");
  }, [
    e48,
    a62,
    l63,
    r66,
    f80,
    C52,
    n72,
    m66,
    z28,
    M48,
    b55,
    u72,
    c85,
    $23,
    x49
  ];
}
var lo = class extends Ce {
  constructor(t43) {
    super(), Te(
      this,
      t43,
      de3,
      ue4,
      Ft,
      {
        measureController: 0,
        showExit: 1,
        i18n: 2
      },
      fe3
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/UIController/index.js
var h28 = Object.defineProperty;
var c36 = (r66, i65, t43) => i65 in r66 ? h28(r66, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : r66[i65] = t43;
var o31 = (r66, i65, t43) => (c36(r66, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var ki = class {
  constructor(i65, t43) {
    o31(this, "revoke");
    o31(this, "container");
    o31(this, "wrapper");
    o31(this, "mainController");
    o31(this, "disposers", []);
    o31(this, "measureController");
    o31(this, "mode");
    o31(this, "svelteDom");
    o31(this, "_params");
    o31(this, "useNewUI", false);
    o31(this, "handleExit", () => {
      const i66 = this.container.querySelector(".fpm__exit-icon"), t44 = this.container.querySelector(".fpm__exit");
      if (!t44 || !i66)
        throw new Error("cannot find dom");
      this.mode === "pc" && (Object.assign(t44.style, i27), Object.assign(i66 == null ? void 0 : i66.style, s25));
      const e49 = () => {
        t44.style.opacity = "1";
      }, s61 = () => {
        t44.style.opacity = "0.85";
      }, n73 = () => {
        this.measureController.disable();
      };
      return t44.addEventListener("click", n73), t44.addEventListener("mouseenter", e49), t44.addEventListener("mouseleave", s61), () => {
        t44.removeEventListener("click", n73), t44.removeEventListener("mouseenter", e49), t44.removeEventListener("mouseleave", s61);
      };
    });
    var s60, n72;
    this._params = t43, this.measureController = i65, this.mode = (s60 = t43.mode) != null ? s60 : "pc", this.wrapper = t43.container, this.container = document.createElement("div"), this.wrapper.appendChild(this.container);
    const e48 = (n72 = t43.useNewUI) != null ? n72 : false;
    if (this.useNewUI = e48, e48 && (this.container.style.position = "absolute", this.container.style.top = "0", this.container.style.left = "0", this.container.style.width = "100%", this.container.style.height = "100%", t43.pointSelectorMode === "cursor" ? this.svelteDom = new Kt2({
      target: this.container,
      props: { measureController: this.measureController, i18n: t43.i18n, showExit: t43.showExit }
    }) : t43.pointSelectorMode === "fixed" && (this.svelteDom = new lo({
      target: this.container,
      props: { measureController: this.measureController, i18n: t43.i18n, showExit: t43.showExit }
    }))), !e48) {
      this.container.innerHTML = this.mode === "mobile" ? m32 : s24, this.container.classList.add("fpm__ui-controller", this.mode), this.container.style.background = "rgba(0, 0, 0, 0.15)";
      const l63 = this.container.querySelectorAll(".fpm__text"), m66 = this.container.querySelector(".fpm_ui-bg"), p66 = this.container.querySelector(".fpm_operating-space");
      Object.assign(m66 == null ? void 0 : m66.style, n26), Object.assign(p66 == null ? void 0 : p66.style, e22), Object.assign(this.container.style, t24), l63.forEach((a62) => Object.assign(a62.style, r24));
    }
  }
  dispose() {
    var i65;
    this.hide(), (i65 = this.svelteDom) == null || i65.$destroy(), this.container.remove();
  }
  show() {
    return this.container.style.display = "block", this.container.style.opacity = "1", this.container.style.transform = "translate(0, 0)", this.useNewUI === false && (this.mode === "pc" ? (this.revoke = new c35(this.measureController, this.container), this.mainController = new u24(this.measureController, this.container, this._params)) : this.mainController = new d29(this.measureController, this.container, this._params), this.disposers.push(this.handleExit())), this;
  }
  hide() {
    var i65, t43;
    return this.container.style.display = "none", this.container.style.opacity = "0", this.container.style.transform = "translate(0, 10px)", this.useNewUI === false && this.mode === "pc" && ((i65 = this.revoke) == null || i65.dispose()), (t43 = this.mainController) == null || t43.dispose(), this.disposers.forEach((e48) => e48()), this.disposers = [], this;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/object-assign-deep/objectAssignDeep.js
var a21 = {};
var k17 = {
  get exports() {
    return a21;
  },
  set exports(e48) {
    a21 = e48;
  }
};
function f27(e48) {
  return e48 === null ? "null" : typeof e48 == "undefined" ? "undefined" : typeof e48 == "object" ? Array.isArray(e48) ? "array" : "object" : typeof e48;
}
function h29(e48) {
  return f27(e48) === "object" ? j12(e48) : f27(e48) === "array" ? b21(e48) : e48;
}
function b21(e48) {
  return e48.map(h29);
}
function j12(e48) {
  const t43 = {};
  for (const n72 in e48)
    e48.hasOwnProperty(n72) && (t43[n72] = h29(e48[n72]));
  return t43;
}
function y17(e48, t43 = [], n72 = {}) {
  const i65 = {
    arrayBehaviour: n72.arrayBehaviour || "replace"
    // Can be "merge" or "replace".
  }, g67 = t43.map((c85) => c85 || {}), r66 = e48 || {};
  for (let c85 = 0; c85 < g67.length; c85++) {
    const x49 = g67[c85], d73 = Object.keys(x49);
    for (let l63 = 0; l63 < d73.length; l63++) {
      const o71 = d73[l63], s60 = x49[o71], A62 = f27(s60), p66 = f27(r66[o71]);
      if (A62 === "object")
        if (p66 !== "undefined") {
          const u72 = p66 === "object" ? r66[o71] : {};
          r66[o71] = y17({}, [u72, j12(s60)], i65);
        } else
          r66[o71] = j12(s60);
      else if (A62 === "array")
        if (p66 === "array") {
          const u72 = b21(s60);
          r66[o71] = i65.arrayBehaviour === "merge" ? r66[o71].concat(u72) : u72;
        } else
          r66[o71] = b21(s60);
      else
        r66[o71] = s60;
    }
  }
  return r66;
}
k17.exports = function(t43, ...n72) {
  return y17(t43, n72);
};
a21.noMutate = function(...t43) {
  return y17({}, t43);
};
a21.withOptions = function(t43, n72, i65) {
  return y17(t43, n72, i65);
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Components/Tip.js
function K13(s60) {
  Qt2(s60, "svelte-1q8gtp4", ".Measure-Tips.svelte-1q8gtp4.svelte-1q8gtp4{box-sizing:border-box;position:absolute;pointer-events:none;top:0;width:100%;padding:0 2.5rem}.Measure-Tips.svelte-1q8gtp4 .text.svelte-1q8gtp4{text-align:center;position:relative;max-width:100%;top:3.125rem;color:#fff;word-break:break-all;word-wrap:break-word;text-shadow:0 0.0625rem 0.375rem rgba(0, 0, 0, 0.5);font-size:1.25rem;font-weight:bold}");
}
function w18(s60) {
  let i65, o71, e48, n72, r66;
  return {
    c() {
      i65 = K4("div"), o71 = K4("div"), e48 = gt(
        /*tip*/
        s60[2]
      ), te2(o71, "class", "text svelte-1q8gtp4"), te2(i65, "class", "Measure-Tips svelte-1q8gtp4");
    },
    m(l63, f80) {
      Nt(l63, i65, f80), pt(i65, o71), pt(o71, e48), s60[7](o71), r66 = true;
    },
    p(l63, f80) {
      (!r66 || f80 & /*tip*/
      4) && ee2(
        e48,
        /*tip*/
        l63[2]
      );
    },
    i(l63) {
      r66 || (z2(() => {
        r66 && (n72 || (n72 = ye(i65, C13, {}, true)), n72.run(1));
      }), r66 = true);
    },
    o(l63) {
      n72 || (n72 = ye(i65, C13, {}, false)), n72.run(0), r66 = false;
    },
    d(l63) {
      l63 && J4(i65), s60[7](null), l63 && n72 && n72.end();
    }
  };
}
function L17(s60) {
  let i65, o71, e48 = (
    /*visible*/
    s60[0] && w18(s60)
  );
  return {
    c() {
      e48 && e48.c(), i65 = Yt();
    },
    m(n72, r66) {
      e48 && e48.m(n72, r66), Nt(n72, i65, r66), o71 = true;
    },
    p(n72, [r66]) {
      n72[0] ? e48 ? (e48.p(n72, r66), r66 & /*visible*/
      1 && ot(e48, 1)) : (e48 = w18(n72), e48.c(), ot(e48, 1), e48.m(i65.parentNode, i65)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot());
    },
    i(n72) {
      o71 || (ot(e48), o71 = true);
    },
    o(n72) {
      $t(e48), o71 = false;
    },
    d(n72) {
      e48 && e48.d(n72), n72 && J4(i65);
    }
  };
}
function Q14(s60, i65, o71) {
  let { measureController: e48 } = i65, { i18n: n72 = (t43) => t43 } = i65, { tips: r66 } = i65, { tipStyle: l63 = {} } = i65, { visible: f80 = true } = i65, a62 = null;
  const S52 = (t43) => {
    const D52 = e48.currentMeasureType;
    let d73 = "";
    return d73 = r66[t43], d73 === void 0 && (d73 = r66[D52][t43]), d73;
  }, c85 = (t43) => {
    o71(2, p66 = n72(S52(t43)));
  }, u72 = () => {
    o71(2, p66 = "");
  };
  let p66 = "";
  const m66 = (t43) => {
    t43 === "Edit" && e48.changeMeasureType ? c85("start") : u72();
  }, g67 = () => {
    e48.getCurrentMode() === "Watch" && u72();
  }, _32 = () => {
    e48.getCurrentMode() === "Edit" && c85("start");
  }, b55 = (t43) => {
    e48.currentMeasureType === "area" && (t43.length >= 2 ? c85("close") : t43.length === 0 ? c85("start") : u72());
  };
  ce(() => {
    m66(e48.getCurrentMode()), e48.hook.on("modeChange", m66), e48.hook.on("complete", g67), e48.hook.on("pointsChange", b55), e48.hook.on("measureTypeChange", _32);
  }), le(() => {
    e48.hook.off("modeChange", m66), e48.hook.off("complete", g67), e48.hook.off("pointsChange", b55), e48.hook.off("measureTypeChange", _32), u72();
  });
  function z28(t43) {
    ft[t43 ? "unshift" : "push"](() => {
      a62 = t43, o71(1, a62), o71(6, l63);
    });
  }
  return s60.$$set = (t43) => {
    "measureController" in t43 && o71(3, e48 = t43.measureController), "i18n" in t43 && o71(4, n72 = t43.i18n), "tips" in t43 && o71(5, r66 = t43.tips), "tipStyle" in t43 && o71(6, l63 = t43.tipStyle), "visible" in t43 && o71(0, f80 = t43.visible);
  }, s60.$$.update = () => {
    if (s60.$$.dirty & /*textDom, tipStyle*/
    66 && a62)
      for (const t43 in l63)
        l63.hasOwnProperty(t43) && o71(1, a62.style[t43] = l63[t43], a62);
  }, [f80, a62, p66, e48, n72, r66, l63, z28];
}
var X15 = class extends Ce {
  constructor(i65) {
    super(), Te(
      this,
      i65,
      Q14,
      L17,
      Ft,
      {
        measureController: 3,
        i18n: 4,
        tips: 5,
        tipStyle: 6,
        visible: 0
      },
      K13
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/GuideController.js
var s26 = Object.defineProperty;
var r26 = (i65, t43, e48) => t43 in i65 ? s26(i65, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : i65[t43] = e48;
var o32 = (i65, t43, e48) => (r26(i65, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var n29 = {
  line: {
    start: "选择一个合适的位置开始测量，点击【结束】或【鼠标右键】结束测量"
  },
  area: {
    start: "选择一个合适的位置开始绘制平面",
    close: "选择3个点后将闭合平面，点击【结束】或【鼠标右键】将自动闭合"
  }
};
var c37 = {
  line: {
    start: ""
  },
  area: {
    start: "",
    close: "选择3个点后将闭合平面，点击结束自动闭合"
  }
};
var D22 = class {
  constructor(t43, e48) {
    o32(this, "tipSvelteDom");
    this.tipSvelteDom = new X15({
      target: e48.container,
      props: {
        measureController: t43,
        tips: a21({}, e48.pointSelectorMode === "fixed" ? c37 : n29, e48.tips),
        i18n: e48.i18n,
        visible: true,
        tipStyle: e48.tipStyle
      }
    });
  }
  dispose() {
    var t43;
    (t43 = this.tipSvelteDom) == null || t43.$destroy();
  }
  show() {
    var t43;
    return (t43 = this.tipSvelteDom) == null || t43.$set({ visible: true }), this;
  }
  hide() {
    var t43;
    return (t43 = this.tipSvelteDom) == null || t43.$set({ visible: false }), this;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Controller/ShortcutKeyController.js
var s27 = Object.defineProperty;
var i29 = (o71, e48, t43) => e48 in o71 ? s27(o71, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[e48] = t43;
var n30 = (o71, e48, t43) => (i29(o71, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var u25 = class {
  constructor(e48, t43) {
    n30(this, "five");
    n30(this, "measureController");
    n30(this, "onKeyDown", (e49) => {
      if (e49.metaKey && e49.code === "KeyS") {
        this.measureController.save().changeMode("Watch"), e49.preventDefault();
        return;
      }
      if (e49.code === "Escape")
        return this.escape();
    });
    n30(this, "onMouseDown", (e49) => {
      e49.button === 2 && (e49.preventDefault(), this.measureController.save().changeMode("Watch"));
    });
    this.five = t43, this.measureController = e48;
    const r66 = this.five.getElement();
    r66 && (document.body.addEventListener("keydown", this.onKeyDown), r66.addEventListener("mousedown", this.onMouseDown));
  }
  dispose() {
    const e48 = this.five.getElement();
    e48 && (document.body.removeEventListener("keydown", this.onKeyDown), e48.removeEventListener("mousedown", this.onMouseDown));
  }
  escape() {
    return this.measureController.getCurrentMode() === "Watch" ? this.measureController.disable() : this.measureController.save().changeMode("Watch");
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/safeObj.js
function r27(e48) {
  return typeof e48 == "object" ? e48 === null ? {} : e48 : {};
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Controller/index.js
var x15 = Object.defineProperty;
var D23 = Object.defineProperties;
var G14 = Object.getOwnPropertyDescriptors;
var I22 = Object.getOwnPropertySymbols;
var S24 = Object.prototype.hasOwnProperty;
var L18 = Object.prototype.propertyIsEnumerable;
var f28 = (n72, s60, t43) => s60 in n72 ? x15(n72, s60, { enumerable: true, configurable: true, writable: true, value: t43 }) : n72[s60] = t43;
var p20 = (n72, s60) => {
  for (var t43 in s60 || (s60 = {}))
    S24.call(s60, t43) && f28(n72, t43, s60[t43]);
  if (I22)
    for (var t43 of I22(s60))
      L18.call(s60, t43) && f28(n72, t43, s60[t43]);
  return n72;
};
var U13 = (n72, s60) => D23(n72, G14(s60));
var o33 = (n72, s60, t43) => (f28(n72, typeof s60 != "symbol" ? s60 + "" : s60, t43), t43);
var ci = class extends F9 {
  constructor(t43, e48) {
    var l63, m66, h66, a62, g67, y51, C52, M48, w49, P55, v58, b55;
    super(t43);
    o33(this, "state", { enabled: true });
    o33(this, "hasOpen", false);
    o33(this, "hook");
    o33(this, "magnifier");
    o33(this, "controller", null);
    o33(this, "allowMeasureType");
    o33(this, "currentMeasureType");
    o33(this, "model");
    o33(this, "group");
    o33(this, "config");
    o33(this, "isMobile");
    o33(this, "useUIController");
    o33(this, "params");
    o33(this, "useGuideController");
    o33(this, "container", document.createElement("div"));
    o33(this, "shortcutKeyController");
    o33(this, "disable", () => {
      var t44, e49, r67, i66;
      this.hasOpen = false, this.state.enabled = false, this.container.style.visibility = "hidden", this.container.style.opacity = "0", (t44 = this.controller) == null || t44.dispose(), (e49 = this.useUIController) == null || e49.hide(), (r67 = this.useGuideController) == null || r67.hide(), (i66 = this.shortcutKeyController) == null || i66.dispose(), this.controller = null, this.five.helperVisible = true, this.five.scene.remove(this.group), this.five.needsRender = true, this.hook.emit("disable", true);
    });
    o33(this, "getCurrentMode", () => this.controller instanceof bt2 ? "Edit" : this.controller instanceof De4 ? "Watch" : this.controller instanceof me4 ? "Mixed" : this.controller instanceof R19 ? "View" : null);
    o33(this, "changeMode", (t44) => {
      var i66, l64, m67, h67, a63;
      if (!this.hasOpen || this.getCurrentMode() === t44)
        return;
      (i66 = this.controller) == null || i66.dispose();
      const e49 = {
        View: R19,
        Watch: De4,
        Edit: bt2,
        Mixed: me4
      };
      if (!e49[t44])
        throw new Error("不存在的 Mode");
      const r67 = this.createControllerParams();
      this.controller = new e49[t44](r67), t44 === "View" ? ((l64 = this.useUIController) == null || l64.hide(), (m67 = this.useGuideController) == null || m67.hide()) : ((h67 = this.useUIController) == null || h67.show(), (a63 = this.useGuideController) == null || a63.show()), this.hook.emit("modeChange", t44);
    });
    o33(this, "changeMeasureType", (t44) => {
      this.currentMeasureType = t44, this.hook.emit("measureTypeChange", t44);
    });
    this.five = t43, this.hook = this.hooks, this.params = e48, this.config = e7(e48, ["openParams", "magnifierParams"]), this.model = new x14(this.config), this.isMobile = (m66 = (l63 = e48 == null ? void 0 : e48.openParams) == null ? void 0 : l63.isMobile) != null ? m66 : false, this.magnifier = new S(
      t43,
      (y51 = (g67 = e48.magnifierParams) != null ? g67 : (a62 = (h66 = e48.pointSelectorConfig) == null ? void 0 : h66.helper) == null ? void 0 : a62.magnifierParams) != null ? y51 : { width: 190, height: 190, scale: 2 }
    ), this.allowMeasureType = Array.from(new Set((M48 = (C52 = e48.editParams) == null ? void 0 : C52.allowMeasureType) != null ? M48 : ["line"])), this.currentMeasureType = (w49 = this.allowMeasureType[0]) != null ? w49 : "line", this.group = new Group(), this.group.name = "plugin-measure-group", this.container.classList.add("five-plugin-measure-container"), this.container.style.position = "absolute", this.container.style.left = "0", this.container.style.top = "0", this.container.style.visibility = "hidden", this.container.style.pointerEvents = "none", this.container.style.width = "100%", this.container.style.height = "100%", this.container.style.opacity = "0", this.container.style.zIndex = "1";
    const r66 = (v58 = (P55 = e48.editParams) == null ? void 0 : P55.pointSelectorMode) != null ? v58 : o15 ? "fixed" : "cursor", i65 = (b55 = this.params.openParams) != null ? b55 : {};
    if (this.params.useUIController !== false) {
      const d73 = p20({
        container: this.container,
        openParams: i65,
        i18n: e48.i18n,
        pointSelectorMode: r66,
        useNewUI: this.allowMeasureType.length > 1
      }, r27(this.params.useUIController));
      this.useUIController = new ki(this, d73);
    }
    if (this.params.useGuideController !== false) {
      const d73 = p20({
        container: this.container,
        pointSelectorMode: r66,
        i18n: e48.i18n
      }, r27(this.params.useGuideController));
      this.useGuideController = new D22(this, d73);
    }
  }
  appendTo(t43) {
    t43.append(this.container);
  }
  clear() {
    this.model.clear();
  }
  dispose() {
    var t43, e48;
    this.disable(), this.clear(), (t43 = this.useUIController) == null || t43.dispose(), (e48 = this.magnifier) == null || e48.dispose(), this.five.needsRender = true;
  }
  /** 加载数据
   * @description 数据加载时会覆盖当前已保存的数据
   * @description 如果当前正在编辑中，会自动退出并保存编辑
   */
  load(t43) {
    let e48 = t43;
    t43.list && (e48 = {
      polylines: t43.list.map((i65) => i65.polyline).map((i65) => {
        var l63;
        return U13(p20({}, i65), {
          visibleFiveMode: (l63 = i65.visibleFiveMode) != null ? l63 : ["Panorama"]
        });
      })
    }), this.model.parse(e48), this.save();
  }
  /** 插件功能入口
   * @description 会隐藏鼠标的默认聚焦环
   * @description 会隐藏当前 VR 内的点位展示
   */
  enable(t43) {
    var e48, r66, i65;
    this.hasOpen || (!this.container.parentElement && ((e48 = this.five.getElement()) != null && e48.parentElement) && this.appendTo(this.five.getElement().parentElement), this.state.enabled = true, this.hasOpen = true, this.group.matrix.copy(this.workUtil.transform), this.group.matrix.decompose(this.group.position, this.group.quaternion, this.group.scale), this.group.updateMatrixWorld(), this.five.scene.add(this.group), this.container.style.visibility = "visible", this.container.style.opacity = "1", t43 != null && t43.mode ? this.changeMode(t43.mode) : this.isMobile ? this.changeMode("Mixed") : this.changeMode("Watch"), (t43 == null ? void 0 : t43.mode) !== "View" && ((r66 = this.useUIController) == null || r66.show(), (i65 = this.useGuideController) == null || i65.show()), this.shortcutKeyController = new u25(this, this.five), this.hook.emit("enable", true));
  }
  /** 进入编辑模式 */
  edit(t43) {
    t43 && this.changeMeasureType(t43);
    const e48 = this.isMobile ? "Mixed" : "Edit";
    this.changeMode(e48);
  }
  /** 撤销编辑 */
  revoke() {
    this.controller instanceof bt2 && this.controller.revoke();
  }
  removePolyline(t43) {
    this.model.removePolyline(t43);
  }
  removeArea(t43) {
    this.model.removeArea(t43);
  }
  removePolylineByID(t43) {
    const e48 = this.model.getPolylineByID(t43);
    e48 && this.model.removePolyline(e48);
  }
  getPolylineByID(t43) {
    return this.model.getPolylineByID(t43);
  }
  getEditedPolyline() {
  }
  /**
   * 高亮当前线段
   */
  highlightLine(t43) {
    if (this.getCurrentMode() !== "Watch")
      return false;
    const e48 = this.model.getLineByID(t43);
    return e48 ? (this.controller.highlightLine(e48), true) : false;
  }
  clearHighlightLines() {
    return this.getCurrentMode() !== "Watch" ? false : (this.controller.clearHighlightLines(), true);
  }
  /** 保存编辑
   * @description 以下情况可能报错
   */
  save(t43) {
    var i65;
    if (!(this.controller instanceof bt2) && !(this.controller instanceof me4))
      return this;
    const e48 = (i65 = t43 == null ? void 0 : t43.mode) != null ? i65 : "View", r66 = this.controller.model.areas;
    return this.controller instanceof bt2 ? this.controller.complete() : r66.forEach((l63) => {
      l63.showArea(), this.model.addArea(l63);
    }), this.changeMode(e48), this;
  }
  /** Mixed 模式才有用，添加起点 */
  addStartPoint() {
    this.controller instanceof me4 && this.hook.emit("willChangeState", "watching", "editing");
  }
  /** Mixed 模式才有用，添加终点 */
  addEndPoint() {
    this.controller instanceof me4 && this.hook.emit("willChangeState", "editing", "watching");
  }
  /** 导出数据 */
  toJson() {
    return this.model.toJson();
  }
  /**
   * @deprecated 暂不支持
   * @description 改变插件的模式（pc端模式或移动端模式）
   * @param isMobile true为移动端模式，false为pc端
   */
  changeIsMobile(t43) {
  }
  changeConfigs(t43) {
    var e48, r66;
    Object.assign(this.config, t43), (e48 = this.controller) == null || e48.updateDistanceUI(), (r66 = this.controller) == null || r66.updateAreaUI();
  }
  /** 设置线段的文本 */
  setCustomText(t43, e48) {
    var i65;
    const r66 = this.model.getLineByID(t43);
    if (!r66)
      throw new Error("不存在的线段");
    r66.setText(e48), (i65 = this.controller) == null || i65.updateDistanceUI();
  }
  createControllerParams() {
    var r66, i65;
    const t43 = (r66 = this.params.openParams) != null ? r66 : {}, e48 = (i65 = this.params.editParams) != null ? i65 : {};
    return t43.isMobile = this.isMobile, {
      five: this.five,
      hook: this.hook,
      group: this.group,
      model: this.model,
      config: this.config,
      magnifier: this.magnifier,
      container: this.container,
      workUtil: this.workUtil,
      openParams: t43,
      editParams: e48,
      pointSelectorConfig: this.params.pointSelectorConfig,
      magnifierParams: this.params.magnifierParams,
      getMeasureType: () => this.currentMeasureType,
      mouseGroup: D19(p20({}, t43.crossHairParameter)),
      userDistanceItemCreator: this.params.userDistanceItemCreator
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/index.js
var Lr2 = function(o71, r66) {
  return new ci(o71, r66);
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/FiveDomEvents.js
var R23 = Object.defineProperty;
var P20 = Object.defineProperties;
var V10 = Object.getOwnPropertyDescriptors;
var N14 = Object.getOwnPropertySymbols;
var T16 = Object.prototype.hasOwnProperty;
var B15 = Object.prototype.propertyIsEnumerable;
var D24 = (h66, e48, t43) => e48 in h66 ? R23(h66, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : h66[e48] = t43;
var L19 = (h66, e48) => {
  for (var t43 in e48 || (e48 = {}))
    T16.call(e48, t43) && D24(h66, t43, e48[t43]);
  if (N14)
    for (var t43 of N14(e48))
      B15.call(e48, t43) && D24(h66, t43, e48[t43]);
  return h66;
};
var S25 = (h66, e48) => P20(h66, V10(e48));
var a22 = (h66, e48, t43) => (D24(h66, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var Q15 = class {
  constructor(e48, t43) {
    a22(this, "_five");
    a22(this, "dragging", false);
    a22(this, "boundObject", {});
    a22(this, "config");
    a22(this, "handleWantsGesture", (e49, t44) => {
      if (t44.length !== 1)
        return;
      const n73 = t44[0];
      if (n73.raycaster) {
        const i65 = new h3();
        i65.ray = n73.raycaster.ray, i65.near = n73.raycaster.near, i65.far = n73.raycaster.far, i65.camera = n73.raycaster.camera, i65.layers = n73.raycaster.layers, i65.params = n73.raycaster.params, n73.raycaster = i65;
      }
      if (n73) {
        if (e49 === "mouseMove" && this.onDomEvent("hover", n73), e49 === "tap") {
          const i65 = new MouseEvent("click", { clientX: n73.x, clientY: n73.y }), d73 = this.onDomEvent("click", n73, i65), o71 = this.onDomEvent("wantDblclick", n73, i65, this.boundObject.dblclick);
          if (d73 === false || o71 === false)
            return false;
        }
        if (this.dragging)
          return false;
      }
    });
    a22(this, "handleDomEvent", (e49, t44, n73) => {
      const i65 = { x: t44.clientX, y: t44.clientY };
      this.onDomEvent(e49, i65, t44, n73);
    });
    a22(this, "handleMouseEvent", (e49) => {
      this.handleDomEvent(e49.type, e49);
    });
    a22(this, "handleMousedown", (e49) => {
      this.handleDomEvent("mousedown", e49), this.handleDomEvent("dragstart", e49, this.haveDragEventObject);
    });
    a22(this, "handleMouseup", (e49) => {
      var t44;
      this.dragging = false, (t44 = this.haveDragEventObject) == null || t44.forEach((n73) => {
        n73._dragging && (n73._dragging = false, this.notify({
          eventName: "dragend",
          object: n73,
          originEvent: e49,
          raycaster: this.getRaycaster({ x: e49.clientX, y: e49.clientY })
        }));
      }), this.handleDomEvent("mouseup", e49);
    });
    a22(this, "handleMousemove", (e49) => {
      var t44;
      this.dragging && ((t44 = this.boundObject.drag) == null || t44.forEach((n73) => {
        n73._dragging && this.notify({
          eventName: "drag",
          object: n73,
          originEvent: e49,
          raycaster: this.getRaycaster({ x: e49.clientX, y: e49.clientY })
        });
      }));
    });
    a22(this, "onDomEvent", (e49, t44, n73, i65 = this.boundObject[e49]) => {
      var v58, _32, p66, b55, y51;
      if (!t44 || !i65 || (i65 == null ? void 0 : i65.length) === 0)
        return;
      const d73 = [];
      ((v58 = this.config) == null ? void 0 : v58.fiveModels) !== null && ((_32 = this.config) != null && _32.fiveModels ? d73.push(...this.config.fiveModels) : d73.push(this.model));
      const o71 = d73.filter((m66) => m66.loaded), u72 = (p66 = t44.raycaster) != null ? p66 : this.getRaycaster(t44);
      u72.params.Points.threshold = 0.04;
      const s60 = u72.intersectObjects(i65, true), f80 = [];
      o71.forEach((m66) => {
        const O40 = m66.intersectRaycaster(u72);
        f80.push(...O40);
      });
      const l63 = 0.01;
      if (f80.length > 0 && s60.length > 0 && f80[0].distance + l63 < s60[0].distance)
        return;
      const c85 = (b55 = s60 == null ? void 0 : s60[0]) == null ? void 0 : b55.object;
      if (e49 === "wantDblclick")
        return false;
      if ((!c85 || !this.objectIsBound(c85)) && e49 === "hover")
        for (const m66 of (y51 = this.boundObject.hover) != null ? y51 : [])
          m66._hovered && this.notify({ eventName: "unHover", object: m66 });
      if (c85 && c85 && this.notify({ eventName: e49, object: c85, originEvent: n73, raycaster: u72, intersects: s60, fiveModelIntersects: f80 }))
        return false;
    });
    a22(this, "objectIsBound", (e49) => {
      let t44 = e49._domEvent, n73 = e49.parent;
      for (; typeof t44 == "undefined" && n73; )
        t44 = n73._domEvent, n73 = n73.parent;
      return !!t44;
    });
    a22(this, "notify", (e49) => {
      var b55, y51, m66, O40, H39, I49, x49;
      const { eventName: t44, object: n73, originEvent: i65, raycaster: d73, intersects: o71, fiveModelIntersects: u72 } = e49;
      if (!n73)
        return false;
      let s60 = false, f80 = [];
      const l63 = [], c85 = () => {
        if (!o71)
          return false;
        const r66 = o71.slice(1);
        return r66[0] ? this.notify(S25(L19({}, e49), { object: r66[0].object, intersects: r66 })) : false;
      };
      let v58 = n73;
      for (l63.push(v58); v58.parent; )
        v58 = v58.parent, l63.push(v58);
      const _32 = l63[l63.length - 1];
      if ((b55 = this.config) != null && b55.noEmitWhenNotInScene && _32.type !== "Scene")
        return c85();
      let p66 = false;
      for (const r66 of l63) {
        if (s60)
          break;
        r66.draggable && (t44 === "dragstart" && (r66._dragging = true, this.dragging = true), t44 === "dragend" && (r66._dragging = false, this.dragging = false));
        const k47 = r66._domEvent;
        if (!k47)
          continue;
        const W25 = k47[`${t44}Handler`];
        if (W25)
          for (const [j37, E53] of W25) {
            if (E53 != null && E53.noEmitWhenNotInScene && _32.type !== "Scene")
              continue;
            if (E53.skipPano && u72) {
              const g67 = (y51 = u72[0]) == null ? void 0 : y51.point;
              if (g67 && ((H39 = (O40 = (m66 = this.five.observers) == null ? void 0 : m66[this.five.panoIndex]) == null ? void 0 : O40.accessibleNodes) != null && H39.some((F45) => {
                var G31;
                const M48 = (G31 = this.five.works.getResolvedObserver({
                  workCode: this.five.state.workCode,
                  panoIndex: F45
                })) == null ? void 0 : G31.standingPosition;
                return (M48 == null ? void 0 : M48.distanceTo(g67)) < 0.3;
              })))
                continue;
            }
            if (((I49 = this.config) != null && I49.noEmitWhenHide || E53 != null && E53.noEmitWhenHide) && !r4(r66))
              continue;
            if (p66 = true, t44 === "hover") {
              if (r66._hovered)
                continue;
              r66._hovered = true;
              for (const g67 of (x49 = this.boundObject.hover) != null ? x49 : [])
                g67 !== r66 && g67._hovered && this.notify({ eventName: "unHover", object: g67 });
            }
            if (t44 === "unHover") {
              if (!r66._hovered)
                continue;
              r66._hovered = false;
            }
            const w49 = j37({
              type: t44,
              target: r66,
              origDomEvent: i65,
              raycaster: d73,
              intersects: o71,
              stopPropagation: () => {
                s60 = true;
              }
            });
            f80.push(w49 != null ? w49 : true);
          }
      }
      if (p66 === false)
        return c85();
      if (t44 === "click" || t44 === "wantDblclick")
        return f80.some((r66) => r66 === true);
    });
    var n72;
    this.five = e48, this.config = t43, e48.off("wantsGesture", this.handleWantsGesture), e48.on("wantsGesture", this.handleWantsGesture), document.addEventListener("mousedown", this.handleMousedown), document.addEventListener("dblclick", this.handleMouseEvent), document.addEventListener("mouseup", this.handleMouseup), document.addEventListener("mousemove", this.handleMousemove), window.__FIVE_DOM_EVENTS__ = (n72 = window.__FIVE_DOM_EVENTS__) != null ? n72 : [], window.__FIVE_DOM_EVENTS__.push(this);
  }
  get five() {
    return this._five;
  }
  set five(e48) {
    var t43;
    (t43 = this._five) == null || t43.off("wantsGesture", this.handleWantsGesture), this._five = e48, this._five.on("wantsGesture", this.handleWantsGesture);
  }
  get haveDragEventObject() {
    return [...new Set([this.boundObject.dragend, this.boundObject.drag, this.boundObject.dragstart].flat())].filter(Boolean);
  }
  get model() {
    return l2(this.five);
  }
  /**
   * @description: added 时自动绑定事件，removed时自动解绑事件，也就是说只有物体在场景中的时候才会触发事件
   * @note: 注意：目前需要触发物体的 added 事件和 removed 事件才会生效
   * @todo: added 和 removed 还是不太智能
   */
  addAutoBindEventListener(e48, t43, n72, i65) {
    const d73 = () => this.addEventListener(e48, t43, n72, i65), o71 = () => this.removeEventListener(e48, t43, n72, i65);
    return e48.addEventListener("added", d73), e48.addEventListener("removed", o71), e48.addEventListener("dispose", o71), () => {
      e48.removeEventListener("added", d73), e48.removeEventListener("removed", o71), e48.removeEventListener("dispose", o71);
    };
  }
  /**
   * @description: add event listener
   * @param params.object: object
   * @param params.event: event name
   * @param params.callback: 返回 false 可以不阻止 five 的 tap 事件; default: true
   * @return {void}
   */
  addEventListener(e48, t43, n72, i65) {
    e48._domEvent || (e48._domEvent = {}), e48._domEvent[`${t43}Handler`] || (e48._domEvent[`${t43}Handler`] = []), this.boundObject[t43] || (this.boundObject[t43] = []), this.boundObject[t43].includes(e48) || this.boundObject[t43].push(e48), e48._domEvent[`${t43}Handler`].push([n72, L19({ noEmitWhenHide: false, noEmitWhenNotInScene: false }, i65)]);
  }
  removeEventListener(e48, t43, n72, ...i65) {
    var o71, u72;
    if (!e48._domEvent || (t43 === void 0 && (Object.keys(this.boundObject).forEach((s60) => {
      var l63, c85;
      const f80 = (l63 = this.boundObject[s60]) == null ? void 0 : l63.findIndex((v58) => v58 === e48);
      f80 !== -1 && ((c85 = this.boundObject[s60]) == null || c85.splice(f80, 1));
    }), e48._domEvent = {}), !e48._domEvent[`${t43}Handler`]))
      return;
    if (n72 === void 0) {
      delete e48._domEvent[`${t43}Handler`];
      return;
    }
    const d73 = e48._domEvent[`${t43}Handler`].findIndex((s60) => s60[0] === n72);
    if (d73 !== -1 && (e48._domEvent[`${t43}Handler`].splice(d73, 1), e48._domEvent[`${t43}Handler`].length === 0 && delete e48._domEvent[`${t43}Handler`], e48._domEvent && Object.keys(e48._domEvent).length === 0 && delete e48._domEvent, !e48._domEvent)) {
      const s60 = (o71 = this.boundObject[t43]) == null ? void 0 : o71.findIndex((f80) => f80 === e48);
      s60 !== -1 && ((u72 = this.boundObject[t43]) == null || u72.splice(s60, 1));
    }
  }
  clear() {
    this.boundObject = {};
  }
  dispose() {
    var e48;
    (e48 = this.five) == null || e48.off("wantsGesture", this.handleWantsGesture), document.removeEventListener("mousedown", this.handleMousedown), document.removeEventListener("mouseup", this.handleMouseup), document.removeEventListener("mousemove", this.handleMousemove), this.boundObject = {};
  }
  toJSON() {
    return {
      boundObject: this.boundObject
    };
  }
  getRaycaster(e48) {
    const t43 = this.five.getElement();
    if (!t43)
      return;
    const n72 = h25(e48, t43), i65 = new h3();
    return i65.setFromCamera(n72, this.five.camera), i65;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Point.js
var E21 = Object.defineProperty;
var N15 = Object.defineProperties;
var P21 = Object.getOwnPropertyDescriptors;
var A28 = Object.getOwnPropertySymbols;
var b22 = Object.prototype.hasOwnProperty;
var v20 = Object.prototype.propertyIsEnumerable;
var f29 = (e48, i65, t43) => i65 in e48 ? E21(e48, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : e48[i65] = t43;
var a23 = (e48, i65) => {
  for (var t43 in i65 || (i65 = {}))
    b22.call(i65, t43) && f29(e48, t43, i65[t43]);
  if (A28)
    for (var t43 of A28(i65))
      v20.call(i65, t43) && f29(e48, t43, i65[t43]);
  return e48;
};
var m33 = (e48, i65) => N15(e48, P21(i65));
var k18 = (e48, i65) => {
  var t43 = {};
  for (var o71 in e48)
    b22.call(e48, o71) && i65.indexOf(o71) < 0 && (t43[o71] = e48[o71]);
  if (e48 != null && A28)
    for (var o71 of A28(e48))
      i65.indexOf(o71) < 0 && v20.call(e48, o71) && (t43[o71] = e48[o71]);
  return t43;
};
var s28 = (e48, i65, t43) => (f29(e48, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var x16 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sHDgwCEMBJZu0AAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAABM5JREFUWMO1V0tPG2cUPZ4Hxh6DazIOrjFNqJs0FIMqWFgWQkatsmvVbtggKlSVRVf5AWz4AWz4AUSKEChll19QJYSXkECuhFxsHjEhxCYm+DWGMZ5HF72DJq4bAzFXurI0M/I5997v3u9cC65vTJVn2lX/xHINQOYSBLTLEuIuCWw4Z3IGAEvf6ASmVHjNzHCXBG4A0AjACsAOwEbO0nsFQBnAGYASAIl+ZRMR7SolMEdsByD09fV5R0ZGgg8ePPjW5/N1iqLYpuu6RZblciKR2I9Go69evnwZnZ+fjwI4IS8AKBIRzeQfJWCANwKwh0KhtrGxsYehUOin1tbW+zzP23ietzY2NnIAoGmaLsuyUiqVyvl8XtrY2NiamZn589mzZxsAUgCOAeQAnFI2tI+VxIjaAeDzoaGh7xYWFuZOTk6OZVk+12uYqqq6JEnn0Wg0OT4+/geAXwGEAdwDIFJQXC1wO4DWR48e/RCPxxclSSroVzRFUbSDg4P848ePFwH8DuAhkWih83TRQWxFOXgAwvDwcOfo6OhvXV1d39tsNtuVBwTDWBwOh1UUxVsMw1hXVlbSdCgNV43uYSvrHg6H24aHh38eHBz85TrgF9FYLHA4HLzH43FvbW2d7u/vG+dANp8FpqIlbd3d3V8Fg8EfBUFw4BONZVmL3+9vHhkZCQL4AoAHgJPK8G+yzC0XDofdoVAo5PP5vkadTBAEtr+/39ff3x8gAp/RPOEqx2qjx+NpvXv3bk9DQ0NDvQgwDIOWlhZrMBj8kgi0UJdxRgYMArzL5XJ7vd57qLPZ7Xamp6fnNgBXtQxcjFuHw+Hyer3t9SYgCAITCAScAJoBNNEY/08GOFVVrfVMv7kMNDntFD1vjIAPrlRN0xjckOm6biFQ3jwNPwDMZrOnqVTqfb3Bi8Wivru7W/VCYkwPlKOjo0IikXh7EwQikYgE4Nw0CfXKDCipVCoTj8df3QABbW1tLUc6oUgkFPMkVACUNjc337148eKvw8PDbJ2jP1taWkoCyNDVXDSECmNSK4qiKNLq6urW8+fPI/UicHx8rD59+jSVy+WOAKSJhKENwFItLtoxk8mwsixzHR0dHe3t7c5PAU+n09rs7OzJkydPYqVSaQfANoDXALIk31S2smU1TWMPDg7K5XKZ7+3t9TudTut1U7+wsFCcmJiIpdPpbQBxADsAknQWymYCOukBHYCuKApisdhpMpnURFEU79y503TVyKenpzOTk5M7e3t7MQKPV0Zv1gNm+awB0MvlshqLxfLb29uyJElWURSbXC4XXyvqxcXFs6mpqeTc3Nzu3t7e3wQcA7BPZ8Cov1pNlJplmQtAG8MwHV6v95tAINA5MDBwPxAIuLu6upr8fr/VAN3c3JQjkcjZ+vp6fnl5+d2bN29SuVzuNYAEpf01CdRChUL+X1VskHACuA3Ay3Fcu9vt7nA6nZ7m5uYWQRCaNE3jVVW15PP580KhIGUymWw2m00DOAJwSP4WwPtq4LX2Ao6USxNlQyS/RcQcdLGwlNIz6vEMAaZpNzCk2Pll94LK/cDYimxERiBwG10sxjgvEZBE0UpE6vxj+0Ct5bTaXthgEhRmja8QWNkkPGsuIpfdjpkK+cZUWTC0KredVmtD/gdlSl6EG4AMvQAAAABJRU5ErkJggg==";
var C28 = null;
var ot2 = class extends c16 {
  constructor(t43) {
    var w49, y51, V25;
    super();
    s28(this, "name", "PointMesh");
    s28(this, "dom");
    s28(this, "opacityBeforeHighlight");
    s28(this, "highlighted", false);
    s28(this, "fontMesh");
    s28(this, "backgroundMesh");
    s28(this, "lastRenderDomItem");
    s28(this, "paramsStyle");
    s28(this, "_visible", true);
    s28(this, "_onAdded", () => {
      this.dom || this.updateDom();
    });
    s28(this, "_onRemoved", () => {
      var t44;
      (t44 = this.dom) == null || t44.destroy(), this.dom = void 0;
    });
    s28(this, "_onShowed", () => {
      this.dom && (this.dom.container.style.display = "block");
    });
    s28(this, "_onHidden", () => {
      this.dom && (this.dom.container.style.display = "none");
    });
    const p66 = t43 != null ? t43 : {}, { point: o71 } = p66, h66 = k18(p66, ["point"]);
    this.paramsStyle = h66 != null ? h66 : {};
    const u72 = new BufferGeometry();
    u72.setAttribute("position", new Float32BufferAttribute([0, 0, 0], 3));
    const M48 = {
      transparent: true,
      side: DoubleSide,
      size: (w49 = t43 == null ? void 0 : t43.size) != null ? w49 : 8,
      map: C28 || (C28 = new TextureLoader().load(x16)),
      sizeAttenuation: false
    }, l63 = new PointsMaterial(m33(a23({}, M48), {
      color: (y51 = t43 == null ? void 0 : t43.color) != null ? y51 : 16777215,
      depthTest: true,
      opacity: (V25 = t43 == null ? void 0 : t43.opacity) != null ? V25 : 1
    })), D52 = new PointsMaterial(m33(a23({}, M48), {
      size: l63.size,
      color: l63.color,
      depthWrite: false,
      depthTest: false,
      opacity: l63.opacity * 0.5
    })), r66 = new Points(u72, l63), d73 = new Points(u72, D52);
    this.fontMesh = r66, this.backgroundMesh = d73, r66.name = "FontMesh", d73.name = "BackgroundMesh", r66.renderOrder = 10, d73.renderOrder = 0, this.add(r66, d73), t43 != null && t43.point && this.position.copy(t2(t43.point)), t43 && this.setStyle(t43), this.addEventListener("removed", () => {
      r9.cacheObject.delete(this), r9.checkDom(this);
    }), this.addEventListener("added", () => {
      r9.cacheObject.add(this);
    }), r9.checkDomEveryFrame();
  }
  get color() {
    return this.fontMesh.material.color;
  }
  get size() {
    return this.fontMesh.material.size;
  }
  get style() {
    return {
      color: this.color,
      size: this.size,
      opacity: this.fontMesh.material.opacity,
      occlusionVisibility: this.fontMesh.material.depthTest,
      occlusionMode: this.backgroundMesh.visible ? "depthWrite" : "depthTest"
    };
  }
  get five() {
    var t43, o71;
    return (o71 = (t43 = window.globalModules) == null ? void 0 : t43.five) != null ? o71 : window.$five;
  }
  setStyle(t43) {
    i7(t43.color) && (this.fontMesh.material.setValues({ color: t43.color }), this.backgroundMesh.material.setValues({ color: t43.color })), i7(t43.size) && (this.fontMesh.material.setValues({ side: t43.size }), this.backgroundMesh.material.setValues({ side: t43.size })), i7(t43.occlusionVisibility) && (t43.occlusionVisibility ? t43.occlusionMode === "depthTest" ? (this.fontMesh.material.depthTest = false, this.backgroundMesh.visible = false) : (this.fontMesh.material.depthTest = true, this.backgroundMesh.visible = true) : (this.fontMesh.material.depthTest = true, this.backgroundMesh.visible = false));
  }
  highlight() {
    this.highlighted || (this.highlighted = true, this.opacityBeforeHighlight = this.fontMesh.material.opacity, this.fontMesh.material.setValues({ opacity: this.opacityBeforeHighlight * E5 }));
  }
  unhighlight() {
    this.highlighted && (this.highlighted = false, this.fontMesh.material.setValues({ opacity: this.opacityBeforeHighlight }));
  }
  updateMatrixWorld(t43) {
    super.updateMatrixWorld(t43);
    const o71 = a8(this, this.position).toArray().join(",");
    o71 !== this.lastRenderDomItem && (this.updateDom(), this.lastRenderDomItem = o71);
  }
  updateDom() {
    const t43 = this.paramsStyle.tip;
    t43 && !this.dom && (this.dom = new R4(this.five), this.dom.intersectCheck = false, this.dom.simulate3D = true, this.dom.container.style.display = this.visible ? "block" : "none");
    const o71 = (h66) => {
      this.dom && this.dom.__text !== h66 && (this.dom.__text = h66, h66 instanceof HTMLElement ? (this.dom.container.innerHTML = "", this.dom.container.appendChild(h66)) : h66 ? this.dom.container.innerHTML = c17(h66, {
        style: ""
      }) : this.dom.container.innerHTML = "");
    };
    t43 ? (o71(t43), this.dom.setPosition(this.position.clone())) : o71(null);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/LineWithDots.js
var g21 = Object.defineProperty;
var f30 = Object.defineProperties;
var S26 = Object.getOwnPropertyDescriptors;
var u26 = Object.getOwnPropertySymbols;
var c38 = Object.prototype.hasOwnProperty;
var b23 = Object.prototype.propertyIsEnumerable;
var l28 = (s60, i65, t43) => i65 in s60 ? g21(s60, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : s60[i65] = t43;
var r28 = (s60, i65) => {
  for (var t43 in i65 || (i65 = {}))
    c38.call(i65, t43) && l28(s60, t43, i65[t43]);
  if (u26)
    for (var t43 of u26(i65))
      b23.call(i65, t43) && l28(s60, t43, i65[t43]);
  return s60;
};
var a24 = (s60, i65) => f30(s60, S26(i65));
var e23 = (s60, i65, t43) => (l28(s60, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var z10 = class extends Oe {
  constructor(t43) {
    super();
    e23(this, "name", "LineWithDotsMesh");
    e23(this, "pointGroup", new c16());
    e23(this, "_paramsStyle");
    e23(this, "setStyle", (t44) => {
      super.setStyle(t44), this._paramsStyle = r28(r28({}, this._paramsStyle), t44), this.pointMeshes.forEach(
        (o71) => {
          var p66, h66, n72;
          return o71.setStyle(a24(r28({}, this._paramsStyle), { color: (n72 = (p66 = this._paramsStyle) == null ? void 0 : p66.pointColor) != null ? n72 : (h66 = this._paramsStyle) == null ? void 0 : h66.lineColor, tip: void 0 }));
        }
      ), this.updateEdgePointsVisibility(), this.needsRender = true;
    });
    e23(this, "highlight", (t44) => {
      super.highlight(t44), this.pointMeshes.forEach((o71) => o71.highlight());
    });
    e23(this, "unhighlight", () => {
      super.unhighlight(), this.pointMeshes.forEach((t44) => t44.unhighlight());
    });
    e23(this, "updateEdgePointsVisibility", () => {
      var t44;
      i7((t44 = this._paramsStyle) == null ? void 0 : t44.pointVisibility) && (this.startPoint && (this.startPoint.visible = typeof this._paramsStyle.pointVisibility == "object" ? this._paramsStyle.pointVisibility.startPoint : this._paramsStyle.pointVisibility), this.endPoint && (this.endPoint.visible = typeof this._paramsStyle.pointVisibility == "object" ? this._paramsStyle.pointVisibility.endPoint : this._paramsStyle.pointVisibility));
    });
    this.add(this.pointGroup), t43 && this.setStyle(t43), t43 != null && t43.points && this.setPoints(t43.points);
  }
  get startPoint() {
    return this.pointMeshes[0];
  }
  get endPoint() {
    return this.pointMeshes.length < 2 ? null : this.pointMeshes[this.pointMeshes.length - 1];
  }
  get visiblePointMeshes() {
    return this.pointMeshes.filter((t43) => t43.visible);
  }
  get pointMeshes() {
    return this.pointGroup.children;
  }
  setPoints(t43) {
    super.setPoints(t43);
    const o71 = t43.map(t2).filter(i7);
    this.pointGroup.removeChildren(), this.addIfNotExists(this.pointGroup), o71.forEach((p66) => {
      var n72, y51, m66;
      const h66 = new ot2(a24(r28({}, this.style), {
        color: (m66 = (n72 = this._paramsStyle) == null ? void 0 : n72.pointColor) != null ? m66 : (y51 = this._paramsStyle) == null ? void 0 : y51.lineColor,
        tip: void 0
      }));
      h66.position.copy(p66), this.pointGroup.add(h66);
    }), this.updateEdgePointsVisibility(), this.needsRender = true;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/three/ColoredMesh.js
var y18 = Object.defineProperty;
var u27 = Object.getOwnPropertySymbols;
var f31 = Object.prototype.hasOwnProperty;
var B16 = Object.prototype.propertyIsEnumerable;
var g22 = (o71, e48, t43) => e48 in o71 ? y18(o71, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[e48] = t43;
var a25 = (o71, e48) => {
  for (var t43 in e48 || (e48 = {}))
    f31.call(e48, t43) && g22(o71, t43, e48[t43]);
  if (u27)
    for (var t43 of u27(e48))
      B16.call(e48, t43) && g22(o71, t43, e48[t43]);
  return o71;
};
var s29 = (o71, e48, t43) => (g22(o71, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var A29 = class extends c16 {
  constructor(t43) {
    var d73, m66;
    super();
    s29(this, "name", "ColoredMesh");
    s29(this, "meshFont");
    s29(this, "meshBackground");
    s29(this, "paramsStyle", {});
    s29(this, "_geometry", new BufferGeometry());
    s29(this, "highlighted", false);
    s29(this, "opacityBeforeHighlight");
    s29(this, "colorBeforeHighlight");
    this.paramsStyle = t43 != null ? t43 : {};
    const h66 = new MeshBasicMaterial({
      color: new Color((d73 = t43 == null ? void 0 : t43.color) != null ? d73 : L2).convertSRGBToLinear(),
      // 给 MeshBasicMaterial 的颜色必须是 linear，要不颜色不对
      transparent: true,
      side: DoubleSide,
      depthTest: true,
      depthWrite: false,
      opacity: (m66 = t43 == null ? void 0 : t43.opacity) != null ? m66 : A5
    }), r66 = new MeshBasicMaterial({
      color: 16777215,
      transparent: true,
      side: DoubleSide,
      depthTest: false,
      depthWrite: false,
      opacity: 0.3 / 0.5 * h66.opacity
    }), l63 = new Mesh(this.geometry, h66), c85 = new Mesh(this.geometry, r66);
    l63.name = "MeshFront", c85.name = "MeshBackground", l63.renderOrder = 1, c85.renderOrder = 0, this.meshFont = l63, this.meshBackground = c85, this.add(l63), this.setOcclusionVisibility({ occlusionVisibility: t43 == null ? void 0 : t43.occlusionVisibility, occlusionMode: t43 == null ? void 0 : t43.occlusionMode });
  }
  get style() {
    return {
      color: this.color,
      opacity: this.opacity,
      occlusionVisibility: this.occlusionVisibility,
      occlusionMode: this.occlusionMode
    };
  }
  get color() {
    return this.meshFont.material.color;
  }
  get opacity() {
    return this.meshFont.material.opacity;
  }
  get occlusionVisibility() {
    return !!this.meshBackground.parent || this.meshFont.material.depthTest === false;
  }
  get occlusionMode() {
    return this.meshFont.material.depthTest === false ? "depthTest" : "translucence";
  }
  set geometry(t43) {
    this._geometry = t43, this.meshFont.geometry = t43, this.meshBackground.geometry = t43;
  }
  get geometry() {
    return this._geometry;
  }
  setStyle(t43) {
    this.paramsStyle = a25(a25({}, this.paramsStyle), t43), i7(t43.color) && (this.meshFont.material.color.set(new Color(t43.color).convertSRGBToLinear()), this.needsRender = true), i7(t43.opacity) && (this.meshFont.material.opacity = t43.opacity, this.meshBackground.material.opacity = 0.3 / 0.5 * this.meshFont.material.opacity, this.needsRender = true), this.setOcclusionVisibility(t43);
  }
  highlight(t43) {
    var h66, r66;
    this.highlighted = true, i7(t43 == null ? void 0 : t43.color) ? (this.colorBeforeHighlight = (h66 = this.colorBeforeHighlight) != null ? h66 : this.meshFont.material.color.clone(), this.meshFont.material.color.set(new Color(t43.color).convertSRGBToLinear())) : (this.opacityBeforeHighlight = (r66 = this.opacityBeforeHighlight) != null ? r66 : this.opacity, this.meshFont.material.opacity = this.opacity * E5, this.meshBackground.material.opacity = 0.3 / 0.5 * this.meshFont.material.opacity), this.needsRender = true;
  }
  unhighlight() {
    this.highlighted = false, i7(this.opacityBeforeHighlight) && (this.meshFont.material.opacity = this.opacityBeforeHighlight, this.meshBackground.material.opacity = 0.3 / 0.5 * this.meshFont.material.opacity, this.opacityBeforeHighlight = void 0), i7(this.colorBeforeHighlight) && (this.meshFont.material.color = new Color(this.colorBeforeHighlight), this.colorBeforeHighlight = void 0), this.needsRender = true;
  }
  setOcclusionVisibility(t43) {
    var l63, c85, d73;
    const h66 = (c85 = (l63 = t43.occlusionMode) != null ? l63 : this.paramsStyle.occlusionMode) != null ? c85 : "translucence", r66 = (d73 = t43.occlusionVisibility) != null ? d73 : this.paramsStyle.occlusionVisibility;
    i7(r66) && (r66 ? h66 === "depthTest" ? (this.meshFont.material.depthTest = false, this.remove(this.meshBackground)) : h66 === "translucence" && (this.meshFont.material.depthTest = true, this.addIfNotExists(this.meshBackground)) : (this.meshFont.material.depthTest = true, this.remove(this.meshBackground)));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Polygon.js
var f32 = Object.defineProperty;
var g23 = Object.defineProperties;
var I23 = Object.getOwnPropertyDescriptors;
var u28 = Object.getOwnPropertySymbols;
var D25 = Object.prototype.hasOwnProperty;
var _13 = Object.prototype.propertyIsEnumerable;
var p21 = (s60, t43, e48) => t43 in s60 ? f32(s60, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : s60[t43] = e48;
var h30 = (s60, t43) => {
  for (var e48 in t43 || (t43 = {}))
    D25.call(t43, e48) && p21(s60, e48, t43[e48]);
  if (u28)
    for (var e48 of u28(t43))
      _13.call(t43, e48) && p21(s60, e48, t43[e48]);
  return s60;
};
var y19 = (s60, t43) => g23(s60, I23(t43));
var i30 = (s60, t43, e48) => (p21(s60, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var d30 = new BufferGeometry();
d30.name = "blankGeometry";
d30.isBlank = true;
var j13 = class extends A29 {
  constructor(e48) {
    super(e48);
    i30(this, "name", "PolygonMesh");
    i30(this, "points", []);
    i30(this, "planeHelperNeedUpdate", true);
    i30(this, "geometryInfoNeedUpdate", true);
    i30(this, "_paramsStyle");
    i30(this, "areaDom");
    i30(this, "planeHelper", null);
    i30(this, "_geometryInfo", null);
    i30(this, "lastRenderAreaItem");
    i30(this, "_onAdded", () => {
      this.areaDom || this.updateAreaItems();
    });
    i30(this, "_onRemoved", () => {
      var e49;
      (e49 = this.areaDom) == null || e49.destroy(), this.areaDom = void 0;
    });
    i30(this, "_onShowed", () => {
      this.areaDom && (this.areaDom.container.style.display = "block");
    });
    i30(this, "_onHidden", () => {
      this.areaDom && (this.areaDom.container.style.display = "none");
    });
    e48 != null && e48.points && this.setPoints(e48.points), this._paramsStyle = e48 != null ? e48 : {}, this.updateAreaItems(), this.addEventListener("removed", () => {
      r9.cacheObject.delete(this), r9.checkDom(this);
    }), this.addEventListener("added", () => {
      r9.cacheObject.add(this);
    }), r9.checkDomEveryFrame();
  }
  get normal() {
    return this.points.length >= 3 ? new Vector3().crossVectors(this.points[1].clone().sub(this.points[0]), this.points[2].clone().sub(this.points[0])).normalize() : new Vector3(0, 0, 1);
  }
  get style() {
    return y19(h30({}, super.style), { lengthEnable: this._paramsStyle.lengthEnable });
  }
  get isBlank() {
    return !!this.geometry.isBlank;
  }
  get center() {
    var e48;
    return (e48 = this.geometryInfo) == null ? void 0 : e48.center.clone();
  }
  get geometryInfo() {
    return this.geometryInfoNeedUpdate && (this.isBlank ? this._geometryInfo = null : this._geometryInfo = b20(this.geometry), this.geometryInfoNeedUpdate = false), this._geometryInfo;
  }
  get five() {
    var e48, r66;
    return (r66 = (e48 = window.globalModules) == null ? void 0 : e48.five) != null ? r66 : window.$five;
  }
  updateMatrixWorld(e48) {
    if (super.updateMatrixWorld(e48), this.center) {
      const r66 = a8(this, this.center).toArray().join(",");
      r66 !== this.lastRenderAreaItem && (this.updateAreaItems(), this.lastRenderAreaItem = r66);
    }
  }
  setStyle(e48) {
    var n72;
    this._paramsStyle = h30(h30({}, this._paramsStyle), e48), super.setStyle(this._paramsStyle);
    const r66 = (n72 = this._paramsStyle.occlusionVisibility) != null ? n72 : true;
    this.areaDom && (this.areaDom.intersectCheck = !r66), this.updateAreaItems();
  }
  setPoints(e48, r66) {
    var o71, l63;
    const n72 = e48.map(t2);
    this.points = n72, this.geometry = (l63 = h22(this.points, { checkLinesIntersect: (o71 = r66 == null ? void 0 : r66.checkLinesIntersect) != null ? o71 : true })) != null ? l63 : d30, this.planeHelperNeedUpdate = true, this.geometryInfoNeedUpdate = true, this.updateAreaItems();
  }
  /**
   * @description: 获取一个点投影在当前平面上的点
   */
  projectPoint(e48) {
    return e48 && (this.planeHelperNeedUpdate && this.updatePlaneHelper(), this.planeHelper ? this.planeHelper.projectPoint(e48, new Vector3()) : e48);
  }
  updatePlaneHelper() {
    this.points.length >= 3 ? this.planeHelper = new Plane().setFromCoplanarPoints(this.points[0], this.points[1], this.points[2]) : this.planeHelper = null, this.planeHelperNeedUpdate = false;
  }
  updateAreaItems() {
    var n72;
    const e48 = () => {
      var o71;
      (o71 = this.areaDom) == null || o71.destroy(), this.areaDom = void 0;
    };
    if (!this._paramsStyle.lengthEnable || !this.geometryInfo)
      return e48();
    if (!this.five)
      return console.error("Five not found");
    this.areaDom = (n72 = this.areaDom) != null ? n72 : (() => {
      var c85;
      const o71 = new R4(this.five), l63 = (c85 = this._paramsStyle.occlusionVisibility) != null ? c85 : true;
      return o71.intersectCheck = !l63, o71.simulate3D = true, o71;
    })(), this.areaDom.setPosition(this.center);
    const r66 = o12(this.geometryInfo.area, this._paramsStyle.lengthUnit);
    r66 ? this.areaDom.container.innerHTML = c17(r66, {
      style: "color: #FFFFFF; background: #3366FF"
    }) : this.areaDom.container.innerHTML = "";
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/vectorIsEqual.js
function u29(a62, c85) {
  return !(Math.abs(a62.x - c85.x) > 1e-5 || Math.abs(a62.y - c85.y) > 1e-5 || Math.abs(a62.z - c85.z) > 1e-5);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/MeasurePlugin/utils/validatePolygon.js
function s30(e48) {
  if (e48.length < 3 || !u29(e48[0], e48.at(-1)))
    return false;
  let l63 = true;
  const a62 = new Vector3().subVectors(e48[1], e48[0]).normalize();
  for (let r66 = 2; r66 < e48.length; r66++) {
    const t43 = new Vector3().subVectors(e48[r66], e48[0]).normalize();
    if (!u29(t43, a62) && !u29(t43, a62.clone().negate())) {
      l63 = false;
      break;
    }
  }
  if (l63)
    return false;
  const c85 = new Plane().setFromCoplanarPoints(e48[0], e48[1], e48[2]);
  return e48.every((r66, t43) => t43 < 3 ? true : c85.distanceToPoint(r66) < 1e-6);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/MeasurePlugin/utils/MeasureMesh.js
var m34 = Object.defineProperty;
var s31 = (p66, i65, t43) => i65 in p66 ? m34(p66, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : p66[i65] = t43;
var o34 = (p66, i65, t43) => (s31(p66, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var zt3 = class extends c16 {
  constructor(t43) {
    super();
    o34(this, "name", "MeasureMesh");
    o34(this, "isMeasureMesh", true);
    o34(this, "points", []);
    o34(this, "isPolygon", false);
    o34(this, "selected", false);
    o34(this, "line");
    o34(this, "polygon");
    this.line = new z10(t43 == null ? void 0 : t43.lineStyle), this.polygon = new j13(t43 == null ? void 0 : t43.polygonStyle), this.add(this.line);
  }
  changeConfig(t43) {
    this.line.setStyle(t43 == null ? void 0 : t43.lineStyle), this.polygon.setStyle(t43 == null ? void 0 : t43.polygonStyle);
  }
  setPoints(t43) {
    this.points = t43, this.line.setPoints(this.points);
    const r66 = s30(this.points);
    this.isPolygon = r66, r66 && (this.addIfNotExists(this.polygon), this.polygon.setPoints(this.points));
  }
  select() {
    this.highlight(3373055), this.selected = true;
  }
  unselect() {
    this.unhighlight(), this.selected = false;
  }
  hover() {
    this.selected || this.highlight();
  }
  unhover() {
    this.selected || this.unhighlight();
  }
  highlight(t43) {
    this.line.highlight({ color: t43 }), this.polygon.highlight({ color: t43 });
  }
  unhighlight() {
    this.line.unhighlight(), this.polygon.unhighlight();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/hotkeys-js/dist/hotkeys.esm.js
var j14 = typeof navigator != "undefined" ? navigator.userAgent.toLowerCase().indexOf("firefox") > 0 : false;
function A30(e48, t43, i65, n72) {
  e48.addEventListener ? e48.addEventListener(t43, i65, n72) : e48.attachEvent && e48.attachEvent("on".concat(t43), i65);
}
function O21(e48, t43, i65, n72) {
  e48.removeEventListener ? e48.removeEventListener(t43, i65, n72) : e48.detachEvent && e48.detachEvent("on".concat(t43), i65);
}
function B17(e48, t43) {
  const i65 = t43.slice(0, t43.length - 1);
  for (let n72 = 0; n72 < i65.length; n72++)
    i65[n72] = e48[i65[n72].toLowerCase()];
  return i65;
}
function D26(e48) {
  typeof e48 != "string" && (e48 = ""), e48 = e48.replace(/\s/g, "");
  const t43 = e48.split(",");
  let i65 = t43.lastIndexOf("");
  for (; i65 >= 0; )
    t43[i65 - 1] += ",", t43.splice(i65, 1), i65 = t43.lastIndexOf("");
  return t43;
}
function H11(e48, t43) {
  const i65 = e48.length >= t43.length ? e48 : t43, n72 = e48.length >= t43.length ? t43 : e48;
  let s60 = true;
  for (let r66 = 0; r66 < i65.length; r66++)
    n72.indexOf(i65[r66]) === -1 && (s60 = false);
  return s60;
}
var b24 = {
  backspace: 8,
  "⌫": 8,
  tab: 9,
  clear: 12,
  enter: 13,
  "↩": 13,
  return: 13,
  esc: 27,
  escape: 27,
  space: 32,
  left: 37,
  up: 38,
  right: 39,
  down: 40,
  del: 46,
  delete: 46,
  ins: 45,
  insert: 45,
  home: 36,
  end: 35,
  pageup: 33,
  pagedown: 34,
  capslock: 20,
  num_0: 96,
  num_1: 97,
  num_2: 98,
  num_3: 99,
  num_4: 100,
  num_5: 101,
  num_6: 102,
  num_7: 103,
  num_8: 104,
  num_9: 105,
  num_multiply: 106,
  num_add: 107,
  num_enter: 108,
  num_subtract: 109,
  num_decimal: 110,
  num_divide: 111,
  "⇪": 20,
  ",": 188,
  ".": 190,
  "/": 191,
  "`": 192,
  "-": j14 ? 173 : 189,
  "=": j14 ? 61 : 187,
  ";": j14 ? 59 : 186,
  "'": 222,
  "[": 219,
  "]": 221,
  "\\": 220
};
var g24 = {
  // shiftKey
  "⇧": 16,
  shift: 16,
  // altKey
  "⌥": 18,
  alt: 18,
  option: 18,
  // ctrlKey
  "⌃": 17,
  ctrl: 17,
  control: 17,
  // metaKey
  "⌘": 91,
  cmd: 91,
  command: 91
};
var C29 = {
  16: "shiftKey",
  18: "altKey",
  17: "ctrlKey",
  91: "metaKey",
  shiftKey: 16,
  ctrlKey: 17,
  altKey: 18,
  metaKey: 91
};
var u30 = {
  16: false,
  18: false,
  17: false,
  91: false
};
var c39 = {};
for (let e48 = 1; e48 < 20; e48++)
  b24["f".concat(e48)] = 111 + e48;
var f33 = [];
var E22 = null;
var z11 = "all";
var w19 = /* @__PURE__ */ new Map();
var L20 = (e48) => b24[e48.toLowerCase()] || g24[e48.toLowerCase()] || e48.toUpperCase().charCodeAt(0);
var I24 = (e48) => Object.keys(b24).find((t43) => b24[t43] === e48);
var R24 = (e48) => Object.keys(g24).find((t43) => g24[t43] === e48);
function F22(e48) {
  z11 = e48 || "all";
}
function x17() {
  return z11 || "all";
}
function V11() {
  return f33.slice(0);
}
function X16() {
  return f33.map((e48) => I24(e48) || R24(e48) || String.fromCharCode(e48));
}
function q15() {
  const e48 = [];
  return Object.keys(c39).forEach((t43) => {
    c39[t43].forEach((i65) => {
      let {
        key: n72,
        scope: s60,
        mods: r66,
        shortcut: l63
      } = i65;
      e48.push({
        scope: s60,
        shortcut: l63,
        mods: r66,
        keys: n72.split("+").map((o71) => L20(o71))
      });
    });
  }), e48;
}
function v21(e48) {
  const t43 = e48.target || e48.srcElement, {
    tagName: i65
  } = t43;
  let n72 = true;
  const s60 = i65 === "INPUT" && !["checkbox", "radio", "range", "button", "file", "reset", "submit", "color"].includes(t43.type);
  return (t43.isContentEditable || (s60 || i65 === "TEXTAREA" || i65 === "SELECT") && !t43.readOnly) && (n72 = false), n72;
}
function J17(e48) {
  return typeof e48 == "string" && (e48 = L20(e48)), f33.indexOf(e48) !== -1;
}
function Q16(e48, t43) {
  let i65, n72;
  e48 || (e48 = x17());
  for (const s60 in c39)
    if (Object.prototype.hasOwnProperty.call(c39, s60))
      for (i65 = c39[s60], n72 = 0; n72 < i65.length; )
        i65[n72].scope === e48 ? i65.splice(n72, 1).forEach((l63) => {
          let {
            element: o71
          } = l63;
          return S27(o71);
        }) : n72++;
  x17() === e48 && F22(t43 || "all");
}
function W12(e48) {
  let t43 = e48.keyCode || e48.which || e48.charCode;
  const i65 = f33.indexOf(t43);
  if (i65 >= 0 && f33.splice(i65, 1), e48.key && e48.key.toLowerCase() === "meta" && f33.splice(0, f33.length), (t43 === 93 || t43 === 224) && (t43 = 91), t43 in u30) {
    u30[t43] = false;
    for (const n72 in g24)
      g24[n72] === t43 && (K14[n72] = false);
  }
}
function G15(e48) {
  if (typeof e48 == "undefined")
    Object.keys(c39).forEach((s60) => {
      Array.isArray(c39[s60]) && c39[s60].forEach((r66) => _14(r66)), delete c39[s60];
    }), S27(null);
  else if (Array.isArray(e48))
    e48.forEach((s60) => {
      s60.key && _14(s60);
    });
  else if (typeof e48 == "object")
    e48.key && _14(e48);
  else if (typeof e48 == "string") {
    for (var t43 = arguments.length, i65 = new Array(t43 > 1 ? t43 - 1 : 0), n72 = 1; n72 < t43; n72++)
      i65[n72 - 1] = arguments[n72];
    let [s60, r66] = i65;
    typeof s60 == "function" && (r66 = s60, s60 = ""), _14({
      key: e48,
      scope: s60,
      method: r66,
      splitKey: "+"
    });
  }
}
var _14 = (e48) => {
  let {
    key: t43,
    scope: i65,
    method: n72,
    splitKey: s60 = "+"
  } = e48;
  D26(t43).forEach((l63) => {
    const o71 = l63.split(s60), a62 = o71.length, y51 = o71[a62 - 1], h66 = y51 === "*" ? "*" : L20(y51);
    if (!c39[h66])
      return;
    i65 || (i65 = x17());
    const p66 = a62 > 1 ? B17(g24, o71) : [], m66 = [];
    c39[h66] = c39[h66].filter((d73) => {
      const k47 = (n72 ? d73.method === n72 : true) && d73.scope === i65 && H11(d73.mods, p66);
      return k47 && m66.push(d73.element), !k47;
    }), m66.forEach((d73) => S27(d73));
  });
};
function T17(e48, t43, i65, n72) {
  if (t43.element !== n72)
    return;
  let s60;
  if (t43.scope === i65 || t43.scope === "all") {
    s60 = t43.mods.length > 0;
    for (const r66 in u30)
      Object.prototype.hasOwnProperty.call(u30, r66) && (!u30[r66] && t43.mods.indexOf(+r66) > -1 || u30[r66] && t43.mods.indexOf(+r66) === -1) && (s60 = false);
    (t43.mods.length === 0 && !u30[16] && !u30[18] && !u30[17] && !u30[91] || s60 || t43.shortcut === "*") && (t43.keys = [], t43.keys = t43.keys.concat(f33), t43.method(e48, t43) === false && (e48.preventDefault ? e48.preventDefault() : e48.returnValue = false, e48.stopPropagation && e48.stopPropagation(), e48.cancelBubble && (e48.cancelBubble = true)));
  }
}
function U14(e48, t43) {
  const i65 = c39["*"];
  let n72 = e48.keyCode || e48.which || e48.charCode;
  if (!K14.filter.call(this, e48))
    return;
  if ((n72 === 93 || n72 === 224) && (n72 = 91), f33.indexOf(n72) === -1 && n72 !== 229 && f33.push(n72), ["metaKey", "ctrlKey", "altKey", "shiftKey"].forEach((o71) => {
    const a62 = C29[o71];
    e48[o71] && f33.indexOf(a62) === -1 ? f33.push(a62) : !e48[o71] && f33.indexOf(a62) > -1 ? f33.splice(f33.indexOf(a62), 1) : o71 === "metaKey" && e48[o71] && (f33 = f33.filter((y51) => y51 in C29 || y51 === n72));
  }), n72 in u30) {
    u30[n72] = true;
    for (const o71 in g24)
      g24[o71] === n72 && (K14[o71] = true);
    if (!i65)
      return;
  }
  for (const o71 in u30)
    Object.prototype.hasOwnProperty.call(u30, o71) && (u30[o71] = e48[C29[o71]]);
  e48.getModifierState && !(e48.altKey && !e48.ctrlKey) && e48.getModifierState("AltGraph") && (f33.indexOf(17) === -1 && f33.push(17), f33.indexOf(18) === -1 && f33.push(18), u30[17] = true, u30[18] = true);
  const s60 = x17();
  if (i65)
    for (let o71 = 0; o71 < i65.length; o71++)
      i65[o71].scope === s60 && (e48.type === "keydown" && i65[o71].keydown || e48.type === "keyup" && i65[o71].keyup) && T17(e48, i65[o71], s60, t43);
  if (!(n72 in c39))
    return;
  const r66 = c39[n72], l63 = r66.length;
  for (let o71 = 0; o71 < l63; o71++)
    if ((e48.type === "keydown" && r66[o71].keydown || e48.type === "keyup" && r66[o71].keyup) && r66[o71].key) {
      const a62 = r66[o71], {
        splitKey: y51
      } = a62, h66 = a62.key.split(y51), p66 = [];
      for (let m66 = 0; m66 < h66.length; m66++)
        p66.push(L20(h66[m66]));
      p66.sort().join("") === f33.sort().join("") && T17(e48, a62, s60, t43);
    }
}
function K14(e48, t43, i65) {
  f33 = [];
  const n72 = D26(e48);
  let s60 = [], r66 = "all", l63 = document, o71 = 0, a62 = false, y51 = true, h66 = "+", p66 = false, m66 = false;
  for (i65 === void 0 && typeof t43 == "function" && (i65 = t43), Object.prototype.toString.call(t43) === "[object Object]" && (t43.scope && (r66 = t43.scope), t43.element && (l63 = t43.element), t43.keyup && (a62 = t43.keyup), t43.keydown !== void 0 && (y51 = t43.keydown), t43.capture !== void 0 && (p66 = t43.capture), typeof t43.splitKey == "string" && (h66 = t43.splitKey), t43.single === true && (m66 = true)), typeof t43 == "string" && (r66 = t43), m66 && G15(e48, r66); o71 < n72.length; o71++)
    e48 = n72[o71].split(h66), s60 = [], e48.length > 1 && (s60 = B17(g24, e48)), e48 = e48[e48.length - 1], e48 = e48 === "*" ? "*" : L20(e48), e48 in c39 || (c39[e48] = []), c39[e48].push({
      keyup: a62,
      keydown: y51,
      scope: r66,
      mods: s60,
      shortcut: n72[o71],
      method: i65,
      key: n72[o71],
      splitKey: h66,
      element: l63
    });
  if (typeof l63 != "undefined" && window) {
    if (!w19.has(l63)) {
      const d73 = function() {
        let k47 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
        return U14(k47, l63);
      }, M48 = function() {
        let k47 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : window.event;
        U14(k47, l63), W12(k47);
      };
      w19.set(l63, {
        keydownListener: d73,
        keyupListenr: M48,
        capture: p66
      }), A30(l63, "keydown", d73, p66), A30(l63, "keyup", M48, p66);
    }
    if (!E22) {
      const d73 = () => {
        f33 = [];
      };
      E22 = {
        listener: d73,
        capture: p66
      }, A30(window, "focus", d73, p66);
    }
  }
}
function Y13(e48) {
  let t43 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "all";
  Object.keys(c39).forEach((i65) => {
    c39[i65].filter((s60) => s60.scope === t43 && s60.shortcut === e48).forEach((s60) => {
      s60 && s60.method && s60.method();
    });
  });
}
function S27(e48) {
  const t43 = Object.values(c39).flat();
  if (t43.findIndex((n72) => {
    let {
      element: s60
    } = n72;
    return s60 === e48;
  }) < 0) {
    const {
      keydownListener: n72,
      keyupListenr: s60,
      capture: r66
    } = w19.get(e48) || {};
    n72 && s60 && (O21(e48, "keyup", s60, r66), O21(e48, "keydown", n72, r66), w19.delete(e48));
  }
  if ((t43.length <= 0 || w19.size <= 0) && (Object.keys(w19).forEach((s60) => {
    const {
      keydownListener: r66,
      keyupListenr: l63,
      capture: o71
    } = w19.get(s60) || {};
    r66 && l63 && (O21(s60, "keyup", l63, o71), O21(s60, "keydown", r66, o71), w19.delete(s60));
  }), w19.clear(), Object.keys(c39).forEach((s60) => delete c39[s60]), E22)) {
    const {
      listener: s60,
      capture: r66
    } = E22;
    O21(window, "focus", s60, r66), E22 = null;
  }
}
var P22 = {
  getPressedKeyString: X16,
  setScope: F22,
  getScope: x17,
  deleteScope: Q16,
  getPressedKeyCodes: V11,
  getAllKeyCodes: q15,
  isPressed: J17,
  filter: v21,
  trigger: Y13,
  unbind: G15,
  keyMap: b24,
  modifier: g24,
  modifierMap: C29
};
for (const e48 in P22)
  Object.prototype.hasOwnProperty.call(P22, e48) && (K14[e48] = P22[e48]);
if (typeof window != "undefined") {
  const e48 = window.hotkeys;
  K14.noConflict = (t43) => (t43 && window.hotkeys === K14 && (window.hotkeys = e48), K14), window.hotkeys = K14;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/Modules/DeleteButtonBgBorder.js
var A31 = "data:image/png;base64,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";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/Modules/DeleteIconSVG.js
var o35 = `<?xml version="1.0" encoding="UTF-8"?>
<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <defs>
        <linearGradient id="grad1" x1="22.39%" y1="67.34%" x2="56.24%" y2="-36.34%">
            <stop stop-color="#FFFFFF" offset="0%"/>
            <stop stop-color="#FFFFFF" stop-opacity="0.5" offset="100%"/>
        </linearGradient>
    </defs>
    <g fill-rule="nonzero" transform="translate(3.39, 2.29)">
        <path d="M14.39,3.17C14.82,3.17,15.17,3.52,15.17,3.96C15.17,4.4,14.82,4.75,14.39,4.75L14.06,4.75L13.16,15.72C13.08,16.68,12.29,17.42,11.34,17.42H3.87C2.92,17.42,2.13,16.68,2.06,15.72L1.15,4.75L0.83,4.75C0.4,4.75,0.05,4.4,0.05,3.96C0.05,3.52,0.4,3.17,0.83,3.17L14.39,3.17ZM12.49,4.75L2.72,4.75L3.61,15.59C3.62,15.71,3.7,15.8,3.81,15.82L3.87,15.83H11.34C11.48,15.83,11.59,15.73,11.6,15.59L12.49,4.75ZM6.04,7.39C6.48,7.39,6.83,7.74,6.83,8.18V12.4C6.83,12.84,6.48,13.19,6.04,13.19C5.61,13.19,5.26,12.84,5.26,12.4V8.18C5.26,7.74,5.61,7.39,6.04,7.39ZM9.17,7.39C9.61,7.39,9.96,7.74,9.96,8.18V12.4C9.96,12.84,9.61,13.19,9.17,13.19C8.74,13.19,8.39,12.84,8.39,12.4V8.18C8.39,7.74,8.74,7.39,9.17,7.39ZM10.22,0C10.65,0,11,0.35,11,0.79C11,1.23,10.65,1.58,10.22,1.58H5C4.57,1.58,4.22,1.23,4.22,0.79C4.22,0.35,4.57,0,5,0H10.22Z" fill="url(#grad1)"/>
    </g>
</svg>`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/Modules/Cursor.js
var l29 = Object.defineProperty;
var u31 = (n72, e48, o71) => e48 in n72 ? l29(n72, e48, { enumerable: true, configurable: true, writable: true, value: o71 }) : n72[e48] = o71;
var r29 = (n72, e48, o71) => (u31(n72, typeof e48 != "symbol" ? e48 + "" : e48, o71), o71);
var d31 = {
  auto: "",
  pen: "",
  "pen-forbidden": "",
  "pen-crosshair": "",
  "pne-polygon": "",
  "pen-circle": "",
  "crosshair-rectangle": "",
  "crosshair-circle": ""
};
var h31 = {
  position: "absolute",
  width: "34px",
  height: "34px",
  transform: "translate(-50%, -40px)",
  borderRadius: "50%",
  cursor: "pointer",
  zIndex: "9999",
  userSelect: "none",
  display: "flex",
  pointerEvents: "auto",
  alignItems: "center",
  justifyContent: "center",
  backgroundSize: "34px 34px",
  backgroundPosition: "center",
  backgroundRepeat: "no-repeat"
};
var m35 = `
  <div style="width: 32px; height: 32px; background-color: rgba(0, 0, 0, 0.5); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
    ${o35}
  </div>
`;
var B18 = class {
  constructor(e48) {
    r29(this, "container");
    r29(this, "deleteButton");
    this.container = e48 != null ? e48 : document.documentElement;
  }
  /**
   * @param type - The type of the cursor.
   */
  setType(e48) {
    const o71 = d31[e48];
    o71 ? this.container.style.cursor = `url(${o71}), auto` : this.container.style.cursor = e48;
  }
  showDeleteButton(e48) {
    const { clientX: o71, clientY: i65, container: s60 = this.container, onClick: c85 } = e48;
    let t43 = this.deleteButton;
    return t43 || (t43 = document.createElement("div"), Object.assign(t43.style, h31), t43.style.backgroundImage = `url(${A31})`, t43.innerHTML = m35), this.deleteButton = t43, s60.appendChild(t43), t43.style.left = `${o71}px`, t43.style.top = `${i65}px`, t43.onclick = () => {
      s60.removeChild(t43), c85();
    }, t43;
  }
  removeDeleteButton() {
    this.deleteButton && this.deleteButton.remove();
  }
  tip(e48) {
    return () => this.closeTip();
  }
  closeTip() {
  }
  reset() {
    this.container.style.cursor = "auto";
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/MeasurePlugin/Controller.js
var C30 = Object.defineProperty;
var k19 = Object.defineProperties;
var F23 = Object.getOwnPropertyDescriptors;
var D27 = Object.getOwnPropertySymbols;
var H12 = Object.prototype.hasOwnProperty;
var U15 = Object.prototype.propertyIsEnumerable;
var b25 = (p66, l63, e48) => l63 in p66 ? C30(p66, l63, { enumerable: true, configurable: true, writable: true, value: e48 }) : p66[l63] = e48;
var h32 = (p66, l63) => {
  for (var e48 in l63 || (l63 = {}))
    H12.call(l63, e48) && b25(p66, e48, l63[e48]);
  if (D27)
    for (var e48 of D27(l63))
      U15.call(l63, e48) && b25(p66, e48, l63[e48]);
  return p66;
};
var E23 = (p66, l63) => k19(p66, F23(l63));
var i31 = (p66, l63, e48) => (b25(p66, typeof l63 != "symbol" ? l63 + "" : l63, e48), e48);
var gt3 = class extends E3 {
  constructor(e48, t43) {
    super();
    i31(this, "name", "MeasurePlugin");
    i31(this, "currentMeasureMesh");
    i31(this, "five");
    i31(this, "group");
    i31(this, "_pointSelector");
    i31(this, "_fiveDomEvents");
    i31(this, "_cursor");
    i31(this, "_config");
    i31(this, "lineStyle", {
      lengthEnable: true,
      occlusionVisibility: true,
      lengthUnit: "m"
    });
    i31(this, "polygonStyle", {
      lengthEnable: true,
      occlusionVisibility: true,
      opacity: 0.2,
      lengthUnit: "m"
    });
    i31(this, "initEventListeners", () => {
      this.group.children.forEach(this.addMeshEventListeners);
    });
    i31(this, "measure", () => {
      this.listener.addMeasureListener(), K14.unbind("delete, backspace"), this.group.children.forEach((r66) => r66.unselect()), this.cursor.removeDeleteButton();
      const e49 = new zt3({
        lineStyle: this.lineStyle,
        polygonStyle: this.polygonStyle
      });
      this.currentMeasureMesh = e49, e49.line.setStyle({ cssStyle: "pointer-events: none;" }), this.pointSelector.actionIfNoIntersection = "disable", this.updateSelectAdsorbedHelper();
      const t44 = new ot2({ occlusionMode: "depthTest", occlusionVisibility: true }), n73 = new z10(E23(h32({}, this.lineStyle), { dashed: true, cssStyle: "pointer-events: none;" })), o71 = new j13(this.polygonStyle), c85 = new Oe(E23(h32({}, this.lineStyle), {
        lineOpacity: 0.5,
        lineColor: 3407837,
        dashed: true,
        cssStyle: "pointer-events: none; opacity: 0.5;"
      })), u72 = new Oe(E23(h32({}, this.lineStyle), {
        lineOpacity: 0.5,
        lineColor: 3407837,
        dashed: true,
        cssStyle: "pointer-events: none; opacity: 0.5;"
      })), d73 = new ot2({ occlusionMode: "depthTest", occlusionVisibility: true, color: 3407837, opacity: 0.5 }), v58 = () => {
        t44.removeFromParent(), n73.removeFromParent(), o71.removeFromParent(), c85.removeFromParent(), u72.removeFromParent(), d73.removeFromParent();
      };
      this.group.add(e49);
      const g67 = (r66) => {
        if (!r66) {
          v58();
          return;
        }
        if (e49.points.length === 0 && (this.pointSelector.actionIfNoIntersection = "disable", this.group.addIfNotExists(t44), t44.position.copy(r66.point)), e49.points.length >= 1)
          if (this.pointSelector.actionIfNoIntersection = "virtualPoint", t44.removeFromParent(), this.group.addIfNotExists(n73), n73.setPoints([e49.points.at(-1), r66.point]), r66.isAdsorbed)
            c85.removeFromParent(), u72.removeFromParent(), d73.removeFromParent();
          else {
            const s60 = e49.points.at(-1);
            if (Math.abs(r66.point.y - s60.y) > 0.2) {
              const f80 = new Vector3(r66.point.x, s60.y, r66.point.z);
              c85.setPoints([s60, f80]), u72.setPoints([f80, r66.point]), d73.position.copy(f80);
            } else {
              let f80 = new Vector3();
              Math.abs(r66.point.x - s60.x) < Math.abs(r66.point.z - s60.z) ? f80 = new Vector3(r66.point.x, s60.y, s60.z) : f80 = new Vector3(s60.x, s60.y, r66.point.z), c85.setPoints([s60, f80]), u72.setPoints([f80, r66.point]), d73.position.copy(f80);
            }
            this.group.addIfNotExists(c85, u72, d73);
          }
        if (e49.points.length >= 2) {
          const s60 = [...e49.points, r66.point];
          s30(s60) ? (o71.setPoints(s60), this.group.addIfNotExists(o71)) : o71.removeFromParent();
        }
      }, y51 = (r66) => {
        r66 && (v58(), e49.setPoints([...e49.points, r66.point]), this.updateSelectAdsorbedHelper(), e49.isPolygon && this.pointSelector.disable());
      }, M48 = () => {
        var r66, s60;
        e49 == null || e49.setPoints(e49.points.slice(0, -1)), v58(), (s60 = (r66 = this.pointSelector.pointSelectorHelper) == null ? void 0 : r66.magnifier) == null || s60.render(), this.updateSelectAdsorbedHelper(), this.five.needsRender = true;
      }, P55 = () => {
        this.pointSelector.off("intersectionUpdate", g67), this.pointSelector.off("select", y51), this.pointSelector.off("disable", P55), this.off("undo", M48), e49.line.setStyle({ cssStyle: "pointer-events: auto;" }), v58(), e49.points.length < 2 ? e49.removeFromParent() : this.addMeshEventListeners(e49), e49.__five_pano_index = this.five.panoIndex, this.currentMeasureMesh = null, this.listener.removeMeasureListener(), this.emit("measureEnd");
      };
      this.on("undo", M48), this.pointSelector.on("intersectionUpdate", g67), this.pointSelector.on("select", y51), this.pointSelector.on("disable", P55), this.pointSelector.enable();
    });
    i31(this, "endMeasure", () => {
      this.pointSelector.disable();
    });
    i31(this, "setLengthEnable", (e49) => {
      this.lineStyle.lengthEnable = e49, this.polygonStyle.lengthEnable = e49, this.group.children.forEach((t44) => {
        t44.changeConfig({
          lineStyle: h32({}, this.lineStyle),
          polygonStyle: h32({}, this.polygonStyle)
        }), this.addMeshEventListeners(t44);
      }), this.currentMeasureMesh && this.currentMeasureMesh.changeConfig({
        lineStyle: h32({}, this.lineStyle),
        polygonStyle: h32({}, this.polygonStyle)
      }), this.five.needsRender = true;
    });
    i31(this, "setUnit", (e49) => {
      if (this._config && (this._config.unit = e49), this.lineStyle.lengthUnit = e49, this.polygonStyle.lengthUnit = e49, this.group.children.forEach((t44) => {
        try {
          t44.changeConfig({
            lineStyle: h32({}, this.lineStyle),
            polygonStyle: h32({}, this.polygonStyle)
          }), this.addMeshEventListeners(t44);
        } catch (n73) {
        }
      }), this.currentMeasureMesh)
        try {
          this.currentMeasureMesh.changeConfig({
            lineStyle: h32({}, this.lineStyle),
            polygonStyle: h32({}, this.polygonStyle)
          });
        } catch (t44) {
        }
      this.five.needsRender = true;
    });
    i31(this, "cancel", () => {
      var e49;
      (e49 = this.currentMeasureMesh) == null || e49.removeFromParent(), this.pointSelector.disable();
    });
    i31(this, "undo", () => {
      this.emit("undo");
    });
    i31(this, "clearCurrentMeasure", () => {
      var e49;
      (e49 = this.currentMeasureMesh) == null || e49.removeFromParent(), this.currentMeasureMesh = null, this.pointSelector.disable();
    });
    i31(this, "clear", () => {
      this.currentMeasureMesh = null, this.pointSelector.disable(), this.group.children.forEach(this.removeMeshEventListeners), this.group.removeChildren(), this.cursor.removeDeleteButton();
    });
    i31(this, "dispose", () => {
      this.listener.removeMeasureListener(), this.listener.removeClickListener(), this.pointSelector.disable(), this.clear();
    });
    i31(this, "listener", {
      // 点击事件
      addClickListener: () => {
        this.five.on("panoArrived", this.onMoveToPano), this.five.on("modeChange", this.onModeChange), K14("delete, backspace", this.deleteSelectedMesh), this.initEventListeners();
      },
      removeClickListener: () => {
        this.group.children.forEach((e49) => {
          var t44, n73;
          (t44 = e49.line.doms) == null || t44.forEach((o71) => {
            o71 != null && o71.container && (o71.container.onclick = null, o71.container.onmouseenter = null, o71.container.onmouseleave = null);
          }), (n73 = e49.polygon.areaDom) != null && n73.container && (e49.polygon.areaDom.container.onclick = null, e49.polygon.areaDom.container.onmouseenter = null, e49.polygon.areaDom.container.onmouseleave = null);
        }), this.fiveDomEvents.clear(), this.five.off("panoArrived", this.onMoveToPano), this.five.off("modeChange", this.onModeChange), K14.unbind("delete, backspace");
      },
      // 绘制快捷键
      addMeasureListener: () => {
        K14("ctrl+z, command+z", this.undo), K14("esc", this.cancel), K14("enter", this.endMeasure), this.five.on("mode.change", this.endMeasure), this.five.on("pano.moveTo", this.endMeasure), this.five.on("model.changeShownFloor", this.endMeasure);
      },
      removeMeasureListener: () => {
        K14.unbind("ctrl+z, command+z"), K14.unbind("esc"), K14.unbind("enter"), this.five.off("mode.change", this.endMeasure), this.five.off("pano.moveTo", this.endMeasure), this.five.off("model.changeShownFloor", this.endMeasure);
      }
    });
    i31(this, "onMoveToPano", (e49) => {
      const t44 = this.group.children.filter((o71) => o71 !== this.currentMeasureMesh), n73 = new h3();
      t44.forEach((o71) => {
        var u72;
        if (o71.unselect(), o71.__five_pano_index === e49) {
          o71.visible = true;
          return;
        }
        ((u72 = o71.line.points) == null ? void 0 : u72.some((d73) => {
          var s60, S52;
          const v58 = d73.clone().sub(this.five.camera.position).normalize();
          n73.set(this.five.camera.position, v58);
          const g67 = (S52 = (s60 = this.five.model.intersectRaycaster(n73, void 0, true)) == null ? void 0 : s60[0]) == null ? void 0 : S52.point;
          if (!g67)
            return true;
          const y51 = 0.01, M48 = d73.distanceTo(this.five.camera.position);
          return g67.distanceTo(this.five.camera.position) + y51 > M48;
        })) ? o71.visible = true : o71.visible = false, this.five.needsRender = true;
      });
    });
    i31(this, "onModeChange", (e49) => {
      e49 === "Mapview" && this.group.children.forEach((t44) => {
        t44.visible = true;
      });
    });
    i31(this, "onClick", ({ origDomEvent: e49, target: t44 }) => {
      var v58;
      const n73 = t44;
      if (!n73)
        return;
      if (n73.selected) {
        n73.unselect(), this.cursor.removeDeleteButton();
        return;
      }
      let o71, c85;
      if (e49 && ("touches" in e49 && e49.touches && e49.touches[0] ? (o71 = e49.touches[0].clientX, c85 = e49.touches[0].clientY) : "clientX" in e49 && "clientY" in e49 && (o71 = e49.clientX, c85 = e49.clientY)), o71 === void 0 || c85 === void 0)
        return;
      this.group.children.forEach((g67) => g67.unselect()), n73.select();
      const u72 = () => {
        this.removeMeshEventListeners(n73), n73.removeFromParent(), this.cursor.removeDeleteButton(), this.five.needsRender = true;
      }, d73 = ((v58 = this.five.getElement()) == null ? void 0 : v58.parentElement) || document.body;
      this.cursor.showDeleteButton({
        clientX: o71,
        clientY: c85,
        container: d73,
        onClick: u72
      }), this.five.once("cameraUpdate", () => {
        n73.unselect(), this.cursor.removeDeleteButton();
      });
    });
    i31(this, "onHover", ({ target: e49 }) => {
      if (this.currentMeasureMesh)
        return;
      const t44 = e49;
      t44 && t44.hover();
    });
    i31(this, "onUnHover", ({ target: e49 }) => {
      if (this.currentMeasureMesh)
        return;
      const t44 = e49;
      t44 && t44.unhover();
    });
    i31(this, "deleteSelectedMesh", () => {
      this.group.children.filter((t44) => t44.selected).forEach((t44) => {
        this.removeMeshEventListeners(t44), t44.removeFromParent();
      }), this.cursor.removeDeleteButton(), this.five.needsRender = true;
    });
    i31(this, "removeMeshEventListeners", (e49) => {
      var t44, n73;
      (t44 = e49.line.doms) == null || t44.forEach((o71) => {
        o71 != null && o71.container && (o71.container.onclick = null, o71.container.onmouseenter = null, o71.container.onmouseleave = null);
      }), (n73 = e49.polygon.areaDom) != null && n73.container && (e49.polygon.areaDom.container.onclick = null, e49.polygon.areaDom.container.onmouseenter = null, e49.polygon.areaDom.container.onmouseleave = null), this.fiveDomEvents.removeEventListener(e49, "click"), this.fiveDomEvents.removeEventListener(e49, "hover"), this.fiveDomEvents.removeEventListener(e49, "unHover");
    });
    i31(this, "updateSelectAdsorbedHelper", () => {
      if (!this.currentMeasureMesh || this.currentMeasureMesh.points.length === 0) {
        this.pointSelector.setAdherePoints(null), this.pointSelector.adhereLine = [], this.pointSelector.adherePlane = [];
        return;
      }
      if (this.currentMeasureMesh.points.length >= 1) {
        this.pointSelector.setAdherePoints([this.currentMeasureMesh.points[0]]);
        const e49 = this.currentMeasureMesh.points.at(-1);
        this.pointSelector.adhereLine = [
          new Line3(new Vector3(1, 0, 0).add(e49), new Vector3(-1, 0, 0).add(e49)),
          new Line3(new Vector3(0, 1, 0).add(e49), new Vector3(0, -1, 0).add(e49)),
          new Line3(new Vector3(0, 0, 1).add(e49), new Vector3(0, 0, -1).add(e49))
        ], this.pointSelector.adherePlane = [];
      }
      if (this.currentMeasureMesh.points.length >= 3) {
        const e49 = new Plane().setFromCoplanarPoints(
          this.currentMeasureMesh.points[0],
          this.currentMeasureMesh.points[1],
          this.currentMeasureMesh.points[2]
        );
        this.pointSelector.adherePlane = [e49];
      } else
        this.pointSelector.adherePlane = [];
    });
    i31(this, "addMeshEventListeners", (e49) => {
      var t44, n73;
      this.removeMeshEventListeners(e49), (t44 = e49.line.doms) == null || t44.forEach((o71) => {
        o71 != null && o71.container && (o71.container.onclick = (c85) => this.onClick({ origDomEvent: c85, target: e49 }), o71.container.onmouseenter = () => this.onHover({ target: e49 }), o71.container.onmouseleave = () => this.onUnHover({ target: e49 }));
      }), (n73 = e49.polygon.areaDom) != null && n73.container && (e49.polygon.areaDom.container.onclick = (o71) => this.onClick({ origDomEvent: o71, target: e49 }), e49.polygon.areaDom.container.onmouseenter = () => this.onHover({ target: e49 }), e49.polygon.areaDom.container.onmouseleave = () => this.onUnHover({ target: e49 })), this.fiveDomEvents.addEventListener(e49, "click", this.onClick), this.fiveDomEvents.addEventListener(e49, "hover", this.onHover), this.fiveDomEvents.addEventListener(e49, "unHover", this.onUnHover);
    });
    i31(this, "load", (e49) => {
      this.clear(), e49.forEach((t44) => {
        const n73 = new zt3({
          lineStyle: this.lineStyle,
          polygonStyle: this.polygonStyle
        });
        n73.setPoints(t44.points), this.group.add(n73), this.addMeshEventListeners(n73), n73.__five_pano_index = this.five.panoIndex;
      }), this.five.needsRender = true;
    });
    this.five = e48;
    const n72 = { unit: "m", lengthEnable: true };
    this.config = t43 ? h32(h32({}, n72), t43) : n72, this.group = new c16(), this.group.name = "MeasureGroup", this.five.scene.add(this.group), this.five.on("panoArrived", this.onMoveToPano), this.five.on("modeChange", this.onModeChange), K14("delete, backspace", this.deleteSelectedMesh), this.initEventListeners();
  }
  get pointSelector() {
    return this._pointSelector ? this._pointSelector : (this._pointSelector = new se(this.five, { mode: "cursor", helper: { pointHelper: "highlight" } }), this._pointSelector);
  }
  get fiveDomEvents() {
    return this._fiveDomEvents ? this._fiveDomEvents : (this._fiveDomEvents = new Q15(this.five, { fiveModels: null }), this._fiveDomEvents);
  }
  get cursor() {
    return this._cursor ? this._cursor : (this._cursor = new B18(), this._cursor);
  }
  get config() {
    return this._config;
  }
  set config(e48) {
    var t43, n72;
    this._config = e48, this.lineStyle.lengthUnit = e48.unit, this.polygonStyle.lengthUnit = e48.unit, e48.lengthEnable !== void 0 && (this.lineStyle.lengthEnable = e48.lengthEnable, this.polygonStyle.lengthEnable = e48.lengthEnable), (n72 = (t43 = this.group) == null ? void 0 : t43.children) == null || n72.forEach((o71) => o71.changeConfig({ lineStyle: this.lineStyle, polygonStyle: this.polygonStyle }));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/MeasurePlugin/index.js
var Fr2 = (r66, o71) => new gt3(r66, o71);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoSpatialTagPlugin/store.js
var e24 = h10(null);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoSpatialTagPlugin/Components/origins.js
function w20(n72) {
  Qt2(n72, "svelte-19zi46m", ".PanoSpatialTagPlugin__tag-origin.svelte-19zi46m{position:absolute;width:0.5rem;height:0.5rem;border-radius:50%;background:#fff;box-shadow:0 0 .6rem #fff;transform:translate(-50%, -50%) scale(1);transform-origin:center center;animation:svelte-19zi46m-PanoSpatialTagPlugin__tag-origin 1.2s forwards;pointer-events:auto}.PanoSpatialTagPlugin__tag-origin.svelte-19zi46m:after{content:'';position:absolute;top:50%;height:50%;width:2rem;height:2rem;transform:translate(-50%, -50%)}.PanoSpatialTagPlugin__tag-origin-destroy.svelte-19zi46m{transform:translate(-50%, -50%) scale(0.6);animation:svelte-19zi46m-PanoSpatialTagPlugin__tag-origin-destroy 1.2s forwards .7s}@keyframes svelte-19zi46m-PanoSpatialTagPlugin__tag-origin{0%{transform:translate(-50%, -50%) scale(1);opacity:0}100%{transform:translate(-50%, -50%) scale(0.6);opacity:1 }}@keyframes svelte-19zi46m-PanoSpatialTagPlugin__tag-origin-destroy{0%{transform:translate(-50%, -50%) scale(0.6);opacity:1}10%{transform:translate(-50%, -50%) scale(1);opacity:0.9}100%{transform:translate(-50%, -50%) scale(1);opacity:0}}");
}
function _15(n72, t43, o71) {
  const e48 = n72.slice();
  return e48[3] = t43[o71], e48;
}
function m36(n72) {
  let t43, o71 = `${/*origin*/
  n72[3].top}%`, e48 = `${/*origin*/
  n72[3].left}%`, a62, l63;
  function i65() {
    return (
      /*click_handler*/
      n72[2](
        /*origin*/
        n72[3]
      )
    );
  }
  return {
    c() {
      t43 = K4("i"), te2(t43, "class", "svelte-19zi46m"), re2(t43, "PanoSpatialTagPlugin__tag-origin", true), re2(
        t43,
        "PanoSpatialTagPlugin__tag-origin-destroy",
        /*origin*/
        n72[3].destroying
      ), ne2(t43, "top", o71), ne2(t43, "left", e48), ne2(
        t43,
        "visibility",
        /*origin*/
        n72[3].front ? "visible" : "hidden"
      );
    },
    m(r66, s60) {
      Nt(r66, t43, s60), a62 || (l63 = lt(t43, "click", i65), a62 = true);
    },
    p(r66, s60) {
      n72 = r66, s60 & /*origins*/
      1 && re2(
        t43,
        "PanoSpatialTagPlugin__tag-origin-destroy",
        /*origin*/
        n72[3].destroying
      ), s60 & /*origins*/
      1 && o71 !== (o71 = `${/*origin*/
      n72[3].top}%`) && ne2(t43, "top", o71), s60 & /*origins*/
      1 && e48 !== (e48 = `${/*origin*/
      n72[3].left}%`) && ne2(t43, "left", e48), s60 & /*origins*/
      1 && ne2(
        t43,
        "visibility",
        /*origin*/
        n72[3].front ? "visible" : "hidden"
      );
    },
    d(r66) {
      r66 && J4(t43), a62 = false, l63();
    }
  };
}
function $10(n72) {
  let t43, o71 = (
    /*origins*/
    n72[0]
  ), e48 = [];
  for (let a62 = 0; a62 < o71.length; a62 += 1)
    e48[a62] = m36(_15(n72, o71, a62));
  return {
    c() {
      for (let a62 = 0; a62 < e48.length; a62 += 1)
        e48[a62].c();
      t43 = Yt();
    },
    m(a62, l63) {
      for (let i65 = 0; i65 < e48.length; i65 += 1)
        e48[i65] && e48[i65].m(a62, l63);
      Nt(a62, t43, l63);
    },
    p(a62, [l63]) {
      if (l63 & /*origins, handleClick*/
      3) {
        o71 = /*origins*/
        a62[0];
        let i65;
        for (i65 = 0; i65 < o71.length; i65 += 1) {
          const r66 = _15(a62, o71, i65);
          e48[i65] ? e48[i65].p(r66, l63) : (e48[i65] = m36(r66), e48[i65].c(), e48[i65].m(t43.parentNode, t43));
        }
        for (; i65 < e48.length; i65 += 1)
          e48[i65].d(1);
        e48.length = o71.length;
      }
    },
    i: N4,
    o: N4,
    d(a62) {
      Vt(e48, a62), a62 && J4(t43);
    }
  };
}
function C31(n72, t43, o71) {
  let { origins: e48 } = t43;
  const a62 = (i65) => {
    e24.update(() => `${i65}-PanoSpatialTagPlugin-${Date.now()}`);
  }, l63 = (i65) => a62(i65.id);
  return n72.$$set = (i65) => {
    "origins" in i65 && o71(0, e48 = i65.origins);
  }, [e48, a62, l63];
}
var O22 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, C31, $10, Ft, { origins: 0 }, w20);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoSpatialTagPlugin/Components/tag.js
function J18(i65) {
  Qt2(i65, "svelte-9m6drd", `.PanoSpatialTagPlugin__tag-x.svelte-9m6drd.svelte-9m6drd{position:absolute;top:0;left:0;display:block;white-space:nowrap;box-sizing:border-box;width:25rem;height:14rem;color:#fff;transform:translate(0, -100%);transition:height 0.5s linear}.PanoSpatialTagPlugin__tag-shadow.svelte-9m6drd.svelte-9m6drd{content:'';position:absolute;width:30rem;height:30rem;top:-15rem;left:-15rem;z-index:-1;opacity:0;transition:opacity 0.8s 0.6s;background:url('https://vrlab-image4.ljcdn.com/release/web/PanoSpatialTagPlugin__blur.png');background-size:30rem 30rem}.PanoSpatialTagPlugin__tag-line.svelte-9m6drd.svelte-9m6drd{position:absolute;left:-1rem;width:2rem;height:100%;overflow:hidden}.PanoSpatialTagPlugin__tag-flagpole.svelte-9m6drd.svelte-9m6drd{position:absolute;top:0;left:1rem;height:calc(100% - 1.5rem);width:0.15rem;background:linear-gradient(to bottom, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0.1));box-shadow:0 0.1rem 0.5rem rgba(0, 0, 0, 0.2);opacity:0;transform:translate(-50%, 60%) scaleY(0);transition:transform 0.4s cubic-bezier(0.44, 0.44, 0.74, 0.98), opacity 0.4s cubic-bezier(0.44, 0.44, 0.74, 0.98), width 0.5s linear,
      height 0.5s linear;transform-origin:center bottom}.PanoSpatialTagPlugin__tag-line1.svelte-9m6drd.svelte-9m6drd{position:absolute;top:0;left:0.3rem;height:1.8rem;width:0.1rem;background:#fff;opacity:0;transform:translate(-50%, 200%) scaleY(0);transform-origin:center top}.PanoSpatialTagPlugin__tag-line2.svelte-9m6drd.svelte-9m6drd{position:absolute;top:0;left:0.5rem;height:1.8rem;width:0.1rem;background:#fff;opacity:0;transform:translate(-50%, 200%) scaleY(0);transform-origin:center top}.PanoSpatialTagPlugin__tag-show.svelte-9m6drd .PanoSpatialTagPlugin__tag-line1.svelte-9m6drd{animation:svelte-9m6drd-PanoSpatialTagPlugin__tag-line1 linear 0.5s forwards 0.45s}.PanoSpatialTagPlugin__tag-show.svelte-9m6drd .PanoSpatialTagPlugin__tag-line2.svelte-9m6drd{animation:svelte-9m6drd-PanoSpatialTagPlugin__tag-line2 linear 0.5s forwards 0.65s}.PanoSpatialTagPlugin__tag-x.PanoSpatialTagPlugin__tag-upside-down.svelte-9m6drd.svelte-9m6drd{transform:translate(0, 0)}.PanoSpatialTagPlugin__tag-upside-down.svelte-9m6drd .PanoSpatialTagPlugin__tag-line.svelte-9m6drd{transform:scaleY(-1)}.PanoSpatialTagPlugin__tag-animate.svelte-9m6drd.svelte-9m6drd{position:relative;height:100%;overflow:hidden;transform-origin:left top;transition:transform 0.5s linear}.PanoSpatialTagPlugin__tag-upside-down.svelte-9m6drd .PanoSpatialTagPlugin__tag-animate.svelte-9m6drd{transform-origin:left bottom}.PanoSpatialTagPlugin__tag-content.svelte-9m6drd.svelte-9m6drd{position:absolute;display:inline-block;transform:translate(-100%, 0);transition:transform 0.9s cubic-bezier(0, 0.65, 0.16, 1.08) 0.6s;padding-left:0.5rem;font-size:1rem}.PanoSpatialTagPlugin__tag-upside-down.svelte-9m6drd .PanoSpatialTagPlugin__tag-content.svelte-9m6drd{bottom:0}.PanoSpatialTagPlugin__tag-show.svelte-9m6drd .PanoSpatialTagPlugin__tag-flagpole.svelte-9m6drd{opacity:1;transform:translate(-50%, 0) scaleY(1)}.PanoSpatialTagPlugin__tag-upside-down.svelte-9m6drd .PanoSpatialTagPlugin__tag-shadow.svelte-9m6drd{top:unset;bottom:-15rem}.PanoSpatialTagPlugin__tag-show.svelte-9m6drd .PanoSpatialTagPlugin__tag-shadow.svelte-9m6drd{opacity:0.32}.PanoSpatialTagPlugin__tag-show.svelte-9m6drd .PanoSpatialTagPlugin__tag-content.svelte-9m6drd{transform:translate(0, 0)}.PanoSpatialTagPlugin__tag-hide.svelte-9m6drd .PanoSpatialTagPlugin__tag-flagpole.svelte-9m6drd{opacity:0;transform:translate(-50%, 60%) scaleY(0);transition:transform 0.5s 0.55s, opacity 0.4s 0.55s}.PanoSpatialTagPlugin__tag-hide.svelte-9m6drd .PanoSpatialTagPlugin__tag-shadow.svelte-9m6drd{opacity:0;transition:opacity 0.8s}.PanoSpatialTagPlugin__tag-hide.svelte-9m6drd .PanoSpatialTagPlugin__tag-content.svelte-9m6drd{transform:translate(-100%, 0);transition:transform 0.6s cubic-bezier(0.53, 0.06, 0.88, 0.59)}.PanoSpatialTagPlugin__tag-hide.svelte-9m6drd .PanoSpatialTagPlugin__tag-content .svelte-9m6drd{pointer-events:none}.PanoSpatialTagPlugin__tag-hide.svelte-9m6drd .PanoSpatialTagPlugin__tag-line1.svelte-9m6drd{opacity:0.5;transform:translate(-50%, 10%) scaleY(0);animation:svelte-9m6drd-PanoSpatialTagPlugin__tag-line1-hide linear 0.28s forwards 0.3s}.PanoSpatialTagPlugin__tag-hide.svelte-9m6drd .PanoSpatialTagPlugin__tag-line2.svelte-9m6drd{opacity:0.5;transform:translate(-50%, 0) scaleY(0);animation:svelte-9m6drd-PanoSpatialTagPlugin__tag-line2-hide linear 0.28s forwards 0.45s}@keyframes svelte-9m6drd-PanoSpatialTagPlugin__tag-line1{0%{opacity:0;transform:translate(-50%, 250%) scaleY(1)}50%{opacity:0.5;transform:translate(-50%, 135%) scaleY(1)}100%{opacity:0.5;transform:translate(-50%, 20%) scaleY(0)}}@keyframes svelte-9m6drd-PanoSpatialTagPlugin__tag-line2{0%{opacity:0;transform:translate(-50%, 250%) scaleY(1)}50%{opacity:0.5;transform:translate(-50%, 125%) scaleY(1)}100%{opacity:0.5;transform:translate(-50%, 0) scaleY(0)}}@keyframes svelte-9m6drd-PanoSpatialTagPlugin__tag-line1-hide{0%{opacity:0.5;transform:translate(-50%, 10%) scaleY(0)}50%{opacity:0.2;transform:translate(-50%, 105%) scaleY(1)}100%{opacity:0;transform:translate(-50%, 200%) scaleY(0)}}@keyframes svelte-9m6drd-PanoSpatialTagPlugin__tag-line2-hide{0%{opacity:0.5;transform:translate(-50%, 0) scaleY(0)}50%{opacity:0.2;transform:translate(-50%, 100%) scaleY(1)}100%{opacity:0;transform:translate(-50%, 200%) scaleY(0)}}`);
}
function K15(i65) {
  let a62, n72, g67, s60, u72, b55, T38, w49, v58, d73, m66, o71, _32, S52, y51;
  return {
    c() {
      a62 = K4("div"), n72 = K4("div"), g67 = Xt(), s60 = K4("div"), u72 = K4("i"), b55 = Xt(), T38 = K4("i"), w49 = Xt(), v58 = K4("i"), d73 = Xt(), m66 = K4("div"), o71 = K4("div"), te2(n72, "class", "PanoSpatialTagPlugin__tag-shadow svelte-9m6drd"), ne2(n72, "transform", "translate(" + /*contentWidth*/
      i65[7] / 2 * /*contentZoom*/
      i65[3] * 3 + "px, " + /*contentHeight*/
      i65[8] / 2 * /*upsideDown*/
      (i65[1] ? -1 : 1) * /*contentZoom*/
      i65[3] * 3 + "px) scale(" + 1 / /*contentZoom*/
      i65[3] + ")"), te2(u72, "class", "PanoSpatialTagPlugin__tag-flagpole svelte-9m6drd"), ne2(
        u72,
        "width",
        /*lineWidthZoom*/
        i65[4] + "rem"
      ), te2(T38, "class", "PanoSpatialTagPlugin__tag-line1 svelte-9m6drd"), te2(v58, "class", "PanoSpatialTagPlugin__tag-line2 svelte-9m6drd"), te2(s60, "class", "PanoSpatialTagPlugin__tag-line svelte-9m6drd"), te2(o71, "class", "PanoSpatialTagPlugin__tag-content svelte-9m6drd"), te2(m66, "class", "PanoSpatialTagPlugin__tag-animate svelte-9m6drd"), ne2(m66, "transform", "scale(" + /*contentZoom*/
      i65[3] * 3 + ")"), te2(a62, "id", _32 = "PanoSpatialTagPlugin__" + /*id*/
      i65[0]), ne2(a62, "height", 20 * /*lineHeightZoom*/
      i65[5] + "rem"), te2(a62, "class", "svelte-9m6drd"), re2(a62, "PanoSpatialTagPlugin__tag-x", true), re2(
        a62,
        "PanoSpatialTagPlugin__tag-upside-down",
        /*upsideDown*/
        i65[1]
      ), re2(
        a62,
        "PanoSpatialTagPlugin__tag-show",
        /*show*/
        i65[10]
      ), re2(
        a62,
        "PanoSpatialTagPlugin__tag-hide",
        /*show*/
        i65[10] === false || /*destroying*/
        i65[6]
      );
    },
    m(e48, l63) {
      Nt(e48, a62, l63), pt(a62, n72), pt(a62, g67), pt(a62, s60), pt(s60, u72), pt(s60, b55), pt(s60, T38), pt(s60, w49), pt(s60, v58), pt(a62, d73), pt(a62, m66), pt(m66, o71), o71.innerHTML = /*content*/
      i65[2], i65[16](o71), S52 || (y51 = lt(
        o71,
        "click",
        /*handleClickContent*/
        i65[11]
      ), S52 = true);
    },
    p(e48, [l63]) {
      l63 & /*contentWidth, contentZoom, contentHeight, upsideDown*/
      394 && ne2(n72, "transform", "translate(" + /*contentWidth*/
      e48[7] / 2 * /*contentZoom*/
      e48[3] * 3 + "px, " + /*contentHeight*/
      e48[8] / 2 * /*upsideDown*/
      (e48[1] ? -1 : 1) * /*contentZoom*/
      e48[3] * 3 + "px) scale(" + 1 / /*contentZoom*/
      e48[3] + ")"), l63 & /*lineWidthZoom*/
      16 && ne2(
        u72,
        "width",
        /*lineWidthZoom*/
        e48[4] + "rem"
      ), l63 & /*content*/
      4 && (o71.innerHTML = /*content*/
      e48[2]), l63 & /*contentZoom*/
      8 && ne2(m66, "transform", "scale(" + /*contentZoom*/
      e48[3] * 3 + ")"), l63 & /*id*/
      1 && _32 !== (_32 = "PanoSpatialTagPlugin__" + /*id*/
      e48[0]) && te2(a62, "id", _32), l63 & /*lineHeightZoom*/
      32 && ne2(a62, "height", 20 * /*lineHeightZoom*/
      e48[5] + "rem"), l63 & /*upsideDown*/
      2 && re2(
        a62,
        "PanoSpatialTagPlugin__tag-upside-down",
        /*upsideDown*/
        e48[1]
      ), l63 & /*show*/
      1024 && re2(
        a62,
        "PanoSpatialTagPlugin__tag-show",
        /*show*/
        e48[10]
      ), l63 & /*show, destroying*/
      1088 && re2(
        a62,
        "PanoSpatialTagPlugin__tag-hide",
        /*show*/
        e48[10] === false || /*destroying*/
        e48[6]
      );
    },
    i: N4,
    o: N4,
    d(e48) {
      e48 && J4(a62), i65[16](null), S52 = false, y51();
    }
  };
}
function Q17(i65, a62, n72) {
  let { id: g67 } = a62, { upsideDown: s60 } = a62, { content: u72 } = a62, { contentZoom: b55 } = a62, { lineWidthZoom: T38 } = a62, { lineHeightZoom: w49 } = a62, { destroying: v58 = false } = a62, { folded: d73 } = a62, { dispose: m66 } = a62, { events: o71 } = a62, { hooks: _32 } = a62, S52 = 0, y51 = 0, e48, l63, k47 = setTimeout(
    () => {
      d73 || n72(10, l63 = true), k47 = void 0;
    },
    100
  );
  const W25 = (t43) => {
    const Z18 = Object.keys(o71);
    let f80 = t43.target;
    for (; f80; ) {
      const z28 = f80.getAttribute("class");
      if (!z28) {
        f80 = f80.parentNode;
        continue;
      }
      if (z28.includes("PanoSpatialTagPlugin__tag-content")) {
        f80 = null;
        break;
      }
      Z18.forEach((H39) => {
        z28.includes(H39) && o71[H39](g67);
      }), f80 = f80.parentNode;
    }
  };
  ce(() => {
    _32.emit("initTag", { id: g67 });
  });
  const N33 = e24.subscribe((t43) => {
    if (t43 === null)
      return;
    const [Z18, f80] = t43.split("-PanoSpatialTagPlugin-");
    g67 === Z18 && (_32.emit("clickOrigin", { id: g67, show: l63 }), k47 || (n72(10, l63 = d73), n72(12, d73 = !d73), k47 = setTimeout(
      () => {
        k47 = void 0;
      },
      1500
    )));
  });
  ue2(() => {
    n72(7, S52 = e48.offsetWidth), n72(8, y51 = e48.offsetHeight), !k47 && n72(10, l63 = !d73);
  }), le(() => {
    _32.emit("destroyTag", { id: g67 }), N33(), m66();
  });
  function C52(t43) {
    ft[t43 ? "unshift" : "push"](() => {
      e48 = t43, n72(9, e48);
    });
  }
  return i65.$$set = (t43) => {
    "id" in t43 && n72(0, g67 = t43.id), "upsideDown" in t43 && n72(1, s60 = t43.upsideDown), "content" in t43 && n72(2, u72 = t43.content), "contentZoom" in t43 && n72(3, b55 = t43.contentZoom), "lineWidthZoom" in t43 && n72(4, T38 = t43.lineWidthZoom), "lineHeightZoom" in t43 && n72(5, w49 = t43.lineHeightZoom), "destroying" in t43 && n72(6, v58 = t43.destroying), "folded" in t43 && n72(12, d73 = t43.folded), "dispose" in t43 && n72(13, m66 = t43.dispose), "events" in t43 && n72(14, o71 = t43.events), "hooks" in t43 && n72(15, _32 = t43.hooks);
  }, [
    g67,
    s60,
    u72,
    b55,
    T38,
    w49,
    v58,
    S52,
    y51,
    e48,
    l63,
    W25,
    d73,
    m66,
    o71,
    _32,
    C52
  ];
}
var x18 = class extends Ce {
  constructor(a62) {
    super(), Te(
      this,
      a62,
      Q17,
      K15,
      Ft,
      {
        id: 0,
        upsideDown: 1,
        content: 2,
        contentZoom: 3,
        lineWidthZoom: 4,
        lineHeightZoom: 5,
        destroying: 6,
        folded: 12,
        dispose: 13,
        events: 14,
        hooks: 15
      },
      J18
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoSpatialTagPlugin/style.js
var t25 = {
  position: "absolute",
  top: "0px",
  left: "0px",
  width: "100%",
  height: "100%",
  pointerEvents: "none"
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/tinyEJSrender.js
var m37 = Object.defineProperty;
var f34 = (n72, e48, t43) => e48 in n72 ? m37(n72, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : n72[e48] = t43;
var o36 = (n72, e48, t43) => (f34(n72, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var i32 = "<";
var h33 = ">";
var _16 = "%";
var d32 = "locals";
var L21 = "(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)";
var l30 = {
  "&": "&amp",
  "<": "&lt",
  ">": "&gt",
  '"': "&#34",
  "'": "&#39"
};
var a26 = {
  EVAL: "eval",
  ESCAPED: "escaped",
  RAW: "raw",
  COMMENT: "comment",
  LITERAL: "literal"
};
function E24(n72) {
  return n72.replace(/;(\s*$)/, "$1");
}
function g25(n72, e48) {
  return new T18(n72).compileFunction()(e48);
}
var T18 = class {
  constructor(e48) {
    o36(this, "templateText");
    o36(this, "mode", null);
    o36(this, "truncate", false);
    o36(this, "currentLine", 1);
    o36(this, "source", "");
    o36(this, "regex", new RegExp(L21));
    this.templateText = e48;
  }
  compileFunction() {
    let e48;
    const t43 = `  var __output = "";
  function __append(s) { if (s !== undefined && s !== null) __output += s }
  with (` + d32 + ` || {}) {
`, s60 = `  }
  return __output;
`, c85 = function(r66) {
      return r66 == null ? "" : String(r66).replace(/[&<>'"]/g, function(p66) {
        return l30[p66] || p66;
      });
    };
    return this._generateSource(), this.source = t43 + this.source + s60, e48 = this.source, e48 = "escapeFn = escapeFn || " + c85.toString() + `;
` + e48, new Function(d32 + ", escapeFn", e48);
  }
  _generateSource() {
    this.templateText = this.templateText.replace(/[ \t]*<%_/gm, "<%_").replace(/_%>[ \t]*/gm, "_%>");
    const e48 = this._parseTemplateText(), t43 = _16, s60 = i32, c85 = h33;
    e48 && e48.length && e48.forEach((r66, p66) => {
      let u72;
      if (r66.indexOf(s60 + t43) === 0 && r66.indexOf(s60 + t43 + t43) !== 0 && (u72 = e48[p66 + 2], !(u72 == t43 + c85 || u72 == "-" + t43 + c85 || u72 == "_" + t43 + c85)))
        throw new Error('Could not find matching close tag for "' + r66 + '".');
      this._scanLine(r66);
    });
  }
  _parseTemplateText() {
    let e48 = this.templateText;
    const t43 = this.regex;
    let s60 = t43.exec(e48);
    const c85 = [];
    let r66;
    for (; s60; )
      r66 = s60.index, r66 !== 0 && (c85.push(e48.substring(0, r66)), e48 = e48.slice(r66)), c85.push(s60[0]), e48 = e48.slice(s60[0].length), s60 = t43.exec(e48);
    return e48 && c85.push(e48), c85;
  }
  _addOutput(e48) {
    if (this.truncate && (e48 = e48.replace(/^(?:\r\n|\r|\n)/, ""), this.truncate = false), !e48)
      return e48;
    e48 = e48.replace(/\\/g, "\\\\"), e48 = e48.replace(/\n/g, "\\n"), e48 = e48.replace(/\r/g, "\\r"), e48 = e48.replace(/"/g, '\\"'), this.source += '    ; __append("' + e48 + `")
`;
  }
  _scanLine(e48) {
    const t43 = _16, s60 = i32, c85 = h33;
    switch (e48.split(`
`).length - 1, e48) {
      case s60 + t43:
      case s60 + t43 + "_":
        this.mode = a26.EVAL;
        break;
      case s60 + t43 + "=":
        this.mode = a26.ESCAPED;
        break;
      case s60 + t43 + "-":
        this.mode = a26.RAW;
        break;
      case s60 + t43 + "#":
        this.mode = a26.COMMENT;
        break;
      case s60 + t43 + t43:
        this.mode = a26.LITERAL, this.source += '    ; __append("' + e48.replace(s60 + t43 + t43, s60 + t43) + `")
`;
        break;
      case t43 + t43 + c85:
        this.mode = a26.LITERAL, this.source += '    ; __append("' + e48.replace(t43 + t43 + c85, t43 + c85) + `")
`;
        break;
      case t43 + c85:
      case "-" + t43 + c85:
      case "_" + t43 + c85:
        this.mode == a26.LITERAL && this._addOutput(e48), this.mode = null, this.truncate = e48.indexOf("-") === 0 || e48.indexOf("_") === 0;
        break;
      default:
        if (this.mode) {
          switch (this.mode) {
            case a26.EVAL:
            case a26.ESCAPED:
            case a26.RAW:
              e48.lastIndexOf("//") > e48.lastIndexOf(`
`) && (e48 += `
`);
          }
          switch (this.mode) {
            case a26.EVAL:
              this.source += "    ; " + e48 + `
`;
              break;
            case a26.ESCAPED:
              this.source += "    ; __append(escapeFn(" + E24(e48) + `))
`;
              break;
            case a26.RAW:
              this.source += "    ; __append(" + E24(e48) + `)
`;
              break;
            case a26.COMMENT:
              break;
            case a26.LITERAL:
              this._addOutput(e48);
              break;
          }
        } else
          this._addOutput(e48);
    }
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoSpatialTagPlugin/Plugin.js
var D28 = 1e-3;
var v22 = 0.01;
var Io2 = "https://vrlab-image4.ljcdn.com/release/web/PanoSpatialTagPlugin__blur.png";
var qt2 = (n72, r66) => {
  var k47, z28, q38, B42, G31, J33, K32, Q29;
  let j37 = r66 == null ? void 0 : r66.container, y51 = 1.4;
  const oo2 = (k47 = r66 == null ? void 0 : r66.wait) != null ? k47 : 200, to = (z28 = r66 == null ? void 0 : r66.maxNumberOnScreen) != null ? z28 : 3, I49 = (q38 = r66 == null ? void 0 : r66.minRad) != null ? q38 : Math.PI / 4, L40 = (B42 = r66 == null ? void 0 : r66.nearTolerance) != null ? B42 : 100, eo = (G31 = r66 == null ? void 0 : r66.upsideHeight) != null ? G31 : 1.6, A62 = (J33 = r66 == null ? void 0 : r66.minDistance) != null ? J33 : 1.2, f80 = (K32 = r66 == null ? void 0 : r66.maxDistance) != null ? K32 : 3.5, C52 = ar2(n72), S52 = document.createElement("div");
  S52.classList.add("PanoSpatialTagPlugin"), Object.assign(S52.style, t25);
  const V25 = new Subscribe();
  let Z18 = new Image();
  Z18.src = Io2;
  const o71 = {
    points: [],
    origins: [],
    tags: [],
    template: "",
    events: {},
    render: g25,
    folded: false,
    enabled: true,
    forbidden: true
  }, Y23 = new O22({
    target: S52,
    props: { origins: o71.origins }
  }), _32 = (t43, s60) => {
    T38(), s60 && M48();
  }, F45 = () => {
    o71.forbidden && (o71.forbidden = false, M48());
  }, H39 = (t43, s60) => {
    if (o71.tags.length === 0)
      return;
    const a62 = s60.longitude - n72.state.longitude, e48 = n72.camera.clone();
    e48.position.copy(s60.offset), e48.rotateOnWorldAxis(new Vector3(0, 1, 0), a62), e48.updateProjectionMatrix(), e48.updateMatrixWorld(true);
    const g67 = new Frustum(), P55 = new Matrix4();
    P55.multiplyMatrices(e48.projectionMatrix, e48.matrixWorldInverse), g67.setFromProjectionMatrix(P55), o71.tags.forEach((i65) => {
      const $23 = e48.position.clone().setY(y51).distanceTo(i65.position);
      if ($23 < A62 || $23 > f80 || !g67.containsPoint(i65.position))
        return i65.destroying = true;
      const x49 = i65.position.clone().sub(e48.position).setY(0);
      if (x49.angleTo(i65.normal) > Math.PI / 2 - I49 && x49.angleTo(i65.normal) < Math.PI / 2 + I49)
        return i65.destroying = true;
    }), o71.tags.forEach((i65) => {
      i65.destroying ? i65.app.$set({
        contentZoom: 0.1 + e48.position.distanceTo(i65.position) / f80,
        lineWidthZoom: 0.38 * (0.01 + e48.position.distanceTo(i65.position) / f80),
        destroying: i65.destroying
      }) : i65.app.$set({
        lineWidthZoom: 0.38 * (0.01 + e48.position.distanceTo(i65.position) / f80),
        lineHeightZoom: 0.4 + (e48.position.distanceTo(i65.position) - A62) / f80 * 0.6,
        contentZoom: 0.1 + e48.position.distanceTo(i65.position) / f80
      });
    }), setTimeout(() => {
      o71.tags.forEach((i65) => {
        i65.destroying && (i65.app.$destroy(), i65 = null);
      }), o71.tags = o71.tags.filter((i65) => !i65.destroying), T38();
    }, 1900);
  }, N33 = (t43) => {
    t43 !== Five.Mode.Panorama && !o71.forbidden && (Y23.$set({ origins: [] }), o71.tags.forEach((s60) => {
      s60.app.$destroy(), s60 = null;
    }), o71.origins = [], o71.tags = [], o71.forbidden = true);
  }, T38 = () => {
    if (o71.forbidden || !o71.enabled)
      return;
    const t43 = n72.camera, s60 = t43.getWorldDirection(new Vector3());
    o71.origins = o71.tags.map((a62) => {
      const e48 = a62.position.clone().project(t43), g67 = a62.position.clone().sub(t43.position).setY(0).angleTo(s60.setY(0)) < Math.PI / 2;
      return {
        id: a62.id,
        front: g67,
        left: (e48.x + 1) / 2 * 100,
        top: (-e48.y + 1) / 2 * 100,
        destroying: a62.destroying
      };
    }), Y23.$set({ origins: o71.origins });
  }, M48 = () => {
    o71.forbidden || !o71.enabled || (o71.timeoutId && clearTimeout(o71.timeoutId), o71.timeoutId = setTimeout(() => {
      o71.timeoutId = void 0;
      const t43 = no();
      t43.length && (o71.tags = o71.tags.concat(t43), T38());
    }, oo2));
  }, no = () => {
    const { clientWidth: t43, clientHeight: s60 } = n72.getElement(), a62 = [], e48 = n72.camera, g67 = new Frustum(), P55 = new Matrix4(), i65 = e48.getWorldDirection(new Vector3());
    P55.multiplyMatrices(e48.projectionMatrix, e48.matrixWorldInverse), g67.setFromProjectionMatrix(P55);
    const $23 = o71.tags.filter((d73) => g67.containsPoint(d73.position) && !d73.destroying).length, x49 = o71.points.reduce((d73, m66) => {
      if (o71.tags.find((l63) => m66.id === l63.id && !l63.destroying))
        return d73;
      const u72 = e48.position.clone().setY(y51).distanceTo(m66.position);
      if (u72 < A62 || u72 > f80 || !g67.containsPoint(m66.position))
        return d73;
      const E53 = m66.position.clone().sub(e48.position).setY(0);
      if (E53.angleTo(m66.normal) > Math.PI / 2 - I49 && E53.angleTo(m66.normal) < Math.PI / 2 + I49)
        return d73;
      const w49 = m66.position.clone().project(e48);
      if (!o71.tags.every((l63) => {
        if (l63.position.clone().sub(e48.position).setY(0).angleTo(i65.setY(0)) > Math.PI / 2)
          return true;
        const b55 = l63.position.clone().project(e48);
        return Math.sqrt(Math.pow((w49.x - b55.x) / 2 * t43, 2) + Math.pow((w49.y - b55.y) / 2 * s60, 2)) > L40;
      }))
        return d73;
      const h66 = {
        id: m66.id,
        position: m66.position,
        normal: m66.normal,
        replacement: m66.replacement,
        weight: m66.weight,
        distance: u72
      };
      let c85;
      for (let l63 = 0, b55 = d73.length; l63 < b55; l63++) {
        const O40 = d73[l63];
        if (h66.weight > O40.weight) {
          c85 = l63;
          break;
        }
        if (h66.distance < O40.distance) {
          c85 = l63;
          break;
        }
      }
      return c85 !== void 0 ? d73.splice(c85, 0, h66) : d73.push(h66), d73;
    }, []);
    for (let d73 = 0, m66 = x49.length; d73 < m66 && !($23 + a62.length >= to); d73++) {
      const u72 = x49[d73];
      if (a62.find((c85) => u72.id === c85.id))
        continue;
      const E53 = u72.position.clone().project(e48);
      if (!o71.tags.concat(a62).every((c85) => {
        if (c85.position.clone().sub(e48.position).setY(0).angleTo(i65.setY(0)) > Math.PI / 2)
          return true;
        const l63 = c85.position.clone().project(e48);
        return Math.sqrt(Math.pow((E53.x - l63.x) / 2 * t43, 2) + Math.pow((E53.y - l63.y) / 2 * s60, 2)) > L40;
      }))
        continue;
      const w49 = new Raycaster(
        e48.position.clone().setY(y51),
        u72.position.clone().sub(e48.position.clone().setY(y51)).normalize(),
        0,
        u72.distance + v22
      ), [h66] = o71.intersectObjects ? w49.intersectObjects(o71.intersectObjects, true) : n72.model.loaded ? n72.model.intersectRaycaster(w49) : w49.intersectObjects(n72.model.children, true);
      if (h66 && u72.distance - h66.distance < v22) {
        const { position: c85, normal: l63, id: b55, replacement: O40 } = u72, fo = new Plane().setFromNormalAndCoplanarPoint(l63, c85), X24 = c85.clone().sub(e48.position).cross(new Vector3(0, 1, 0)).setLength(D28), uo = [
          c85.clone(),
          c85.clone().add(X24),
          c85.clone().add(new Vector3(0, D28, 0)).add(X24),
          c85.clone().add(new Vector3(0, D28, 0))
        ].map((wo3) => fo.projectPoint(wo3, new Vector3())), { container: go, dispose: ho2 } = C52.create3DDomContainer(uo) || {}, bo = new x18({
          target: go,
          props: {
            id: b55,
            content: o71.render(o71.template, O40),
            lineWidthZoom: 0.38 * (0.01 + e48.position.distanceTo(c85) / f80),
            lineHeightZoom: 0.4 + (e48.position.distanceTo(c85) - A62) / f80 * 0.6,
            contentZoom: 0.1 + e48.position.distanceTo(c85) / f80,
            upsideDown: c85.y > eo,
            folded: o71.folded,
            events: o71.events,
            hooks: V25,
            dispose: ho2
          }
        });
        a62.push({
          position: c85,
          normal: l63,
          id: b55,
          app: bo
        });
      }
    }
    return a62;
  }, io = (t43) => {
    o71.points = t43.points.map((s60) => {
      var a62, e48;
      return {
        id: s60.id,
        position: new Vector3().fromArray(s60.position),
        normal: new Vector3().fromArray(s60.normal),
        replacement: (a62 = s60.replacement) != null ? a62 : {},
        weight: (e48 = s60.weight) != null ? e48 : -1
      };
    }), t43.render && (o71.render = t43.render), t43.template && (o71.template = t43.template), t43.events && (o71.events = t43.events), t43.enabled === false && (o71.enabled = t43.enabled), t43.folded === true && (o71.folded = t43.folded);
  }, ro = (t43) => {
    o71.intersectObjects = t43, M48();
  }, so3 = () => {
    o71.enabled = true, M48();
  }, co = () => {
    o71.enabled = false, Y23.$set({ origins: [] }), o71.tags.forEach((t43) => {
      t43.app.$destroy(), t43 = null;
    }), o71.origins = [], o71.tags = [];
  }, lo2 = () => {
    o71.folded = false, o71.tags.forEach((t43) => {
      t43.app.$set({ folded: o71.folded });
    });
  }, po = () => {
    o71.folded = true, o71.tags.forEach((t43) => {
      t43.app.$set({ folded: o71.folded });
    });
  }, ao = (t43) => {
    o71.tags.forEach((s60) => {
      s60.id === t43 && s60.app.$set({ folded: false });
    });
  }, mo = (t43) => {
    o71.tags.forEach((s60) => {
      s60.id === t43 && s60.app.$set({ folded: true });
    });
  }, U33 = () => {
    n72.once("renderFrame", T38);
  }, R43 = () => {
    j37 || (j37 = n72.getElement().parentElement), j37 && j37.appendChild(S52), o71.forbidden = false, y51 = n72.model.bounding.getCenter(new Vector3()).y, M48(), n72.on("panoWillArrive", H39), n72.on("panoArrived", F45), n72.on("modeChange", N33), n72.on("cameraUpdate", _32);
  }, W25 = () => {
    Z18 = null, C52.disposeAll(), Y23.$destroy(), o71.tags.forEach((t43) => {
      t43.app.$destroy(), t43 = null;
    }), o71.origins = [], o71.tags = [], n72.off("modelLoaded", R43), n72.off("renderFrame", T38), n72.off("panoWillArrive", H39), n72.off("panoArrived", F45), n72.off("modeChange", N33), n72.off("cameraUpdate", _32), n72.off("dispose", W25), window.removeEventListener("resize", U33, false);
  };
  return window.addEventListener("resize", U33, false), (Q29 = n72 == null ? void 0 : n72.model) != null && Q29.loaded ? R43() : n72.once("modelLoaded", R43), n72.on("dispose", W25), {
    load: io,
    setIntersectObjects: ro,
    unfoldAll: lo2,
    foldAll: po,
    unfold: ao,
    fold: mo,
    enable: so3,
    disable: co,
    hooks: V25,
    dispose: W25
  };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelItemLabelPlugin/typings.js
var e25 = ((r66) => (r66.SMALL = "small", r66.MIDLLE = "middle", r66.LARGE = "large", r66.EXTRA_LARGE = "x-large", r66))(e25 || {});

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/classnames/index.js
var o37 = {};
var u32 = {
  get exports() {
    return o37;
  },
  set exports(s60) {
    o37 = s60;
  }
};
(function(s60) {
  (function() {
    var f80 = {}.hasOwnProperty;
    function e48() {
      for (var t43 = "", r66 = 0; r66 < arguments.length; r66++) {
        var n72 = arguments[r66];
        n72 && (t43 = i65(t43, c85(n72)));
      }
      return t43;
    }
    function c85(t43) {
      if (typeof t43 == "string" || typeof t43 == "number")
        return t43;
      if (typeof t43 != "object")
        return "";
      if (Array.isArray(t43))
        return e48.apply(null, t43);
      if (t43.toString !== Object.prototype.toString && !t43.toString.toString().includes("[native code]"))
        return t43.toString();
      var r66 = "";
      for (var n72 in t43)
        f80.call(t43, n72) && t43[n72] && (r66 = i65(r66, n72));
      return r66;
    }
    function i65(t43, r66) {
      return r66 ? t43 ? t43 + " " + r66 : t43 + r66 : t43;
    }
    s60.exports ? (e48.default = e48, s60.exports = e48) : window.classNames = e48;
  })();
})(u32);
var a27 = o37;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelItemLabelPlugin/ItemLabelItem.js
function S28(t43) {
  Qt2(t43, "svelte-1wufped", ".item-label-item.svelte-1wufped{position:absolute;z-index:0;transform:none;cursor:pointer;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;opacity:0}.item-label-item.visible.svelte-1wufped{opacity:1;animation:svelte-1wufped-fadeIn 0.3s ease-in}.item-label-item__text-wrap.svelte-1wufped::before{content:'';position:absolute;width:100%;height:100%;background-color:rgba(0, 0, 0, 0.3);filter:blur(1rem);z-index:-1}.item-label-item__text-wrap.svelte-1wufped{padding:0.375rem 0.375rem 0;position:absolute;height:1.25rem;pointer-events:all;background-size:100% 100%;background-repeat:no-repeat;white-space:nowrap;line-height:0.625rem;font-size:0.6875rem;font-weight:bold;color:#ffeac0;transform:translate(-50%, 0);display:flex;justify-content:center;align-items:center}.item-label-item__text.svelte-1wufped{padding-bottom:0.25rem;border-top:0 solid;border-left:0 solid;border-right:0 solid;border-bottom:0.0625rem solid;-o-border-image:linear-gradient(to right, rgba(234, 208, 154, 0), rgba(234, 208, 154, 100), rgba(234, 208, 154, 0)) 4.5 1 4.5;border-image:linear-gradient(to right, rgba(234, 208, 154, 0), rgba(234, 208, 154, 100), rgba(234, 208, 154, 0)) 4.5 1 4.5}.item-label-item__bar.svelte-1wufped{position:absolute;bottom:0;width:0.0625rem;background-image:linear-gradient(to bottom, rgba(234, 208, 154, 0), rgba(234, 208, 154, 1))}@keyframes svelte-1wufped-fadeIn{from{opacity:0}to{opacity:1}}");
}
function A32(t43) {
  let e48, l63, a62, n72 = (
    /*itemLabel*/
    (t43[0].name.length > 6 ? `${/*itemLabel*/
    t43[0].name.slice(0, 6)}...` : (
      /*itemLabel*/
      t43[0].name
    )) + ""
  ), m66, r66, d73, p66, g67, c85;
  return {
    c() {
      e48 = K4("div"), l63 = K4("div"), a62 = K4("span"), m66 = gt(n72), r66 = Xt(), d73 = K4("div"), te2(a62, "class", "item-label-item__text svelte-1wufped"), te2(l63, "class", "item-label-item__text-wrap svelte-1wufped"), ne2(l63, "top", `-${/*itemLabel*/
      t43[0].strokeLength + 26}px`), te2(d73, "class", "item-label-item__bar svelte-1wufped"), ne2(d73, "height", `${/*itemLabel*/
      t43[0].strokeLength}px`), te2(e48, "class", p66 = Gt(a27("item-label-item", { visible: (
        /*itemLabel*/
        t43[0].visible
      ) })) + " svelte-1wufped"), ne2(
        e48,
        "z-index",
        /*itemLabel*/
        t43[0].zIndex
      ), ne2(
        e48,
        "transform",
        /*itemLabel*/
        t43[0].transform
      );
    },
    m(i65, o71) {
      Nt(i65, e48, o71), pt(e48, l63), pt(l63, a62), pt(a62, m66), pt(e48, r66), pt(e48, d73), g67 || (c85 = lt(
        a62,
        "click",
        /*onClick*/
        t43[1]
      ), g67 = true);
    },
    p(i65, [o71]) {
      o71 & /*itemLabel*/
      1 && n72 !== (n72 = /*itemLabel*/
      (i65[0].name.length > 6 ? `${/*itemLabel*/
      i65[0].name.slice(0, 6)}...` : (
        /*itemLabel*/
        i65[0].name
      )) + "") && ee2(m66, n72), o71 & /*itemLabel*/
      1 && ne2(l63, "top", `-${/*itemLabel*/
      i65[0].strokeLength + 26}px`), o71 & /*itemLabel*/
      1 && ne2(d73, "height", `${/*itemLabel*/
      i65[0].strokeLength}px`), o71 & /*itemLabel*/
      1 && p66 !== (p66 = Gt(a27("item-label-item", { visible: (
        /*itemLabel*/
        i65[0].visible
      ) })) + " svelte-1wufped") && te2(e48, "class", p66), o71 & /*itemLabel*/
      1 && ne2(
        e48,
        "z-index",
        /*itemLabel*/
        i65[0].zIndex
      ), o71 & /*itemLabel*/
      1 && ne2(
        e48,
        "transform",
        /*itemLabel*/
        i65[0].transform
      );
    },
    i: N4,
    o: N4,
    d(i65) {
      i65 && J4(e48), g67 = false, c85();
    }
  };
}
function B19(t43, e48, l63) {
  let { itemLabel: a62 } = e48, { hooks: n72 } = e48;
  function m66() {
    n72.emit("onLabelClick", a62);
  }
  return t43.$$set = (r66) => {
    "itemLabel" in r66 && l63(0, a62 = r66.itemLabel), "hooks" in r66 && l63(2, n72 = r66.hooks);
  }, [a62, m66, n72];
}
var F24 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, B19, A32, Ft, { itemLabel: 0, hooks: 2 }, S28);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/debounce.js
function u33(t43, n72 = 200) {
  let e48;
  return function(...o71) {
    clearTimeout(e48), e48 = setTimeout(() => {
      t43(...o71);
    }, n72);
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelItemLabelPlugin/ItemLabelComponent.js
var Z8 = Object.defineProperty;
var $11 = Object.defineProperties;
var ee5 = Object.getOwnPropertyDescriptors;
var A33 = Object.getOwnPropertySymbols;
var te5 = Object.prototype.hasOwnProperty;
var ne7 = Object.prototype.propertyIsEnumerable;
var O23 = (o71, t43, e48) => t43 in o71 ? Z8(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var k20 = (o71, t43) => {
  for (var e48 in t43 || (t43 = {}))
    te5.call(t43, e48) && O23(o71, e48, t43[e48]);
  if (A33)
    for (var e48 of A33(t43))
      ne7.call(t43, e48) && O23(o71, e48, t43[e48]);
  return o71;
};
var I25 = (o71, t43) => $11(o71, ee5(t43));
function ze2(o71) {
  Qt2(o71, "svelte-f82itz", ".item-labels-container.svelte-f82itz{width:100%;height:100%;position:relative}");
}
function C32(o71, t43, e48) {
  const c85 = o71.slice();
  return c85[26] = t43[e48], c85;
}
function S29(o71, t43) {
  let e48, c85, h66;
  return c85 = new F24({
    props: {
      itemLabel: (
        /*itemLabelItem*/
        t43[26]
      ),
      hooks: (
        /*hooks*/
        t43[0]
      )
    }
  }), {
    key: o71,
    first: null,
    c() {
      e48 = Yt(), Ae(c85.$$.fragment), this.first = e48;
    },
    m(r66, m66) {
      Nt(r66, e48, m66), Dt(c85, r66, m66), h66 = true;
    },
    p(r66, m66) {
      t43 = r66;
      const d73 = {};
      m66 & /*renderItemLabels*/
      2 && (d73.itemLabel = /*itemLabelItem*/
      t43[26]), m66 & /*hooks*/
      1 && (d73.hooks = /*hooks*/
      t43[0]), c85.$set(d73);
    },
    i(r66) {
      h66 || (ot(c85.$$.fragment, r66), h66 = true);
    },
    o(r66) {
      $t(c85.$$.fragment, r66), h66 = false;
    },
    d(r66) {
      r66 && J4(e48), Rt(c85, r66);
    }
  };
}
function Pe2(o71) {
  let t43, e48 = [], c85 = /* @__PURE__ */ new Map(), h66, r66, m66 = (
    /*renderItemLabels*/
    o71[1]
  );
  const d73 = (l63) => (
    /*itemLabelItem*/
    l63[26].id
  );
  for (let l63 = 0; l63 < m66.length; l63 += 1) {
    let s60 = C32(o71, m66, l63), _32 = d73(s60);
    c85.set(_32, e48[l63] = S29(_32, s60));
  }
  return {
    c() {
      t43 = K4("div");
      for (let l63 = 0; l63 < e48.length; l63 += 1)
        e48[l63].c();
      te2(t43, "class", "item-labels-container svelte-f82itz"), z2(() => (
        /*div_elementresize_handler*/
        o71[9].call(t43)
      )), ne2(
        t43,
        "opacity",
        /*itemsVisible*/
        o71[4] ? 1 : 0
      );
    },
    m(l63, s60) {
      Nt(l63, t43, s60);
      for (let _32 = 0; _32 < e48.length; _32 += 1)
        e48[_32] && e48[_32].m(t43, null);
      h66 = ie2(
        t43,
        /*div_elementresize_handler*/
        o71[9].bind(t43)
      ), r66 = true;
    },
    p(l63, [s60]) {
      s60 & /*renderItemLabels, hooks*/
      3 && (m66 = /*renderItemLabels*/
      l63[1], Lt(), e48 = Ee(e48, s60, d73, 1, l63, m66, c85, t43, xe, S29, null, C32), Ot()), s60 & /*itemsVisible*/
      16 && ne2(
        t43,
        "opacity",
        /*itemsVisible*/
        l63[4] ? 1 : 0
      );
    },
    i(l63) {
      if (!r66) {
        for (let s60 = 0; s60 < m66.length; s60 += 1)
          ot(e48[s60]);
        r66 = true;
      }
    },
    o(l63) {
      for (let s60 = 0; s60 < e48.length; s60 += 1)
        $t(e48[s60]);
      r66 = false;
    },
    d(l63) {
      l63 && J4(t43);
      for (let s60 = 0; s60 < e48.length; s60 += 1)
        e48[s60].d();
      h66();
    }
  };
}
var D29 = 26;
var Te2 = 11;
function Re2(o71, t43, e48) {
  const { Raycaster: c85, Vector3: h66 } = three_module_exports;
  let { five: r66 } = t43, { modelOcclusionEnable: m66 } = t43, { itemLabels: d73 } = t43, { hooks: l63 } = t43, { displayStrategyType: s60 } = t43, _32 = null, y51 = null, w49, z28, g67 = [], P55 = true;
  const x49 = (n72, f80) => {
    const L40 = new c85(), a62 = n72.camera.position.clone(), i65 = new h66().fromArray(f80.modelPosition), u72 = i65.distanceTo(a62);
    L40.set(a62.clone(), i65.clone().sub(a62).normalize());
    const [b55] = n72.model.intersectRaycaster(L40);
    return !(b55 && b55.distance + 1 < u72);
  }, F45 = (n72, f80) => {
    const L40 = new h66(f80.modelPosition[0], f80.modelPosition[1], f80.modelPosition[2]), a62 = n72.project2d(L40), i65 = a62 == null ? void 0 : a62.x, u72 = a62 == null ? void 0 : a62.y;
    return [i65, u72];
  }, j37 = (n72) => `translate(${n72[0]}px, ${n72[1]}px)`, q38 = (n72, f80) => g67.length === 0 ? false : !!g67.find((a62) => n72[0] >= a62[0] - f80 && n72[0] <= a62[0] + f80 || n72[1] >= a62[1] - D29 && n72[1] <= a62[1] + D29);
  function H39(n72, f80) {
    switch (f80) {
      case e25.SMALL:
        return Math.ceil(-27.78 * n72 + 85);
      case e25.MIDLLE:
        return Math.ceil(-38.9 * n72 + 130);
      case e25.LARGE:
        return Math.ceil(-44.44 * n72 + 140);
      case e25.EXTRA_LARGE:
        return Math.ceil(-92.59 * n72 + 300);
    }
  }
  const X24 = (n72, f80) => {
    const L40 = f80.map((i65) => {
      const u72 = F45(n72, i65), b55 = i65.name.length * Te2, M48 = H39(i65.modelPosition[1], s60), T38 = (m66 ? x49(n72, i65) : true) && !q38([u72[0], u72[1] + M48], b55);
      if (!T38)
        return I25(k20({}, i65), { visible: T38 });
      g67.push(u72);
      const Q29 = j37(u72);
      return I25(k20({}, i65), {
        visible: T38,
        transform: Q29,
        strokeLength: M48
      });
    }), a62 = L40.filter(({ visible: i65 }) => i65).map((i65) => ({
      itemLabelItem: i65,
      distance: new h66(i65.modelPosition[0], i65.modelPosition[1], i65.modelPosition[2]).clone().distanceTo(n72.camera.position)
    })).sort((i65, u72) => i65.distance - u72.distance);
    return L40.map((i65) => {
      const u72 = a62.findIndex((b55) => b55.itemLabelItem.id === i65.id);
      return u72 !== void 0 ? I25(k20({}, i65), { zIndex: u72 * 10 }) : i65;
    });
  }, p66 = () => {
    g67 = [], e48(1, y51 = X24(r66, y51));
  };
  oe2(() => {
    K32();
  });
  const R43 = () => {
    e48(4, P55 = false), B42();
  };
  ce(() => {
    e48(1, y51 = d73), _32 = d73, p66(), J33(), r66.on("cameraUpdate", R43);
  });
  const B42 = u33(
    () => {
      e48(4, P55 = true), p66();
    },
    300
  ), J33 = () => {
    window.addEventListener("resize", v58, false);
  }, K32 = () => {
    _32 !== d73 && (e48(1, y51 = d73), _32 = d73, p66());
  }, v58 = () => {
    r66.once("renderFrame", p66);
  };
  le(() => {
    r66.off("cameraUpdate", R43), window.removeEventListener("resize", v58, false);
  });
  function N33() {
    w49 = this.clientWidth, z28 = this.clientHeight, e48(2, w49), e48(3, z28);
  }
  return o71.$$set = (n72) => {
    "five" in n72 && e48(5, r66 = n72.five), "modelOcclusionEnable" in n72 && e48(6, m66 = n72.modelOcclusionEnable), "itemLabels" in n72 && e48(7, d73 = n72.itemLabels), "hooks" in n72 && e48(0, l63 = n72.hooks), "displayStrategyType" in n72 && e48(8, s60 = n72.displayStrategyType);
  }, [
    l63,
    y51,
    w49,
    z28,
    P55,
    r66,
    m66,
    d73,
    s60,
    N33
  ];
}
var De5 = class extends Ce {
  constructor(t43) {
    super(), Te(
      this,
      t43,
      Re2,
      Pe2,
      Ft,
      {
        five: 5,
        modelOcclusionEnable: 6,
        itemLabels: 7,
        hooks: 0,
        displayStrategyType: 8
      },
      ze2
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelItemLabelPlugin/utils/parseData.js
var p22 = Object.defineProperty;
var n31 = Object.getOwnPropertySymbols;
var m38 = Object.prototype.hasOwnProperty;
var r30 = Object.prototype.propertyIsEnumerable;
var e26 = (t43, o71, i65) => o71 in t43 ? p22(t43, o71, { enumerable: true, configurable: true, writable: true, value: i65 }) : t43[o71] = i65;
var s32 = (t43, o71) => {
  for (var i65 in o71 || (o71 = {}))
    m38.call(o71, i65) && e26(t43, i65, o71[i65]);
  if (n31)
    for (var i65 of n31(o71))
      r30.call(o71, i65) && e26(t43, i65, o71[i65]);
  return t43;
};
function u34(t43) {
  return t43.model_item_labels.map((o71) => s32({
    modelPosition: [o71.position[0], o71.position[1] + o71.size[1], o71.position[2]]
  }, o71));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelItemLabelPlugin/ModelItemLabelPlugin.js
var C33 = (n72, o71) => {
  var a62, d73;
  const e48 = {
    container: document.createElement("div"),
    data: null,
    enabled: true,
    fiveModeEnabled: void 0,
    itemLabels: [],
    wrapper: null,
    app: void 0,
    hooks: new Subscribe(),
    modelOcclusionEnable: (a62 = o71 == null ? void 0 : o71.modelOcclusionEnable) != null ? a62 : true,
    displayStrategyType: (d73 = o71 == null ? void 0 : o71.displayStrategyType) != null ? d73 : e25.SMALL
  };
  e48.container.setAttribute("class", "model-item-label-plugin-container"), e48.container.style.cssText = `
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        z-index: 5;
    `, e48.container.style.pointerEvents = "none";
  const p66 = (t43) => (e48.wrapper = t43, t43.appendChild(e48.container), i65(), true), c85 = (t43) => {
    e48.itemLabels = u34(t43), i65();
  }, u72 = () => (e48.enabled || (e48.enabled = true, i65()), true), b55 = () => (e48.enabled && (e48.enabled = false, i65()), true), l63 = () => {
    f80(), e48.container.remove();
  }, i65 = () => {
    var t43;
    if (e48.wrapper) {
      if (!e48.enabled || !e48.fiveModeEnabled) {
        (t43 = e48.app) == null || t43.$destroy(), e48.app = void 0;
        return;
      }
      e48.app ? e48.app.$set({
        five: n72,
        itemLabels: e48.itemLabels
      }) : e48.app = new De5({
        target: e48.container,
        props: {
          five: n72,
          modelOcclusionEnable: e48.modelOcclusionEnable,
          itemLabels: e48.itemLabels,
          hooks: e48.hooks,
          displayStrategyType: e48.displayStrategyType
        }
      });
    }
  }, m66 = () => {
    n72.on("modeChange", r66), n72.once("dispose", l63);
  }, f80 = () => {
    n72.off("modeChange", r66);
  }, r66 = (t43) => {
    if (e48.enabled) {
      if (t43 !== Five.Mode.Floorplan) {
        e48.fiveModeEnabled = false, i65();
        return;
      }
      n72.once("initAnimationEnded", () => {
        e48.fiveModeEnabled = n72.currentMode === Five.Mode.Floorplan, i65();
      });
    }
  };
  return m66(), {
    appendTo: p66,
    load: c85,
    enable: u72,
    disable: b55,
    dispose: l63,
    hooks: e48.hooks
  };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelItemLabelPlugin/index.js
var P23 = {
  name: "ModelItemLabelPlugin",
  version: 0
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelTVVideoPlugin/typings.js
var o38 = ((t43) => (t43.TOP_LEFT = "topLeft", t43.TOP_RIGHT = "topRight", t43.BOTTOM_LEFT = "bottomLeft", t43.BOTTOM_RIGHT = "bottomRight", t43))(o38 || {});

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelTVVideoPlugin/utils/parseData.js
function f35(r66) {
  if (r66.length === 0)
    return [];
  if (Array.isArray(r66[0]))
    return r66;
  let O40 = [];
  return r66.forEach((T38) => {
    const n72 = [
      T38[o38.TOP_LEFT],
      T38[o38.BOTTOM_LEFT],
      T38[o38.BOTTOM_RIGHT],
      T38[o38.TOP_RIGHT]
    ];
    O40.push(n72);
  }), O40;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Assets/Icon.js
var A34 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAKqADAAQAAAABAAAAKgAAAADUGqULAAAB0ElEQVRYCe2WSUoEQRBFLVHEiVZU1I03cKW38SSewRt4A5fiTty5cQIFR9pZQWkcUNSe2/Z9yISiSGxRkUAy4BGZSVX168gistraYsQKxArECsQKxApYqkDyU5lmsznMM+ZgAGpQhaUkSRbINgLJCXiCBtSgAkVYtGGIBTKj8AgKSVahDNvQa0IUkUG4Bx91BpLdBTOS/cgUIB3a+gMwI9mFzE3a0I3z5B4r292JzGVA8tSSZILMcUDyzIykthOZvYDk+V9Ktmz4yGzhOhV4/+5YU4N/hzqo0StX3Fg5TcnNlYvgs8bPsM4hkScHoyO46haRnGEYktQVI+4ypUYKyXtxyUu27JCceAMJvjo0HoM5CEZ7cPX7i013q3IWVV5r2aw/2TK+svWbPGU68KQCa6pYeus1V0X99quSfvtVSc39lmfz2mdbz32tg1dAJ0421AVs9E7/FxBSezrMmjI/gm5/nYmMkBq+TqBs7LNgTlZH6EnWlPmORdk+pHQipUNfTxtg7p3NIXWRMvXfoqusmXsNhpC6crIS1Zf9C6yAOdlxpK5BW18CiT7A/G93gE+P0FY/RoO+RWqS62YhB2r4YhlixArECsQKxArECvzjCnwAOr0wF44ggHAAAAAASUVORK5CYII=";
var a28 = "data:image/png;base64,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";
var g26 = "data:image/png;base64,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";
var U16 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAABcVBMVEUAAAAAAAD////////+/v45OTn////////39/fp6enPz8/7+/vw8PD+/v7x8fHc3NzHx8f////////+/v77+/vr6+v////7+/v5+fn////z8/P////////q6uqgoKD+/v79/f3m5ub+/v7////////////////39/f39/f////z8/P////t7e3s7Oz29vb////5+fn////h4eH////g4ODV1dX////////BwcH///////////+Ojo5zc3MlJSX////////////////////////7+/v////////////v7+/u7u7n5+f////39/f////09PT6+vr09PT+/v76+vr////5+fnv7+/09PTk5OT////////////////Jycn///++vr7///////+0tLT///9TU1P///8SEhL////////+/v76+vr////8/Pz39/ft7e3t7e36+vr////////X19fV1dX///+xsbF9fX1iYmL///////+K8mOEAAAAenRSTlMaAIDy8CD41cWRX9uk7Kl1VVEw6dWT/M/NvKyVkY475eWIgx0Z39rHv7axnZyZmIuKhn56emZjX1FEPTU0Kx4PCAX69fTgxcKkopWL7crJuri2sa6rnIyHhX54bVtZVU9NSUcsJSIcFROno6Hcwp+ekHVxbWhnRC8nDLc9s8oAAAOGSURBVEjHpdd3X9pAGAfwkBBDAoQmBJmWvUWWiIDIHoJb66x7a4d78Op7pBQ1J5DY33987vnyXEIu3CGy/0hvnDthM+l0hj3JScSudDKOdhNPpl1i8Ut624Gi6+trI3zW1tcdqGM7/SIC5/ZRR2SNJEm7JkHt7FAJjR18WIs40P3cAFxIOaIRna6ZOHxGunk+TDR1ukjUkSr0w86bcKShiz1OI4JMP8YAD9+4emM2Gm407IfIhzm0NxrhKNsLH4SvQ+RktyvUfZIMXYcPPsSFCcvY6EYW6ZPsxuiYZaLwAW5bDY70Da5paxjvm8d+UcjAUL/GzPtCnDF/mwFWhJ75Zs68x05gxxFRGQfa+RYXokHVCC4O4yOqYLTwBjNB+ncWEZnsbzrIvOLz4CW9g4jODn0ZPO/iZN0UmhaPp0Omq+Q/nLu6NO0hErJnurjKdTBzEdAhkqILXDAdbFkJ7EnDe4EVy198srpiwhE4X1RKDFOqviBwcNPK6gmPmeWlGDz+VdHqRPEVHo0tLTM8RpcX4G+flLe6kU/Cs1pYRnm8uriQhfoC+0ZDvbMLi6ttfO5fDCDCKFrvooAKAov+c4BZvy8EzaolCHRdIZ+fBThl9G0Ih1RCrBJWbPiMKYAZ409oMSqFWAktzJ9GBuDvRoVGOIQJMSas0CiM39u45v0M9tbaeLc6F5M+7dhcbRfgg+pcU/oNa85VDwDOzBtmpP9UKsN8BuCzeb1P+kPi08+fASyr6fVPUh/PJ72+xj/bZk5PSV0YlJ4z83iC4EipS5LkiAkeHxGcQerLwMARRzyW+QklhUgKpST8nXfYg+fHkjS89MPz0MFnhKdCSWpc8RBnPAZB3RUvLt7i3oob7f5juDzuikY81tjcHlcHg9xabdyUWDvF2ay3slecr1ptimNx9lhhs1bzXQxy5NZa6VMx9pS2Wt1H77cVjFartYvBdlDICDc0cbVa3Twd2NcOyuLwVqo+K1ebjgdcr0k+O1uXwThfl8vlhqm+99kASup5GINsYhhmG8d7UXzcBgo2e21cd9WlUll5/7G958ql8uxu7y0zS5SGSkOGBA51TRiGQAi232Y9v4kVQZGavpt6c6l3tLpNsc38gGOC01IeLg4Xi8NaLz1KkqO0VzvcTrFscYo4oLjiRAsKEXeJPRqxW0bsFWLGLVbiocyZSm5vbW0nU9BsIfyp/AGqAvfOkBaFawAAAABJRU5ErkJggg==";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelTVVideoPlugin/Plugin.js
var R25 = (s60, g67, e48) => new Promise((f80, v58) => {
  var b55 = (l63) => {
    try {
      h66(e48.next(l63));
    } catch (x49) {
      v58(x49);
    }
  }, w49 = (l63) => {
    try {
      h66(e48.throw(l63));
    } catch (x49) {
      v58(x49);
    }
  }, h66 = (l63) => l63.done ? f80(l63.value) : Promise.resolve(l63.value).then(b55, w49);
  h66((e48 = e48.apply(s60, g67)).next());
});
var Qe = (s60, { videoElement: g67 }) => {
  const e48 = {
    videoMeshes: [],
    videoTextureEnabled: false,
    videoSource: "",
    rectPoints: [],
    enabled: false,
    videoElement: g67
  }, f80 = ar2(s60), v58 = /* @__PURE__ */ new Map(), b55 = (t43) => {
    e48.videoTexture && (e48.videoTexture.image.muted = t43);
  }, w49 = () => e48.videoTexture ? e48.videoTexture.image.muted : true, h66 = () => {
    if (e48.enabled || !e48.videoTexture)
      return;
    e48.enabled = true, e48.videoMeshes = x49(), e48.videoMeshes.forEach((i65) => s60.scene.add(i65));
    const t43 = () => {
      if (!e48.videoTexture)
        return;
      const i65 = () => {
        var n72;
        e48.videoTexture && ((n72 = e48.videoTexture) == null || n72.image.removeEventListener("timeupdate", i65), e48.videoTextureEnabled = true, e48.videoMeshes.forEach((o71) => {
          o71.material.map !== e48.videoTexture && (o71.material.map = e48.videoTexture);
        }), s60.needsRender = true);
      };
      e48.videoTexture.image.addEventListener("timeupdate", i65), e48.videoTexture && e48.videoMeshes.length && (e48.videoTexture.image.play(), e48.videoTexture.image.onplay = () => {
        f80.hide();
      }, e48.videoTexture.image.onpause = () => {
        f80.show();
      }, e48.videoTexture.image.onclick = () => {
        e48.videoTexture.image.muted = false, e48.videoTexture.image.play();
      });
    };
    if (s60.model.loaded)
      t43();
    else
      return s60.once("modelLoaded", () => t43());
  }, l63 = () => {
    e48.enabled && (e48.enabled = false, e48.videoMeshes.forEach((t43) => {
      t43.geometry.dispose(), t43.material.dispose(), s60.scene.remove(t43), e48.videoTexture && e48.videoTexture.image.pause();
    }), e48.videoMeshes = [], s60.needsRender = true);
  }, x49 = () => e48.rectPoints.map((t43, i65) => {
    const n72 = new BufferGeometry(), o71 = 128, d73 = [];
    d73.push(...t43[0].toArray());
    for (let r66 = 1; r66 < o71; r66++)
      d73.push(
        t43[0].x + (t43[1].x - t43[0].x) * r66 / o71,
        t43[0].y + (t43[1].y - t43[0].y) * r66 / o71,
        t43[0].z + (t43[1].z - t43[0].z) * r66 / o71
      );
    d73.push(...t43[1].toArray()), d73.push(...t43[2].toArray());
    for (let r66 = 1; r66 < o71; r66++)
      d73.push(
        t43[2].x + (t43[3].x - t43[2].x) * r66 / o71,
        t43[2].y + (t43[3].y - t43[2].y) * r66 / o71,
        t43[2].z + (t43[3].z - t43[2].z) * r66 / o71
      );
    d73.push(...t43[3].toArray());
    const a62 = [];
    a62.push(0, 1);
    for (let r66 = 1; r66 < o71; r66++)
      a62.push(0, 1 - r66 / o71);
    a62.push(0, 0), a62.push(1, 0);
    for (let r66 = 1; r66 < o71; r66++)
      a62.push(1, r66 / o71);
    a62.push(1, 1);
    const c85 = [];
    for (let r66 = 0; r66 < o71; r66++)
      c85.push(r66, r66 + 1, o71 * 2 - r66, r66, o71 * 2 - r66, o71 * 2 + 1 - r66);
    n72.setAttribute("position", new BufferAttribute(new Float32Array(d73), 3)), n72.setAttribute("uv", new BufferAttribute(new Float32Array(a62), 2)), n72.setIndex(new BufferAttribute(new Uint32Array(c85), 1));
    const u72 = new MeshBasicMaterial({
      map: e48.videoTextureEnabled ? e48.videoTexture : e48.imageTexture,
      side: DoubleSide
    }), p66 = new Mesh(n72, u72);
    p66.renderOrder = 1, p66.name = `ModelTVVideoPlugin-${i65}-${performance.now()}`;
    const I49 = [t43[1], t43[2], t43[3], t43[0]], y51 = f80.create3DDomContainer(I49);
    if (y51 != null && y51.container) {
      const r66 = document.createElement("div");
      r66.classList.add("play-icon"), r66.style.width = "100%", r66.style.height = "100%", r66.style.display = "flex", r66.style.justifyContent = "center", r66.style.alignItems = "center", r66.style.pointerEvents = "none", y51.container.appendChild(r66);
      const T38 = document.createElement("img");
      T38.src = a28, T38.style.width = "200px", T38.style.pointerEvents = "auto", T38.onclick = () => {
        e48.videoTexture.image.muted = false, e48.videoTexture.image.play();
      }, r66.appendChild(T38), v58.set(p66, y51);
    }
    return p66;
  }), F45 = (t43) => {
    const i65 = new TextureLoader().load(t43);
    return i65.minFilter = LinearFilter, i65.magFilter = LinearFilter, i65.format = RGBFormat, i65;
  }, P55 = (t43, i65) => {
    let n72 = i65;
    return new Promise((o71, d73) => {
      const a62 = new XMLHttpRequest();
      a62.onreadystatechange = () => {
        if (a62.readyState === 4)
          if (a62.status === 200) {
            const c85 = window.URL || window.webkitURL;
            n72 = n72 || document.createElement("video"), n72.crossOrigin = "anonymous", n72.muted = true, n72.loop = true, n72.playsInline = true, n72.src = c85.createObjectURL(a62.response);
            const u72 = new VideoTexture(n72);
            u72.minFilter = LinearFilter, u72.magFilter = LinearFilter, u72.format = RGBFormat, o71(Object.assign(u72, { videoSource: t43 }));
          } else
            d73(new Error("Video download Error: " + a62.status));
      }, a62.onerror = (c85) => d73(c85), a62.open("GET", t43), a62.responseType = "blob", a62.send();
    });
  }, L40 = (t43, i65) => R25(void 0, null, function* () {
    const { video_src: n72, video_poster_src: o71, points: d73 } = t43;
    e48.videoSource = n72, e48.rectPoints = f35(d73).map((a62) => a62.map(({ x: c85, y: u72, z: p66 }) => new Vector3(c85, u72, p66))), e48.imageTexture = F45(o71), i65 && (e48.videoElement = i65), e48.videoTexture = yield P55(e48.videoSource, e48.videoElement), e48.enabled = !!t43.enable, e48.enabled && h66();
  }), E53 = (t43) => {
    if (!e48.enabled)
      return;
    const i65 = e48.videoMeshes;
    if (!(!i65 || t43.intersectObjects(i65).length === 0))
      return e48.videoTexture && (e48.videoTexture.image.paused || e48.videoTexture.image.pause()), false;
  }, M48 = (t43) => {
    t43 === "Floorplan" ? f80.hide() : f80.show();
  }, A62 = () => {
    if (!e48.enabled)
      return;
    const t43 = s60.camera.position;
    if (v58.forEach((i65, n72) => {
      const o71 = i65.css3DObject.position.clone(), d73 = o71.clone().sub(t43).normalize(), a62 = new Raycaster(t43, d73), c85 = s60.model.intersectRaycaster(a62)[0], u72 = o71.distanceTo(t43), p66 = 0.01;
      c85 && c85.distance + p66 < u72 ? i65.hide() : i65.show();
    }), !w49()) {
      const i65 = e48.rectPoints.find((n72) => {
        const o71 = n72[0].clone().add(n72[1]).add(n72[2]).add(n72[3]).divideScalar(4);
        return n72.map((d73) => d73.clone().add(o71).divideScalar(2)).filter((d73) => {
          const a62 = d73.distanceTo(t43), c85 = new Raycaster(t43, d73.clone().sub(t43).normalize()), u72 = s60.model.intersectRaycaster(c85)[0], p66 = 0.01;
          return !(u72 && u72.distance + p66 < a62);
        }).length >= 2;
      });
      (!i65 || i65.length === 0) && b55(true);
    }
  }, V25 = () => {
    l63(), e48.videoTexture = void 0, s60.off("modeChange", M48), s60.off("wantsTapGesture", E53), s60.off("panoArrived", A62), s60.off("renderFrame", () => {
      e48.videoMeshes.forEach((t43) => {
        t43 && (t43.needsRender = true);
      });
    });
  };
  return s60.on("modeChange", M48), s60.on("wantsTapGesture", E53), s60.on("panoArrived", A62), s60.on("renderFrame", () => {
    e48.videoMeshes.forEach((t43) => {
      t43 && (t43.needsRender = true);
    });
  }), { enable: h66, disable: l63, load: L40, dispose: V25, state: e48, css3DRenderPlugin: f80 };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/typings.js
var e27 = ((r66) => (r66.SMALL = "small", r66.MIDLLE = "middle", r66.LARGE = "large", r66.EXTRA_LARGE = "x-large", r66))(e27 || {});

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/ItemLabelItem.js
function x19(l63) {
  Qt2(l63, "svelte-1jhufeh", `.item-label-item.svelte-1jhufeh.svelte-1jhufeh{position:absolute;z-index:0;transform:none;cursor:pointer;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;animation:svelte-1jhufeh-fadeIn .3s ease-in}.item-label-item.fold.svelte-1jhufeh>.item-label-item__text-wrap.svelte-1jhufeh{visibility:hidden}.item-label-item.fold.svelte-1jhufeh>.item-label-item__bar.anchor.svelte-1jhufeh{visibility:hidden}.item-label-item.fold.svelte-1jhufeh>.item-label-item__bar.anchor.svelte-1jhufeh:after{visibility:visible}.item-label-item__text-wrap.svelte-1jhufeh.svelte-1jhufeh{height:-moz-fit-content;height:fit-content;padding:0.75rem 1.25rem 0.75rem 0.75rem;position:absolute;width:-moz-max-content;width:max-content;max-width:29.5625rem;min-height:5.75rem;background-image:linear-gradient(269deg, rgba(0, 0, 0, 0.50) 0%, rgba(0, 0, 0, 0.60) 49%, rgba(31, 38, 46, 0.70) 100%);border:0.09375rem solid rgba(255, 255, 255, .65);border-radius:0.1875rem;color:white;transform:translate(-50%, 0);display:flex;justify-content:flex-start;align-items:center;box-sizing:border-box;overflow:hidden;pointer-events:all}.item-label-item__custom.svelte-1jhufeh.svelte-1jhufeh{padding:0;max-width:unset;min-height:unset;background-image:unset;border:0;border-radius:0}.icon-wrap.svelte-1jhufeh.svelte-1jhufeh{width:4.25rem;height:100%;display:flex;justify-content:center;align-content:center}.icon.svelte-1jhufeh.svelte-1jhufeh{width:4.25rem;height:4.25rem;background-repeat:no-repeat;background-size:contain;background-position:center}.item-label-text.svelte-1jhufeh.svelte-1jhufeh{margin-left:0.75rem;padding-left:0.75rem;min-height:4.25rem;height:auto;display:flex;flex-flow:column;justify-content:space-around;align-content:flex-start;border-left:solid rgba(255, 255, 255, .2) 0.0625rem;border-top:solid rgba(255, 255, 255, .2) 0;border-right:solid rgba(255, 255, 255, .2) 0;border-bottom:solid rgba(255, 255, 255, .2) 0;pointer-events:auto}.item-model.svelte-1jhufeh.svelte-1jhufeh{white-space:nowrap;font-size:1.375rem;font-weight:bold;line-height:1.875rem}.item-name.svelte-1jhufeh.svelte-1jhufeh{height:auto;word-wrap:break-word;word-break:break-all;font-size:1.25rem;line-height:1.75rem}.item-label-item__bar.svelte-1jhufeh.svelte-1jhufeh{position:absolute;bottom:0;width:0.1875rem;background-image:linear-gradient(to bottom, white, rgba(255, 255, 255, 0));box-shadow:0 0.125rem 0.5rem 0 rgba(0, 0, 0, 0.20);pointer-events:none}.item-label-item__bar.anchor.svelte-1jhufeh.svelte-1jhufeh:after{content:'';position:absolute;bottom:0;width:1.5rem;height:1.5rem;background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAABcVBMVEUAAAAAAAD////////+/v45OTn////////39/fp6enPz8/7+/vw8PD+/v7x8fHc3NzHx8f////////+/v77+/vr6+v////7+/v5+fn////z8/P////////q6uqgoKD+/v79/f3m5ub+/v7////////////////39/f39/f////z8/P////t7e3s7Oz29vb////5+fn////h4eH////g4ODV1dX////////BwcH///////////+Ojo5zc3MlJSX////////////////////////7+/v////////////v7+/u7u7n5+f////39/f////09PT6+vr09PT+/v76+vr////5+fnv7+/09PTk5OT////////////////Jycn///++vr7///////+0tLT///9TU1P///8SEhL////////+/v76+vr////8/Pz39/ft7e3t7e36+vr////////X19fV1dX///+xsbF9fX1iYmL///////+K8mOEAAAAenRSTlMaAIDy8CD41cWRX9uk7Kl1VVEw6dWT/M/NvKyVkY475eWIgx0Z39rHv7axnZyZmIuKhn56emZjX1FEPTU0Kx4PCAX69fTgxcKkopWL7crJuri2sa6rnIyHhX54bVtZVU9NSUcsJSIcFROno6Hcwp+ekHVxbWhnRC8nDLc9s8oAAAOGSURBVEjHpdd3X9pAGAfwkBBDAoQmBJmWvUWWiIDIHoJb66x7a4d78Op7pBQ1J5DY33987vnyXEIu3CGy/0hvnDthM+l0hj3JScSudDKOdhNPpl1i8Ut624Gi6+trI3zW1tcdqGM7/SIC5/ZRR2SNJEm7JkHt7FAJjR18WIs40P3cAFxIOaIRna6ZOHxGunk+TDR1ukjUkSr0w86bcKShiz1OI4JMP8YAD9+4emM2Gm407IfIhzm0NxrhKNsLH4SvQ+RktyvUfZIMXYcPPsSFCcvY6EYW6ZPsxuiYZaLwAW5bDY70Da5paxjvm8d+UcjAUL/GzPtCnDF/mwFWhJ75Zs68x05gxxFRGQfa+RYXokHVCC4O4yOqYLTwBjNB+ncWEZnsbzrIvOLz4CW9g4jODn0ZPO/iZN0UmhaPp0Omq+Q/nLu6NO0hErJnurjKdTBzEdAhkqILXDAdbFkJ7EnDe4EVy198srpiwhE4X1RKDFOqviBwcNPK6gmPmeWlGDz+VdHqRPEVHo0tLTM8RpcX4G+flLe6kU/Cs1pYRnm8uriQhfoC+0ZDvbMLi6ttfO5fDCDCKFrvooAKAov+c4BZvy8EzaolCHRdIZ+fBThl9G0Ih1RCrBJWbPiMKYAZ409oMSqFWAktzJ9GBuDvRoVGOIQJMSas0CiM39u45v0M9tbaeLc6F5M+7dhcbRfgg+pcU/oNa85VDwDOzBtmpP9UKsN8BuCzeb1P+kPi08+fASyr6fVPUh/PJ72+xj/bZk5PSV0YlJ4z83iC4EipS5LkiAkeHxGcQerLwMARRzyW+QklhUgKpST8nXfYg+fHkjS89MPz0MFnhKdCSWpc8RBnPAZB3RUvLt7i3oob7f5juDzuikY81tjcHlcHg9xabdyUWDvF2ay3slecr1ptimNx9lhhs1bzXQxy5NZa6VMx9pS2Wt1H77cVjFartYvBdlDICDc0cbVa3Twd2NcOyuLwVqo+K1ebjgdcr0k+O1uXwThfl8vlhqm+99kASup5GINsYhhmG8d7UXzcBgo2e21cd9WlUll5/7G958ql8uxu7y0zS5SGSkOGBA51TRiGQAi232Y9v4kVQZGavpt6c6l3tLpNsc38gGOC01IeLg4Xi8NaLz1KkqO0VzvcTrFscYo4oLjiRAsKEXeJPRqxW0bsFWLGLVbiocyZSm5vbW0nU9BsIfyp/AGqAvfOkBaFawAAAABJRU5ErkJggg==');background-position:center;background-size:contain;transform:translate(-0.65625rem, 50%)}@keyframes svelte-1jhufeh-fadeIn{from{opacity:0
        }to{opacity:1
        }}`);
}
function V12(l63) {
  let e48, t43, n72, s60 = (
    /*itemLabel*/
    (l63[0].code || /*itemLabel*/
    l63[0].id) + ""
  ), u72, o71, f80, r66 = (
    /*itemLabel*/
    l63[0].name + ""
  ), v58, a62 = (
    /*itemLabel*/
    l63[0].icon && D30(l63)
  );
  return {
    c() {
      a62 && a62.c(), e48 = Xt(), t43 = K4("div"), n72 = K4("span"), u72 = gt(s60), o71 = Xt(), f80 = K4("span"), v58 = gt(r66), te2(n72, "class", "item-model svelte-1jhufeh"), te2(f80, "class", "item-name svelte-1jhufeh"), te2(t43, "class", "item-label-text svelte-1jhufeh");
    },
    m(i65, d73) {
      a62 && a62.m(i65, d73), Nt(i65, e48, d73), Nt(i65, t43, d73), pt(t43, n72), pt(n72, u72), pt(t43, o71), pt(t43, f80), pt(f80, v58);
    },
    p(i65, d73) {
      i65[0].icon ? a62 ? a62.p(i65, d73) : (a62 = D30(i65), a62.c(), a62.m(e48.parentNode, e48)) : a62 && (a62.d(1), a62 = null), d73 & /*itemLabel*/
      1 && s60 !== (s60 = /*itemLabel*/
      (i65[0].code || /*itemLabel*/
      i65[0].id) + "") && ee2(u72, s60), d73 & /*itemLabel*/
      1 && r66 !== (r66 = /*itemLabel*/
      i65[0].name + "") && ee2(v58, r66);
    },
    d(i65) {
      a62 && a62.d(i65), i65 && J4(e48), i65 && J4(t43);
    }
  };
}
function E25(l63) {
  let e48;
  return {
    c() {
      e48 = K4("div");
    },
    m(t43, n72) {
      Nt(t43, e48, n72), l63[6](e48);
    },
    p: N4,
    d(t43) {
      t43 && J4(e48), l63[6](null);
    }
  };
}
function D30(l63) {
  let e48, t43, n72, s60, u72;
  return {
    c() {
      e48 = K4("div"), t43 = K4("div"), te2(t43, "class", "icon svelte-1jhufeh"), te2(t43, "style", n72 = `background-image: url(${/*itemLabel*/
      l63[0].icon})`), te2(e48, "class", "icon-wrap svelte-1jhufeh");
    },
    m(o71, f80) {
      Nt(o71, e48, f80), pt(e48, t43), s60 || (u72 = lt(
        e48,
        "click",
        /*click_handler*/
        l63[7]
      ), s60 = true);
    },
    p(o71, f80) {
      f80 & /*itemLabel*/
      1 && n72 !== (n72 = `background-image: url(${/*itemLabel*/
      o71[0].icon})`) && te2(t43, "style", n72);
    },
    d(o71) {
      o71 && J4(e48), s60 = false, u72();
    }
  };
}
function G16(l63) {
  let e48, t43, n72, s60, u72, o71, f80, r66, v58, a62;
  function i65(h66, m66) {
    return m66 & /*itemLabel*/
    1 && (n72 = null), n72 == null && (n72 = typeof /*itemLabel*/
    h66[0].render == "function"), n72 ? E25 : V12;
  }
  let d73 = i65(l63, -1), b55 = d73(l63);
  return {
    c() {
      e48 = K4("div"), t43 = K4("div"), b55.c(), u72 = Xt(), o71 = K4("div"), te2(t43, "class", s60 = Gt(a27("item-label-item__text-wrap", {
        "item-label-item__custom": typeof /*itemLabel*/
        l63[0].render == "function"
      })) + " svelte-1jhufeh"), ne2(t43, "bottom", `${/*itemLabel*/
      l63[0].strokeLength}px`), te2(o71, "class", f80 = Gt(a27("item-label-item__bar", { anchor: (
        /*anchorEnabled*/
        l63[1]
      ) })) + " svelte-1jhufeh"), ne2(o71, "height", `${/*itemLabel*/
      l63[0].strokeLength}px`), te2(e48, "class", r66 = Gt(a27("item-label-item", { fold: (
        /*itemLabel*/
        l63[0].isFold
      ) })) + " svelte-1jhufeh"), ne2(
        e48,
        "z-index",
        /*itemLabel*/
        l63[0].zIndex
      ), ne2(
        e48,
        "transform",
        /*itemLabel*/
        l63[0].transform
      );
    },
    m(h66, m66) {
      Nt(h66, e48, m66), pt(e48, t43), b55.m(t43, null), pt(e48, u72), pt(e48, o71), v58 || (a62 = lt(
        t43,
        "click",
        /*onClick*/
        l63[4]
      ), v58 = true);
    },
    p(h66, [m66]) {
      d73 === (d73 = i65(h66, m66)) && b55 ? b55.p(h66, m66) : (b55.d(1), b55 = d73(h66), b55 && (b55.c(), b55.m(t43, null))), m66 & /*itemLabel*/
      1 && s60 !== (s60 = Gt(a27("item-label-item__text-wrap", {
        "item-label-item__custom": typeof /*itemLabel*/
        h66[0].render == "function"
      })) + " svelte-1jhufeh") && te2(t43, "class", s60), m66 & /*itemLabel*/
      1 && ne2(t43, "bottom", `${/*itemLabel*/
      h66[0].strokeLength}px`), m66 & /*anchorEnabled*/
      2 && f80 !== (f80 = Gt(a27("item-label-item__bar", { anchor: (
        /*anchorEnabled*/
        h66[1]
      ) })) + " svelte-1jhufeh") && te2(o71, "class", f80), m66 & /*itemLabel*/
      1 && ne2(o71, "height", `${/*itemLabel*/
      h66[0].strokeLength}px`), m66 & /*itemLabel*/
      1 && r66 !== (r66 = Gt(a27("item-label-item", { fold: (
        /*itemLabel*/
        h66[0].isFold
      ) })) + " svelte-1jhufeh") && te2(e48, "class", r66), m66 & /*itemLabel*/
      1 && ne2(
        e48,
        "z-index",
        /*itemLabel*/
        h66[0].zIndex
      ), m66 & /*itemLabel*/
      1 && ne2(
        e48,
        "transform",
        /*itemLabel*/
        h66[0].transform
      );
    },
    i: N4,
    o: N4,
    d(h66) {
      h66 && J4(e48), b55.d(), v58 = false, a62();
    }
  };
}
function U17(l63, e48, t43) {
  let { itemLabel: n72 } = e48, { hooks: s60 } = e48, { anchorEnabled: u72 } = e48, { onIconClick: o71 } = e48;
  function f80() {
    s60.emit("onLabelClick", n72);
  }
  let r66;
  function v58(i65) {
    ft[i65 ? "unshift" : "push"](() => {
      r66 = i65, t43(3, r66);
    });
  }
  const a62 = (i65) => o71(n72);
  return l63.$$set = (i65) => {
    "itemLabel" in i65 && t43(0, n72 = i65.itemLabel), "hooks" in i65 && t43(5, s60 = i65.hooks), "anchorEnabled" in i65 && t43(1, u72 = i65.anchorEnabled), "onIconClick" in i65 && t43(2, o71 = i65.onIconClick);
  }, l63.$$.update = () => {
    if (l63.$$.dirty & /*itemLabel, customElement*/
    9 && typeof n72.render == "function" && r66 && r66.children.length === 0) {
      const i65 = n72.render(n72);
      i65 && r66.appendChild(i65);
    }
  }, [
    n72,
    u72,
    o71,
    r66,
    f80,
    s60,
    v58,
    a62
  ];
}
var K16 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      U17,
      G16,
      Ft,
      {
        itemLabel: 0,
        hooks: 5,
        anchorEnabled: 1,
        onIconClick: 2
      },
      x19
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/utils/isImpacted.js
var { Raycaster: i33, Vector3: m39 } = three_module_exports;
var d33 = (c85, n72, t43, o71) => {
  const r66 = n72.clone().sub(t43).normalize(), e48 = new i33();
  e48.set(t43, r66);
  const [s60] = c85.model.intersectRaycaster(e48);
  return s60 && s60.distance + 0.01 < o71;
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/utils/getStrokeLength.js
var c40 = (r66, t43) => {
  switch (t43) {
    case e27.SMALL:
      return Math.ceil(-27.78 * r66 + 85);
    case e27.MIDLLE:
      return Math.ceil(-38.9 * r66 + 130);
    case e27.LARGE:
      return Math.ceil(-44.44 * r66 + 140);
    case e27.EXTRA_LARGE:
      return Math.ceil(-92.59 * r66 + 300);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/utils/getLabelTransform.js
var t26 = (r66) => `translate(${r66[0]}px, ${r66[1]}px)`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/utils/transform2RenderData.js
var i34 = Object.defineProperty;
var n32 = Object.getOwnPropertySymbols;
var t27 = Object.prototype.hasOwnProperty;
var d34 = Object.prototype.propertyIsEnumerable;
var o39 = (a62, e48, r66) => e48 in a62 ? i34(a62, e48, { enumerable: true, configurable: true, writable: true, value: r66 }) : a62[e48] = r66;
var s33 = (a62, e48) => {
  for (var r66 in e48 || (e48 = {}))
    t27.call(e48, r66) && o39(a62, r66, e48[r66]);
  if (n32)
    for (var r66 of n32(e48))
      d34.call(e48, r66) && o39(a62, r66, e48[r66]);
  return a62;
};
function l31(a62) {
  return a62.map((e48) => s33({
    observerIndex: void 0,
    visible: false,
    isFold: false
  }, e48));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/ItemLabelComponent.js
var re4 = Object.defineProperty;
var ae4 = Object.defineProperties;
var ce2 = Object.getOwnPropertyDescriptors;
var R26 = Object.getOwnPropertySymbols;
var le3 = Object.prototype.hasOwnProperty;
var de4 = Object.prototype.propertyIsEnumerable;
var j15 = (r66, t43, e48) => t43 in r66 ? re4(r66, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[t43] = e48;
var k21 = (r66, t43) => {
  for (var e48 in t43 || (t43 = {}))
    le3.call(t43, e48) && j15(r66, e48, t43[e48]);
  if (R26)
    for (var e48 of R26(t43))
      de4.call(t43, e48) && j15(r66, e48, t43[e48]);
  return r66;
};
var y20 = (r66, t43) => ae4(r66, ce2(t43));
function ve2(r66) {
  Qt2(r66, "svelte-f82itz", ".item-labels-container.svelte-f82itz{width:100%;height:100%;position:relative}");
}
function N16(r66, t43, e48) {
  const a62 = r66.slice();
  return a62[29] = t43[e48], a62;
}
function q16(r66) {
  let t43, e48;
  return t43 = new K16({
    props: {
      itemLabel: (
        /*itemLabelItem*/
        r66[29]
      ),
      hooks: (
        /*hooks*/
        r66[0]
      ),
      anchorEnabled: (
        /*anchorEnabled*/
        r66[2]
      ),
      onIconClick: (
        /*onIconClick*/
        r66[6]
      )
    }
  }), {
    c() {
      Ae(t43.$$.fragment);
    },
    m(a62, i65) {
      Dt(t43, a62, i65), e48 = true;
    },
    p(a62, i65) {
      const s60 = {};
      i65[0] & /*renderItemLabels*/
      2 && (s60.itemLabel = /*itemLabelItem*/
      a62[29]), i65[0] & /*hooks*/
      1 && (s60.hooks = /*hooks*/
      a62[0]), i65[0] & /*anchorEnabled*/
      4 && (s60.anchorEnabled = /*anchorEnabled*/
      a62[2]), t43.$set(s60);
    },
    i(a62) {
      e48 || (ot(t43.$$.fragment, a62), e48 = true);
    },
    o(a62) {
      $t(t43.$$.fragment, a62), e48 = false;
    },
    d(a62) {
      Rt(t43, a62);
    }
  };
}
function X17(r66, t43) {
  let e48, a62, i65, s60 = (
    /*itemLabelItem*/
    t43[29].visible && q16(t43)
  );
  return {
    key: r66,
    first: null,
    c() {
      e48 = Yt(), s60 && s60.c(), a62 = Yt(), this.first = e48;
    },
    m(l63, h66) {
      Nt(l63, e48, h66), s60 && s60.m(l63, h66), Nt(l63, a62, h66), i65 = true;
    },
    p(l63, h66) {
      t43 = l63, /*itemLabelItem*/
      t43[29].visible ? s60 ? (s60.p(t43, h66), h66[0] & /*renderItemLabels*/
      2 && ot(s60, 1)) : (s60 = q16(t43), s60.c(), ot(s60, 1), s60.m(a62.parentNode, a62)) : s60 && (Lt(), $t(s60, 1, 1, () => {
        s60 = null;
      }), Ot());
    },
    i(l63) {
      i65 || (ot(s60), i65 = true);
    },
    o(l63) {
      $t(s60), i65 = false;
    },
    d(l63) {
      l63 && J4(e48), s60 && s60.d(l63), l63 && J4(a62);
    }
  };
}
function xe2(r66) {
  let t43, e48 = [], a62 = /* @__PURE__ */ new Map(), i65, s60, l63 = (
    /*renderItemLabels*/
    r66[1]
  );
  const h66 = (d73) => (
    /*itemLabelItem*/
    d73[29].id
  );
  for (let d73 = 0; d73 < l63.length; d73 += 1) {
    let c85 = N16(r66, l63, d73), _32 = h66(c85);
    a62.set(_32, e48[d73] = X17(_32, c85));
  }
  return {
    c() {
      t43 = K4("div");
      for (let d73 = 0; d73 < e48.length; d73 += 1)
        e48[d73].c();
      te2(t43, "class", "item-labels-container svelte-f82itz"), z2(() => (
        /*div_elementresize_handler*/
        r66[12].call(t43)
      )), ne2(
        t43,
        "opacity",
        /*itemsVisible*/
        r66[5] ? 1 : 0
      );
    },
    m(d73, c85) {
      Nt(d73, t43, c85);
      for (let _32 = 0; _32 < e48.length; _32 += 1)
        e48[_32] && e48[_32].m(t43, null);
      i65 = ie2(
        t43,
        /*div_elementresize_handler*/
        r66[12].bind(t43)
      ), s60 = true;
    },
    p(d73, c85) {
      c85[0] & /*renderItemLabels, hooks, anchorEnabled, onIconClick*/
      71 && (l63 = /*renderItemLabels*/
      d73[1], Lt(), e48 = Ee(e48, c85, h66, 1, d73, l63, a62, t43, xe, X17, null, N16), Ot()), c85[0] & /*itemsVisible*/
      32 && ne2(
        t43,
        "opacity",
        /*itemsVisible*/
        d73[5] ? 1 : 0
      );
    },
    i(d73) {
      if (!s60) {
        for (let c85 = 0; c85 < l63.length; c85 += 1)
          ot(e48[c85]);
        s60 = true;
      }
    },
    o(d73) {
      for (let c85 = 0; c85 < e48.length; c85 += 1)
        $t(e48[c85]);
      s60 = false;
    },
    d(d73) {
      d73 && J4(t43);
      for (let c85 = 0; c85 < e48.length; c85 += 1)
        e48[c85].d();
      i65();
    }
  };
}
var Te3 = 11;
function De6(r66, t43, e48) {
  const { Vector3: a62 } = three_module_exports;
  let { five: i65 } = t43, { modelOcclusionEnable: s60 } = t43, { itemLabels: l63 } = t43, { hooks: h66 } = t43, { displayStrategyType: d73 } = t43, { maxVisibleDistance: c85 } = t43, _32 = null, g67 = null, G31 = (i65 == null ? void 0 : i65.currentMode) === Five.Mode.Panorama, C52, E53, x49 = [], F45 = true;
  const J33 = (n72, u72) => {
    const p66 = n72.camera.position.clone(), f80 = new a62(u72.modelPosition[0], u72.modelPosition[1], u72.modelPosition[2]), o71 = f80.distanceTo(p66);
    return c85 !== void 0 && n72.state.mode === Five.Mode.Panorama && o71 > c85 ? false : d33(n72, f80.clone().sub(p66).normalize(), p66, o71);
  }, K32 = (n72) => {
    const { camera: u72, model: p66 } = i65, { x: f80, y: o71, z: m66 } = n72.clone().project(u72), b55 = (f80 + 1) / 2, I49 = (2 - (o71 + 1)) / 2;
    return !!(Math.abs(m66) < 1 && [b55, I49].every((S52) => S52 < 1 && S52 >= 0));
  }, Q29 = (n72, u72) => {
    const p66 = new a62(u72.modelPosition[0], u72.modelPosition[1], u72.modelPosition[2]), f80 = n72.project2d(p66), o71 = f80 == null ? void 0 : f80.x, m66 = f80 == null ? void 0 : f80.y;
    return [o71, m66];
  }, $23 = (n72, u72) => {
    const p66 = u72.map((o71) => {
      if (n72.state.panoIndex !== o71.panoIndex)
        return y20(k21({}, o71), { visible: false });
      const m66 = Q29(n72, o71);
      o71.name.length * Te3;
      const b55 = c40(o71.modelPosition[1], d73), I49 = n72.currentMode === Five.Mode.Panorama ? K32(new a62(o71.position[0], o71.position[1], o71.position[2])) : true, O40 = s60 ? J33(n72, o71) : false, z28 = I49 && !O40;
      if (!z28)
        return y20(k21({}, o71), { visible: z28 });
      x49.push(m66);
      const U33 = t26(m66);
      return y20(k21({}, o71), {
        visible: z28,
        transform: U33,
        strokeLength: b55
      });
    }), f80 = p66.filter(({ visible: o71 }) => o71).map((o71) => ({
      itemLabelItem: o71,
      distance: new a62(o71.modelPosition[0], o71.modelPosition[1], o71.modelPosition[2]).clone().distanceTo(n72.camera.position)
    })).sort((o71, m66) => o71.distance - m66.distance);
    return p66.map((o71) => {
      const m66 = f80.findIndex((b55) => b55.itemLabelItem.id === o71.id);
      return m66 !== void 0 ? y20(k21({}, o71), { zIndex: m66 * 10 }) : o71;
    });
  }, L40 = () => {
    x49 = [], e48(1, g67 = $23(i65, g67));
  }, T38 = () => {
    e48(5, F45 = false), ee10();
  }, ee10 = u33(
    () => {
      e48(5, F45 = true), L40();
    },
    300
  ), D52 = () => {
    i65.once("renderFrame", L40);
  }, te10 = () => {
    window.addEventListener("resize", D52, false);
  }, oe11 = () => {
    _32 !== l63 && (e48(1, g67 = l31(l63)), _32 = l63, L40());
  }, ne14 = (n72, u72) => {
    let p66 = [];
    for (const { position: o71, panoIndex: m66 } of u72) {
      const b55 = n72.distanceTo(o71);
      (c85 === void 0 || b55 <= c85 || i65.state.mode !== Five.Mode.Panorama) && p66.push({ panoIndex: m66, obVector: o71, distance: b55 });
    }
    p66 = p66.sort((o71, m66) => o71.distance - m66.distance);
    let f80;
    for (const o71 of p66) {
      const { obVector: m66, distance: b55, panoIndex: I49 } = o71;
      if (!d33(i65, n72, m66, b55)) {
        f80 = I49;
        break;
      }
    }
    return typeof f80 == "number" ? u72[f80] : void 0;
  }, se6 = (n72) => {
    if (i65.state.mode === Five.Mode.Panorama)
      return;
    const u72 = i65.work.observers, p66 = new a62().fromArray(n72.position), f80 = ne14(p66, u72);
    if (f80 && (n72.observerIndex = f80.panoIndex), typeof n72.observerIndex == "number") {
      const o71 = u72[n72.observerIndex], m66 = p66.clone().sub(o71.position).normalize(), b55 = {
        longitude: Math.PI + Math.atan2(m66.x, m66.z),
        latitude: Math.acos(m66.y / m66.length()) - Math.PI / 2
      };
      i65.setState(y20(k21({}, b55), {
        mode: Five.Mode.Panorama,
        panoIndex: n72.observerIndex
      })), i65.once("initAnimationEnded", () => {
        e48(1, g67 = g67.map((I49) => y20(k21({}, I49), {
          isFold: I49.id !== n72.id
        }))), i65.once("cameraUpdate", () => {
          e48(1, g67 = g67.map((I49) => y20(k21({}, I49), { isFold: false })));
        });
      });
    }
  };
  oe2(() => {
    oe11();
  }), ce(() => {
    e48(1, g67 = l31(l63)), _32 = l63, L40(), te10(), i65.on("cameraUpdate", T38);
  }), le(() => {
    i65.off("cameraUpdate", T38), window.removeEventListener("resize", D52, false);
  });
  function ie10() {
    C52 = this.clientWidth, E53 = this.clientHeight, e48(3, C52), e48(4, E53);
  }
  return r66.$$set = (n72) => {
    "five" in n72 && e48(7, i65 = n72.five), "modelOcclusionEnable" in n72 && e48(8, s60 = n72.modelOcclusionEnable), "itemLabels" in n72 && e48(9, l63 = n72.itemLabels), "hooks" in n72 && e48(0, h66 = n72.hooks), "displayStrategyType" in n72 && e48(10, d73 = n72.displayStrategyType), "maxVisibleDistance" in n72 && e48(11, c85 = n72.maxVisibleDistance);
  }, [
    h66,
    g67,
    G31,
    C52,
    E53,
    F45,
    se6,
    i65,
    s60,
    l63,
    d73,
    c85,
    ie10
  ];
}
var Ye = class extends Ce {
  constructor(t43) {
    super(), Te(
      this,
      t43,
      De6,
      xe2,
      Ft,
      {
        five: 7,
        modelOcclusionEnable: 8,
        itemLabels: 9,
        hooks: 0,
        displayStrategyType: 10,
        maxVisibleDistance: 11
      },
      ve2,
      [-1, -1]
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/utils/parseData.js
var r31 = Object.defineProperty;
var m40 = Object.defineProperties;
var a29 = Object.getOwnPropertyDescriptors;
var n33 = Object.getOwnPropertySymbols;
var d35 = Object.prototype.hasOwnProperty;
var u35 = Object.prototype.propertyIsEnumerable;
var e28 = (i65, o71, t43) => o71 in i65 ? r31(i65, o71, { enumerable: true, configurable: true, writable: true, value: t43 }) : i65[o71] = t43;
var s34 = (i65, o71) => {
  for (var t43 in o71 || (o71 = {}))
    d35.call(o71, t43) && e28(i65, t43, o71[t43]);
  if (n33)
    for (var t43 of n33(o71))
      u35.call(o71, t43) && e28(i65, t43, o71[t43]);
  return i65;
};
var p23 = (i65, o71) => m40(i65, a29(o71));
function x20(i65) {
  return i65.item_labels.map((o71) => p23(s34({}, o71), {
    modelPosition: [o71.position[0], o71.position[1], o71.position[2]],
    observerIndex: void 0
  }));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/Plugin.js
var T19 = void 0;
var O24 = (o71, t43) => {
  var d73, c85, b55, u72;
  const e48 = {
    container: document.createElement("div"),
    data: null,
    enabled: true,
    fiveModeEnabled: true,
    itemLabels: [],
    wrapper: null,
    app: void 0,
    hooks: new Subscribe(),
    modelOcclusionEnable: (d73 = t43 == null ? void 0 : t43.modelOcclusionEnable) != null ? d73 : true,
    onlyVisibleInPanorama: (c85 = t43 == null ? void 0 : t43.onlyVisibleInPanorama) != null ? c85 : true,
    displayStrategyType: (b55 = t43 == null ? void 0 : t43.displayStrategyType) != null ? b55 : e27.SMALL,
    maxVisibleDistance: (u72 = t43 == null ? void 0 : t43.maxVisibleDistance) != null ? u72 : T19
  };
  e48.container.setAttribute("class", "item-label-plugin-container"), e48.container.style.cssText = `
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        z-index: 5;
    `, e48.container.style.pointerEvents = "none";
  const p66 = (n72) => (e48.wrapper = n72, n72.appendChild(e48.container), i65(), true), m66 = (n72) => {
    e48.itemLabels = x20(n72), i65();
  }, l63 = () => (e48.enabled || (e48.enabled = true, i65()), true), r66 = () => (e48.enabled && (e48.enabled = false, i65()), true), a62 = () => {
    f80(), e48.container.remove();
  }, i65 = () => {
    var n72;
    if (e48.wrapper) {
      if (!e48.enabled || !e48.fiveModeEnabled) {
        (n72 = e48.app) == null || n72.$destroy(), e48.app = void 0;
        return;
      }
      e48.app ? e48.app.$set({
        five: o71,
        itemLabels: e48.itemLabels
      }) : e48.app = new Ye({
        target: e48.container,
        props: {
          five: o71,
          modelOcclusionEnable: e48.modelOcclusionEnable,
          itemLabels: e48.itemLabels,
          hooks: e48.hooks,
          displayStrategyType: e48.displayStrategyType,
          maxVisibleDistance: e48.maxVisibleDistance
        }
      });
    }
  }, y51 = () => {
    o71.on("modeChange", s60), o71.once("dispose", a62);
  }, f80 = () => {
    o71.off("modeChange", s60);
  }, s60 = (n72) => {
    if (n72 !== Five.Mode.Panorama) {
      e48.fiveModeEnabled = false, r66();
      return;
    }
    o71.once("initAnimationEnded", () => {
      e48.fiveModeEnabled = true, l63();
    });
  };
  return y51(), {
    appendTo: p66,
    load: m66,
    enable: l63,
    disable: r66,
    dispose: a62,
    hooks: e48.hooks
  };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ItemLabelPlugin/index.js
var I26 = {
  name: "ItemLabelPlugin",
  version: 0
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoDoorLabelPlugin/DoorLabelItem.js
function k22(i65) {
  Qt2(i65, "svelte-1irjijd", '.plugin-DoorLabelPlugin-item.svelte-1irjijd.svelte-1irjijd{position:absolute;left:0;top:0;width:0;height:0;pointer-events:none;transition:opacity 0.3s ease}.plugin-DoorLabelPlugin-cnt.svelte-1irjijd.svelte-1irjijd{position:absolute;top:50%;left:50%;border-radius:0.125rem;background:rgba(0, 0, 0, 0.35);line-height:0.75rem;padding:0.375rem;white-space:nowrap;font-size:0.75rem;font-style:normal;color:white;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform ease 1s, background ease 0.3s, color ease 0.3s}.plugin-DoorLabelPlugin-cnt.svelte-1irjijd.svelte-1irjijd::after{content:"";display:block;position:absolute;top:-0.0625rem;left:-0.0625rem;bottom:-0.0625rem;right:-0.0625rem;border-radius:0.125rem;border:0.0625rem solid rgba(0, 0, 0, 0);-o-border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMAIE397fAAAAAVSURBVAjXY2BjgCMQ+PABhIAASRwARxwD8fgzCQAAAAAASUVORK5CYII=") 4;border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlMAIE397fAAAAAVSURBVAjXY2BjgCMQ+PABhIAASRwARxwD8fgzCQAAAAAASUVORK5CYII=") 4;transition:opacity ease 0.3s}.plugin-DoorLabelPlugin-cnt.svelte-1irjijd.svelte-1irjijd:active,.plugin-DoorLabelPlugin-cnt.svelte-1irjijd.svelte-1irjijd:focus{background:rgba(0, 0, 0, 0.5);color:rgba(255, 255, 255, 0.5)}.plugin-DoorLabelPlugin-icon.svelte-1irjijd.svelte-1irjijd{background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTBweCIgaGVpZ2h0PSIxMHB4IiB2aWV3Qm94PSIwIDAgMTAgMTAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8dGl0bGU+aW1hZ2Ut566t5aS0PC90aXRsZT4KICAgIDxkZWZzPgogICAgICAgIDxyZWN0IGlkPSJwYXRoLTEiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCI+PC9yZWN0PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNjYuMDYyMTk3NSUiIHkxPSI1MCUiIHgyPSItMS4xMzY4NjgzOGUtMTElIiB5Mj0iNTAlIiBpZD0ibGluZWFyR3JhZGllbnQtMyI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRkZGRiIgc3RvcC1vcGFjaXR5PSIwLjg1IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iODQuMzM5NzMxJSIgeTE9IjUwJSIgeDI9IjIzLjQyODMzNzclIiB5Mj0iNTAlIiBpZD0ibGluZWFyR3JhZGllbnQtNCI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBzdG9wLW9wYWNpdHk9IjAuOCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSLpobXpnaItMSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9IlZSLeWIhumXtOW8leWvvOagh+etvuWkh+S7vS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzM5LjAwMDAwMCwgLTU0My4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9Iue8lue7hC0y5aSH5Lu9LTEyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzMDUuMDAwMDAwLCA1MzYuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iaW1hZ2Ut566t5aS0IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNC4wMDAwMDAsIDcuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPG1hc2sgaWQ9Im1hc2stMiIgZmlsbD0id2hpdGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9IiNwYXRoLTEiPjwvdXNlPgogICAgICAgICAgICAgICAgICAgIDwvbWFzaz4KICAgICAgICAgICAgICAgICAgICA8dXNlIGlkPSJCRyIgZmlsbC1vcGFjaXR5PSIwIiBmaWxsPSIjRDhEOEQ4IiBvcGFjaXR5PSIwLjUxMTQ2Mjk4NCIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+CiAgICAgICAgICAgICAgICAgICAgPHBhdGggZD0iTTcuOTM4ODY5OCwxLjE0Mzc2MTI5IEM4LjI1NDY1NDA0LDEuMjU3NTgwMzUgOC4zMTc4Mjg0LDEuMzAyMTY5OTggOC4zMTc3ODUyMSwxLjM1ODE1MjIzIEM4LjMxNzc1MDcyLDEuNDAyODQzMzUgOC4zMDU3NDkwNywxLjQ0NzUyNTI0IDguMjgxNzg0MTEsMS40ODcyMDUyMSBMOC4yODE3ODQxMSwxLjQ4NzIwNTIxIEw2LjIwOTg5MDQxLDQuOTE3NzQyNDUgQzYuMTM3ODg4MDgsNS4wMzY5NjAyOSA2LjEwMTg4NjkxLDUuMTcxMjIwMiA2LjEwMTg4NjkxLDUuMzA1NDgwMTEgQzYuMTAxODg2OTEsNS40Mzk3NDAwMiA2LjEzNzg4ODA4LDUuNTczOTk5OTQgNi4yMDk4OTA0MSw1LjY5MzIxNzc4IEw2LjIwOTg5MDQxLDUuNjkzMjE3NzggTDguMjgxNzg0MTEsOS4xMjM3NTUwMSBDOC4zMTc0NzQzOCw5LjE4Mjg0OTE2IDguMzI1ODMzMjIsOS4yNTA4MTUyIDguMzEwNDk1OTUsOS4zMTI5MzAyOCBDOC4yOTUxNTg2OCw5LjM3NTA0NTM2IDguMjU2MTI1MzEsOS40MzEzMDk0NyA4LjE5NzAzMTE3LDkuNDY2OTk5NzMgQzguMTU3MzUxMTksOS40OTA5NjQ2OSA4LjExMjY2OTMxLDkuNTAyOTY2MzQgOC4wNjc5NzgxOCw5LjUwMzAwMDgzIEM4LjAyMzI4NzA2LDkuNTAzMDM1MzEgNy45Nzg1ODY3MSw5LjQ5MTEwMjYzIDcuOTM4ODY5OCw5LjQ2NzE5ODkzIEw3LjkzODg2OTgsOS40NjcxOTg5MyBMMS4zNzk5MTIxOCw1LjUxOTY3ODE1IEMxLjMyMDc2MzAyLDUuNDg0MDc5MTIgMS4yODE2NDI4Nyw1LjQyNzg3NTMyIDEuMjY2MjA5NzcsNS4zNjU3ODM5OCBDMS4yNTQ2OTI1Niw1LjMxOTQ0NzMyIDEuMjU2MzY2OTgsNS4yNjk4MzE4MiAxLjI3Mjc1MzMzLDUuMjIzMDU0MDUgTDEuMjcyNzUzMzMsNS4yMjMwNTQwNSBaIiBpZD0i566t5aS0IiBzdHJva2U9InVybCgjbGluZWFyR3JhZGllbnQtNCkiIHN0cm9rZS13aWR0aD0iMC41IiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTMpIiBtYXNrPSJ1cmwoI21hc2stMikiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuMDM5MjAwLCA1LjMwNTQ4MCkgc2NhbGUoMSwgLTEpIHJvdGF0ZSgtOTAuMDAwMDAwKSB0cmFuc2xhdGUoLTUuMDM5MjAwLCAtNS4zMDU0ODApICI+PC9wYXRoPgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=") no-repeat;background-size:100%;display:inline-block;width:0.625rem;height:0.625rem;margin-left:0.25rem;transform-origin:center}.plugin-DoorLabelPlugin-cnt[data-camera-toward=forward].left.svelte-1irjijd .plugin-DoorLabelPlugin-icon.svelte-1irjijd{transform:rotate(90deg)}.plugin-DoorLabelPlugin-cnt[data-camera-toward=forward].right.svelte-1irjijd .plugin-DoorLabelPlugin-txt.svelte-1irjijd{order:1}.plugin-DoorLabelPlugin-cnt[data-camera-toward=forward].right.svelte-1irjijd .plugin-DoorLabelPlugin-icon.svelte-1irjijd{transform:rotate(-90deg);margin-left:0;margin-right:0.25rem;order:0}.plugin-DoorLabelPlugin-cnt[data-camera-toward=right].forward.svelte-1irjijd .plugin-DoorLabelPlugin-icon.svelte-1irjijd{transform:rotate(90deg)}.plugin-DoorLabelPlugin-cnt[data-camera-toward=right].back.svelte-1irjijd .plugin-DoorLabelPlugin-txt.svelte-1irjijd{order:1}.plugin-DoorLabelPlugin-cnt[data-camera-toward=right].back.svelte-1irjijd .plugin-DoorLabelPlugin-icon.svelte-1irjijd{transform:rotate(-90deg);margin-left:0;margin-right:0.25rem;order:0}.plugin-DoorLabelPlugin-cnt[data-camera-toward=left].back.svelte-1irjijd .plugin-DoorLabelPlugin-icon.svelte-1irjijd{transform:rotate(90deg)}.plugin-DoorLabelPlugin-cnt[data-camera-toward=left].forward.svelte-1irjijd .plugin-DoorLabelPlugin-txt.svelte-1irjijd{order:1}.plugin-DoorLabelPlugin-cnt[data-camera-toward=left].forward.svelte-1irjijd .plugin-DoorLabelPlugin-icon.svelte-1irjijd{transform:rotate(-90deg);margin-left:0;margin-right:0.25rem;order:0}.plugin-DoorLabelPlugin-cnt[data-camera-toward=back].right.svelte-1irjijd .plugin-DoorLabelPlugin-icon.svelte-1irjijd{transform:rotate(90deg)}.plugin-DoorLabelPlugin-cnt[data-camera-toward=back].left.svelte-1irjijd .plugin-DoorLabelPlugin-txt.svelte-1irjijd{order:1}.plugin-DoorLabelPlugin-cnt[data-camera-toward=back].left.svelte-1irjijd .plugin-DoorLabelPlugin-icon.svelte-1irjijd{transform:rotate(-90deg);margin-left:0;margin-right:0.25rem;order:0}.plugin-DoorLabelPlugin-cnt--customBrand.svelte-1irjijd.svelte-1irjijd{color:#f9eac1}.plugin-DoorLabelPlugin-cnt--customBrand.svelte-1irjijd .plugin-DoorLabelPlugin-icon.svelte-1irjijd{background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTBweCIgaGVpZ2h0PSI4cHgiIHZpZXdCb3g9IjAgMCAxMCA4IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPHRpdGxlPueureWktDwvdGl0bGU+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjEwLjYzODU4ODQlIiB5MT0iMCUiIHgyPSI5Ni41MTYxNDc0JSIgeTI9IjEyOS43MzEzNTQlIiBpZD0ibGluZWFyR3JhZGllbnQtMSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYyQ0MiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0VBRDA5QSIgb2Zmc2V0PSI0OC43MTQ0NDc4JSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRDFCMTdFIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9Iumhtemdoi0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0i5pyq5p2l5a625aSH5Lu9LTI1IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzA1LjAwMDAwMCwgLTU0NS4wMDAwMDApIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8ZyBpZD0i57yW57uELTLlpIfku70tMTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0NS4wMDAwMDAsIDUzNy4wMDAwMDApIj4KICAgICAgICAgICAgICAgIDxnIGlkPSJpbWFnZS3nrq3lpLQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwLjAwMDAwMCwgNy4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPSJNOC40OTU3ODI5NCwxLjYxNjQ1MTEgTDYuNDIzODg5MjUsNS4wNDY5ODgzMyBDNi4zMjc4ODYxMyw1LjIwNTk0NTQ1IDYuMzI3ODg2MTMsNS40MDUwMTQ3NyA2LjQyMzg4OTI1LDUuNTYzOTcxODkgTDguNDk1NzgyOTQsOC45OTQ1MDkxMiBDOC42Mzg1NDQwMSw5LjIzMDg4NTcxIDguNTYyNjUzNjQsOS41MzgyMzc1IDguMzI2Mjc3MDYsOS42ODA5OTg1NiBDOC4xNjc1NTcxNiw5Ljc3Njg1ODQgNy45Njg4MjE5NSw5Ljc3NzAxMTc1IDcuODA5OTU0MzEsOS42ODEzOTY5NyBMMS4yNTA5OTY2OSw1LjczMzg3NjE4IEMxLjAxNDQwMDA4LDUuNTkxNDgwMDcgMC45MzgwMzU0ODEsNS4yODQyNDU3NiAxLjA4MDQzMTU5LDUuMDQ3NjQ5MTQgQzEuMTIyNTE0OCw0Ljk3NzcyNjI4IDEuMTgxMDczODMsNC45MTkxNjcyNSAxLjI1MDk5NjY5LDQuODc3MDg0MDQgTDcuODA5OTU0MzEsMC45Mjk1NjMyNTMgQzguMDQ2NTUwOTMsMC43ODcxNjcxNDIgOC4zNTM3ODUyNCwwLjg2MzUzMTczOSA4LjQ5NjE4MTM1LDEuMTAwMTI4MzUgQzguNTkxNzk2MTMsMS4yNTg5OTYgOC41OTE2NDI3OCwxLjQ1NzczMTIgOC40OTU3ODI5NCwxLjYxNjQ1MTEgWiIgaWQ9IueureWktCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNS4wMzkyMDAsIDUuMzA1NDgwKSBzY2FsZSgxLCAtMSkgcm90YXRlKC05MC4wMDAwMDApIHRyYW5zbGF0ZSgtNS4wMzkyMDAsIC01LjMwNTQ4MCkgIj48L3BhdGg+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==") no-repeat}.plugin-DoorLabelPlugin-cnt--customBrand.svelte-1irjijd.svelte-1irjijd:active,.plugin-DoorLabelPlugin-cnt--customBrand.svelte-1irjijd.svelte-1irjijd:focus{background:rgba(0, 0, 0, 0.5);color:rgba(249, 234, 193, 0.5)}');
}
function U18(i65) {
  let t43, e48, r66, a62 = (
    /*props*/
    i65[0].name + ""
  ), A62, u72, C52, o71, g67, M48, D52, d73, j37;
  return {
    c() {
      t43 = K4("div"), e48 = K4("div"), r66 = K4("span"), A62 = gt(a62), u72 = Xt(), C52 = K4("i"), te2(r66, "class", "plugin-DoorLabelPlugin-txt svelte-1irjijd"), te2(C52, "class", "plugin-DoorLabelPlugin-icon svelte-1irjijd"), te2(e48, "class", o71 = Gt(a27(
        "plugin-DoorLabelPlugin-cnt",
        /*props*/
        i65[0].toward
      )) + " svelte-1irjijd"), te2(e48, "style", g67 = `transform: ${/*props*/
      i65[0].transform || "initial"};pointer-events: ${/*props*/
      i65[0].inSight ? "auto" : "none"};opacity: ${/*props*/
      i65[0].inSight ? 1 : 0}`), te2(e48, "data-camera-toward", M48 = /*props*/
      i65[0].cameraToward), te2(t43, "style", D52 = `left: ${/*props*/
      i65[0].left || 0}%;top: ${/*props*/
      i65[0].top || 0}%;opacity: ${/*props*/
      i65[0].inSight ? 1 : 0}`), te2(t43, "class", "plugin-DoorLabelPlugin-item svelte-1irjijd");
    },
    m(I49, n72) {
      Nt(I49, t43, n72), pt(t43, e48), pt(e48, r66), pt(r66, A62), pt(e48, u72), pt(e48, C52), i65[4](t43), d73 || (j37 = lt(
        e48,
        "click",
        /*click_handler*/
        i65[3]
      ), d73 = true);
    },
    p(I49, [n72]) {
      n72 & /*props*/
      1 && a62 !== (a62 = /*props*/
      I49[0].name + "") && ee2(A62, a62), n72 & /*props*/
      1 && o71 !== (o71 = Gt(a27(
        "plugin-DoorLabelPlugin-cnt",
        /*props*/
        I49[0].toward
      )) + " svelte-1irjijd") && te2(e48, "class", o71), n72 & /*props*/
      1 && g67 !== (g67 = `transform: ${/*props*/
      I49[0].transform || "initial"};pointer-events: ${/*props*/
      I49[0].inSight ? "auto" : "none"};opacity: ${/*props*/
      I49[0].inSight ? 1 : 0}`) && te2(e48, "style", g67), n72 & /*props*/
      1 && M48 !== (M48 = /*props*/
      I49[0].cameraToward) && te2(e48, "data-camera-toward", M48), n72 & /*props*/
      1 && D52 !== (D52 = `left: ${/*props*/
      I49[0].left || 0}%;top: ${/*props*/
      I49[0].top || 0}%;opacity: ${/*props*/
      I49[0].inSight ? 1 : 0}`) && te2(t43, "style", D52);
    },
    i: N4,
    o: N4,
    d(I49) {
      I49 && J4(t43), i65[4](null), d73 = false, j37();
    }
  };
}
function G17(i65, t43, e48) {
  let { props: r66 } = t43, { onClick: a62 } = t43, A62;
  const u72 = () => {
    const { left: g67, top: M48, inSight: D52, panoIndex: d73 } = r66;
    if (!g67 || !M48 || !D52 || !A62)
      return;
    const j37 = A62.current.clientWidth / window.innerWidth * 100, I49 = A62.current.clientHeight / window.innerHeight * 100;
    g67 <= j37 / 2 || g67 >= 100 - j37 / 2 || M48 <= I49 / 2 || M48 >= 100 - I49 / 2;
  }, C52 = (g67) => {
    a62 && a62();
  };
  function o71(g67) {
    ft[g67 ? "unshift" : "push"](() => {
      A62 = g67, e48(2, A62);
    });
  }
  return i65.$$set = (g67) => {
    "props" in g67 && e48(0, r66 = g67.props), "onClick" in g67 && e48(1, a62 = g67.onClick);
  }, u72(), [r66, a62, A62, C52, o71];
}
var E26 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, G17, U18, Ft, { props: 0, onClick: 1 }, k22);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoDoorLabelPlugin/utils.js
function f36(t43, e48) {
  const n72 = Math.abs(t43.top + t43.height / 2 - e48.top - e48.height / 2), i65 = Math.abs(t43.left + t43.width / 2 - e48.left - e48.width / 2), o71 = (t43.height + e48.height) / 2, r66 = (t43.width + e48.width) / 2;
  return !(n72 > o71 && i65 > r66);
}
function s35(t43) {
  const { camera: e48 } = t43, n72 = e48.getWorldDirection(new Vector3());
  let i65 = Math.atan(n72.z / n72.x) * 180 / Math.PI, o71 = "";
  return n72.x < 0 && (i65 += 180), i65 < 0 && (i65 += 360), i65 > 315 || i65 <= 45 ? o71 = "right" : i65 > 45 && i65 <= 135 ? o71 = "back" : i65 > 135 && i65 <= 225 ? o71 = "left" : i65 > 225 && i65 <= 315 && (o71 = "forward"), o71;
}
function l32(t43, e48) {
  return Math.sqrt(Math.pow(t43.z - e48.z, 2) + Math.pow(t43.x - e48.x, 2));
}
function c41(t43) {
  const e48 = Math.PI / 4;
  return t43 > -e48 && t43 <= e48 ? "left" : t43 > e48 * 3 || t43 <= -e48 * 3 ? "right" : t43 > -e48 * 3 && t43 <= -e48 ? "forward" : t43 > e48 && t43 <= e48 * 3 ? "back" : "";
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoDoorLabelPlugin/Controller.js
var N17 = Object.defineProperty;
var Q18 = Object.defineProperties;
var j16 = Object.getOwnPropertyDescriptors;
var O25 = Object.getOwnPropertySymbols;
var R27 = Object.prototype.hasOwnProperty;
var $12 = Object.prototype.propertyIsEnumerable;
var L22 = (a62, l63, t43) => l63 in a62 ? N17(a62, l63, { enumerable: true, configurable: true, writable: true, value: t43 }) : a62[l63] = t43;
var E27 = (a62, l63) => {
  for (var t43 in l63 || (l63 = {}))
    R27.call(l63, t43) && L22(a62, t43, l63[t43]);
  if (O25)
    for (var t43 of O25(l63))
      $12.call(l63, t43) && L22(a62, t43, l63[t43]);
  return a62;
};
var U19 = (a62, l63) => Q18(a62, j16(l63));
var B20 = (a62, l63) => {
  var t43 = {};
  for (var i65 in a62)
    R27.call(a62, i65) && l63.indexOf(i65) < 0 && (t43[i65] = a62[i65]);
  if (a62 != null && O25)
    for (var i65 of O25(a62))
      l63.indexOf(i65) < 0 && $12.call(a62, i65) && (t43[i65] = a62[i65]);
  return t43;
};
var p24 = (a62, l63, t43) => (L22(a62, typeof l63 != "symbol" ? l63 + "" : l63, t43), t43);
var ot3 = { userAction: true };
var Ii = class extends F9 {
  constructor(t43) {
    super(t43);
    p24(this, "state", { enabled: true, visible: true });
    p24(this, "container");
    p24(this, "MinVisibledistance", 1.8);
    p24(this, "MaxVisibledistance", 5);
    p24(this, "OffsetHeight", -1.3);
    p24(this, "floorplanServerData");
    p24(this, "visibleLabelMap", /* @__PURE__ */ new Map());
    p24(this, "labelItems", []);
    p24(this, "doorLabels");
    p24(this, "roomObservers");
    p24(this, "loadData", (t44, i65) => {
      i65 && (this.MaxVisibledistance = i65.MaxVisibledistance, this.MinVisibledistance = i65.MinVisibledistance, this.OffsetHeight = i65.OffsetHeight), this.labelItems = [], this.doorLabels = [], this.floorplanServerData = t44, M2(this.five).then(() => {
        this.initData(), this.fixDoorVisibleAndPosition(), this.applyState();
      });
    });
    p24(this, "dispose", () => {
      var t44, i65, r66, o71, n72, s60, e48;
      (t44 = this.five) == null || t44.off("wantsToMoveToPano", this.hideAllLabels), (i65 = this.five) == null || i65.off("modelLoaded", this.fixDoorVisibleAndPosition), (r66 = this.five) == null || r66.off("panoArrived", this.fixDoorVisibleAndPosition), (o71 = this.five) == null || o71.off("initAnimationEnded", this.fixDoorPosition), (n72 = this.five) == null || n72.off("cameraUpdate", this.fixDoorPosition), (s60 = this.five) == null || s60.off("mouseWheel", this.fixDoorPosition), (e48 = this.five) == null || e48.off("pinchGesture", this.fixDoorPosition), this.applyState({ enabled: false });
    });
    p24(this, "initRoomObservers", () => {
      var o71, n72;
      const t44 = this.floorplanServerData.computed_data.floor_datas || [], r66 = (((n72 = (o71 = this.five) == null ? void 0 : o71.work) == null ? void 0 : n72.observers) || []).map((s60) => {
        const e48 = s60.panoIndex, v58 = s60.floorIndex, c85 = t44 == null ? void 0 : t44.find((h66) => h66.floor_index === v58);
        if (c85) {
          const h66 = c85.rooms.find((m66) => m66.observer_indexs.includes(e48));
          if (h66)
            return { panoIndex: e48, floorIndex: v58, name: h66.name };
        }
      }).filter(Boolean);
      this.roomObservers = r66;
    });
    p24(this, "hideAllLabels", () => {
      this.labelItems.forEach((t44) => {
        t44.visible = false, t44.inSight = false;
      });
    });
    p24(this, "fixDoorVisibleAndPosition", () => {
      this.initRoomObservers();
      const { panoIndex: t44 } = this.five;
      if (!this.state.visible || this.five.model.empty || t44 === null || !this.roomObservers.find((s60) => s60.panoIndex === t44))
        return;
      const i65 = this.roomObservers.find((s60) => s60.panoIndex === t44), o71 = this.five.work.observers.find((s60) => s60.panoIndex === t44).position.clone(), n72 = (() => {
        if (this.visibleLabelMap.has(t44))
          return this.visibleLabelMap.get(t44);
        {
          const s60 = [];
          return this.doorLabels.forEach((e48, v58) => {
            if (e48.roomName === i65.name)
              return;
            const c85 = e48.position.clone(), h66 = c85.distanceTo(o71);
            if (h66 < this.MinVisibledistance || h66 > this.MaxVisibledistance)
              return;
            const m66 = new Raycaster(), d73 = c85.clone().sub(o71).normalize();
            m66.set(o71, d73);
            const [b55] = this.five.model.intersectRaycaster(m66);
            b55 && b55.distance + 0.1 < h66 || s60.push(v58);
          }), this.visibleLabelMap.set(t44, s60), s60;
        }
      })();
      this.labelItems.forEach((s60, e48) => {
        s60.visible = n72.includes(e48);
      }), this.fixDoorPosition();
    });
    p24(this, "fixDoorPosition", () => {
      var v58, c85, h66, m66, d73, b55, x49, _32, k47, H39, W25, z28;
      if (!this.state.enabled || !this.state.visible)
        return;
      const { panoIndex: t44, camera: i65 } = this.five;
      if (t44 === null)
        return;
      if (this.five.currentMode !== "Panorama")
        return this.hideAllLabels();
      const r66 = this.five.getElement(), o71 = r66.clientWidth, n72 = r66.clientHeight, s60 = i65.getWorldDirection(new Vector3()), e48 = [];
      if (this.labelItems.forEach((f80, u72) => {
        var I49;
        if (f80.visible) {
          const g67 = i65.position.distanceTo(f80.position), S52 = f80.position.clone().add(new Vector3(0, this.OffsetHeight, 0)), w49 = S52.clone().sub(i65.position).normalize().angleTo(s60), y51 = S52.clone().project(i65), P55 = (y51.x + 1) / 2.2 * 100, T38 = (-y51.y + 1) / 2.2 * 100, F45 = P55 >= 0 && P55 <= 100 && T38 >= 0 && T38 <= 100 && g67 > this.MinVisibledistance && g67 <= this.MaxVisibledistance;
          f80.left = P55, f80.top = T38, f80.inSight = F45 && w49 < Math.PI / 2, f80.cameraToward = s35(this.five), F45 ? e48.push({ disFromCameraToLabel: g67, left: P55, top: T38, index: u72 }) : f80.transform = "translate(-50%, -50%)";
        } else
          f80.inSight = false;
        const M48 = f80, { svelteApp: D52 } = M48, C52 = B20(M48, ["svelteApp"]);
        (I49 = f80.svelteApp) == null || I49.$set({ props: C52 });
      }), e48.length > 1) {
        let f80 = 0;
        e48.sort((u72, D52) => D52.disFromCameraToLabel - u72.disFromCameraToLabel);
        for (let u72 = 1; u72 < e48.length; u72++) {
          const { index: D52, left: C52, top: M48 } = e48[u72 - 1], { index: I49, left: g67, top: S52 } = e48[u72], V25 = this.container.children[D52], w49 = this.container.children[I49];
          if (!V25 || !w49)
            return;
          const y51 = {
            left: o71 * C52 / 100,
            top: n72 * M48 / 100,
            width: (h66 = (c85 = (v58 = V25.children) == null ? void 0 : v58[0]) == null ? void 0 : c85.clientWidth) != null ? h66 : 0,
            height: (b55 = (d73 = (m66 = V25.children) == null ? void 0 : m66[0]) == null ? void 0 : d73.clientHeight) != null ? b55 : 0
          }, P55 = {
            left: o71 * g67 / 100,
            top: n72 * S52 / 100,
            width: (k47 = (_32 = (x49 = w49.children) == null ? void 0 : x49[0]) == null ? void 0 : _32.clientWidth) != null ? k47 : 0,
            height: (z28 = (W25 = (H39 = w49.children) == null ? void 0 : H39[0]) == null ? void 0 : W25.clientHeight) != null ? z28 : 0
          };
          f36(y51, P55) && (f80++, this.labelItems[D52].transform = `translate(-50%, ${(f80 - 1) * 100 - 50}%)`, this.labelItems[I49].transform = `translate(-50%, ${f80 * 100 - 50}%)`);
        }
      }
    });
    p24(this, "onClick", (t44, i65) => {
      if (!this.roomObservers)
        return;
      const { work: r66 } = this.five;
      let o71, n72, s60 = 1 / 0;
      for (const e48 of r66.observers)
        if (this.roomObservers.find((c85) => c85.panoIndex === e48.panoIndex && c85.name === t44)) {
          const c85 = e48.standingPosition, h66 = i65.distanceTo(c85);
          h66 < s60 && (o71 = e48.panoIndex, n72 = c85.clone().sub(i65).normalize(), s60 = h66);
        }
      if (n72 !== void 0 && o71 !== void 0) {
        const e48 = {};
        if (s60 > 0) {
          const c85 = new Vector3(0, 0, -1), h66 = n72.clone(), m66 = new Quaternion();
          m66.setFromUnitVectors(c85, h66);
          const d73 = new Euler();
          d73.setFromQuaternion(m66, "YXZ"), e48.longitude = d73.y;
        }
        this.five.emit("wantsToMoveToPano", o71, {}, true) || this.five.moveToPano(o71, { longitude: e48.longitude });
      }
    });
    p24(this, "initData", () => {
      var o71;
      this.doorLabels = [], this.labelItems.forEach((n72) => {
        var s60;
        return (s60 = n72.svelteApp) == null ? void 0 : s60.$destroy();
      }), this.labelItems = [];
      const t44 = this.five.panoIndex, i65 = this.floorplanServerData.computed_data.observers[t44].floor_index, r66 = this.floorplanServerData.computed_data.floor_datas[i65];
      (o71 = this.floorplanServerData.computed_data.doors) == null || o71.forEach((n72) => {
        const s60 = this.five.work.observers.filter((m66, d73) => {
          var b55;
          return !!((b55 = r66 == null ? void 0 : r66.rooms) != null && b55.find((x49) => x49.observer_indexs.includes(d73)));
        }), e48 = n72.position;
        let v58 = 1 / 0, c85;
        s60.forEach((m66) => {
          const d73 = m66.standingPosition, b55 = {
            x: d73.x,
            y: d73.y,
            z: d73.z
          }, x49 = l32(e48, b55);
          x49 < v58 && (v58 = x49, c85 = b55);
        }), c85 && (e48.y = c85.y + 0.01);
        const h66 = new Vector3(e48.x, e48.y, e48.z);
        h66.add(new Vector3(-0.2, 1.8, 0).applyEuler(new Euler(0, n72.rad, 0))), this.doorLabels.push({
          roomName: n72.name,
          name: n72.name,
          position: h66,
          toward: c41(n72.rad)
        });
      }), this.labelItems = this.doorLabels.map((n72) => U19(E27({}, n72), {
        left: 0,
        top: 0,
        visible: false,
        inSight: false,
        transform: "",
        cameraToward: ""
      })), this.five.on("wantsToMoveToPano", this.hideAllLabels), this.five.on("panoArrived", this.fixDoorVisibleAndPosition), this.five.on("initAnimationEnded", this.fixDoorPosition), this.five.on("cameraUpdate", this.fixDoorPosition), this.five.on("mouseWheel", this.fixDoorPosition), this.five.on("pinchGesture", this.fixDoorPosition), this.fixDoorVisibleAndPosition();
    });
  }
  appendTo(t43) {
    this.state.enabled && (this.container = t43);
  }
  setState(t43, i65) {
    const r66 = this.state;
    this.state = E27(E27({}, r66), t43);
    const o71 = r66.enabled && r66.visible, n72 = this.state.enabled && this.state.visible;
    o71 !== n72 && this.applyState();
  }
  show() {
    this.setState({ visible: true });
  }
  hide() {
    this.setState({ visible: false });
  }
  enable() {
    this.setState({ enabled: true });
  }
  disable() {
    this.setState({ enabled: false });
  }
  stateChangedCallback(t43, i65) {
    if (this.hooks.hasListener("stateChange")) {
      const r66 = {
        state: this.state,
        prevState: t43,
        userAction: i65 ? i65.userAction : ot3.userAction
      };
      this.hooks.emit("stateChange", r66);
    }
  }
  applyState(t43) {
    const i65 = t43 != null ? t43 : this.state;
    i65.enabled !== false && i65.visible !== false ? (this.labelItems.forEach((o71) => {
      o71.svelteApp = new E26({
        target: this.container,
        props: {
          props: o71,
          onClick: () => {
            this.onClick(o71.name, o71.position);
          }
        }
      });
    }), this.fixDoorPosition()) : this.labelItems.forEach((o71) => {
      o71.svelteApp.$destroy();
    });
  }
  initState() {
    return { enabled: true, visible: true };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoDoorLabelPlugin/index.js
var wo = (o71) => new Ii(o71);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/log.js
function n34(o71, r66) {
  console.warn(`🚫 ==> [${o71}]: ${r66}`);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/gl-vec2/add.js
var e29 = a30;
function a30(d73, r66, n72) {
  return d73[0] = r66[0] + n72[0], d73[1] = r66[1] + n72[1], d73;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/gl-vec2/set.js
var s36 = t28;
function t28(e48, r66, n72) {
  return e48[0] = r66, e48[1] = n72, e48;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/gl-vec2/normalize.js
var t29 = l33;
function l33(e48, n72) {
  var i65 = n72[0], a62 = n72[1], r66 = i65 * i65 + a62 * a62;
  return r66 > 0 && (r66 = 1 / Math.sqrt(r66), e48[0] = n72[0] * r66, e48[1] = n72[1] * r66), e48;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/gl-vec2/subtract.js
var a31 = n35;
function n35(r66, t43, c85) {
  return r66[0] = t43[0] - c85[0], r66[1] = t43[1] - c85[1], r66;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/gl-vec2/dot.js
var n36 = r32;
function r32(t43, o71) {
  return t43[0] * o71[0] + t43[1] * o71[1];
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/polyline-miter-util/index.js
var i35 = {};
var _17 = e29;
var t30 = s36;
var c42 = t29;
var s37 = a31;
var M21 = n36;
var p25 = [0, 0];
i35.computeMiter = function(r66, o71, m66, e48, f80) {
  return _17(r66, m66, e48), c42(r66, r66), t30(o71, -r66[1], r66[0]), t30(p25, -m66[1], m66[0]), f80 / M21(o71, p25);
};
i35.normal = function(r66, o71) {
  return t30(r66, -o71[1], o71[0]), r66;
};
i35.direction = function(r66, o71, m66) {
  return s37(r66, o71, m66), c42(r66, r66), r66;
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/polyline-normals/index.js
var e30 = i35;
var t31 = [0, 0];
var f37 = [0, 0];
var g27 = [0, 0];
var u36 = [0, 0];
var U20 = function(r66, i65) {
  var a62 = null, l63 = [];
  i65 && (r66 = r66.slice(), r66.push(r66[0]));
  for (var c85 = r66.length, v58 = 1; v58 < c85; v58++) {
    var M48 = r66[v58 - 1], n72 = r66[v58], o71 = v58 < r66.length - 1 ? r66[v58 + 1] : null;
    if (e30.direction(t31, n72, M48), a62 || (a62 = [0, 0], e30.normal(a62, t31)), v58 === 1 && m41(l63, a62, 1), !o71)
      e30.normal(a62, t31), m41(l63, a62, 1);
    else {
      e30.direction(f37, o71, n72);
      var N33 = e30.computeMiter(g27, u36, t31, f37, 1);
      m41(l63, u36, N33);
    }
  }
  if (r66.length > 2 && i65) {
    var y51 = r66[c85 - 2], d73 = r66[0], x49 = r66[1];
    e30.direction(t31, d73, y51), e30.direction(f37, x49, d73), e30.normal(a62, t31);
    var h66 = e30.computeMiter(g27, u36, t31, f37, 1);
    l63[0][0] = u36.slice(), l63[c85 - 1][0] = u36.slice(), l63[0][1] = h66, l63[c85 - 1][1] = h66, l63.pop();
  }
  return l63;
};
function m41(r66, i65, a62) {
  r66.push([[i65[0], i65[1]], a62]);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/math/intersecting.js
function u37(x49, e48) {
  const t43 = x49[0], r66 = x49[1], y51 = e48[0], n72 = e48[1];
  var s60 = (n72.x - y51.x) * (t43.y - y51.y) - (n72.y - y51.y) * (t43.x - y51.x), c85 = (r66.x - t43.x) * (t43.y - y51.y) - (r66.y - t43.y) * (t43.x - y51.x), a62 = (n72.y - y51.y) * (r66.x - t43.x) - (n72.x - y51.x) * (r66.y - t43.y);
  if (a62 !== 0) {
    var f80 = s60 / a62, o71 = c85 / a62;
    if (0 <= f80 && f80 <= 1 && 0 <= o71 && o71 <= 1)
      return true;
  }
  return false;
}
function v23(x49, e48) {
  for (let t43 = 0; t43 < x49.length - 1; t43++)
    for (let r66 = 0; r66 < e48.length - 1; r66++)
      if (u37([x49[t43], x49[t43 + 1]], [e48[r66], e48[r66 + 1]]))
        return {
          x: (x49[t43].x + x49[t43 + 1].x) / 2,
          y: (x49[t43].y + x49[t43 + 1].y) / 2,
          line1RelativeIndex: t43,
          line2RelativeIndex: r66
        };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/GuideLinePlugin/utils/createLineGeometry.js
var st3 = 2;
var ct2 = 3;
var lt2 = 3;
var ut2 = 2;
function Rt2(s60) {
  const T38 = s60.width, v58 = s60.unitLength, y51 = T38 / 2, U33 = s60.path;
  if (U33.length === 0)
    return { geometry: new BufferGeometry(), maxV: 0, curvePath: null, curvePoints: null };
  const p66 = new CurvePath();
  U33.forEach((t43) => {
    const o71 = at2(t43);
    o71 && p66.add(o71);
  });
  const O40 = Math.ceil(p66.getLength() * 100);
  p66.arcLengthDivisions = O40;
  const g67 = p66.getPoints(O40), m66 = g67.length;
  if (m66 <= 2)
    return { geometry: new BufferGeometry(), maxV: 0, curvePath: null, curvePoints: null };
  const K32 = U20(g67.map((t43) => [t43.x, t43.z])), Q29 = (m66 - 1) * st3 * ct2, Y23 = 2 * m66, $23 = Y23 * lt2, tt5 = Y23 * ut2, x49 = new Uint32Array(Q29), e48 = new Float32Array($23), V25 = new Float32Array(tt5);
  let j37 = 0, W25 = 0;
  for (let t43 = 0; t43 < m66; t43++) {
    const [o71, E53] = K32[t43][0], N33 = g67[t43], { x: w49, y: R43, z: b55 } = N33, c85 = new Vector3(w49 + o71 * y51, R43 + 0.05, b55 + E53 * y51);
    e48[t43 * 6 + 0] = c85.x, e48[t43 * 6 + 1] = c85.y, e48[t43 * 6 + 2] = c85.z;
    const l63 = new Vector3(w49 - o71 * y51, R43 + 0.05, b55 - E53 * y51);
    e48[t43 * 6 + 3] = l63.x, e48[t43 * 6 + 4] = l63.y, e48[t43 * 6 + 5] = l63.z, j37 += t43 > 0 ? g67[t43 - 1].clone().sub(g67[t43]).length() : 0;
    const A62 = j37 / v58;
    W25 = A62, V25[t43 * 4 + 0] = 0, V25[t43 * 4 + 1] = A62, V25[t43 * 4 + 2] = 1, V25[t43 * 4 + 3] = A62;
    const _32 = new Vector3().lerpVectors(c85, l63, 0.5);
    s60.skipPositions && s60.skipPositions.some((f80) => f80.distanceTo(_32) < 0.26) || t43 !== m66 - 1 && (x49[t43 * 6 + 0] = t43 * 2 + 0, x49[t43 * 6 + 1] = t43 * 2 + 2, x49[t43 * 6 + 2] = t43 * 2 + 1, x49[t43 * 6 + 3] = t43 * 2 + 2, x49[t43 * 6 + 4] = t43 * 2 + 3, x49[t43 * 6 + 5] = t43 * 2 + 1);
  }
  const u72 = [];
  let S52;
  const X24 = [];
  for (let t43 = 0; t43 < m66 - 1; t43++) {
    if (S52 !== void 0 && t43 <= S52)
      continue;
    const o71 = t43 + 1, E53 = {
      x: e48[t43 * 6 + 0],
      y: e48[t43 * 6 + 2]
    }, N33 = {
      x: e48[t43 * 6 + 3],
      y: e48[t43 * 6 + 5]
    }, w49 = {
      x: e48[o71 * 6 + 0],
      y: e48[o71 * 6 + 2]
    }, R43 = {
      x: e48[o71 * 6 + 3],
      y: e48[o71 * 6 + 5]
    }, b55 = u37([E53, N33], [w49, R43]);
    if (b55 && u72.push(t43), !b55 && u72.length) {
      u72.push(t43);
      const c85 = new Vector2(E53.x, E53.y).distanceTo(new Vector2(w49.x, w49.y)), l63 = new Vector2(N33.x, N33.y).distanceTo(new Vector2(R43.x, R43.y)), A62 = 300, _32 = [], k47 = [], f80 = Math.max(0, u72[0] - v58 * A62), et4 = u72[0];
      for (let r66 = f80; r66 < et4; r66++)
        c85 < l63 ? _32.push({ x: e48[r66 * 6 + 0], y: e48[r66 * 6 + 2] }) : _32.push({ x: e48[r66 * 6 + 3], y: e48[r66 * 6 + 5] });
      const D52 = u72[u72.length - 1], L40 = Math.min(m66 - 1, u72[u72.length - 1] + v58 * A62);
      for (let r66 = D52; r66 < L40; r66++)
        c85 < l63 ? k47.push({ x: e48[r66 * 6 + 0], y: e48[r66 * 6 + 2] }) : k47.push({ x: e48[r66 * 6 + 3], y: e48[r66 * 6 + 5] });
      const H39 = v23(_32, k47);
      if (H39) {
        const {
          line1RelativeIndex: r66,
          line2RelativeIndex: nt7,
          x: Z18,
          y: q38
        } = H39, d73 = f80 + r66, h66 = D52 + nt7 + 2;
        for (let n72 = d73; n72 < h66; n72++)
          c85 < l63 ? (e48[n72 * 6 + 0] = Z18, e48[n72 * 6 + 2] = q38) : (e48[n72 * 6 + 3] = Z18, e48[n72 * 6 + 5] = q38), S52 = n72;
        let P55, F45, G31, M48, a62;
        c85 < l63 ? (P55 = e48[f80 * 6 + 1], F45 = e48[d73 * 6 + 1], G31 = e48[h66 * 6 + 1], M48 = e48[L40 * 6 + 1], a62 = (F45 + G31) / 2) : (P55 = e48[f80 * 6 + 4], F45 = e48[d73 * 6 + 4], G31 = e48[h66 * 6 + 4], M48 = e48[L40 * 6 + 4], a62 = (F45 + G31) / 2);
        for (let n72 = f80; n72 < d73; n72++) {
          const z28 = d73 - f80, B42 = (n72 - f80) / z28;
          c85 < l63 ? e48[n72 * 6 + 1] = P55 + (a62 - P55) * B42 : e48[n72 * 6 + 4] = P55 + (a62 - P55) * B42;
        }
        for (let n72 = d73; n72 < h66; n72++)
          c85 < l63 ? e48[n72 * 6 + 1] = a62 : e48[n72 * 6 + 4] = a62;
        for (let n72 = h66; n72 < L40; n72++) {
          const z28 = L40 - h66, B42 = (n72 - h66 + 1) / z28;
          c85 < l63 ? e48[n72 * 6 + 1] = a62 + (M48 - a62) * B42 : e48[n72 * 6 + 4] = a62 + (M48 - a62) * B42;
        }
        X24.push({
          start: d73,
          end: h66
        });
      }
      u72.length = 0;
    }
  }
  const I49 = new Float32Array(Y23);
  X24.forEach((t43) => {
    for (let o71 = 0; o71 < m66 - 1; o71++)
      o71 >= t43.start && o71 <= t43.end ? (I49[o71 * 2 + 0] = 1, I49[o71 * 2 + 1] = 1) : I49[o71] !== 1 && (I49[o71 * 2 + 0] = 0, I49[o71 * 2 + 1] = 0);
  });
  const C52 = new BufferGeometry();
  return C52.setAttribute("position", new BufferAttribute(e48, 3)), C52.setAttribute("uv", new BufferAttribute(V25, 2)), C52.setIndex(new BufferAttribute(x49, 1)), { geometry: C52, maxV: W25, animationWillError: X24, curvePath: p66, curvePoints: g67 };
}
function at2(s60) {
  var T38, v58;
  if (ft2(s60)) {
    const y51 = s60.points.map((p66) => new Vector3().fromArray(p66));
    return new CatmullRomCurve3(y51, (T38 = s60.closed) != null ? T38 : false, (v58 = s60.curve_type) != null ? v58 : "centripetal", s60.tension);
  }
}
function ft2(s60) {
  return s60.type === "CatmullRomCurve3";
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/mode.js
function n37(e48) {
  return e48.toLowerCase().includes("panorama");
}
function o40(e48) {
  return !n37(e48);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/blink.js
var R28 = Object.defineProperty;
var T20 = Object.getOwnPropertySymbols;
var L23 = Object.prototype.hasOwnProperty;
var m42 = Object.prototype.propertyIsEnumerable;
var H13 = (l63, r66, a62) => r66 in l63 ? R28(l63, r66, { enumerable: true, configurable: true, writable: true, value: a62 }) : l63[r66] = a62;
var M22 = (l63, r66) => {
  for (var a62 in r66 || (r66 = {}))
    L23.call(r66, a62) && H13(l63, a62, r66[a62]);
  if (T20)
    for (var a62 of T20(r66))
      m42.call(r66, a62) && H13(l63, a62, r66[a62]);
  return l63;
};
var f38 = /* @__PURE__ */ new Map();
var v24 = /* @__PURE__ */ new Map();
function D31(l63) {
  t9(l63).forEach((a62) => {
    var e48, y51, t43;
    f38.has(a62) || (a62 instanceof HTMLElement ? f38.set(a62, {
      opacity: a62.style.opacity === "" ? void 0 : a62.style.opacity,
      visible: {
        display: a62.style.display,
        visibility: a62.style.visibility
      }
    }) : a62.isObject3D && (a62.material ? a62.material instanceof ShaderMaterial ? f38.set(a62, {
      opacity: (e48 = a62.material.uniforms.opacity) == null ? void 0 : e48.value,
      transparent: a62.material.transparent,
      visible: a62.visible
    }) : f38.set(a62, {
      opacity: (y51 = a62.material) == null ? void 0 : y51.opacity,
      transparent: (t43 = a62.material) == null ? void 0 : t43.transparent,
      visible: a62.visible
    }) : f38.set(a62, {
      visible: a62.visible
    })));
  });
}
function o41(l63) {
  t9(l63).forEach((a62) => {
    const e48 = f38.get(a62);
    e48 && (a62 instanceof HTMLElement && (a62.style.opacity = e48.opacity === void 0 ? "" : e48.opacity, a62.style.display = e48.visible.display, a62.style.visibility = e48.visible.visibility), a62.isObject3D && (a62.visible = e48.visible, a62.material && (a62.material instanceof ShaderMaterial ? (a62.material.uniforms.opacity && (a62.material.uniforms.opacity.value = e48.opacity), a62.material.transparent = e48.transparent) : (a62.material.opacity = e48.opacity, a62.material.transparent = e48.transparent))), f38.delete(a62));
  });
}
function k23(l63, r66) {
  var E53;
  const a62 = (E53 = r66 == null ? void 0 : r66.traverseTHREEObject) != null ? E53 : true;
  let e48 = t9(l63);
  const y51 = [];
  e48.forEach((i65) => {
    i65 && (i65 instanceof HTMLElement ? y51.push(i65) : i65.isObject3D && (a62 ? (y51.push(i65), i65.traverse((c85) => {
      c85 && y51.push(c85);
    })) : y51.push(i65)));
  }), e48 = [...new Set(y51.filter(Boolean))], D31(e48);
  const t43 = x2(M22({
    targets: e48,
    duration: 300,
    easing: "linear",
    direction: "alternate",
    loop: 4,
    autoplay: false,
    update: (i65) => {
      var c85;
      i65.animatables.forEach((p66) => {
        var S52;
        const s60 = p66.target;
        if (!f38.has(s60))
          return;
        const g67 = Number((S52 = f38.get(s60).opacity) != null ? S52 : 1) * (100 - i65.progress) / 100;
        s60 instanceof HTMLElement ? s60.style.opacity = String(g67) : s60.material && (s60.material instanceof ShaderMaterial ? (s60.material.uniforms.opacity && (s60.material.uniforms.opacity.value = g67), s60.material.transparent = true) : (s60.material.opacity = g67, s60.material.transparent = true));
      }), (c85 = r66 == null ? void 0 : r66.updateRender) == null || c85.call(r66);
    }
  }, r66));
  t43.preComplete = () => {
    t43 != null && t43.completed || (t43 == null || t43.pause(), o41(e48), setTimeout(() => {
      var i65;
      return (i65 = r66 == null ? void 0 : r66.updateRender) == null ? void 0 : i65.call(r66);
    }));
  };
  const u72 = v24.get(l63);
  return u72 == null || u72.pause(), u72 == null || u72.seek(0), v24.set(l63, t43), t43.play(), t43.finished.then(() => {
    var i65;
    o41(e48), setTimeout(() => {
      v24.get(l63) === t43 && v24.delete(l63);
    }, 1e3), (i65 = r66 == null ? void 0 : r66.updateRender) == null || i65.call(r66);
  }), t43;
}
function q17(l63, r66) {
  return k23(l63, M22({
    update: (a62) => {
      var e48;
      a62.animatables.forEach((y51) => {
        var c85, p66;
        const t43 = y51.target;
        if (!f38.has(t43))
          return;
        const u72 = f38.get(t43), i65 = Number((p66 = (c85 = u72 == null ? void 0 : u72.opacity) != null ? c85 : r66 == null ? void 0 : r66.maxOpacity) != null ? p66 : 1) * (a62.progress / 100);
        t43 instanceof HTMLElement ? (t43.style.opacity = String(i65), t43.style.visibility = "visible") : t43.isObject3D && (t9(l63).includes(t43) && (t43.visible = true), t43.material && (t43.material instanceof ShaderMaterial ? (t43.material.uniforms.opacity && (t43.material.uniforms.opacity.value = i65), t43.material.transparent = true) : (t43.material.opacity = i65, t43.material.transparent = true)));
      }), (e48 = r66 == null ? void 0 : r66.updateRender) == null || e48.call(r66);
    }
  }, r66));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/tag/tagCheck.js
function n38(e48) {
  return e48.stickType === "Plane";
}
function i36(e48) {
  return e48.stickType === "3DPoint";
}
function o42(e48) {
  return e48.stickType === "Model" && e48.contentType === "MediaModel";
}
function c43(e48) {
  return e48.stickType === "Model" && e48.contentType === "Model";
}
function T21(e48) {
  return e48.stickType === "Plane" && e48.contentType === "MediaPlane";
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/debounce.js
var i37 = (n72, o71 = 16.666666666666668) => {
  let e48 = null;
  const t43 = n72;
  return (...u72) => {
    e48 && clearTimeout(e48), e48 = setTimeout(() => {
      t43 == null || t43(...u72), e48 && clearTimeout(e48), e48 = null;
    }, o71);
  };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/throttle.js
function i38(n72, e48 = 200) {
  let t43;
  return function(...u72) {
    t43 || (n72.apply(this, u72), t43 = setTimeout(function() {
      t43 = null;
    }, e48));
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/tag/format.js
function o43(e48) {
  return e48.stickType ? e48.stickType : e48.pointType === "PointTag" && e48.dimensionType === "3D" ? "3DPoint" : e48.pointType === "PlaneTag" ? "Plane" : "2DPoint";
}
function p26(e48) {
  var t43, i65, r66, a62;
  if (e48.stickType || (e48.stickType = o43(e48)), e48.contentType === "VRLink" || e48.contentType === "PanoLink" || e48.contentType === "Link") {
    const n72 = e48;
    !((i65 = (t43 = n72.data) == null ? void 0 : t43.icon) != null && i65.url) && !((a62 = (r66 = n72.style) == null ? void 0 : r66.point) != null && a62.url) && (n72.data.icon = {
      url: "//vr-static.realsee-cdn.cn/release/web/test.09dee741.png",
      steps: 28
    });
  }
  return e48.extraData && (e48.data ? e48.data.extraData = e48.extraData : e48.data = {
    extraData: e48.extraData
  }), e48;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/audio.js
var q18 = Object.defineProperty;
var c44 = (V25, e48, A62) => e48 in V25 ? q18(V25, e48, { enumerable: true, configurable: true, writable: true, value: A62 }) : V25[e48] = A62;
var i39 = (V25, e48, A62) => (c44(V25, typeof e48 != "symbol" ? e48 + "" : e48, A62), A62);
var r33 = "data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";
var s38 = {};
var d36 = ((V25) => (V25.Default = "default", V25.GetAudioDuration = "getAudioDuration", V25.PlayAudio = "playAudio", V25))(d36 || {});
function L24(V25, e48) {
  const A62 = (e48 == null ? void 0 : e48.namespace) || "default", t43 = s38[A62] || (s38[A62] = []);
  let n72 = t43.find((o71) => !o71.realSrc || o71.realSrc === r33);
  return n72 || (console.warn("未找到缓存音频，已新建", s38), n72 = new u38(r33), t43.push(n72)), V25 && (n72.src = V25), n72;
}
function a32(V25, e48) {
  const A62 = (e48 == null ? void 0 : e48.namespace) || "default", t43 = s38[A62] || (s38[A62] = []), n72 = V25 - t43.length;
  if (!(n72 <= 0))
    for (let o71 = 0; o71 < n72; o71++)
      t43.push(new u38(r33));
}
var u38 = class extends (/* @__PURE__ */ (() => typeof Audio == "undefined" ? class {
} : Audio)()) {
  constructor(A62) {
    super(A62);
    i39(this, "preload", "auto");
    i39(this, "crossOrigin", "anonymous");
    i39(this, "realSrc", "");
    i39(this, "inited", false);
    i39(this, "removeDocumentEventListener");
    this.realSrc = A62 != null ? A62 : "", this.muted = true, super.autoplay = true, super.addEventListener("ended", () => {
      this.src = "";
    });
    const t43 = () => h34(this);
    document.addEventListener("click", t43), document.addEventListener("touchend", t43), this.removeDocumentEventListener = () => {
      document.removeEventListener("click", t43), document.removeEventListener("touchend", t43);
    };
  }
  get isBlankAudio() {
    return this.realSrc === r33 || !this.realSrc;
  }
  get src() {
    return super.src;
  }
  set src(A62) {
    super.src = A62, this.realSrc = A62, this.removeDocumentEventListener();
  }
  get muted() {
    return super.muted;
  }
  set muted(A62) {
    super.muted = A62;
  }
  clear() {
    this.currentTime = 0, this.src = r33;
  }
};
function h34(V25) {
  V25 && (V25.inited || (V25.src && (V25.inited = true, V25.removeDocumentEventListener()), V25.src === r33 && V25.play()));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/typings/tag/TagConfig.js
var e31 = {
  visibleConfig: {
    intersectRaycaster: {
      enabled: true,
      distanceAccuracy: 0.01,
      checkPoints: "corner",
      needPassed: 1
    }
  },
  clickable: true,
  simulate3D: false,
  renderType: "Dom"
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/tag.config.js
var e32 = {
  globalConfig: {
    visibleConfig: {
      followModelVisibility: true
    },
    unfoldedConfig: {
      autoUnfold: {
        enable: true,
        strategy: "MinimumDistance",
        distance: { max: 5 }
      }
    },
    tag3DConfig: {
      ratio: 35e-4
    },
    popoverConfig: {
      enabled: false,
      // debug: true,
      trigger: "hover",
      triggerDelay: 500,
      placement: "auto",
      autoPlacementBaseSpace: {
        top: 0.2,
        right: 0.15,
        bottom: 0.2
      },
      transitionDuration: 100,
      // theme: 'light',
      toolbar: {
        showMore: true,
        showShare: true
      },
      viewMoreText: "查看更多"
    }
  },
  contentTypeConfig: {
    "[Mapview]": {
      unfoldedConfig: {
        autoUnfold: {
          enable: false,
          distance: { max: 9999 }
        }
      }
    },
    "[Floorplan]": {
      unfoldedConfig: {
        autoUnfold: {
          enable: false,
          distance: { max: 9999 }
        }
      }
    },
    "Any-Audio-plane": {
      unfoldedConfig: {
        keep: "unfolded"
      }
    },
    Link: {
      unfoldedConfig: {
        // VR 跳转标签没有收起状态
        keep: "unfolded"
      }
    },
    Panorama: {
      unfoldedConfig: {
        // VR 跳转标签没有收起状态
        keep: "unfolded"
      }
    },
    VRLink: {
      unfoldedConfig: {
        // VR 跳转标签没有收起状态
        keep: "unfolded"
      }
    },
    PanoLink: {
      unfoldedConfig: {
        // VR 跳转标签没有收起状态
        keep: "unfolded"
      }
    },
    MediaPlane: {
      unfoldedConfig: {
        keep: "unfolded"
      },
      initialData: {
        autoplayConfig: {
          autoplayCarousel: true,
          autoplayVideo: false,
          autoplayVideoInCarousel: false
        }
      }
    },
    "Model-Any": {
      unfoldedConfig: {
        keep: "unfolded"
      },
      visibleConfig: {
        visibleFiveMode: "all"
      }
    },
    Marketing: {
      popoverConfig: {
        enabled: false
      }
    },
    Audio: {
      popoverConfig: {
        toolbar: {
          showMore: false
        }
      }
    }
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/normalPositionToPositions.js
function d37(t43, e48, a62) {
  const r66 = new Plane().setFromNormalAndCoplanarPoint(a62, e48), o71 = e48.clone().sub(t43).cross(new Vector3(0, 1, 0)).setLength(0.01), n72 = new Vector3(0, 0.01, 0);
  return [
    e48.clone().sub(o71).sub(n72),
    // 左下
    e48.clone().add(o71).sub(n72),
    // 右下
    e48.clone().add(o71).add(n72),
    // 右上
    e48.clone().sub(o71).add(n72)
    // 左上
  ].map((c85) => r66.projectPoint(c85, new Vector3()));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/device.js
var e33 = navigator.userAgent.toLowerCase().indexOf("iphone") !== -1;
navigator.userAgent.toLowerCase().indexOf("android");
var o44 = navigator.userAgent.toLowerCase().indexOf("micromessenger") !== -1;
var n39 = e33 && o44;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/math/pointsIsRectangle.js
function r34(o71) {
  if (o71.length !== 4)
    return false;
  const [n72, t43, p66, c85] = o71, s60 = n72.distanceTo(t43), e48 = t43.distanceTo(p66), a62 = p66.distanceTo(c85), i65 = c85.distanceTo(n72), d73 = n72.distanceTo(p66), T38 = t43.distanceTo(c85);
  return s60 === a62 && e48 === i65 && d73 === T38;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/Quadrangle.js
var b26 = Object.defineProperty;
var m43 = (a62, n72, e48) => n72 in a62 ? b26(a62, n72, { enumerable: true, configurable: true, writable: true, value: e48 }) : a62[n72] = e48;
var x21 = (a62, n72, e48) => (m43(a62, typeof n72 != "symbol" ? n72 + "" : n72, e48), e48);
var M23 = class extends Mesh {
  /**
   * @description 生成一个四边形的Mesh
   * @param {Vector3Position[]} points: 四个顶点的坐标, [左下，右下，右上，左上]
   */
  constructor(e48, f80, t43) {
    if (e48.length !== 4)
      throw new Error("QuadrangleMesh: Invalid number of points, it's not a quadrangle");
    const [s60, p66, u72, l63] = e48, o71 = c9(...e48), A62 = [s60.clone().sub(o71), p66.clone().sub(o71), u72.clone().sub(o71), l63.clone().sub(o71)], c85 = new z12(A62, t43);
    super(c85, f80);
    x21(this, "name", "QuadrangleMesh");
    this.position.copy(o71);
  }
  removeFromParent() {
    const e48 = this.parent;
    return e48 !== null && e48.remove(this), this;
  }
};
var z12 = class extends BufferGeometry {
  /**
   * @description 生成一个四边形的BufferGeometry，原点取 points[0]，即左下角
   * @param {Vector3Position[]} points: 四个顶点的坐标, [左下，右下，右上，左上]
   */
  constructor(e48, f80) {
    super();
    x21(this, "name", "QuadrangleGeometry");
    x21(this, "points");
    this.points = e48;
    const t43 = f80 != null ? f80 : r34(e48) ? 64 : 1;
    if (e48.length !== 4) {
      console.error("Invalid number of points, it's not a quadrangle");
      return;
    }
    const [s60, p66, u72, l63] = e48, [o71, A62, c85, d73] = [new Vector2(0, 0), new Vector2(1, 0), new Vector2(1, 1), new Vector2(0, 1)], y51 = [], h66 = [];
    y51.push(...s60.toArray()), h66.push(...o71.toArray());
    for (let r66 = 1; r66 < t43; r66++)
      y51.push(
        s60.x + (p66.x - s60.x) * r66 / t43,
        s60.y + (p66.y - s60.y) * r66 / t43,
        s60.z + (p66.z - s60.z) * r66 / t43
      ), h66.push(o71.x + (A62.x - o71.x) * r66 / t43, o71.y + (A62.y - o71.y) * r66 / t43);
    y51.push(...p66.toArray()), h66.push(...A62.toArray()), y51.push(...u72.toArray()), h66.push(...c85.toArray());
    for (let r66 = 1; r66 < t43; r66++)
      y51.push(
        u72.x + (l63.x - u72.x) * r66 / t43,
        u72.y + (l63.y - u72.y) * r66 / t43,
        u72.z + (l63.z - u72.z) * r66 / t43
      ), h66.push(c85.x + (d73.x - c85.x) * r66 / t43, c85.y + (d73.y - c85.y) * r66 / t43);
    y51.push(...l63.toArray()), h66.push(...d73.toArray());
    const w49 = [];
    for (let r66 = 0; r66 < t43; r66++)
      w49.push(r66, r66 + 1, t43 * 2 - r66, r66, t43 * 2 - r66, t43 * 2 + 1 - r66);
    this.setAttribute("position", new BufferAttribute(new Float32Array(y51), 3)), this.setAttribute("uv", new BufferAttribute(new Float32Array(h66), 2)), this.setIndex(new BufferAttribute(new Uint32Array(w49), 1));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/loadVideoTexture.js
function s39(i65, r66) {
  let n72 = !o44;
  const e48 = r66 != null ? r66 : document.createElement("video");
  e48.preload = "metadata", e48.crossOrigin = "anonymous", e48.muted = true, e48.loop = true, e48.playsInline = true, e48.autoplay = true;
  const t43 = new VideoTexture(e48);
  t43.minFilter = LinearFilter, t43.magFilter = LinearFilter, t43.encoding = sRGBEncoding, t43.metadataLoaded = false, e48.src = i65;
  const o71 = () => {
    t43.metadataLoaded || (t43.dispatchEvent({ type: "videoLoaded" }), t43.metadataLoaded = true);
  };
  if (o44 || (e48.onloadedmetadata = () => {
    o71();
  }), o44) {
    const u72 = () => {
      if (!n72) {
        if (!e48.paused) {
          o71();
          return;
        }
        e48.muted = true, e48.play().then(() => {
          n72 = true, e48.pause(), e48.currentTime = 0, o71();
        }).catch(() => {
          console.warn("video auto play error");
        });
      }
    };
    document.addEventListener("click", u72, { once: true }), document.addEventListener("touchend", u72, { once: true });
  }
  return t43;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/getPositionsByObjectFit.js
function H14(d73, r66, a62) {
  if (d73 === "fill")
    return r66;
  if (d73 === "contain") {
    const [t43, e48, c85, n72] = r66, u72 = t43.distanceTo(e48), i65 = c85.distanceTo(n72), f80 = t43.distanceTo(n72), h66 = e48.distanceTo(c85), w49 = u72, b55 = f80, m66 = w49 / b55;
    if (m66 > a62) {
      const o71 = b55 * a62, s60 = new Vector3().subVectors(e48, t43).multiplyScalar((u72 - o71) / 2 / u72), l63 = new Vector3().subVectors(c85, n72).multiplyScalar((i65 - o71) / 2 / i65);
      return [t43.clone().add(s60), e48.clone().sub(s60), c85.clone().sub(l63), n72.clone().add(l63)];
    } else if (m66 < a62) {
      const o71 = w49 / a62, s60 = new Vector3().subVectors(n72, t43).multiplyScalar((f80 - o71) / 2 / f80), l63 = new Vector3().subVectors(c85, e48).multiplyScalar((h66 - o71) / 2 / h66);
      return [t43.clone().add(s60), e48.clone().add(l63), c85.clone().sub(l63), n72.clone().sub(s60)];
    } else
      return r66;
  } else
    return console.warn(`objectFit: ${d73} is not supported yet`), r66;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/FragmentTransparencyMaterial.js
var i40 = Object.defineProperty;
var o45 = (n72, a62, e48) => a62 in n72 ? i40(n72, a62, { enumerable: true, configurable: true, writable: true, value: e48 }) : n72[a62] = e48;
var r35 = (n72, a62, e48) => (o45(n72, typeof a62 != "symbol" ? a62 + "" : a62, e48), e48);
var s40 = class extends ShaderMaterial {
  constructor(e48) {
    super();
    r35(this, "transparent", false);
    r35(this, "blending", CustomBlending);
    r35(this, "blendSrc", SrcAlphaFactor);
    r35(this, "blendDst", OneMinusSrcAlphaFactor);
    r35(this, "blendSrcAlpha", OneFactor);
    r35(this, "blendDstAlpha", OneMinusSrcAlphaFactor);
    r35(
      this,
      "vertexShader",
      /* glsl */
      `
    varying vec2 vUv;
    void main() {
      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
  `
    );
    r35(
      this,
      "fragmentShader",
      /* glsl */
      `
    uniform sampler2D map;
    // 纹理坐标
    varying vec2 vUv;
    void main() {
      gl_FragColor = texture2D(map, vUv);
    }
  `
    );
    this.uniforms = {
      map: { value: e48 }
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/constants.js
var F25 = { Z_FIGHTING_OFFSET: 0.01 };

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/model/mediaPlane.js
var H15 = Object.defineProperty;
var S30 = (u72, a62, e48) => a62 in u72 ? H15(u72, a62, { enumerable: true, configurable: true, writable: true, value: e48 }) : u72[a62] = e48;
var r36 = (u72, a62, e48) => (S30(u72, typeof a62 != "symbol" ? a62 + "" : a62, e48), e48);
var v25 = (u72, a62, e48) => new Promise((t43, s60) => {
  var i65 = (n72) => {
    try {
      o71(e48.next(n72));
    } catch (h66) {
      s60(h66);
    }
  }, d73 = (n72) => {
    try {
      o71(e48.throw(n72));
    } catch (h66) {
      s60(h66);
    }
  }, o71 = (n72) => n72.done ? t43(n72.value) : Promise.resolve(n72.value).then(i65, d73);
  o71((e48 = e48.apply(u72, a62)).next());
});
var C34 = class extends Mesh {
  constructor() {
    super(...arguments);
    r36(this, "name", "MediaPlane");
    r36(this, "src");
  }
  removeFromParent() {
    const e48 = this.parent;
    return e48 !== null && e48.remove(this), this;
  }
  dispose() {
    this.traverse((e48) => {
      if (e48.isMesh) {
        const t43 = e48;
        t43.geometry.dispose(), (t43.material instanceof Array ? t43.material : [t43.material]).forEach((i65) => {
          i65.dispose();
        });
      }
    });
  }
};
var z13 = class extends C34 {
  constructor(e48, t43, s60) {
    var o71;
    super();
    r36(this, "name", "PanoTagPluginImagePlane");
    this.src = e48;
    const i65 = (o71 = s60 == null ? void 0 : s60.resolveZFighting) != null ? o71 : true;
    let d73 = t43;
    if (i65) {
      const n72 = l22(t43).multiplyScalar(F25.Z_FIGHTING_OFFSET);
      d73 = t43.map((h66) => h66.clone().add(n72));
    }
    u18(e48).then(({ texture: n72, transparent: h66 }) => {
      var p66;
      const M48 = new MeshBasicMaterial({ map: n72, transparent: h66 }), c85 = H14(
        (p66 = s60 == null ? void 0 : s60.objectFit) != null ? p66 : "contain",
        d73,
        n72.image.width / n72.image.height
      ), l63 = c9(...c85), m66 = c85.map((y51) => y51.clone().sub(l63)), f80 = new z12(m66);
      this.position.copy(l63), this.geometry = f80, this.material = M48;
    }).catch((n72) => {
      console.error(`Imageplane error: ${n72 == null ? void 0 : n72.message}`);
    });
  }
};
var D32 = class extends C34 {
  // eslint-disable-next-line max-params
  constructor(e48, t43, s60) {
    const {
      videoCoverSrc: i65,
      objectFit: d73 = "contain",
      playButton: o71 = "withText",
      paused: n72 = true,
      videoTextureMap: h66,
      ImageTextureMap: M48,
      domEvents: c85
    } = s60 != null ? s60 : {};
    super();
    r36(this, "isVideoPlane", true);
    r36(this, "name", "PanoTagPluginImagePlane");
    r36(this, "videoInstance");
    r36(this, "onVideoReady");
    r36(this, "objectFit");
    r36(this, "buttonSrc");
    r36(this, "videoCoverSrc");
    r36(this, "domEvents");
    r36(this, "disposers", []);
    r36(this, "cornerPoints");
    r36(this, "videoMesh");
    r36(this, "coverMesh");
    r36(this, "buttonMesh");
    r36(this, "videoTextureMap");
    r36(this, "ImageTextureMap");
    this.cornerPoints = t43, this.src = e48, this.buttonSrc = /* @__PURE__ */ (() => o71 === "withText" ? a28 : o71 === "withoutText" ? g26 : typeof o71 == "string" ? o71 : g26)(), this.videoCoverSrc = i65, this.objectFit = d73, this.videoTextureMap = h66, this.ImageTextureMap = M48, this.domEvents = c85, this.position.copy(c9(...t43)), this.videoCoverSrc && n72 ? this.addCoverMesh().then(() => this.addButtonMesh()) : this.addVideoMesh().then(() => {
      n72 ? this.addButtonMesh() : this.play(true);
    }), this.addEventListener("removed", () => {
      this.remove(...this.children);
    }), this.addEventListener("dispose", () => {
      var l63;
      (l63 = this.disposers) == null || l63.forEach((m66) => m66 == null ? void 0 : m66());
    });
  }
  play(e48 = false) {
    return v25(this, null, function* () {
      this.videoMesh || (yield this.addVideoMesh()), this.showPlayUI(), this.videoInstance.paused && this.videoInstance.play().then(() => this.showPlayUI()).catch((t43) => {
        this.pause(), console.error("play error", t43);
      }), this.videoInstance.muted = e48, this.render();
    });
  }
  pause() {
    this.videoInstance && (this.videoInstance.pause(), this.showPauseUI().then(() => this.render()));
  }
  initialRenderHooks(e48) {
    const s60 = e48(() => {
      var i65;
      this.videoMesh && ((i65 = this.videoInstance) == null ? void 0 : i65.paused) === false && (this.videoMesh.needsRender = true);
    });
    this.disposers.push(() => s60);
  }
  showPlayUI() {
    this.coverMesh && (this.coverMesh.visible = false), this.remove(this.buttonMesh), this.videoMesh.visible = true;
  }
  showPauseUI() {
    return v25(this, null, function* () {
      this.coverMesh ? (this.coverMesh.visible = true, this.videoMesh && (this.videoMesh.visible = false)) : (yield this.addCoverMesh(), this.coverMesh && (this.videoMesh.visible = false)), this.addButtonMesh().then(() => this.render());
    });
  }
  render() {
    var e48;
    this.videoMesh && (this.videoMesh.needsRender = true), this.coverMesh && (this.coverMesh.needsRender = true), this.buttonMesh && (this.buttonMesh.needsRender = true), this.videoMesh && ((e48 = this.videoInstance) == null ? void 0 : e48.paused) === false && (this.videoMesh.needsRender = true);
  }
  addCoverMesh() {
    return v25(this, null, function* () {
      if (this.children.includes(this.coverMesh))
        return;
      const e48 = yield (() => v25(this, null, function* () {
        if (this.coverMesh)
          return this.coverMesh;
        if (!this.videoCoverSrc)
          return;
        const { texture: t43, transparent: s60 } = yield this.getImageTexture(this.videoCoverSrc), i65 = new MeshBasicMaterial({ transparent: false, map: t43 }), d73 = H14(this.objectFit, this.cornerPoints, t43.image.width / t43.image.height), o71 = new M23(d73, i65);
        return o71.position.copy(new Vector3(0, 0, 0)), o71.name = "videoCoverMesh", o71;
      }))();
      return e48 && (this.children.includes(this.coverMesh) || (this.add(e48), this.coverMesh = e48)), e48;
    });
  }
  addVideoMesh() {
    return v25(this, null, function* () {
      var s60;
      if (this.children.includes(this.videoMesh))
        return;
      const e48 = yield (() => v25(this, null, function* () {
        if (this.videoMesh)
          return this.videoMesh;
        if (!this.src)
          return;
        const i65 = this.getVideoTexture(this.src), d73 = new MeshBasicMaterial({ transparent: false, map: i65 }), o71 = yield new Promise((h66) => {
          i65.metadataLoaded ? h66(H14(this.objectFit, this.cornerPoints, i65.image.videoWidth / i65.image.videoHeight)) : i65.addEventListener(
            "videoLoaded",
            () => h66(H14(this.objectFit, this.cornerPoints, i65.image.videoWidth / i65.image.videoHeight))
          );
        }), n72 = new M23(o71, d73);
        return n72.name = "videoMesh", n72.position.copy(new Vector3(0, 0, 0)), n72;
      }))();
      if (!e48)
        return;
      this.domEvents.addAutoBindEventListener(
        e48,
        "click",
        () => {
          !this.videoInstance.paused && this.videoInstance.muted ? this.videoInstance.muted = false : this.pause();
        },
        { noEmitWhenHide: true }
      );
      const t43 = e48.material.map.image;
      return (s60 = this.onVideoReady) == null || s60.call(this, t43), t43.addEventListener("playing", () => {
        this.coverMesh || this.remove(this.buttonMesh), this.render();
      }), t43.addEventListener("pause", () => {
        this.videoInstance.paused && (this.showPauseUI(), this.render());
      }), this.children.includes(this.videoMesh) || (this.add(e48), this.videoMesh = e48, this.videoInstance = t43), e48;
    });
  }
  addButtonMesh() {
    return v25(this, null, function* () {
      if (this.children.includes(this.buttonMesh))
        return;
      const e48 = yield (() => v25(this, null, function* () {
        var m66, f80, p66, y51;
        if (this.buttonMesh)
          return this.buttonMesh;
        const t43 = (f80 = (m66 = this.videoMesh) == null ? void 0 : m66.geometry.points[0].distanceTo(this.videoMesh.geometry.points[3])) != null ? f80 : 1 / 0, s60 = (y51 = (p66 = this.coverMesh) == null ? void 0 : p66.geometry.points[0].distanceTo(this.coverMesh.geometry.points[3])) != null ? y51 : 1 / 0, i65 = this.cornerPoints[0].distanceTo(this.cornerPoints[3]), o71 = Math.min(t43, s60, i65) / i65 * 0.3, { texture: n72, transparent: h66 } = yield this.getImageTexture(this.buttonSrc), M48 = H14("contain", this.cornerPoints, n72.image.width / n72.image.height), c85 = new M23(M48, new s40(n72));
        c85.position.copy(new Vector3(0, 0, 0)), c85.name = "buttonMesh", c85.scale.set(o71, o71, o71), this.domEvents.addAutoBindEventListener(
          c85,
          "click",
          () => {
            this.play();
          },
          { noEmitWhenHide: true }
        );
        const l63 = l22(M48).multiplyScalar(F25.Z_FIGHTING_OFFSET);
        return c85.position.add(l63), c85;
      }))();
      return this.children.includes(this.buttonMesh) || (this.add(e48), this.buttonMesh = e48), e48;
    });
  }
  getImageTexture(e48) {
    return v25(this, null, function* () {
      var s60, i65;
      if ((s60 = this.ImageTextureMap) != null && s60.has(e48))
        return this.ImageTextureMap.get(e48);
      const t43 = yield u18(e48);
      return (i65 = this.ImageTextureMap) == null || i65.set(e48, t43), t43;
    });
  }
  getVideoTexture(e48) {
    var s60, i65;
    if ((s60 = this.videoTextureMap) != null && s60.has(e48))
      return this.videoTextureMap.get(e48);
    const t43 = s39(e48);
    return (i65 = this.videoTextureMap) == null || i65.set(e48, t43), t43;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/Cache.js
var h35 = Object.defineProperty;
var y21 = Object.getOwnPropertySymbols;
var b27 = Object.prototype.hasOwnProperty;
var g28 = Object.prototype.propertyIsEnumerable;
var c45 = (i65, t43, e48) => t43 in i65 ? h35(i65, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : i65[t43] = e48;
var n40 = (i65, t43) => {
  for (var e48 in t43 || (t43 = {}))
    b27.call(t43, e48) && c45(i65, e48, t43[e48]);
  if (y21)
    for (var e48 of y21(t43))
      g28.call(t43, e48) && c45(i65, e48, t43[e48]);
  return i65;
};
var o46 = (i65, t43, e48) => (c45(i65, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var l34 = class _l {
  constructor() {
    o46(this, "cache_raycasterDistance", /* @__PURE__ */ new Map());
    o46(this, "cache_visible", /* @__PURE__ */ new Map());
  }
  clear() {
    this.cache_visible.clear(), this.cache_raycasterDistance.clear();
  }
  static generateCameraTagKey(t43, e48, a62 = 3) {
    const s60 = n40(n40({}, e48.five.getCurrentState()), t43), r66 = s60.mode === "Panorama" ? e48.workUtil.getObserverPosition(s60.panoIndex) : e48.five.camera.position;
    return r66 ? [
      //
      r66.x.toFixed(a62),
      r66.y.toFixed(a62),
      r66.z.toFixed(a62),
      e48.id
    ].join(",") : void 0;
  }
  getVisible(t43, e48, a62 = 1) {
    const s60 = _l.generateCameraTagKey(e48, t43, a62);
    if (s60)
      return this.cache_visible.get(s60);
  }
  setVisible(t43, e48, a62, s60 = 1) {
    const r66 = _l.generateCameraTagKey(e48, t43, s60);
    r66 && this.cache_visible.set(r66, a62);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/typescript/entries.js
function t32(e48) {
  return Object.entries(e48);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/tag/adaptConfig.js
function f39(e48) {
  var l63, d73;
  typeof e48.visibleConfig == "object" && e48.visibleConfig.keep && (e48.visibleConfig.keep === "visible" ? e48.visibleConfig = { keep: e48.visibleConfig.keep, visibleFiveMode: (l63 = e48.visibleConfig) == null ? void 0 : l63.visibleFiveMode } : e48.visibleConfig.keep === "hidden" && (e48.visibleConfig = { keep: e48.visibleConfig.keep })), typeof e48.unfoldedConfig == "object" && (e48.unfoldedConfig.disableFold && (e48.unfoldedConfig = { keep: "unfolded" }), e48.unfoldedConfig.disableUnfold && (e48.unfoldedConfig = { keep: "folded" }), e48.unfoldedConfig.keep && (e48.unfoldedConfig = { keep: e48.unfoldedConfig.keep }));
  const i65 = (d73 = e48.initialState) != null ? d73 : {};
  return typeof e48.unfoldedConfig == "object" && (e48.unfoldedConfig.keep === "unfolded" ? i65.unfolded = true : e48.unfoldedConfig.keep === "folded" && (i65.unfolded = false)), typeof e48.visibleConfig == "object" && (e48.visibleConfig.keep === "visible" ? i65.visible = true : e48.visibleConfig.keep === "hidden" && (i65.visible = false)), e48.initialState = i65, e48;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/controller/TagUtil.js
var $13 = Object.defineProperty;
var q19 = Object.defineProperties;
var z14 = Object.getOwnPropertyDescriptors;
var S31 = Object.getOwnPropertySymbols;
var G18 = Object.prototype.hasOwnProperty;
var X18 = Object.prototype.propertyIsEnumerable;
var D33 = (a62, n72, e48) => n72 in a62 ? $13(a62, n72, { enumerable: true, configurable: true, writable: true, value: e48 }) : a62[n72] = e48;
var W13 = (a62, n72) => {
  for (var e48 in n72 || (n72 = {}))
    G18.call(n72, e48) && D33(a62, e48, n72[e48]);
  if (S31)
    for (var e48 of S31(n72))
      X18.call(n72, e48) && D33(a62, e48, n72[e48]);
  return a62;
};
var Q19 = (a62, n72) => q19(a62, z14(n72));
var s41 = (a62, n72, e48) => (D33(a62, typeof n72 != "symbol" ? n72 + "" : n72, e48), e48);
var zt4 = class extends F9 {
  constructor(e48) {
    super(e48);
    s41(this, "tags", []);
    s41(this, "cache", new l34());
    s41(this, "config", e32);
    s41(this, "renderQueue", /* @__PURE__ */ new Map());
    s41(this, "params");
    s41(this, "mediaStore", h10({
      currentMediaElement: null
    }));
    s41(this, "store", {
      disposers: [],
      disposed: false,
      resizeObserverDisposerAdding: false,
      css3DRenderDisposer: /* @__PURE__ */ new Map()
    });
    s41(this, "domEvents", new Q15(this.five));
    s41(this, "_cache_pointTag");
    s41(this, "_cache_2DPointTag");
    s41(this, "_cache_css3DTag");
    s41(this, "_container", null);
    s41(this, "timeoutIds", []);
    s41(this, "whyHide", (e49) => {
      const t43 = this.getTagById(e49);
      return t43 ? t43.whyHide() : { reason: `tag ${e49} not found` };
    });
    s41(this, "loadVideoFirstFrame", () => {
      n39 && this.hooks.emit("loadVideoFirstFrame");
    });
    s41(this, "tagsDo", (e49, t43, i65 = true) => {
      let o71 = [...e49 != null ? e49 : this.tags].sort((r66, f80) => r66.getSquaredDistance() - f80.getSquaredDistance());
      this.timeoutIds.forEach((r66) => clearTimeout(r66)), this.timeoutIds.length = 0;
      for (let r66 = 0; r66 < 20; r66++) {
        const f80 = o71[r66];
        f80 && (t43(f80), i65 && (f80._updating = false));
      }
      o71 = o71.slice(20);
      const c85 = o71.length > 1e3, p66 = c85 ? 30 : 17, l63 = c85 ? 1 : 3;
      for (let r66 = 0; r66 < o71.length; r66 += l63) {
        const f80 = [];
        for (let d73 = 0; d73 < l63; d73++)
          o71[r66 + d73] && f80.push(o71[r66 + d73]);
        f80.forEach((d73) => {
          i65 && (d73._updating = true);
        });
        const T38 = setTimeout(() => {
          f80.forEach((d73) => {
            t43(d73), i65 && (d73._updating = false);
          });
        }, r66 * p66);
        this.timeoutIds.push(T38);
      }
    });
    this.mediaStore.subscribe(({ currentMediaElement: t43 }) => {
      this.tags.forEach((i65) => {
        var o71;
        if (i65.mediaPlane instanceof D32 && t43 !== i65.mediaPlane.videoInstance) {
          if (!((o71 = i65.mediaPlane.videoInstance) != null && o71.src) || t43 === i65.mediaPlane.videoInstance)
            return;
          i65.mediaPlane.pause();
        }
      });
    });
  }
  get container() {
    var e48;
    return this._container || ((e48 = this.five.getElement()) == null ? void 0 : e48.parentElement);
  }
  set container(e48) {
    this._container = e48;
  }
  // eslint-disable-next-line accessor-pairs
  set tagsLengthWillUpdate(e48) {
    e48 && (this._cache_pointTag = this.tags.filter((t43) => t43.stickType === "2DPoint" || t43.stickType === "3DPoint").filter((t43) => t43.position), this._cache_2DPointTag = this.tags.filter((t43) => t43.stickType === "2DPoint").filter((t43) => t43.position), this._cache_css3DTag = this.tags.filter(
      (t43) => t43.stickType === "3DPoint" || t43.stickType === "Plane" || t43.stickType === "Model" && t43.contentType === "MediaModel"
    ).filter((t43) => {
      const i65 = t43.computeRenderType();
      return i65 === "BehindDom" || i65 === "Dom";
    }));
  }
  get filterPointTag() {
    var e48;
    return (e48 = this._cache_pointTag) != null ? e48 : [];
  }
  get filter2DPointTag() {
    var e48;
    return (e48 = this._cache_2DPointTag) != null ? e48 : [];
  }
  get filterCSS3DTag() {
    var e48;
    return (e48 = this._cache_css3DTag) != null ? e48 : [];
  }
  updateFive(e48) {
    super.updateFive(e48), this.domEvents.dispose(), this.domEvents = new Q15(e48);
  }
  addRenderQueue(e48) {
    var c85, p66;
    const { type: t43, keys: i65 = [], tags: o71 = [] } = e48;
    this.renderQueue.has(t43) ? this.renderQueue.set(t43, {
      keys: Array.from(/* @__PURE__ */ new Set([...(c85 = this.renderQueue.get(t43).keys) != null ? c85 : [], ...i65])),
      tags: Array.from(/* @__PURE__ */ new Set([...(p66 = this.renderQueue.get(t43).tags) != null ? p66 : [], ...o71]))
    }) : this.renderQueue.set(t43, { keys: i65, tags: o71 });
  }
  getTagById(e48) {
    const t43 = this.tags.find((i65) => i65.id === e48);
    if (!t43) {
      console.warn(`getTagById Error: can't find tag id: ${e48}`);
      return;
    }
    return t43;
  }
  /** 暂停当前标签内进行的所有多媒体 */
  pauseCurrentMedia() {
    this.mediaStore.set({ currentMediaElement: null });
  }
  /**
   * @description 获取标签配置
   */
  getTagConfig(e48, t43) {
    var p66, l63, r66;
    const i65 = this.calculateTagConfig(e48, { useCache: t43 == null ? void 0 : t43.useCache }), o71 = (p66 = t43 == null ? void 0 : t43.fiveMode) != null ? p66 : this.five.getCurrentState().mode, c85 = (l63 = i65.configWithFiveMode) == null ? void 0 : l63[o71];
    return (r66 = c85 != null ? c85 : i65) != null ? r66 : {};
  }
  getPositions(e48) {
    if (n38(e48))
      return e48.position;
    if (o42(e48))
      return e48.data.mediaPosition;
    if (i36(e48))
      return d37(this.five.camera.position, t2(e48.position), t2(e48.normal));
  }
  addObjectClickHandler(e48, t43, i65) {
    if (!t43 || !this.domEvents)
      return () => {
      };
    const o71 = () => !(!e48.currentVisible || e48.loading), c85 = (p66) => {
      if (!o71())
        return false;
      i65(p66.origDomEvent);
    };
    return this.domEvents.addEventListener(t43, "click", c85), () => {
      var p66;
      (p66 = this.domEvents) == null || p66.removeEventListener(t43, "click", c85);
    };
  }
  /**
   * @description 检查是否已经销毁
   * @returns isDisposed; 已经销毁返回 true，否则返回 false
   */
  checkDisposed() {
    return this.store.disposed ? (console.error("PanoTagPluginController has been disposed"), true) : false;
  }
  /**
   * @description 获取merge后的配置
   */
  calculateTagConfig(e48, t43) {
    var E53, b55, I49, A62, F45;
    const i65 = (E53 = t43 == null ? void 0 : t43.useCache) != null ? E53 : true;
    if (!e48)
      return (b55 = this.config.globalConfig) != null ? b55 : {};
    if (i65) {
      if ((I49 = e48 == null ? void 0 : e48.computedConfig) != null && I49._isMerged)
        return e48.computedConfig;
      if ((A62 = e48 == null ? void 0 : e48.config) != null && A62._isMerged)
        return e48.config;
    }
    const o71 = {}, c85 = {}, p66 = {};
    this.config.contentTypeConfig && Object.entries(this.config.contentTypeConfig).forEach(([u72, h66]) => {
      var w49, L40;
      const m66 = u72, C52 = m66.split("-"), j37 = u72.startsWith("["), v58 = j37 ? C52[0].slice(1, -1) : void 0, y51 = j37 ? C52.slice(1) : C52, M48 = v58 ? ["PanoramaLike", "ModelLike"].includes(v58) ? (w49 = c85[v58]) != null ? w49 : c85[v58] = {} : (L40 = p66[v58]) != null ? L40 : p66[v58] = {} : o71;
      if (!M48[m66]) {
        if (y51.length === 0 && (M48[m66] = h66), y51.length === 1) {
          const [g67] = y51;
          (e48.contentType === g67 || g67 === "Any") && (M48[m66] = h66);
        }
        if (y51.length === 2) {
          const [g67 = "Any", _32 = "Any"] = y51;
          g67 === "Mixin" && e48.contentType === _32 && (M48[m66] = h66), (e48.stickType === g67 || g67 === "Any") && (e48.contentType === _32 || _32 === "Any") && (M48[m66] = h66);
        }
        if (y51.length === 3) {
          const [g67 = "Any", _32, R43] = y51;
          if (_32 === "Audio" && e48.contentType === "Audio") {
            const O40 = e48;
            (O40.stickType === g67 || g67 === "Any") && O40.data.appearance === R43 && (M48[m66] = h66);
          }
        }
      }
    });
    const l63 = (F45 = e48.initialConfig) != null ? F45 : {}, r66 = a21({}, e31, this.config.globalConfig, ...Object.values(o71)), f80 = a21({}, r66, l63), T38 = {}, d73 = Object.values(Five.Mode);
    t32(c85).forEach(([u72, h66]) => {
      d73.forEach((m66) => {
        (u72 === "PanoramaLike" && n37(m66) || u72 === "ModelLike" && o40(m66)) && (T38[m66] = a21({}, r66, ...Object.values(h66), l63, { _isMerged: true }));
      });
    }), t32(p66).forEach(([u72, h66]) => {
      const m66 = T38[u72];
      T38[u72] = a21({}, r66, m66, ...Object.values(h66), l63, { _isMerged: true });
    });
    const k47 = Q19(W13({}, f80), { configWithFiveMode: T38 });
    return f39(k47), Object.values(T38).forEach((u72) => f39(u72)), k47._isMerged = true, k47;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/controller/TagRender.js
var n41 = Object.defineProperty;
var a33 = (p66, i65, t43) => i65 in p66 ? n41(p66, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : p66[i65] = t43;
var o47 = (p66, i65, t43) => (a33(p66, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var Xt2 = class extends zt4 {
  constructor(t43) {
    super(t43);
    o47(this, "rendererMap", /* @__PURE__ */ new Map());
    o47(this, "contentTypeMap", /* @__PURE__ */ new Map());
    o47(this, "group", new Group());
    o47(this, "imagePlaneGroup", new Group());
    o47(this, "gltfObjectGroup", new Group());
    o47(this, "enabledModelTagSet", /* @__PURE__ */ new Set());
    o47(this, "temporaryState", { visible: true });
    o47(this, "TagContainerSvelte");
    this.group.name = "PanoTagPluginModelGroup", this.gltfObjectGroup.name = "PanoTagPluginGLTFObjectGroup", this.imagePlaneGroup.name = "ImagePlaneGroup", this.group.add(this.gltfObjectGroup), this.group.add(this.imagePlaneGroup);
  }
  /**
   * @description 设置 contentType 的渲染器
   * @param {string} contentType
   * 如果是 `TagContentType` 中的类型，将会覆盖掉插件内部默认的渲染器,
   * 如果是其他任意 string 如：'Foo'，则可以将类似 `{id: 1, contentType: 'Foo', position: [0,0,0]}` 的 tag 交给插件渲染
   * @param config.usePoint 是否需要标签点, 默认为 false
   * @note 优先级低于 tag.element
   */
  registerRenderer(t43, r66, m66) {
    var e48;
    this.rendererMap.set(t43, { renderer: r66, usePoint: (e48 = m66 == null ? void 0 : m66.usePoint) != null ? e48 : false });
  }
  bindRenderer(t43, r66) {
    this.contentTypeMap.set(t43, r66);
  }
  disposeAllCSS3DContainer() {
    for (const [, t43] of this.store.css3DRenderDisposer)
      t43 == null || t43.forEach((r66) => r66 == null ? void 0 : r66());
    this.store.css3DRenderDisposer = /* @__PURE__ */ new Map();
  }
  /**
   * @description 检查并销毁不用的3D贴片
   */
  clearUnusedPanelTag() {
    this.filter2DPointTag.forEach((t43) => {
      var r66;
      (r66 = t43.tag3DContentSvelte) == null || r66.dispose(), t43.tag3DContentSvelte = void 0;
    });
    for (const [t43, r66] of this.store.css3DRenderDisposer) {
      const m66 = this.getTagById(t43);
      (!m66 || m66.stickType === "2DPoint") && (r66 == null || r66.forEach((e48) => e48 == null ? void 0 : e48()), this.store.css3DRenderDisposer.delete(t43));
    }
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/addDebugPoints.js
function M24(h66, p66) {
  p66.forEach((t43) => {
    const r66 = new SphereGeometry(0.02, 16, 16), i65 = [], a62 = [
      new MeshBasicMaterial({ color: 16776960 }),
      // 黄
      new MeshBasicMaterial({ color: 16711935 }),
      // 粉
      new MeshBasicMaterial({ color: 16711680 }),
      // 红
      new MeshBasicMaterial({ color: 65535 })
      // 蓝
    ];
    if (t43.position.length === 4)
      t43.position.forEach((e48, s60) => {
        const l63 = a62[s60], n72 = new Mesh(r66, l63);
        n72.position.copy(a2(e48)), i65.push(n72);
      });
    else {
      const e48 = a62[0], s60 = new Mesh(r66, e48);
      s60.position.copy(a2(t43.position)), i65.push(s60);
    }
    i65.forEach((e48) => {
      e48.material.depthTest = false, h66.scene.add(e48);
    });
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/DebugUtil.js
var l35 = Object.defineProperty;
var c46 = (t43, i65, e48) => i65 in t43 ? l35(t43, i65, { enumerable: true, configurable: true, writable: true, value: e48 }) : t43[i65] = e48;
var o48 = (t43, i65, e48) => (c46(t43, typeof i65 != "symbol" ? i65 + "" : i65, e48), e48);
var h36 = class {
  constructor(i65) {
    o48(this, "plugin");
    o48(this, "logBound", false);
    o48(this, "bindLogByObject", (i66) => {
      Object.getOwnPropertyNames(i66).forEach((e48) => {
        try {
          typeof i66[e48] == "function" && (i66[e48] = new Proxy(i66[e48], {
            apply: (n72, s60, r66) => (["render"].includes(e48) || this.log(e48, { obj: i66 }, ...r66), n72.apply(s60, r66))
          }));
        } catch (n72) {
        }
      });
    });
    this.plugin = i65;
  }
  get debug() {
    return this.plugin.debug;
  }
  addDebugPoints() {
    try {
      M24(this.plugin.five, this.plugin.tags);
    } catch (i65) {
      console.error(i65);
    }
  }
  bindLog() {
    this.logBound || (this.logBound = true, this.bindLogByObject(this.plugin), this.bindLogByObject(this.plugin.constructor.prototype));
  }
  log(i65, ...e48) {
    let n72 = new Error().stack;
    console.debug(
      `%cPanoTagPlugin%c${i65}`,
      "background-color: #35e0ed; color: black; padding:0 6px; border-radius: 3px",
      "padding: 0 3px; color: #f3f47c",
      ...e48,
      { stack: n72 }
    );
  }
  closeIntersectRaycaster() {
    this.plugin.tags.forEach((i65) => {
      var e48;
      r27((e48 = i65 == null ? void 0 : i65.initialConfig) == null ? void 0 : e48.visibleConfig).intersectRaycaster && (i65.initialConfig.visibleConfig.intersectRaycaster.enabled = false);
    }), this.plugin.changeGlobalConfig({
      visibleConfig: {
        intersectRaycaster: {
          enabled: false
        }
      }
    });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/tag/calculateTagConfig.js
var z15 = Object.defineProperty;
var B21 = Object.defineProperties;
var H16 = Object.getOwnPropertyDescriptors;
var E28 = Object.getOwnPropertySymbols;
var J19 = Object.prototype.hasOwnProperty;
var K17 = Object.prototype.propertyIsEnumerable;
var x22 = (o71, i65, t43) => i65 in o71 ? z15(o71, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[i65] = t43;
var F26 = (o71, i65) => {
  for (var t43 in i65 || (i65 = {}))
    J19.call(i65, t43) && x22(o71, t43, i65[t43]);
  if (E28)
    for (var t43 of E28(i65))
      K17.call(i65, t43) && x22(o71, t43, i65[t43]);
  return o71;
};
var _18 = (o71, i65) => B21(o71, H16(i65));
function ui(o71, i65, t43) {
  var v58, b55, j37, C52, A62;
  const D52 = (v58 = t43 == null ? void 0 : t43.useCache) != null ? v58 : true;
  if (!o71)
    return (b55 = i65.globalConfig) != null ? b55 : {};
  if (D52) {
    if ((j37 = o71 == null ? void 0 : o71.computedConfig) != null && j37._isMerged)
      return o71.computedConfig;
    if ((C52 = o71 == null ? void 0 : o71.config) != null && C52._isMerged)
      return o71.config;
  }
  const k47 = {}, d73 = {}, y51 = {};
  i65.contentTypeConfig && Object.entries(i65.contentTypeConfig).forEach(([e48, p66]) => {
    var O40, W25;
    const r66 = e48, a62 = r66.split("-"), g67 = e48.startsWith("["), c85 = g67 ? a62[0].slice(1, -1) : void 0, m66 = g67 ? a62.slice(1) : a62, s60 = c85 ? ["PanoramaLike", "ModelLike"].includes(c85) ? (O40 = d73[c85]) != null ? O40 : d73[c85] = {} : (W25 = y51[c85]) != null ? W25 : y51[c85] = {} : k47;
    if (!s60[r66]) {
      if (m66.length === 0 && (s60[r66] = p66), m66.length === 1) {
        const [n72] = m66;
        (o71.contentType === n72 || n72 === "Any") && (s60[r66] = p66);
      }
      if (m66.length === 2) {
        const [n72 = "Any", u72 = "Any"] = m66;
        n72 === "Mixin" && o71.contentType === u72 && (s60[r66] = p66), (o71.stickType === n72 || n72 === "Any") && (o71.contentType === u72 || u72 === "Any") && (s60[r66] = p66);
      }
      if (m66.length === 3) {
        const [n72 = "Any", u72, w49] = m66;
        if (u72 === "Audio" && o71.contentType === "Audio") {
          const L40 = o71;
          (L40.stickType === n72 || n72 === "Any") && L40.data.appearance === w49 && (s60[r66] = p66);
        }
      }
    }
  });
  const h66 = (A62 = o71.initialConfig) != null ? A62 : {}, M48 = a21({}, e31, i65.globalConfig, ...Object.values(k47)), G31 = a21({}, M48, h66), f80 = {}, q38 = Object.values(Five.Mode);
  t32(d73).forEach(([e48, p66]) => {
    q38.forEach((r66) => {
      (e48 === "PanoramaLike" && n37(r66) || e48 === "ModelLike" && o40(r66)) && (f80[r66] = a21({}, M48, ...Object.values(p66), h66, { _isMerged: true }));
    });
  }), t32(y51).forEach(([e48, p66]) => {
    const r66 = f80[e48];
    f80[e48] = a21({}, M48, r66, ...Object.values(p66), h66, { _isMerged: true });
  });
  const T38 = _18(F26({}, G31), { configWithFiveMode: f80 });
  return f39(T38), Object.values(f80).forEach((e48) => f39(e48)), T38._isMerged = true, T38;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/formatRad.js
var t33 = Math.PI * 2;
function o49(n72) {
  return (n72 % t33 + t33) % t33;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/vectorToCoordinate.js
function n42(t43) {
  return {
    longitude: o49(-Math.atan2(t43.x, -t43.z)),
    latitude: -Math.asin(t43.y / 1)
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/lookPoint.js
var g29 = Object.defineProperty;
var b28 = Object.getOwnPropertySymbols;
var x23 = Object.prototype.hasOwnProperty;
var E29 = Object.prototype.propertyIsEnumerable;
var U21 = (o71, t43, e48) => t43 in o71 ? g29(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var y22 = (o71, t43) => {
  for (var e48 in t43 || (t43 = {}))
    x23.call(t43, e48) && U21(o71, e48, t43[e48]);
  if (b28)
    for (var e48 of b28(t43))
      E29.call(t43, e48) && U21(o71, e48, t43[e48]);
  return o71;
};
var P24 = (o71, t43, e48) => new Promise((r66, d73) => {
  var f80 = (s60) => {
    try {
      a62(e48.next(s60));
    } catch (l63) {
      d73(l63);
    }
  }, i65 = (s60) => {
    try {
      a62(e48.throw(s60));
    } catch (l63) {
      d73(l63);
    }
  }, a62 = (s60) => s60.done ? r66(s60.value) : Promise.resolve(s60.value).then(f80, i65);
  a62((e48 = e48.apply(o71, t43)).next());
});
function j17(o71, t43, e48) {
  return P24(this, null, function* () {
    var h66, C52;
    if (!t43)
      return;
    const r66 = (h66 = e48 == null ? void 0 : e48.distance) != null ? h66 : 3, d73 = new c6(o71), f80 = o71.camera.position.clone().sub(t43).setY(0).normalize(), i65 = o71.state.mode === "Mapview" ? o71.state.fov : 60, a62 = r66, s60 = a62 * Math.cos(MathUtils.degToRad(i65 / 2)), l63 = a62 * Math.sin(MathUtils.degToRad(i65 / 2));
    let m66 = 0;
    const R43 = [], M48 = (n72) => {
      const u72 = MathUtils.degToRad(n72);
      return f80.clone().applyAxisAngle(new Vector3(0, 1, 0), u72).clone().multiplyScalar(s60).add(new Vector3(0, l63, 0)).add(t43);
    };
    for (; m66 !== 360; ) {
      let n72 = 0;
      const u72 = M48(m66);
      if (((w49) => {
        const A62 = w49.distanceTo(u72), I49 = new Raycaster(w49, u72.clone().sub(w49).normalize()), p66 = d73.model.intersectRaycaster(I49, void 0, true)[0], v58 = p66 == null ? void 0 : p66.distance;
        i7(v58) ? v58 > A62 && (n72 += 1) : n72 += 1;
      })(t43), R43[n72] = m66, n72 === 1)
        break;
      m66 += 30;
    }
    const k47 = M48((C52 = R43[1]) != null ? C52 : 0), T38 = n42(t43.clone().sub(k47).normalize());
    if (o71.state.mode === "Mapview")
      return o71.updateCamera(
        y22({
          offset: t43,
          distance: r66
        }, T38),
        800
      );
    o71.setState(y22({
      mode: "Mapview",
      offset: t43,
      distance: r66
    }, T38)), yield o71.ready();
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/tagPosition.js
function p27(o71) {
  const i65 = (() => {
    if (o42(o71) && o71.matrix) {
      const r66 = new Matrix4().fromArray(o71.matrix);
      return o71.data.mediaPosition.map((t43) => t2(t43).clone().applyMatrix4(r66));
    } else
      return o71.position;
  })();
  return o3(i65);
}
function x24(o71) {
  const i65 = p27(o71);
  return c9(...Array.isArray(i65) ? i65 : [i65]);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/checkRange.js
function i41(t43, r66) {
  if (t43 === void 0)
    return;
  const { min: e48, max: f80 } = r66 != null ? r66 : {};
  if (!(e48 === void 0 && f80 === void 0))
    return !(typeof f80 == "number" && f80 < t43 || typeof e48 == "number" && e48 > t43);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/url/getUrl.js
function o50(e48) {
  const t43 = e48.split("?")[0].split(".").pop();
  return t43 ? t43.toLowerCase() : "";
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/getFloorIndex.js
function d38(t43, f80) {
  if (!t43)
    return 0;
  const s60 = t43.observers;
  if (!f80 || !s60)
    return console.error("getFloorIndex: invalid arguments: ", { point: f80, observer: s60 }), 0;
  const e48 = [];
  s60.forEach((r66) => {
    var n72, l63, c85;
    const o71 = (l63 = (n72 = r66.floorIndex) != null ? n72 : r66.floor_index) != null ? l63 : 0;
    e48[o71] || (e48[o71] = []), e48[o71].push(c4(r66.position, (c85 = t43.options) == null ? void 0 : c85.transform).y);
  });
  const i65 = e48.map((r66) => r66.reduce((o71, n72) => o71 + n72, 0) / r66.length);
  for (let r66 = i65.length - 1; r66 > 0; r66--)
    if (f80.y >= i65[r66])
      return r66;
  return 0;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/promise/withResolvers.js
function i42() {
  let e48, r66;
  return {
    promise: new Promise((o71, s60) => {
      e48 = o71, r66 = s60;
    }),
    resolve: e48,
    reject: r66
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/controller/Tag/BaseTag.js
var G19 = Object.defineProperty;
var K18 = Object.defineProperties;
var Q20 = Object.getOwnPropertyDescriptors;
var P25 = Object.getOwnPropertySymbols;
var j18 = Object.prototype.hasOwnProperty;
var A35 = Object.prototype.propertyIsEnumerable;
var k24 = Math.pow;
var w21 = (u72, i65, e48) => i65 in u72 ? G19(u72, i65, { enumerable: true, configurable: true, writable: true, value: e48 }) : u72[i65] = e48;
var g30 = (u72, i65) => {
  for (var e48 in i65 || (i65 = {}))
    j18.call(i65, e48) && w21(u72, e48, i65[e48]);
  if (P25)
    for (var e48 of P25(i65))
      A35.call(i65, e48) && w21(u72, e48, i65[e48]);
  return u72;
};
var U22 = (u72, i65) => K18(u72, Q20(i65));
var E30 = (u72, i65) => {
  var e48 = {};
  for (var t43 in u72)
    j18.call(u72, t43) && i65.indexOf(t43) < 0 && (e48[t43] = u72[t43]);
  if (u72 != null && P25)
    for (var t43 of P25(u72))
      i65.indexOf(t43) < 0 && A35.call(u72, t43) && (e48[t43] = u72[t43]);
  return e48;
};
var a34 = (u72, i65, e48) => (w21(u72, typeof i65 != "symbol" ? i65 + "" : i65, e48), e48);
var C35 = (u72, i65, e48) => new Promise((t43, r66) => {
  var n72 = (s60) => {
    try {
      o71(e48.next(s60));
    } catch (f80) {
      r66(f80);
    }
  }, l63 = (s60) => {
    try {
      o71(e48.throw(s60));
    } catch (f80) {
      r66(f80);
    }
  }, o71 = (s60) => s60.done ? t43(s60.value) : Promise.resolve(s60.value).then(n72, l63);
  o71((e48 = e48.apply(u72, i65)).next());
});
var Ji = class {
  constructor(i65, e48) {
    a34(this, "plugin");
    a34(this, "id");
    a34(this, "contentType");
    a34(this, "stickType");
    a34(this, "enabled");
    a34(this, "config");
    a34(this, "data");
    a34(this, "state");
    a34(this, "temporaryState", { visible: true });
    a34(this, "originPosition");
    a34(this, "position");
    a34(this, "fiveState");
    a34(this, "model");
    a34(this, "matrix");
    a34(this, "screenPosition");
    a34(this, "normal");
    a34(this, "mediaPlane");
    a34(this, "hooks");
    a34(this, "zIndex");
    a34(this, "play");
    a34(this, "pause");
    a34(this, "tag3DContentSvelte");
    a34(this, "dom");
    a34(this, "contentDom");
    a34(this, "initialConfig");
    a34(this, "computedConfig");
    a34(this, "cache");
    a34(this, "entryFromModel");
    a34(this, "_updating", false);
    a34(this, "hoverEnabled");
    a34(this, "ready", () => {
      const { promise: i66, resolve: e49 } = i42();
      if (!this._updating)
        e49();
      else {
        const t44 = setInterval(() => {
          this._updating || (clearInterval(t44), e49());
        }, 17);
        setTimeout(() => {
          clearInterval(t44), e49();
        }, 300);
      }
      return i66;
    });
    var f80, p66, c85, h66, v58, m66;
    this.plugin = i65;
    const t43 = o43(e48);
    e48.stickType = t43;
    const r66 = JSON.parse(JSON.stringify(e48.data)), n72 = (f80 = e48.initialConfig) != null ? f80 : e48.config ? JSON.parse(JSON.stringify(e48.config)) : {};
    e48.initialConfig = n72;
    const l63 = ui(e48, i65.config), o71 = this.getConfig(e48);
    e48.config = o71, this.id = (p66 = e48.id) != null ? p66 : r2(), this.enabled = (c85 = e48.enabled) != null ? c85 : true, this.contentType = e48.contentType, this.hoverEnabled = (v58 = (h66 = o71.popoverConfig) == null ? void 0 : h66.enabled) != null ? v58 : true, this.data = (m66 = o71.initialData) != null && m66.important ? a21(e48.data, r66, o71.initialData) : a21(e48.data, o71.initialData, r66);
    let s60;
    typeof o71.unfoldedConfig == "object" ? o71.unfoldedConfig.keep === "unfolded" ? s60 = true : o71.unfoldedConfig.keep === "folded" ? s60 = false : s60 = !this.can("fold") : s60 = !this.can("fold"), this.state = g30({
      visible: void 0,
      unfolded: s60
    }, o71.initialState), this.isPopoverConfigEnabled() && (this.state.unfolded = false), this.originPosition = e48.position, e48.originPosition = this.originPosition, this.position = (() => {
      const d73 = e48.originPosition;
      if (!d73)
        return;
      const b55 = i65.workUtil.transform;
      return Array.isArray(d73) && d73.length === 4 ? d73.map(t2).map((M48) => c4(M48, b55).toArray()) : c4(t2(d73), b55).toArray();
    })(), this.matrix = e48.matrix ? (() => {
      const d73 = new Matrix4().fromArray(e48.matrix);
      return d73.premultiply(i65.workUtil.transform), d73.elements;
    })() : e48.matrix, this.initialConfig = n72, this.computedConfig = l63, this.stickType = t43, this.config = e48.config, this.fiveState = e48.fiveState, this.normal = e48.normal, this.cache = new l34(), this.hooks = new E3(), Object.keys(e48).forEach((d73) => {
      this[d73] === void 0 && e48[d73] !== void 0 && (this[d73] = e48[d73]);
    });
  }
  get visible() {
    var i65;
    return ((i65 = this.temporaryState) == null ? void 0 : i65.visible) !== false && this.state.visible !== false && this.enabled !== false;
  }
  get five() {
    return this.plugin.five;
  }
  get fiveUtil() {
    return this.plugin.fiveUtil;
  }
  get workUtil() {
    return this.plugin.workUtil;
  }
  get centerPosition() {
    const i65 = p27(this);
    return c9(...Array.isArray(i65) ? i65 : [i65]);
  }
  get currentConfig() {
    var r66, n72;
    const i65 = ui(this, this.plugin.config, { useCache: true }), e48 = this.five.getCurrentState().mode, t43 = (r66 = i65.configWithFiveMode) == null ? void 0 : r66[e48];
    return (n72 = t43 != null ? t43 : i65) != null ? n72 : {};
  }
  get currentVisible() {
    return !(!this.plugin.state.enabled || !this.plugin.state.visible || !this.enabled || !this.state.visible);
  }
  get sharedCache() {
    return this.plugin.cache;
  }
  /**
   * @description 使 state.visible 生效，但是只是加入渲染队列。等下次渲染时再真正生效
   */
  applyVisible() {
    throw new Error("Method not implemented.");
  }
  /**
   * @description 找到标签
   */
  find(i65) {
    return C35(this, null, function* () {
      var r66;
      const e48 = this.fiveState;
      if (!this.fiveState)
        return this;
      const t43 = (r66 = i65 == null ? void 0 : i65.targetMode) != null ? r66 : this.five.state.mode;
      if (t43 === "Panorama") {
        const n72 = e48 == null ? void 0 : e48.panoIndex;
        if (t7(n72))
          return this;
        const l63 = this.workUtil.getObserverPosition(n72), o71 = this.centerPosition.clone().sub(l63).normalize();
        this.five.setState(g30({
          mode: "Panorama",
          workCode: this.workUtil.workCode,
          panoIndex: n72
        }, n42(o71))), yield this.five.ready();
      } else
        t43 === "Mapview" && (yield j17(this.five, this.centerPosition, i65 == null ? void 0 : i65.pointConfig));
      return this;
    });
  }
  /**
   * @description 闪烁
   */
  blink(i65) {
    return C35(this, null, function* () {
      var o71, s60, f80, p66;
      yield this.ready();
      const e48 = (o71 = this.enabled) != null ? o71 : true, t43 = (s60 = this.state) == null ? void 0 : s60.visible, r66 = e48 && t43;
      r66 === false && (this.state.visible = true, this.enabled = true, this.applyVisible(), this.plugin.render(), this.computeRenderType() !== "Mesh" ? yield new Promise((c85) => C35(this, null, function* () {
        if (this.dom || this.contentDom) {
          c85();
          return;
        }
        const h66 = setInterval(() => {
          (this.dom || this.contentDom) && (c85(), clearInterval(h66));
        }, 16.7);
      })) : this.stickType === "Model" && !((f80 = this.model) != null && f80.object) ? yield (p66 = this.model) == null ? void 0 : p66.promise : this.stickType === "Plane" && (yield new Promise((c85) => C35(this, null, function* () {
        if (this.mediaPlane) {
          c85();
          return;
        }
        const h66 = setInterval(() => {
          this.mediaPlane && (c85(), clearInterval(h66));
        }, 16.7);
      }))), this.dom && (this.dom.style.visibility = "hidden"), this.contentDom && (this.contentDom.style.visibility = "hidden"));
      const n72 = (() => {
        var h66, v58, m66;
        const c85 = [];
        return c85.push(this.dom), c85.push((v58 = (h66 = this.tag3DContentSvelte) == null ? void 0 : h66.css3DInstance) == null ? void 0 : v58.container), c85.push((m66 = this.model) == null ? void 0 : m66.object), c85.push(this.mediaPlane), c85.filter(Boolean);
      })();
      if (!n72.length) {
        console.warn("tagDom is empty");
        return;
      }
      yield (r66 ? k23 : q17)(n72, g30({
        begin: () => {
          r66 === false && (this.dom && (this.dom.style.visibility = ""), this.contentDom && (this.contentDom.style.visibility = ""));
        },
        updateRender: () => {
          this.five.needsRender = true;
        }
      }, i65)).finished, e48 === false && (this.enabled = false, this.updateVisible()), t43 === false && this.updateVisible(), r66 === false && (this.dom && (this.dom.style.visibility = ""), this.contentDom && (this.contentDom.style.visibility = ""));
    });
  }
  /**
   * @description 展开
   */
  unfold() {
  }
  /**
   * @description 展开自己，收起其他标签
   */
  unfoldAndFoldOthers() {
  }
  /**
   * @description 收起
   */
  fold() {
  }
  /**
   * @description 启用
   */
  enable() {
    this.enabled = true, this.hooks.emit("enable"), this.applyVisible();
  }
  /**
   * @description 禁用
   */
  disable() {
    this.enabled = false, this.hooks.emit("disable"), this.applyVisible();
  }
  /**
   * @deprecated use `setData` instead
   */
  changeData(i65, e48 = true) {
    return this.setData(i65, e48);
  }
  /**
   * @deprecated use `setPosition` instead
   */
  changePosition(i65) {
    return this.setPosition(i65);
  }
  /**
   * @description 修改标签数据
   * @param deepMerge 是否深度合并 data，默认为 true
   */
  setData(i65, e48 = true) {
    e48 ? this.data = a21(this.data, i65) : this.data = g30(g30({}, this.data), i65), this.hooks.emit("dataChanged", this.data);
  }
  /**
   * @description 修改标签位置
   */
  setPosition(i65) {
    throw new Error("Method not implemented.");
  }
  /**
   * @description 设置标签实例的属性
   * @param deepMerge 是否深度合并 data，默认为 true
   */
  set(i65, e48 = true) {
    this.plugin.tagsLengthWillUpdate = true, e48 ? a21(this, i65) : Object.assign(this, i65), this.cache.clear();
  }
  updateConfig() {
    var t43;
    const i65 = this.getConfig(void 0, { useCache: false });
    this.computedConfig = i65;
    const e48 = this.getConfig();
    if (this.config = e48, this.config.initialData) {
      const r66 = JSON.parse(JSON.stringify(this.data));
      this.data = (t43 = e48.initialData) != null && t43.important ? a21(this.data, r66, e48.initialData) : a21(this.data, e48.initialData, r66);
    }
    this.cache.clear();
  }
  updateVisible() {
    this.enabled ? (this.state.visible = this.getVisible(), this.applyVisible()) : this.applyVisible(), this._updating = false;
  }
  updateZIndex() {
    const i65 = this.getSquaredDistance();
    this.zIndex = Math.round((1e4 - (i65 != null ? i65 : 0)) * 100);
  }
  getConfig(i65, e48) {
    var l63, o71, s60;
    const t43 = ui(i65 != null ? i65 : this, this.plugin.config, { useCache: e48 == null ? void 0 : e48.useCache }), r66 = (l63 = e48 == null ? void 0 : e48.fiveMode) != null ? l63 : this.five.getCurrentState().mode, n72 = (o71 = t43.configWithFiveMode) == null ? void 0 : o71[r66];
    return (s60 = n72 != null ? n72 : t43) != null ? s60 : {};
  }
  getDistance(i65, e48 = 3) {
    const t43 = g30(g30({}, this.five.getCurrentState()), i65), { panoIndex: r66, mode: n72 } = t43, l63 = n72 === "Panorama" ? this.workUtil.getObserverPosition(r66) : this.five.camera.position, o71 = this.centerPosition;
    return !l63 || !o71 ? -1 : l63.distanceTo(o71);
  }
  /**
   * @description 用于排序的距离，性能更好
   */
  getSquaredDistance() {
    const i65 = this.five.camera.position;
    let e48;
    return Array.isArray(this.position[0]) ? e48 = this.position[0] : e48 = this.position, k24(e48[0] - i65.x, 2) + k24(e48[1] - i65.y, 2) + k24(e48[2] - i65.z, 2);
  }
  getVisible(i65) {
    if (!this.enabled || !this.plugin.state.enabled || !this.fiveUtil.model)
      return false;
    const e48 = g30(g30({}, this.five.getCurrentState()), i65);
    let t43 = this.cache.getVisible(this, e48);
    return t7(t43) && (t43 = this.computeVisible(e48).value, this.cache.setVisible(this, e48, t43)), t43;
  }
  getUnfoldedByPanoIndex(i65) {
    if (!this.currentVisible)
      return;
    const t43 = this.computeUnfoldedByPanoIndex(i65);
    return t43 && this.getUnfoldedByCamera();
  }
  getUnfoldedByCamera() {
    return this.currentVisible ? this.computeUnfoldedByCamera() : void 0;
  }
  can(i65) {
    var t43, r66;
    if ((i65 === "fold" || i65 === "unfold") && ((r66 = (t43 = this.currentConfig) == null ? void 0 : t43.popoverConfig) == null ? void 0 : r66.enabled) === true)
      return false;
    const e48 = this.currentConfig;
    if (!e48 || typeof e48 != "object")
      return true;
    if (i65 === "show" || i65 === "hide") {
      if (!e48.visibleConfig || typeof e48.visibleConfig != "object")
        return true;
      if (i65 === "show" && e48.visibleConfig.keep === "hidden" || i65 === "hide" && e48.visibleConfig.keep === "visible")
        return false;
    }
    if (i65 === "fold" || i65 === "unfold") {
      if (!e48.unfoldedConfig || typeof e48.unfoldedConfig != "object")
        return true;
      if (i65 === "fold" && e48.unfoldedConfig.keep === "unfolded" || i65 === "unfold" && e48.unfoldedConfig.keep === "folded")
        return false;
    }
    return true;
  }
  onClick(i65) {
  }
  computeRenderType() {
    const i65 = (() => {
      if (this.stickType === "3DPoint")
        return "Dom";
      const e48 = this.getConfig();
      if (!e48 || typeof e48 != "object" || !e48.renderType)
        return;
      const t43 = this.data.mediaData;
      if (!(!t43 || t43.length === 0) && e48.renderType === "Mesh") {
        if (T21(this)) {
          if (t43.length === 1) {
            if (t43[0].type === "Video")
              return navigator.userAgent.toLowerCase().indexOf("firefox") > -1 && navigator.userAgent.toLowerCase().indexOf("mobile") > -1 ? "Dom" : "Mesh";
            if (t43[0].type === "Image")
              return o50(t43[0].url) === "gif" ? "Dom" : "Mesh";
          }
        } else if (o42(this))
          return t43.length === 1 && t43[0].type === "Image" ? o50(t43[0].url) === "gif" ? "Dom" : "Mesh" : "BehindDom";
      }
    })();
    return i65 != null ? i65 : "Dom";
  }
  computeVisible(i65) {
    const e48 = g30(g30({}, this.five.getCurrentState()), i65), { panoIndex: t43, mode: r66 } = e48, n72 = [];
    return (() => {
      var f80, c85, h66, v58;
      const s60 = (f80 = this.getConfig().visibleConfig) != null ? f80 : {};
      if (typeof s60 == "function")
        return {
          value: s60(this.five, { tag: this, distance: this.getDistance(e48, void 0) }),
          checkedList: n72,
          reason: "config function result"
        };
      {
        if (s60.keep === "hidden")
          return { value: false, checkedList: n72, reason: "config.keep is hidden" };
        if (s60.keep === "visible")
          return { value: true, checkedList: n72, reason: "config.keep is visible" };
        const m66 = this.computeVisibleByFiveMode(s60, r66);
        if ((m66 == null ? void 0 : m66.value) === false)
          return m66;
        if (s60.followModelVisibility === true && ["poincare", "aerophoto", "sand"].includes(this.workUtil.fromType) && (r66 === "Floorplan" || r66 === "Mapview")) {
          const p66 = this.computeVisibleByFloorIndex(), { value: d73 } = p66, b55 = E30(p66, ["value"]);
          if (d73 === false)
            return g30({ value: false, checkedList: n72, reason: "followModelVisibility check failed" }, b55);
        }
        if (n37(r66) && s60.visiblePanoIndex !== void 0 && s60.visiblePanoIndex !== "all" && t43 !== void 0) {
          if (n72.push("visiblePanoIndex"), Array.isArray(s60.visiblePanoIndex) && !s60.visiblePanoIndex.includes(t43))
            return {
              value: false,
              checkedList: n72,
              reason: `current panoIndex is not included in visiblePano. currentPanoIndex: ${t43}, visiblePanoIndex: ${s60.visiblePanoIndex}`
            };
          if (s60.visiblePanoIndex === "current" && t43 !== ((c85 = this.fiveState) == null ? void 0 : c85.panoIndex))
            return {
              value: false,
              checkedList: n72,
              reason: `current panoIndex is not equal to tag.panoIndex. currentPanoIndex: ${t43}, tag.panoIndex: ${(h66 = this.fiveState) == null ? void 0 : h66.panoIndex}`
            };
        }
        if (s60.visibleDistance !== void 0 && (n72.push("visibleDistance"), s60.visibleDistance !== "unLimited")) {
          const d73 = this.getDistance(e48, 1);
          if (i41(d73, s60.visibleDistance) === false)
            return {
              value: false,
              checkedList: n72,
              panoIndex: t43,
              visibleDistance: s60.visibleDistance,
              reason: `distance is not in visibleDistance. distance: ${d73}, visibleDistance: ${s60.visibleDistance.min} - ${s60.visibleDistance.max}`
            };
        }
        if (s60.intersectRaycaster !== false && (typeof s60.intersectRaycaster != "object" || s60.intersectRaycaster.enabled !== false)) {
          if (n72.push("intersectRaycaster"), t43 === void 0)
            return {
              value: false,
              checkedList: n72,
              reason: `intersectRaycaster check failed: panoIndex is ${t43}`
            };
          if (t43 === ((v58 = this.fiveState) == null ? void 0 : v58.panoIndex))
            n72.push("intersectCheckSkiped");
          else {
            const d73 = this.computeVisibleByIntersect(t43);
            if (d73.value === false)
              return Object.assign(d73, { checkedList: n72 });
          }
        }
        return {
          value: true,
          checkedList: n72,
          reason: "all check passed"
        };
      }
    })();
  }
  /**
   * @description 计算标签可见性
   */
  computeVisibleByFiveMode(i65, e48) {
    const t43 = () => {
      var l63, o71;
      let n72 = typeof i65.visibleFiveMode == "function" ? i65.visibleFiveMode(this) : i65.visibleFiveMode;
      if (n72 || (n72 = (o71 = (l63 = this.fiveState) == null ? void 0 : l63.mode) != null ? o71 : this.workUtil.observers.length ? "Panorama" : "ModelLike"), Array.isArray(n72))
        return n72.includes(e48);
      if (n72 === "ModelLike")
        return o40(e48);
      if (n72 === "PanoramaLike")
        return !n37(e48);
      if (n72 === "all")
        return true;
      if (typeof n72 == "string")
        return n72 === e48;
    };
    if ((() => {
      var l63;
      const n72 = t43();
      if (i7((l63 = this.fiveState) == null ? void 0 : l63.panoIndex) && i65.entryFromModel) {
        if (o40(e48) && n72 ? this.entryFromModel = false : this.entryFromModel = true, o40(e48))
          return true;
      } else
        this.entryFromModel = false;
      return n72;
    })() === false)
      return {
        value: false,
        reason: "current mode is not included in visibleFiveMode",
        visibleFiveMode: i65.visibleFiveMode,
        mode: e48
      };
  }
  /** 通过射线检测标签可用性 */
  computeVisibleByIntersect(i65) {
    var s60, f80, p66, c85;
    const e48 = r27(r27((s60 = this.getConfig().visibleConfig) != null ? s60 : {}).intersectRaycaster), t43 = i65 != null ? i65 : this.five.getCurrentState().panoIndex, r66 = n37(this.five.getCurrentState().mode) ? this.workUtil.getObserverPosition(t43) : this.five.camera.position;
    if (r66 === void 0)
      return { value: false, reason: { type: "startPosition is undefined", fivePanoIndex: t43 } };
    const n72 = t9(
      (() => {
        var v58;
        const h66 = (v58 = e48.checkPoints) != null ? v58 : "center";
        return h66 === "center" ? x24(this) : h66 === "corner" ? p27(this) : Array.isArray(h66) ? h66 : [];
      })()
    );
    let l63 = 0, o71 = 0;
    for (const h66 of n72) {
      const v58 = new Vector3().subVectors(h66, r66).normalize();
      let m66;
      t5.set(r66, v58);
      const [d73] = this.fiveUtil.model.intersectRaycaster(t5);
      m66 = d73 == null ? void 0 : d73.distance;
      const b55 = (() => {
        if (!o42(this))
          return;
        const q38 = this.plugin.tags.filter(o42).map((Z18) => {
          var D52;
          return (D52 = Z18.model) == null ? void 0 : D52.object;
        }).filter(i7), [X24] = t5.intersectObjects(q38, true);
        return X24;
      })(), M48 = r66.distanceTo(h66), H39 = (f80 = e48.distanceAccuracy) != null ? f80 : 0.01;
      m66 = Math.min(m66 != null ? m66 : 1 / 0, (p66 = b55 == null ? void 0 : b55.distance) != null ? p66 : 1 / 0), m66 + H39 >= M48 ? l63++ : o71++;
      const W25 = (c85 = e48.needPassed) != null ? c85 : 1;
      if (l63 >= W25)
        return { value: true };
    }
    return o71 === 0 ? { value: true } : {
      value: false,
      reason: {
        type: "intersectRaycaster check failed",
        passedCount: l63,
        needPassed: e48.needPassed,
        model: this.fiveUtil.model.name
      }
    };
  }
  computeVisibleByFloorIndex() {
    var r66, n72, l63, o71, s60, f80, p66;
    let i65 = 0;
    const e48 = (r66 = this.fiveState) == null ? void 0 : r66.panoIndex;
    e48 !== void 0 ? i65 = (n72 = this.workUtil.getObserver(e48)) == null ? void 0 : n72.floorIndex : i65 = d38(
      this.workUtil.work,
      (p66 = (f80 = (o71 = (l63 = this.model) == null ? void 0 : l63.object) == null ? void 0 : o71.position) != null ? f80 : (s60 = this.mediaPlane) == null ? void 0 : s60.position) != null ? p66 : x24(this)
    );
    const t43 = this.fiveUtil.model.shownFloor;
    return {
      value: t43 === null || t43 === i65,
      currentFiveFloorIndex: t43,
      tagFloorIndex: i65
    };
  }
  /**
   * @description 获取是否展开
   */
  computeUnfoldedByPanoIndex(i65) {
    const e48 = this.getConfig().unfoldedConfig;
    if (e48) {
      if (typeof e48 == "function")
        return e48(this.five, { tag: this, distance: this.getDistance({ panoIndex: i65 }) });
      if (e48.keep === "folded")
        return false;
      if (e48.keep === "unfolded")
        return true;
      if (e48.unfoldDistance && i41(this.getDistance({ panoIndex: i65 }), e48.unfoldDistance) === false)
        return false;
    }
  }
  computeUnfoldedByCamera() {
    var e48;
    if (this.entryFromModel && o40(this.five.state.mode))
      return false;
    const i65 = this.getConfig().unfoldedConfig;
    if (i65) {
      if (typeof i65 == "function")
        return i65(this.five, { tag: this, distance: this.getDistance() });
      if (i65.keep === "folded")
        return false;
      if (i65.keep === "unfolded")
        return true;
      if (i65.autoUnfold === void 0 || i65.autoUnfold === false || i65.autoUnfold.enable === false || !i65.autoUnfold.strategy)
        return;
      if (i65.autoUnfold.strategy === "ScreenPostion") {
        const t43 = this.computeTagProject();
        if (t43 && i41(t43.x, i65.autoUnfold.autoUnfoldProjectX) === false)
          return false;
      }
      if (i65.autoUnfold.strategy === "MinimumDistance") {
        const n72 = this.plugin.filterPointTag.filter((o71) => o71.currentVisible).filter((o71) => {
          const s60 = this.computeTagProject();
          if (!s60)
            return false;
          const { x: f80, y: p66, z: c85 } = s60;
          return !(Math.abs(c85) > 1 || Math.abs(f80) > 1 || Math.abs(p66) > 1);
        }).map((o71) => ({ tag: o71, id: o71.id, tagConfig: o71.getConfig().unfoldedConfig })).filter(({ tagConfig: o71 }) => {
          var s60, f80;
          return !(typeof o71 == "function" || o71.keep || o71.autoUnfold === false || ((s60 = o71.autoUnfold) == null ? void 0 : s60.enable) === false || ((f80 = o71.autoUnfold) == null ? void 0 : f80.strategy) !== "MinimumDistance");
        }).map((o71) => U22(g30({}, o71), { distance: o71.tag.getDistance() })).filter(({ distance: o71, tagConfig: s60 }) => {
          const f80 = s60.autoUnfold.distance;
          return !(f80 && i41(o71, f80) === false);
        }).sort((o71, s60) => o71.distance - s60.distance).findIndex((o71) => o71.id === this.id);
        if (n72 === -1 || n72 <= ((e48 = i65.autoUnfold.maxNumber) != null ? e48 : 1) - 1 === false)
          return false;
      }
      return i65.autoUnfold.strategy !== "FoldWhenMove";
    }
  }
  computeTagProject() {
    const i65 = this.centerPosition;
    if (!i65)
      return;
    const { x: e48, y: t43, z: r66 } = i65.project(this.five.camera);
    if (!(r66 > 1))
      return { x: e48, y: t43, z: r66 };
  }
  addObjectClickHandler(i65, e48, t43) {
    if (!e48 || !this.plugin.domEvents)
      return () => {
      };
    const r66 = () => !(!i65.currentVisible || i65.loading), n72 = (l63) => {
      if (!r66())
        return false;
      t43(l63.origDomEvent);
    };
    return this.plugin.domEvents.addEventListener(e48, "click", n72), () => {
      var l63;
      (l63 = this.plugin.domEvents) == null || l63.removeEventListener(e48, "click", n72);
    };
  }
  whyHide() {
    var e48;
    if (!this.plugin.state.enabled)
      return { reason: `plugin.state.enabled is ${this.plugin.state.enabled}` };
    if (!this.plugin.state.visible)
      return { reason: `plugin.state.visible is ${this.plugin.state.visible}` };
    if (!this.enabled)
      return { reason: `tag ${this.id} enabled is: ${this.enabled}` };
    const i65 = U22(g30({}, this.computeVisible()), {
      tagInstance: this
    });
    return i65.value !== this.state.visible ? { reason: "插件故障，请联系维护人员, err: 0", info: i65 } : this.state.visible ? { reason: "应该是能看见才对", info: i65 } : i65.value === true ? { reason: "插件故障，请联系维护人员, err: 1", info: i65 } : { reason: (e48 = i65.reason.type) != null ? e48 : i65.reason, info: i65 };
  }
  /**
   * @description 销毁并移除
   */
  destroy() {
    var e48, t43;
    const i65 = this.plugin.tags.findIndex((r66) => r66.id === this.id);
    if (i65 === -1) {
      console.warn(`Destroy failed: tag ${this.id} not found`);
      return;
    }
    this.disable(), (t43 = (e48 = this.tag3DContentSvelte) == null ? void 0 : e48.dispose) == null || t43.call(e48), this.hooks.off(), this.cache.clear(), this.plugin.tags.splice(i65, 1), this.plugin.tagsLengthWillUpdate = true, this.plugin.hooks.emit("tagsLengthChange");
  }
  /**
   * @description 判断 popover 是否在配置上启用（永久配置）
   */
  isPopoverConfigEnabled() {
    var i65, e48;
    return ((e48 = (i65 = this.currentConfig) == null ? void 0 : i65.popoverConfig) == null ? void 0 : e48.enabled) === true;
  }
  /**
   * @description 判断当前标签是否允许临时 hover 弹出 popover（临时控制）
   */
  isHoverEnabled() {
    var i65;
    return !(((i65 = this.plugin) == null ? void 0 : i65.globalHoverEnabled) === false || this.hoverEnabled === false);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/controller/Tag/PointTag.js
var h37 = Object.defineProperty;
var c47 = (s60, o71, t43) => o71 in s60 ? h37(s60, o71, { enumerable: true, configurable: true, writable: true, value: t43 }) : s60[o71] = t43;
var p28 = (s60, o71, t43) => (c47(s60, typeof o71 != "symbol" ? o71 + "" : o71, t43), t43);
var v26 = new Vector2();
var Jt2 = class extends Ji {
  constructor(t43, i65) {
    super(t43, i65);
    p28(this, "__Object__");
    p28(this, "requestIdleCallbackId");
  }
  /**
   * @description 展开自己，收起其他标签
   */
  unfoldAndFoldOthers() {
    if (this.isPopoverConfigEnabled())
      return;
    const t43 = this.can("fold"), i65 = this.can("unfold");
    t43 && i65 && (this.state.unfolded = !this.state.unfolded, this.plugin.addRenderQueue({ type: "TagContainerSvelte", keys: ["tags"] }), this.state.unfolded && this.plugin.tags.forEach((r66) => {
      r66.id !== this.id && r66.fold();
    }));
  }
  onClick(t43) {
    t43.target === "TagPoint" && this.unfoldAndFoldOthers();
  }
  applyVisible() {
    var t43, i65;
    this.currentVisible && this.updateScreenPosition(), (t43 = this.tag3DContentSvelte) != null && t43.css3DInstance && (this.tag3DContentSvelte.css3DInstance.visible = this.visible), (i65 = this.tag3DContentSvelte) == null || i65.svelteApp.$set({
      state: this.plugin.state,
      temporaryState: this.temporaryState
    }), this.plugin.addRenderQueue({ type: "TagContainerSvelte", keys: ["tags"] });
  }
  unfold() {
    this.isPopoverConfigEnabled() || this.setUnfold(true);
  }
  fold() {
    this.isPopoverConfigEnabled() || this.setUnfold(false);
  }
  /**
   * @description 展开/收起指定id的标签
   * @param {boolean} unfolded
   */
  setUnfold(t43) {
    if (this.isPopoverConfigEnabled())
      return;
    const i65 = this.can("fold"), r66 = this.can("unfold");
    i65 && r66 && (this.state.unfolded = t43, this.hooks.emit(t43 ? "unfolded" : "folded"), this.plugin.addRenderQueue({ type: "TagContainerSvelte", keys: ["tags"] }));
  }
  setPosition(t43) {
    this.originPosition = t43, this.position = t43, this.cache.clear(), this.updateVisible(), this.updateScreenPosition(), this.updateZIndex(), this.plugin.addRenderQueue({ type: "TagContainerSvelte", keys: ["tags"] });
  }
  updateScreenPosition(t43) {
    var a62;
    if (this.stickType !== "2DPoint" && this.stickType !== "3DPoint")
      return;
    const { force: i65 = false } = t43 != null ? t43 : {}, r66 = i65 ? this.state.visible : this.currentVisible, e48 = (a62 = this.__Object__) != null ? a62 : {
      timeoutId: void 0,
      inAnimation: false
    };
    if (this.__Object__ = e48, !r66 && this.screenPosition ? (e48.inAnimation = true, e48.timeoutId = setTimeout(() => {
      requestAnimationFrame(() => {
        this.currentVisible || (e48.inAnimation = false, this.screenPosition = null, this.plugin.addRenderQueue({ type: "TagContainerSvelte", keys: ["tags"] }));
      });
    }, 1e3)) : e48.timeoutId && (clearTimeout(e48.timeoutId), e48.inAnimation = false, e48.timeoutId = void 0), !r66 && !e48.inAnimation)
      return;
    const n72 = this.computeTagProject();
    if (n72 && this.five.renderer) {
      const m66 = (() => {
        if (!this.currentConfig.simulate3D)
          return 1;
        const u72 = 2 * Math.tan(0.5 * this.five.camera.fov / 180 * Math.PI), f80 = this.getDistance(void 0, 1);
        return Math.max(Math.min(1 - u72 * f80 / 40, 1), 0.7);
      })(), d73 = this.five.renderer.getSize(v26);
      this.screenPosition = {
        leftPx: (n72.x + 1) / 2 * d73.x,
        topPx: (-n72.y + 1) / 2 * d73.y,
        scale: m66
      };
    } else
      this.screenPosition = null;
    this.plugin.addRenderQueue({ type: "TagContainerSvelte", keys: ["tags"] });
  }
  set(t43, i65 = true) {
    super.set(t43, i65), this.plugin.addRenderQueue({ type: "TagContainerSvelte", keys: ["tags"] }), t43.position && this.setPosition(this.position);
  }
  setData(...t43) {
    super.setData(...t43), this.plugin.addRenderQueue({ type: "TagContainerSvelte", keys: ["tags"] });
  }
  updateUnfoldedByPanoIndex() {
    if (this.isPopoverConfigEnabled())
      return;
    const t43 = this.getUnfoldedByPanoIndex();
    if (this.state && (t43 !== void 0 && (this.state.unfolded = t43), t43 && !this.state.visible)) {
      const i65 = this.getConfig();
      typeof i65.unfoldedConfig == "object" && i65.unfoldedConfig.autoFoldWhenHide !== false && (this.state.unfolded = false);
    }
  }
  computeNormal() {
    return new Vector3().fromArray(this.normal);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/CSS3DRender/CSS3DObject.js
var A36 = Object.defineProperty;
var H17 = (m66, r66, t43) => r66 in m66 ? A36(m66, r66, { enumerable: true, configurable: true, writable: true, value: t43 }) : m66[r66] = t43;
var o51 = (m66, r66, t43) => (H17(m66, typeof r66 != "symbol" ? r66 + "" : r66, t43), t43);
var $14 = 1;
var V13 = `CSS3DObject@${$14}`;
var z16 = 216e-5;
var F27 = 3e-3;
var nt3 = class extends c10 {
  constructor(t43) {
    var b55, f80, v58, S52, _32;
    if (t7(t43.cornerPoints) && t7(t43.width))
      throw new Error("cornerPoints and width cannot be both empty");
    const i65 = (b55 = t43.container) != null ? b55 : document.createElement("div"), s60 = (f80 = t43.cornerPoints) != null ? f80 : (() => {
      const e48 = t43.width / 2;
      return [
        new Vector3(-e48, e48, 0),
        new Vector3(-e48, -e48, 0),
        new Vector3(e48, -e48, 0),
        new Vector3(e48, e48, 0)
      ];
    })(), c85 = (v58 = t43.ratio) != null ? v58 : F27, w49 = (S52 = t43.dpr) != null ? S52 : 1, j37 = (_32 = t43.pointerEvents) != null ? _32 : "auto", h66 = Math.max(z16, c85), a62 = s60[0].distanceTo(s60[1]), y51 = s60[1].distanceTo(s60[2]);
    let l63 = t6(a62 / c85 * w49), d73 = t6(y51 / c85 * w49);
    const u72 = c9(...s60);
    let p66;
    if (h66 === c85)
      i65.style.width = `${l63}px`, i65.style.height = `${d73}px`, p66 = i65;
    else {
      const e48 = document.createElement("div");
      e48.style.width = `${l63}px`, e48.style.height = `${d73}px`, e48.style.pointerEvents = "none";
      const E53 = c85 / h66;
      i65.style.position = "absolute", i65.style.left = "0", i65.style.top = "0", i65.style.width = `${E53 * l63}px`, i65.style.height = `${E53 * d73}px`, e48.appendChild(i65), p66 = e48;
    }
    super(p66);
    o51(this, "version", $14);
    o51(this, "isCSS3DObject", true);
    o51(this, "name", V13);
    o51(this, "container");
    o51(this, "width");
    o51(this, "height");
    o51(this, "domWidthPx");
    o51(this, "domHeightPx");
    o51(this, "cornerPoints");
    o51(this, "centerPosition");
    o51(this, "ratio");
    o51(this, "_mode", "front");
    o51(this, "_opacityMesh");
    if (p66.id = this.id.toString(), i65.style.pointerEvents = j37, Object.assign(i65.style, t43.style), this.scale.set(h66, h66, h66), this.cornerPoints = s60, this.ratio = c85, this.container = i65, t43.mode && (this.mode = t43.mode), h66 === c85)
      this.width = a62, this.height = y51, this.centerPosition = u72;
    else {
      const e48 = c85 / h66;
      this.width = e48 * a62, this.height = e48 * y51, l63 = e48 * l63, d73 = e48 * d73, this.centerPosition = new Vector3().subVectors(u72, s60[0]).multiplyScalar(e48).add(s60[0]);
    }
    this.domWidthPx = l63, this.domHeightPx = d73, i65.classList.add(`${V13}__container`);
    const D52 = new Vector3().subVectors(s60[1], s60[0]), P55 = new Vector3().subVectors(s60[3], s60[0]), W25 = new Vector3().crossVectors(D52, P55).normalize();
    this.lookAt(W25);
    const g67 = this.up.clone().applyQuaternion(this.quaternion), x49 = P55.clone(), C52 = new Vector3().crossVectors(g67, x49).normalize();
    this.rotateOnWorldAxis(C52, g67.angleTo(x49)), this.position.copy(u72), this._opacityMesh = new p(l63, d73), this._opacityMesh.visible = t43.mode === "behind", this.add(this._opacityMesh);
  }
  get mode() {
    return this._mode;
  }
  set mode(t43) {
    this._mode = t43, this._opacityMesh && (this._opacityMesh.visible = t43 === "behind");
  }
  removeFromParent() {
    const t43 = this.parent;
    return t43 !== null && t43.remove(this), this;
  }
  dispose() {
    this.container.remove(), this.removeFromParent();
  }
};

// ../../node_modules/.pnpm/@realsee+five@6.4.0-alpha.40_@types+react@18.3.23_react@18.3.1_three@0.117.1/node_modules/@realsee/five/gltf-loader/index.mjs
var Ge = function(p66, T38) {
  return Ge = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(u72, m66) {
    u72.__proto__ = m66;
  } || function(u72, m66) {
    for (var v58 in m66) Object.prototype.hasOwnProperty.call(m66, v58) && (u72[v58] = m66[v58]);
  }, Ge(p66, T38);
};
function rr2(p66, T38) {
  if (typeof T38 != "function" && T38 !== null)
    throw new TypeError("Class extends value " + String(T38) + " is not a constructor or null");
  Ge(p66, T38);
  function u72() {
    this.constructor = p66;
  }
  p66.prototype = T38 === null ? Object.create(T38) : (u72.prototype = T38.prototype, new u72());
}
var qr2 = function() {
  function p66(e48) {
    Loader.call(this, e48), this.dracoLoader = null, this.ddsLoader = null;
  }
  p66.prototype = Object.assign(Object.create(Loader.prototype), {
    constructor: p66,
    load: function(e48, r66, t43, n72) {
      var a62 = this, i65;
      this.resourcePath !== "" ? i65 = this.resourcePath : this.path !== "" ? i65 = this.path : i65 = LoaderUtils.extractUrlBase(e48), a62.manager.itemStart(e48);
      var s60 = function(l63) {
        n72 ? n72(l63) : console.error(l63), a62.manager.itemError(e48), a62.manager.itemEnd(e48);
      }, o71 = new FileLoader(a62.manager);
      o71.setPath(this.path), o71.setResponseType("arraybuffer"), o71.setRequestHeader(this.requestHeader), a62.crossOrigin === "use-credentials" && o71.setWithCredentials(true), o71.load(e48, function(l63) {
        try {
          a62.parse(l63, i65, function(f80) {
            r66(f80), a62.manager.itemEnd(e48);
          }, s60);
        } catch (f80) {
          s60(f80);
        }
      }, t43, s60);
    },
    setDRACOLoader: function(e48) {
      return this.dracoLoader = e48, this;
    },
    setDDSLoader: function(e48) {
      return this.ddsLoader = e48, this;
    },
    parse: function(e48, r66, t43, n72) {
      var a62, i65 = {};
      if (typeof e48 == "string")
        a62 = e48;
      else {
        var s60 = LoaderUtils.decodeText(new Uint8Array(e48, 0, 4));
        if (s60 === F45) {
          try {
            i65[u72.KHR_BINARY_GLTF] = new P55(e48);
          } catch (d73) {
            n72 && n72(d73);
            return;
          }
          a62 = i65[u72.KHR_BINARY_GLTF].content;
        } else
          a62 = LoaderUtils.decodeText(new Uint8Array(e48));
      }
      var o71 = JSON.parse(a62);
      if (o71.asset === void 0 || o71.asset.version[0] < 2) {
        n72 && n72(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));
        return;
      }
      if (o71.extensionsUsed)
        for (var l63 = 0; l63 < o71.extensionsUsed.length; ++l63) {
          var f80 = o71.extensionsUsed[l63], h66 = o71.extensionsRequired || [];
          switch (f80) {
            case u72.KHR_LIGHTS_PUNCTUAL:
              i65[f80] = new v58(o71);
              break;
            case u72.KHR_MATERIALS_CLEARCOAT:
              i65[f80] = new _32();
              break;
            case u72.KHR_MATERIALS_TRANSMISSION:
              i65[f80] = new x49();
              break;
            case u72.KHR_MATERIALS_UNLIT:
              i65[f80] = new g67();
              break;
            case u72.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:
              i65[f80] = new K32();
              break;
            case u72.KHR_DRACO_MESH_COMPRESSION:
              i65[f80] = new b55(o71, this.dracoLoader);
              break;
            case u72.MSFT_TEXTURE_DDS:
              i65[f80] = new m66(this.ddsLoader);
              break;
            case u72.KHR_TEXTURE_TRANSFORM:
              i65[f80] = new M48();
              break;
            case u72.KHR_MESH_QUANTIZATION:
              i65[f80] = new ne14();
              break;
            case u72.REALSEE_MATERIALS_LIGHTMAP:
              i65[f80] = new J33();
              break;
            default:
              h66.indexOf(f80) >= 0 && console.warn('THREE.GLTFLoader: Unknown extension "' + f80 + '".');
          }
        }
      var c85 = new C52(o71, i65, {
        path: r66 || this.resourcePath || "",
        crossOrigin: this.crossOrigin,
        manager: this.manager
      });
      c85.fileLoader.setRequestHeader(this.requestHeader), c85.parse(t43, n72);
    }
  });
  function T38() {
    var e48 = {};
    return {
      get: function(r66) {
        return e48[r66];
      },
      add: function(r66, t43) {
        e48[r66] = t43;
      },
      remove: function(r66) {
        delete e48[r66];
      },
      removeAll: function() {
        e48 = {};
      }
    };
  }
  var u72 = {
    KHR_BINARY_GLTF: "KHR_binary_glTF",
    KHR_DRACO_MESH_COMPRESSION: "KHR_draco_mesh_compression",
    KHR_LIGHTS_PUNCTUAL: "KHR_lights_punctual",
    KHR_MATERIALS_CLEARCOAT: "KHR_materials_clearcoat",
    KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: "KHR_materials_pbrSpecularGlossiness",
    KHR_MATERIALS_TRANSMISSION: "KHR_materials_transmission",
    KHR_MATERIALS_UNLIT: "KHR_materials_unlit",
    KHR_TEXTURE_TRANSFORM: "KHR_texture_transform",
    KHR_MESH_QUANTIZATION: "KHR_mesh_quantization",
    MSFT_TEXTURE_DDS: "MSFT_texture_dds",
    REALSEE_MATERIALS_LIGHTMAP: "REALSEE_materials_lightmap"
  };
  function m66(e48) {
    if (!e48)
      throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");
    this.name = u72.MSFT_TEXTURE_DDS, this.ddsLoader = e48;
  }
  function v58(e48) {
    this.name = u72.KHR_LIGHTS_PUNCTUAL;
    var r66 = e48.extensions && e48.extensions[u72.KHR_LIGHTS_PUNCTUAL] || {};
    this.lightDefs = r66.lights || [];
  }
  v58.prototype.loadLight = function(e48) {
    var r66 = this.lightDefs[e48], t43, n72 = new Color(16777215);
    r66.color !== void 0 && n72.fromArray(r66.color);
    var a62 = r66.range !== void 0 ? r66.range : 0;
    switch (r66.type) {
      case "directional":
        t43 = new DirectionalLight(n72), t43.target.position.set(0, 0, -1), t43.add(t43.target);
        break;
      case "point":
        t43 = new PointLight(n72), t43.distance = a62;
        break;
      case "spot":
        t43 = new SpotLight(n72), t43.distance = a62, r66.spot = r66.spot || {}, r66.spot.innerConeAngle = r66.spot.innerConeAngle !== void 0 ? r66.spot.innerConeAngle : 0, r66.spot.outerConeAngle = r66.spot.outerConeAngle !== void 0 ? r66.spot.outerConeAngle : Math.PI / 4, t43.angle = r66.spot.outerConeAngle, t43.penumbra = 1 - r66.spot.innerConeAngle / r66.spot.outerConeAngle, t43.target.position.set(0, 0, -1), t43.add(t43.target);
        break;
      default:
        throw new Error('THREE.GLTFLoader: Unexpected light type, "' + r66.type + '".');
    }
    return t43.position.set(0, 0, 0), t43.decay = 2, r66.intensity !== void 0 && (t43.intensity = r66.intensity), t43.name = r66.name || "light_" + e48, Promise.resolve(t43);
  };
  function g67() {
    this.name = u72.KHR_MATERIALS_UNLIT;
  }
  g67.prototype.getMaterialType = function() {
    return MeshBasicMaterial;
  }, g67.prototype.extendParams = function(e48, r66, t43) {
    var n72 = [];
    e48.color = new Color(1, 1, 1), e48.opacity = 1;
    var a62 = r66.pbrMetallicRoughness;
    if (a62) {
      if (Array.isArray(a62.baseColorFactor)) {
        var i65 = a62.baseColorFactor;
        e48.color.fromArray(i65), e48.opacity = i65[3];
      }
      a62.baseColorTexture !== void 0 && n72.push(t43.assignTexture(e48, "map", a62.baseColorTexture));
    }
    return Promise.all(n72);
  };
  function _32() {
    this.name = u72.KHR_MATERIALS_CLEARCOAT;
  }
  _32.prototype.getMaterialType = function() {
    return MeshPhysicalMaterial;
  }, _32.prototype.extendParams = function(e48, r66, t43) {
    var n72 = [], a62 = r66.extensions[this.name];
    if (a62.clearcoatFactor !== void 0 && (e48.clearcoat = a62.clearcoatFactor), a62.clearcoatTexture !== void 0 && n72.push(t43.assignTexture(e48, "clearcoatMap", a62.clearcoatTexture)), a62.clearcoatRoughnessFactor !== void 0 && (e48.clearcoatRoughness = a62.clearcoatRoughnessFactor), a62.clearcoatRoughnessTexture !== void 0 && n72.push(t43.assignTexture(e48, "clearcoatRoughnessMap", a62.clearcoatRoughnessTexture)), a62.clearcoatNormalTexture !== void 0 && (n72.push(t43.assignTexture(e48, "clearcoatNormalMap", a62.clearcoatNormalTexture)), a62.clearcoatNormalTexture.scale !== void 0)) {
      var i65 = a62.clearcoatNormalTexture.scale;
      e48.clearcoatNormalScale = new Vector2(i65, i65);
    }
    return Promise.all(n72);
  };
  function x49() {
    this.name = u72.KHR_MATERIALS_TRANSMISSION;
  }
  x49.prototype.getMaterialType = function() {
    return MeshPhysicalMaterial;
  }, x49.prototype.extendParams = function(e48, r66, t43) {
    var n72 = [], a62 = r66.extensions[this.name];
    return a62.transmissionFactor !== void 0 && (e48.premultipliedAlpha = true, e48.transparent = true, e48.opacity = e48.opacity !== void 0 ? e48.opacity : 0.5), Promise.all(n72);
  };
  var F45 = "glTF", R43 = 12, I49 = { JSON: 1313821514, BIN: 5130562 };
  function P55(e48) {
    this.name = u72.KHR_BINARY_GLTF, this.content = null, this.body = null;
    var r66 = new DataView(e48, 0, R43);
    if (this.header = {
      magic: LoaderUtils.decodeText(new Uint8Array(e48.slice(0, 4))),
      version: r66.getUint32(4, true),
      length: r66.getUint32(8, true)
    }, this.header.magic !== F45)
      throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");
    if (this.header.version < 2)
      throw new Error("THREE.GLTFLoader: Legacy binary file detected.");
    for (var t43 = new DataView(e48, R43), n72 = 0; n72 < t43.byteLength; ) {
      var a62 = t43.getUint32(n72, true);
      n72 += 4;
      var i65 = t43.getUint32(n72, true);
      if (n72 += 4, i65 === I49.JSON) {
        var s60 = new Uint8Array(e48, R43 + n72, a62);
        this.content = LoaderUtils.decodeText(s60);
      } else if (i65 === I49.BIN) {
        var o71 = R43 + n72;
        this.body = e48.slice(o71, o71 + a62);
      }
      n72 += a62;
    }
    if (this.content === null)
      throw new Error("THREE.GLTFLoader: JSON content not found.");
  }
  function b55(e48, r66) {
    if (!r66)
      throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");
    this.name = u72.KHR_DRACO_MESH_COMPRESSION, this.json = e48, this.dracoLoader = r66, this.dracoLoader.preload();
  }
  b55.prototype.decodePrimitive = function(e48, r66) {
    var t43 = this.json, n72 = this.dracoLoader, a62 = e48.extensions[this.name].bufferView, i65 = e48.extensions[this.name].attributes, s60 = {}, o71 = {}, l63 = {};
    for (var f80 in i65) {
      var h66 = le5[f80] || f80.toLowerCase();
      s60[h66] = i65[f80];
    }
    for (f80 in e48.attributes) {
      var h66 = le5[f80] || f80.toLowerCase();
      if (i65[f80] !== void 0) {
        var c85 = t43.accessors[e48.attributes[f80]], d73 = Q29[c85.componentType];
        l63[h66] = d73, o71[h66] = c85.normalized === true;
      }
    }
    return r66.getDependency("bufferView", a62).then(function(A62) {
      return new Promise(function(y51) {
        n72.decodeDracoFile(A62, function(E53) {
          for (var S52 in E53.attributes) {
            var L40 = E53.attributes[S52], O40 = o71[S52];
            O40 !== void 0 && (L40.normalized = O40);
          }
          y51(E53);
        }, s60, l63);
      });
    });
  };
  function M48() {
    this.name = u72.KHR_TEXTURE_TRANSFORM;
  }
  M48.prototype.extendTexture = function(e48, r66) {
    return e48 = e48.clone(), r66.offset !== void 0 && e48.offset.fromArray(r66.offset), r66.rotation !== void 0 && (e48.rotation = r66.rotation), r66.scale !== void 0 && e48.repeat.fromArray(r66.scale), r66.texCoord !== void 0 && console.warn('THREE.GLTFLoader: Custom UV sets in "' + this.name + '" extension not yet supported.'), e48.needsUpdate = true, e48;
  };
  function w49(e48) {
    MeshStandardMaterial.call(this), this.isGLTFSpecularGlossinessMaterial = true;
    var r66 = [
      "#ifdef USE_SPECULARMAP",
      "	uniform sampler2D specularMap;",
      "#endif"
    ].join(`
`), t43 = [
      "#ifdef USE_GLOSSINESSMAP",
      "	uniform sampler2D glossinessMap;",
      "#endif"
    ].join(`
`), n72 = [
      "vec3 specularFactor = specular;",
      "#ifdef USE_SPECULARMAP",
      "	vec4 texelSpecular = texture2D( specularMap, vUv );",
      "	texelSpecular = sRGBToLinear( texelSpecular );",
      "	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture",
      "	specularFactor *= texelSpecular.rgb;",
      "#endif"
    ].join(`
`), a62 = [
      "float glossinessFactor = glossiness;",
      "#ifdef USE_GLOSSINESSMAP",
      "	vec4 texelGlossiness = texture2D( glossinessMap, vUv );",
      "	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture",
      "	glossinessFactor *= texelGlossiness.a;",
      "#endif"
    ].join(`
`), i65 = [
      "PhysicalMaterial material;",
      "material.diffuseColor = diffuseColor.rgb;",
      "vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );",
      "float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );",
      "material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.",
      "material.specularRoughness += geometryRoughness;",
      "material.specularRoughness = min( material.specularRoughness, 1.0 );",
      "material.specularColor = specularFactor.rgb;"
    ].join(`
`), s60 = {
      specular: { value: new Color().setHex(16777215) },
      glossiness: { value: 1 },
      specularMap: { value: null },
      glossinessMap: { value: null }
    };
    this._extraUniforms = s60, this.onBeforeCompile = function(o71) {
      for (var l63 in s60)
        o71.uniforms[l63] = s60[l63];
      o71.fragmentShader = o71.fragmentShader.replace("uniform float roughness;", "uniform vec3 specular;"), o71.fragmentShader = o71.fragmentShader.replace("uniform float metalness;", "uniform float glossiness;"), o71.fragmentShader = o71.fragmentShader.replace("#include <roughnessmap_pars_fragment>", r66), o71.fragmentShader = o71.fragmentShader.replace("#include <metalnessmap_pars_fragment>", t43), o71.fragmentShader = o71.fragmentShader.replace("#include <roughnessmap_fragment>", n72), o71.fragmentShader = o71.fragmentShader.replace("#include <metalnessmap_fragment>", a62), o71.fragmentShader = o71.fragmentShader.replace("#include <lights_physical_fragment>", i65);
    }, Object.defineProperties(
      this,
      {
        specular: {
          get: function() {
            return s60.specular.value;
          },
          set: function(o71) {
            s60.specular.value = o71;
          }
        },
        specularMap: {
          get: function() {
            return s60.specularMap.value;
          },
          set: function(o71) {
            s60.specularMap.value = o71;
          }
        },
        glossiness: {
          get: function() {
            return s60.glossiness.value;
          },
          set: function(o71) {
            s60.glossiness.value = o71;
          }
        },
        glossinessMap: {
          get: function() {
            return s60.glossinessMap.value;
          },
          set: function(o71) {
            s60.glossinessMap.value = o71, o71 ? (this.defines.USE_GLOSSINESSMAP = "", this.defines.USE_ROUGHNESSMAP = "") : (delete this.defines.USE_ROUGHNESSMAP, delete this.defines.USE_GLOSSINESSMAP);
          }
        }
      }
    ), delete this.metalness, delete this.roughness, delete this.metalnessMap, delete this.roughnessMap, this.setValues(e48);
  }
  w49.prototype = Object.create(MeshStandardMaterial.prototype), w49.prototype.constructor = w49, w49.prototype.copy = function(e48) {
    return MeshStandardMaterial.prototype.copy.call(this, e48), this.specularMap = e48.specularMap, this.specular.copy(e48.specular), this.glossinessMap = e48.glossinessMap, this.glossiness = e48.glossiness, delete this.metalness, delete this.roughness, delete this.metalnessMap, delete this.roughnessMap, this;
  };
  function K32() {
    return {
      name: u72.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,
      specularGlossinessParams: [
        "color",
        "map",
        "lightMap",
        "lightMapIntensity",
        "aoMap",
        "aoMapIntensity",
        "emissive",
        "emissiveIntensity",
        "emissiveMap",
        "bumpMap",
        "bumpScale",
        "normalMap",
        "normalMapType",
        "displacementMap",
        "displacementScale",
        "displacementBias",
        "specularMap",
        "specular",
        "glossinessMap",
        "glossiness",
        "alphaMap",
        "envMap",
        "envMapIntensity",
        "refractionRatio"
      ],
      getMaterialType: function() {
        return w49;
      },
      extendParams: function(e48, r66, t43) {
        var n72 = r66.extensions[this.name];
        e48.color = new Color(1, 1, 1), e48.opacity = 1;
        var a62 = [];
        if (Array.isArray(n72.diffuseFactor)) {
          var i65 = n72.diffuseFactor;
          e48.color.fromArray(i65), e48.opacity = i65[3];
        }
        if (n72.diffuseTexture !== void 0 && a62.push(t43.assignTexture(e48, "map", n72.diffuseTexture)), e48.emissive = new Color(0, 0, 0), e48.glossiness = n72.glossinessFactor !== void 0 ? n72.glossinessFactor : 1, e48.specular = new Color(1, 1, 1), Array.isArray(n72.specularFactor) && e48.specular.fromArray(n72.specularFactor), n72.specularGlossinessTexture !== void 0) {
          var s60 = n72.specularGlossinessTexture;
          a62.push(t43.assignTexture(e48, "glossinessMap", s60)), a62.push(t43.assignTexture(e48, "specularMap", s60));
        }
        return Promise.all(a62);
      },
      createMaterial: function(e48) {
        var r66 = new w49(e48);
        return r66.fog = true, r66.color = e48.color, r66.map = e48.map === void 0 ? null : e48.map, r66.lightMap = null, r66.lightMapIntensity = 1, r66.aoMap = e48.aoMap === void 0 ? null : e48.aoMap, r66.aoMapIntensity = 1, r66.emissive = e48.emissive, r66.emissiveIntensity = 1, r66.emissiveMap = e48.emissiveMap === void 0 ? null : e48.emissiveMap, r66.bumpMap = e48.bumpMap === void 0 ? null : e48.bumpMap, r66.bumpScale = 1, r66.normalMap = e48.normalMap === void 0 ? null : e48.normalMap, r66.normalMapType = TangentSpaceNormalMap, e48.normalScale && (r66.normalScale = e48.normalScale), r66.displacementMap = null, r66.displacementScale = 1, r66.displacementBias = 0, r66.specularMap = e48.specularMap === void 0 ? null : e48.specularMap, r66.specular = e48.specular, r66.glossinessMap = e48.glossinessMap === void 0 ? null : e48.glossinessMap, r66.glossiness = e48.glossiness, r66.alphaMap = null, r66.envMap = e48.envMap === void 0 ? null : e48.envMap, r66.envMapIntensity = 1, r66.refractionRatio = 0.98, r66;
      }
    };
  }
  function ne14() {
    this.name = u72.KHR_MESH_QUANTIZATION;
  }
  function D52(e48, r66, t43, n72) {
    Interpolant.call(this, e48, r66, t43, n72);
  }
  D52.prototype = Object.create(Interpolant.prototype), D52.prototype.constructor = D52, D52.prototype.copySampleValue_ = function(e48) {
    for (var r66 = this.resultBuffer, t43 = this.sampleValues, n72 = this.valueSize, a62 = e48 * n72 * 3 + n72, i65 = 0; i65 !== n72; i65++)
      r66[i65] = t43[a62 + i65];
    return r66;
  }, D52.prototype.beforeStart_ = D52.prototype.copySampleValue_, D52.prototype.afterEnd_ = D52.prototype.copySampleValue_, D52.prototype.interpolate_ = function(e48, r66, t43, n72) {
    for (var a62 = this.resultBuffer, i65 = this.sampleValues, s60 = this.valueSize, o71 = s60 * 2, l63 = s60 * 3, f80 = n72 - r66, h66 = (t43 - r66) / f80, c85 = h66 * h66, d73 = c85 * h66, A62 = e48 * l63, y51 = A62 - l63, E53 = -2 * d73 + 3 * c85, S52 = d73 - c85, L40 = 1 - E53, O40 = S52 - c85 + h66, G31 = 0; G31 !== s60; G31++) {
      var te10 = i65[y51 + G31 + s60], ae7 = i65[y51 + G31 + o71] * f80, $23 = i65[A62 + G31 + s60], B42 = i65[A62 + G31] * f80;
      a62[G31] = L40 * te10 + O40 * ae7 + E53 * $23 + S52 * B42;
    }
    return a62;
  };
  function J33(e48) {
    this.parser = e48, this.name = u72.REALSEE_MATERIALS_LIGHTMAP;
  }
  J33.prototype.getMaterialType = function(e48) {
    return MeshPhongMaterial;
  }, J33.prototype.extendParams = function(e48, r66, t43) {
    if (!r66.extensions || !r66.extensions[this.name])
      return Promise.resolve();
    var n72 = [], a62 = r66.extensions[this.name];
    return a62.lightMapTexture !== void 0 && n72.push(t43.assignTexture(e48, "lightMap", a62.lightMapTexture)), a62.lightMapIntensity !== void 0 && (e48.lightMapIntensity = a62.lightMapIntensity), Promise.all(n72);
  };
  var H39 = {
    FLOAT: 5126,
    //FLOAT_MAT2: 35674,
    FLOAT_MAT3: 35675,
    FLOAT_MAT4: 35676,
    FLOAT_VEC2: 35664,
    FLOAT_VEC3: 35665,
    FLOAT_VEC4: 35666,
    LINEAR: 9729,
    REPEAT: 10497,
    SAMPLER_2D: 35678,
    POINTS: 0,
    LINES: 1,
    LINE_LOOP: 2,
    LINE_STRIP: 3,
    TRIANGLES: 4,
    TRIANGLE_STRIP: 5,
    TRIANGLE_FAN: 6,
    UNSIGNED_BYTE: 5121,
    UNSIGNED_SHORT: 5123
  }, Q29 = {
    5120: Int8Array,
    5121: Uint8Array,
    5122: Int16Array,
    5123: Uint16Array,
    5125: Uint32Array,
    5126: Float32Array
  }, Z18 = {
    9728: NearestFilter,
    9729: LinearFilter,
    9984: NearestMipmapNearestFilter,
    9985: LinearMipmapNearestFilter,
    9986: NearestMipmapLinearFilter,
    9987: LinearMipmapLinearFilter
  }, X24 = {
    33071: ClampToEdgeWrapping,
    33648: MirroredRepeatWrapping,
    10497: RepeatWrapping
  }, z28 = {
    SCALAR: 1,
    VEC2: 2,
    VEC3: 3,
    VEC4: 4,
    MAT2: 4,
    MAT3: 9,
    MAT4: 16
  }, le5 = {
    POSITION: "position",
    NORMAL: "normal",
    TANGENT: "tangent",
    TEXCOORD_0: "uv",
    TEXCOORD_1: "uv2",
    COLOR_0: "color",
    WEIGHTS_0: "skinWeight",
    JOINTS_0: "skinIndex"
  }, V25 = {
    scale: "scale",
    translation: "position",
    rotation: "quaternion",
    weights: "morphTargetInfluences"
  }, Le3 = {
    CUBICSPLINE: void 0,
    // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each
    // keyframe track will be initialized with a default interpolation type, then modified.
    LINEAR: InterpolateLinear,
    STEP: InterpolateDiscrete
  }, fe10 = {
    OPAQUE: "OPAQUE",
    MASK: "MASK",
    BLEND: "BLEND"
  }, Te5 = {
    "image/png": RGBAFormat,
    "image/jpeg": RGBFormat
  };
  function ge10(e48, r66) {
    return typeof e48 != "string" || e48 === "" ? "" : (/^https?:\/\//i.test(r66) && /^\//.test(e48) && (r66 = r66.replace(/(^https?:\/\/[^\/]+).*/i, "$1")), /^(https?:)?\/\//i.test(e48) || /^data:.*,.*$/i.test(e48) || /^blob:.*$/i.test(e48) ? e48 : r66 + e48);
  }
  function Me3(e48) {
    return e48.DefaultMaterial === void 0 && (e48.DefaultMaterial = new MeshStandardMaterial({
      color: 16777215,
      emissive: 0,
      metalness: 1,
      roughness: 1,
      transparent: false,
      depthTest: true,
      side: FrontSide
    })), e48.DefaultMaterial;
  }
  function oe11(e48, r66, t43) {
    for (var n72 in t43.extensions)
      e48[n72] === void 0 && (r66.userData.gltfExtensions = r66.userData.gltfExtensions || {}, r66.userData.gltfExtensions[n72] = t43.extensions[n72]);
  }
  function W25(e48, r66) {
    r66.extras !== void 0 && (typeof r66.extras == "object" ? Object.assign(e48.userData, r66.extras) : console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, " + r66.extras));
  }
  function we4(e48, r66, t43) {
    for (var n72 = false, a62 = false, i65 = 0, s60 = r66.length; i65 < s60; i65++) {
      var o71 = r66[i65];
      if (o71.POSITION !== void 0 && (n72 = true), o71.NORMAL !== void 0 && (a62 = true), n72 && a62) break;
    }
    if (!n72 && !a62) return Promise.resolve(e48);
    for (var l63 = [], f80 = [], i65 = 0, s60 = r66.length; i65 < s60; i65++) {
      var o71 = r66[i65];
      if (n72) {
        var h66 = o71.POSITION !== void 0 ? t43.getDependency("accessor", o71.POSITION) : e48.attributes.position;
        l63.push(h66);
      }
      if (a62) {
        var h66 = o71.NORMAL !== void 0 ? t43.getDependency("accessor", o71.NORMAL) : e48.attributes.normal;
        f80.push(h66);
      }
    }
    return Promise.all([
      Promise.all(l63),
      Promise.all(f80)
    ]).then(function(c85) {
      var d73 = c85[0], A62 = c85[1];
      return n72 && (e48.morphAttributes.position = d73), a62 && (e48.morphAttributes.normal = A62), e48.morphTargetsRelative = true, e48;
    });
  }
  function Ie4(e48, r66) {
    if (e48.updateMorphTargets(), r66.weights !== void 0)
      for (var t43 = 0, n72 = r66.weights.length; t43 < n72; t43++)
        e48.morphTargetInfluences[t43] = r66.weights[t43];
    if (r66.extras && Array.isArray(r66.extras.targetNames)) {
      var a62 = r66.extras.targetNames;
      if (e48.morphTargetInfluences.length === a62.length) {
        e48.morphTargetDictionary = {};
        for (var t43 = 0, n72 = a62.length; t43 < n72; t43++)
          e48.morphTargetDictionary[a62[t43]] = t43;
      } else
        console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.");
    }
  }
  function U33(e48) {
    var r66 = e48.extensions && e48.extensions[u72.KHR_DRACO_MESH_COMPRESSION], t43;
    return r66 ? t43 = "draco:" + r66.bufferView + ":" + r66.indices + ":" + Y23(r66.attributes) : t43 = e48.indices + ":" + Y23(e48.attributes) + ":" + e48.mode, t43;
  }
  function Y23(e48) {
    for (var r66 = "", t43 = Object.keys(e48).sort(), n72 = 0, a62 = t43.length; n72 < a62; n72++)
      r66 += t43[n72] + ":" + e48[t43[n72]] + ";";
    return r66;
  }
  function C52(e48, r66, t43) {
    this.json = e48 || {}, this.extensions = r66 || {}, this.options = t43 || {}, this.cache = new T38(), this.associations = /* @__PURE__ */ new Map(), this.primitiveCache = {}, this.textureLoader = new TextureLoader(this.options.manager), this.textureLoader.setCrossOrigin(this.options.crossOrigin), this.fileLoader = new FileLoader(this.options.manager), this.fileLoader.setResponseType("arraybuffer"), this.options.crossOrigin === "use-credentials" && this.fileLoader.setWithCredentials(true);
  }
  C52.prototype.parse = function(e48, r66) {
    var t43 = this, n72 = this.json, a62 = this.extensions;
    this.cache.removeAll(), this.markDefs(), Promise.all([
      this.getDependencies("scene"),
      this.getDependencies("animation"),
      this.getDependencies("camera")
    ]).then(function(i65) {
      var s60 = {
        scene: i65[0][n72.scene || 0],
        scenes: i65[0],
        animations: i65[1],
        cameras: i65[2],
        asset: n72.asset,
        parser: t43,
        userData: {}
      };
      oe11(a62, s60, n72), W25(s60, n72), e48(s60);
    }).catch(r66);
  }, C52.prototype.markDefs = function() {
    for (var e48 = this.json.nodes || [], r66 = this.json.skins || [], t43 = this.json.meshes || [], n72 = {}, a62 = {}, i65 = 0, s60 = r66.length; i65 < s60; i65++)
      for (var o71 = r66[i65].joints, l63 = 0, f80 = o71.length; l63 < f80; l63++)
        e48[o71[l63]].isBone = true;
    for (var h66 = 0, c85 = e48.length; h66 < c85; h66++) {
      var d73 = e48[h66];
      d73.mesh !== void 0 && (n72[d73.mesh] === void 0 && (n72[d73.mesh] = a62[d73.mesh] = 0), n72[d73.mesh]++, d73.skin !== void 0 && (t43[d73.mesh].isSkinnedMesh = true));
    }
    this.json.meshReferences = n72, this.json.meshUses = a62;
  }, C52.prototype.getDependency = function(e48, r66) {
    var t43 = e48 + ":" + r66, n72 = this.cache.get(t43);
    if (!n72) {
      switch (e48) {
        case "scene":
          n72 = this.loadScene(r66);
          break;
        case "node":
          n72 = this.loadNode(r66);
          break;
        case "mesh":
          n72 = this.loadMesh(r66);
          break;
        case "accessor":
          n72 = this.loadAccessor(r66);
          break;
        case "bufferView":
          n72 = this.loadBufferView(r66);
          break;
        case "buffer":
          n72 = this.loadBuffer(r66);
          break;
        case "material":
          n72 = this.loadMaterial(r66);
          break;
        case "texture":
          n72 = this.loadTexture(r66);
          break;
        case "skin":
          n72 = this.loadSkin(r66);
          break;
        case "animation":
          n72 = this.loadAnimation(r66);
          break;
        case "camera":
          n72 = this.loadCamera(r66);
          break;
        case "light":
          n72 = this.extensions[u72.KHR_LIGHTS_PUNCTUAL].loadLight(r66);
          break;
        default:
          throw new Error("Unknown type: " + e48);
      }
      this.cache.add(t43, n72);
    }
    return n72;
  }, C52.prototype.getDependencies = function(e48) {
    var r66 = this.cache.get(e48);
    if (!r66) {
      var t43 = this, n72 = this.json[e48 + (e48 === "mesh" ? "es" : "s")] || [];
      r66 = Promise.all(n72.map(function(a62, i65) {
        return t43.getDependency(e48, i65);
      })), this.cache.add(e48, r66);
    }
    return r66;
  }, C52.prototype.loadBuffer = function(e48) {
    var r66 = this.json.buffers[e48], t43 = this.fileLoader;
    if (r66.type && r66.type !== "arraybuffer")
      throw new Error("THREE.GLTFLoader: " + r66.type + " buffer type is not supported.");
    if (r66.uri === void 0 && e48 === 0)
      return Promise.resolve(this.extensions[u72.KHR_BINARY_GLTF].body);
    var n72 = this.options;
    return new Promise(function(a62, i65) {
      t43.load(ge10(r66.uri, n72.path), a62, void 0, function() {
        i65(new Error('THREE.GLTFLoader: Failed to load buffer "' + r66.uri + '".'));
      });
    });
  }, C52.prototype.loadBufferView = function(e48) {
    var r66 = this.json.bufferViews[e48];
    return this.getDependency("buffer", r66.buffer).then(function(t43) {
      var n72 = r66.byteLength || 0, a62 = r66.byteOffset || 0;
      return t43.slice(a62, a62 + n72);
    });
  }, C52.prototype.loadAccessor = function(e48) {
    var r66 = this, t43 = this.json, n72 = this.json.accessors[e48];
    if (n72.bufferView === void 0 && n72.sparse === void 0)
      return Promise.resolve(null);
    var a62 = [];
    return n72.bufferView !== void 0 ? a62.push(this.getDependency("bufferView", n72.bufferView)) : a62.push(null), n72.sparse !== void 0 && (a62.push(this.getDependency("bufferView", n72.sparse.indices.bufferView)), a62.push(this.getDependency("bufferView", n72.sparse.values.bufferView))), Promise.all(a62).then(function(i65) {
      var s60 = i65[0], o71 = z28[n72.type], l63 = Q29[n72.componentType], f80 = l63.BYTES_PER_ELEMENT, h66 = f80 * o71, c85 = n72.byteOffset || 0, d73 = n72.bufferView !== void 0 ? t43.bufferViews[n72.bufferView].byteStride : void 0, A62 = n72.normalized === true, y51, E53;
      if (d73 && d73 !== h66) {
        var S52 = Math.floor(c85 / d73), L40 = "InterleavedBuffer:" + n72.bufferView + ":" + n72.componentType + ":" + S52 + ":" + n72.count, O40 = r66.cache.get(L40);
        O40 || (y51 = new l63(s60, S52 * d73, n72.count * d73 / f80), O40 = new InterleavedBuffer(y51, d73 / f80), r66.cache.add(L40, O40)), E53 = new InterleavedBufferAttribute(O40, o71, c85 % d73 / f80, A62);
      } else
        s60 === null ? y51 = new l63(n72.count * o71) : y51 = new l63(s60, c85, n72.count * o71), E53 = new BufferAttribute(y51, o71, A62);
      if (n72.sparse !== void 0) {
        var G31 = z28.SCALAR, te10 = Q29[n72.sparse.indices.componentType], ae7 = n72.sparse.indices.byteOffset || 0, $23 = n72.sparse.values.byteOffset || 0, B42 = new te10(i65[1], ae7, n72.sparse.count * G31), ue8 = new l63(i65[2], $23, n72.sparse.count * o71);
        s60 !== null && (E53 = new BufferAttribute(E53.array.slice(), E53.itemSize, E53.normalized));
        for (var N33 = 0, be6 = B42.length; N33 < be6; N33++) {
          var se6 = B42[N33];
          if (E53.setX(se6, ue8[N33 * o71]), o71 >= 2 && E53.setY(se6, ue8[N33 * o71 + 1]), o71 >= 3 && E53.setZ(se6, ue8[N33 * o71 + 2]), o71 >= 4 && E53.setW(se6, ue8[N33 * o71 + 3]), o71 >= 5) throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.");
        }
      }
      return E53;
    });
  }, C52.prototype.loadTexture = function(e48) {
    var r66 = this, t43 = this.json, n72 = this.options, a62 = this.textureLoader, i65 = self.URL || self.webkitURL, s60 = t43.textures[e48], o71 = s60.extensions || {}, l63;
    o71[u72.MSFT_TEXTURE_DDS] ? l63 = t43.images[o71[u72.MSFT_TEXTURE_DDS].source] : l63 = t43.images[s60.source];
    var f80 = l63.uri, h66 = false;
    return l63.bufferView !== void 0 && (f80 = r66.getDependency("bufferView", l63.bufferView).then(function(c85) {
      h66 = true;
      var d73 = new Blob([c85], { type: l63.mimeType });
      return f80 = i65.createObjectURL(d73), f80;
    })), Promise.resolve(f80).then(function(c85) {
      var d73 = n72.manager.getHandler(c85);
      return d73 || (d73 = o71[u72.MSFT_TEXTURE_DDS] ? r66.extensions[u72.MSFT_TEXTURE_DDS].ddsLoader : a62), new Promise(function(A62, y51) {
        d73.load(ge10(c85, n72.path), A62, void 0, y51);
      });
    }).then(function(c85) {
      h66 === true && i65.revokeObjectURL(f80), c85.flipY = false, s60.name && (c85.name = s60.name), l63.mimeType in Te5 && (c85.format = Te5[l63.mimeType]);
      var d73 = t43.samplers || {}, A62 = d73[s60.sampler] || {};
      return c85.magFilter = Z18[A62.magFilter] || LinearFilter, c85.minFilter = Z18[A62.minFilter] || LinearMipmapLinearFilter, c85.wrapS = X24[A62.wrapS] || RepeatWrapping, c85.wrapT = X24[A62.wrapT] || RepeatWrapping, r66.associations.set(c85, {
        type: "textures",
        index: e48
      }), c85;
    });
  }, C52.prototype.assignTexture = function(e48, r66, t43) {
    var n72 = this;
    return this.getDependency("texture", t43.index).then(function(a62) {
      if (!a62.isCompressedTexture)
        switch (r66) {
          case "aoMap":
          case "emissiveMap":
          case "metalnessMap":
          case "normalMap":
          case "roughnessMap":
            a62.format = RGBFormat;
            break;
        }
      if (t43.texCoord !== void 0 && t43.texCoord != 0 && !(r66 === "aoMap" && t43.texCoord == 1) && console.warn("THREE.GLTFLoader: Custom UV set " + t43.texCoord + " for texture " + r66 + " not yet supported."), n72.extensions[u72.KHR_TEXTURE_TRANSFORM]) {
        var i65 = t43.extensions !== void 0 ? t43.extensions[u72.KHR_TEXTURE_TRANSFORM] : void 0;
        if (i65) {
          var s60 = n72.associations.get(a62);
          a62 = n72.extensions[u72.KHR_TEXTURE_TRANSFORM].extendTexture(a62, i65), n72.associations.set(a62, s60);
        }
      }
      e48[r66] = a62;
    });
  }, C52.prototype.assignFinalMaterial = function(e48) {
    var r66 = e48.geometry, t43 = e48.material, n72 = r66.attributes.tangent !== void 0, a62 = r66.attributes.color !== void 0, i65 = r66.attributes.normal === void 0, s60 = e48.isSkinnedMesh === true, o71 = Object.keys(r66.morphAttributes).length > 0, l63 = o71 && r66.morphAttributes.normal !== void 0;
    if (e48.isPoints) {
      var f80 = "PointsMaterial:" + t43.uuid, h66 = this.cache.get(f80);
      h66 || (h66 = new PointsMaterial(), Material.prototype.copy.call(h66, t43), h66.color.copy(t43.color), h66.map = t43.map, h66.sizeAttenuation = false, this.cache.add(f80, h66)), t43 = h66;
    } else if (e48.isLine) {
      var f80 = "LineBasicMaterial:" + t43.uuid, c85 = this.cache.get(f80);
      c85 || (c85 = new LineBasicMaterial(), Material.prototype.copy.call(c85, t43), c85.color.copy(t43.color), this.cache.add(f80, c85)), t43 = c85;
    }
    if (n72 || a62 || i65 || s60 || o71) {
      var f80 = "ClonedMaterial:" + t43.uuid + ":";
      t43.isGLTFSpecularGlossinessMaterial && (f80 += "specular-glossiness:"), s60 && (f80 += "skinning:"), n72 && (f80 += "vertex-tangents:"), a62 && (f80 += "vertex-colors:"), i65 && (f80 += "flat-shading:"), o71 && (f80 += "morph-targets:"), l63 && (f80 += "morph-normals:");
      var d73 = this.cache.get(f80);
      d73 || (d73 = t43.clone(), s60 && (d73.skinning = true), n72 && (d73.vertexTangents = true), a62 && (d73.vertexColors = true), i65 && (d73.flatShading = true), o71 && (d73.morphTargets = true), l63 && (d73.morphNormals = true), this.cache.add(f80, d73), this.associations.set(d73, this.associations.get(t43))), t43 = d73;
    }
    t43.aoMap && r66.attributes.uv2 === void 0 && r66.attributes.uv !== void 0 && r66.setAttribute("uv2", r66.attributes.uv), t43.normalScale && !n72 && (t43.normalScale.y = -t43.normalScale.y), t43.clearcoatNormalScale && !n72 && (t43.clearcoatNormalScale.y = -t43.clearcoatNormalScale.y), e48.material = t43;
  }, C52.prototype.loadMaterial = function(e48) {
    var r66 = this, t43 = this.json, n72 = this.extensions, a62 = t43.materials[e48], i65, s60 = {}, o71 = a62.extensions || {}, l63 = [];
    if (o71[u72.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]) {
      var f80 = n72[u72.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];
      i65 = f80.getMaterialType(), l63.push(f80.extendParams(s60, a62, r66));
    } else if (o71[u72.KHR_MATERIALS_UNLIT]) {
      var h66 = n72[u72.KHR_MATERIALS_UNLIT];
      i65 = h66.getMaterialType(), l63.push(h66.extendParams(s60, a62, r66));
    } else {
      i65 = MeshStandardMaterial;
      var c85 = a62.pbrMetallicRoughness || {};
      if (s60.color = new Color(1, 1, 1), s60.opacity = 1, Array.isArray(c85.baseColorFactor)) {
        var d73 = c85.baseColorFactor;
        s60.color.fromArray(d73), s60.opacity = d73[3];
      }
      c85.baseColorTexture !== void 0 && l63.push(r66.assignTexture(s60, "map", c85.baseColorTexture)), s60.metalness = c85.metallicFactor !== void 0 ? c85.metallicFactor : 1, s60.roughness = c85.roughnessFactor !== void 0 ? c85.roughnessFactor : 1, c85.metallicRoughnessTexture !== void 0 && (l63.push(r66.assignTexture(s60, "metalnessMap", c85.metallicRoughnessTexture)), l63.push(r66.assignTexture(s60, "roughnessMap", c85.metallicRoughnessTexture)));
    }
    a62.doubleSided === true && (s60.side = DoubleSide);
    var A62 = a62.alphaMode || fe10.OPAQUE;
    if (A62 === fe10.BLEND ? (s60.transparent = true, s60.depthWrite = false) : (s60.transparent = false, A62 === fe10.MASK && (s60.alphaTest = a62.alphaCutoff !== void 0 ? a62.alphaCutoff : 0.5)), a62.normalTexture !== void 0 && i65 !== MeshBasicMaterial && (l63.push(r66.assignTexture(s60, "normalMap", a62.normalTexture)), s60.normalScale = new Vector2(1, 1), a62.normalTexture.scale !== void 0 && s60.normalScale.set(a62.normalTexture.scale, a62.normalTexture.scale)), a62.occlusionTexture !== void 0 && i65 !== MeshBasicMaterial && (l63.push(r66.assignTexture(s60, "aoMap", a62.occlusionTexture)), a62.occlusionTexture.strength !== void 0 && (s60.aoMapIntensity = a62.occlusionTexture.strength)), a62.emissiveFactor !== void 0 && i65 !== MeshBasicMaterial && (s60.emissive = new Color().fromArray(a62.emissiveFactor)), a62.emissiveTexture !== void 0 && i65 !== MeshBasicMaterial && l63.push(r66.assignTexture(s60, "emissiveMap", a62.emissiveTexture)), o71[u72.KHR_MATERIALS_CLEARCOAT]) {
      var y51 = n72[u72.KHR_MATERIALS_CLEARCOAT];
      i65 = y51.getMaterialType(), l63.push(y51.extendParams(s60, { extensions: o71 }, r66));
    }
    if (o71[u72.KHR_MATERIALS_TRANSMISSION]) {
      var y51 = n72[u72.KHR_MATERIALS_TRANSMISSION];
      i65 = y51.getMaterialType(), l63.push(y51.extendParams(s60, { extensions: o71 }, r66));
    }
    if (o71[u72.REALSEE_MATERIALS_LIGHTMAP]) {
      var E53 = n72[u72.REALSEE_MATERIALS_LIGHTMAP];
      i65 = E53.getMaterialType(), l63.push(E53.extendParams(s60, { extensions: o71 }, r66));
    }
    return Promise.all(l63).then(function() {
      var S52;
      return i65 === w49 ? S52 = n72[u72.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s60) : S52 = new i65(s60), a62.name && (S52.name = a62.name), S52.map && (S52.map.encoding = sRGBEncoding), S52.emissiveMap && (S52.emissiveMap.encoding = sRGBEncoding), W25(S52, a62), r66.associations.set(S52, { type: "materials", index: e48 }), a62.extensions && oe11(n72, S52, a62), S52;
    });
  };
  function me7(e48, r66, t43) {
    var n72 = r66.attributes, a62 = new Box3();
    if (n72.POSITION !== void 0) {
      var i65 = t43.json.accessors[n72.POSITION], s60 = i65.min, o71 = i65.max;
      if (s60 !== void 0 && o71 !== void 0)
        a62.set(
          new Vector3(s60[0], s60[1], s60[2]),
          new Vector3(o71[0], o71[1], o71[2])
        );
      else {
        console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");
        return;
      }
    } else
      return;
    var l63 = r66.targets;
    if (l63 !== void 0) {
      for (var f80 = new Vector3(), h66 = new Vector3(), c85 = 0, d73 = l63.length; c85 < d73; c85++) {
        var A62 = l63[c85];
        if (A62.POSITION !== void 0) {
          var i65 = t43.json.accessors[A62.POSITION], s60 = i65.min, o71 = i65.max;
          s60 !== void 0 && o71 !== void 0 ? (h66.setX(Math.max(Math.abs(s60[0]), Math.abs(o71[0]))), h66.setY(Math.max(Math.abs(s60[1]), Math.abs(o71[1]))), h66.setZ(Math.max(Math.abs(s60[2]), Math.abs(o71[2]))), f80.max(h66)) : console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");
        }
      }
      a62.expandByVector(f80);
    }
    e48.boundingBox = a62;
    var y51 = new Sphere();
    a62.getCenter(y51.center), y51.radius = a62.min.distanceTo(a62.max) / 2, e48.boundingSphere = y51;
  }
  function j37(e48, r66, t43) {
    var n72 = r66.attributes, a62 = [];
    function i65(f80, h66) {
      return t43.getDependency("accessor", f80).then(function(c85) {
        e48.setAttribute(h66, c85);
      });
    }
    for (var s60 in n72) {
      var o71 = le5[s60] || s60.toLowerCase();
      o71 in e48.attributes || a62.push(i65(n72[s60], o71));
    }
    if (r66.indices !== void 0 && !e48.index) {
      var l63 = t43.getDependency("accessor", r66.indices).then(function(f80) {
        e48.setIndex(f80);
      });
      a62.push(l63);
    }
    return W25(e48, r66), me7(e48, r66, t43), Promise.all(a62).then(function() {
      return r66.targets !== void 0 ? we4(e48, r66.targets, t43) : e48;
    });
  }
  function ie10(e48, r66) {
    var t43 = e48.getIndex();
    if (t43 === null) {
      var n72 = [], a62 = e48.getAttribute("position");
      if (a62 !== void 0) {
        for (var i65 = 0; i65 < a62.count; i65++)
          n72.push(i65);
        e48.setIndex(n72), t43 = e48.getIndex();
      } else
        return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."), e48;
    }
    var s60 = t43.count - 2, o71 = [];
    if (r66 === TriangleFanDrawMode)
      for (var i65 = 1; i65 <= s60; i65++)
        o71.push(t43.getX(0)), o71.push(t43.getX(i65)), o71.push(t43.getX(i65 + 1));
    else
      for (var i65 = 0; i65 < s60; i65++)
        i65 % 2 === 0 ? (o71.push(t43.getX(i65)), o71.push(t43.getX(i65 + 1)), o71.push(t43.getX(i65 + 2))) : (o71.push(t43.getX(i65 + 2)), o71.push(t43.getX(i65 + 1)), o71.push(t43.getX(i65)));
    o71.length / 3 !== s60 && console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");
    var l63 = e48.clone();
    return l63.setIndex(o71), l63;
  }
  return C52.prototype.loadGeometries = function(e48) {
    var r66 = this, t43 = this.extensions, n72 = this.primitiveCache;
    function a62(d73) {
      return t43[u72.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(d73, r66).then(function(A62) {
        return j37(A62, d73, r66);
      });
    }
    for (var i65 = [], s60 = 0, o71 = e48.length; s60 < o71; s60++) {
      var l63 = e48[s60], f80 = U33(l63), h66 = n72[f80];
      if (h66)
        i65.push(h66.promise);
      else {
        var c85;
        l63.extensions && l63.extensions[u72.KHR_DRACO_MESH_COMPRESSION] ? c85 = a62(l63) : c85 = j37(new BufferGeometry(), l63, r66), n72[f80] = { primitive: l63, promise: c85 }, i65.push(c85);
      }
    }
    return Promise.all(i65);
  }, C52.prototype.loadMesh = function(e48) {
    for (var r66 = this, t43 = this.json, n72 = t43.meshes[e48], a62 = n72.primitives, i65 = [], s60 = 0, o71 = a62.length; s60 < o71; s60++) {
      var l63 = a62[s60].material === void 0 ? Me3(this.cache) : this.getDependency("material", a62[s60].material);
      i65.push(l63);
    }
    return i65.push(r66.loadGeometries(a62)), Promise.all(i65).then(function(f80) {
      for (var h66 = f80.slice(0, f80.length - 1), c85 = f80[f80.length - 1], d73 = [], A62 = 0, y51 = c85.length; A62 < y51; A62++) {
        var E53 = c85[A62], S52 = a62[A62], L40, O40 = h66[A62];
        if (S52.mode === H39.TRIANGLES || S52.mode === H39.TRIANGLE_STRIP || S52.mode === H39.TRIANGLE_FAN || S52.mode === void 0)
          L40 = n72.isSkinnedMesh === true ? new SkinnedMesh(E53, O40) : new Mesh(E53, O40), L40.isSkinnedMesh === true && !L40.geometry.attributes.skinWeight.normalized && L40.normalizeSkinWeights(), S52.mode === H39.TRIANGLE_STRIP ? L40.geometry = ie10(L40.geometry, TriangleStripDrawMode) : S52.mode === H39.TRIANGLE_FAN && (L40.geometry = ie10(L40.geometry, TriangleFanDrawMode));
        else if (S52.mode === H39.LINES)
          L40 = new LineSegments(E53, O40);
        else if (S52.mode === H39.LINE_STRIP)
          L40 = new Line(E53, O40);
        else if (S52.mode === H39.LINE_LOOP)
          L40 = new LineLoop(E53, O40);
        else if (S52.mode === H39.POINTS)
          L40 = new Points(E53, O40);
        else
          throw new Error("THREE.GLTFLoader: Primitive mode unsupported: " + S52.mode);
        Object.keys(L40.geometry.morphAttributes).length > 0 && Ie4(L40, n72), L40.name = n72.name || "mesh_" + e48, c85.length > 1 && (L40.name += "_" + A62), W25(L40, n72), r66.assignFinalMaterial(L40), d73.push(L40);
      }
      if (d73.length === 1)
        return d73[0];
      for (var G31 = new Group(), A62 = 0, y51 = d73.length; A62 < y51; A62++)
        G31.add(d73[A62]);
      return G31;
    });
  }, C52.prototype.loadCamera = function(e48) {
    var r66, t43 = this.json.cameras[e48], n72 = t43[t43.type];
    if (!n72) {
      console.warn("THREE.GLTFLoader: Missing camera parameters.");
      return;
    }
    return t43.type === "perspective" ? r66 = new PerspectiveCamera(MathUtils.radToDeg(n72.yfov), n72.aspectRatio || 1, n72.znear || 1, n72.zfar || 2e6) : t43.type === "orthographic" && (r66 = new OrthographicCamera(-n72.xmag, n72.xmag, n72.ymag, -n72.ymag, n72.znear, n72.zfar)), t43.name && (r66.name = t43.name), W25(r66, t43), Promise.resolve(r66);
  }, C52.prototype.loadSkin = function(e48) {
    var r66 = this.json.skins[e48], t43 = { joints: r66.joints };
    return r66.inverseBindMatrices === void 0 ? Promise.resolve(t43) : this.getDependency("accessor", r66.inverseBindMatrices).then(function(n72) {
      return t43.inverseBindMatrices = n72, t43;
    });
  }, C52.prototype.loadAnimation = function(e48) {
    for (var r66 = this.json, t43 = r66.animations[e48], n72 = [], a62 = [], i65 = [], s60 = [], o71 = [], l63 = 0, f80 = t43.channels.length; l63 < f80; l63++) {
      var h66 = t43.channels[l63], c85 = t43.samplers[h66.sampler], d73 = h66.target, A62 = d73.node !== void 0 ? d73.node : d73.id, y51 = t43.parameters !== void 0 ? t43.parameters[c85.input] : c85.input, E53 = t43.parameters !== void 0 ? t43.parameters[c85.output] : c85.output;
      n72.push(this.getDependency("node", A62)), a62.push(this.getDependency("accessor", y51)), i65.push(this.getDependency("accessor", E53)), s60.push(c85), o71.push(d73);
    }
    return Promise.all([
      Promise.all(n72),
      Promise.all(a62),
      Promise.all(i65),
      Promise.all(s60),
      Promise.all(o71)
    ]).then(function(S52) {
      for (var L40 = S52[0], O40 = S52[1], G31 = S52[2], te10 = S52[3], ae7 = S52[4], $23 = [], B42 = 0, ue8 = L40.length; B42 < ue8; B42++) {
        var N33 = L40[B42], be6 = O40[B42], se6 = G31[B42], xe3 = te10[B42], Ce4 = ae7[B42];
        if (N33 !== void 0) {
          N33.updateMatrix(), N33.matrixAutoUpdate = true;
          var Ae5;
          switch (V25[Ce4.path]) {
            case V25.weights:
              Ae5 = NumberKeyframeTrack;
              break;
            case V25.rotation:
              Ae5 = QuaternionKeyframeTrack;
              break;
            case V25.position:
            case V25.scale:
            default:
              Ae5 = VectorKeyframeTrack;
              break;
          }
          var nr2 = N33.name ? N33.name : N33.uuid, tr2 = xe3.interpolation !== void 0 ? Le3[xe3.interpolation] : InterpolateLinear, Se = [];
          V25[Ce4.path] === V25.weights ? N33.traverse(function(de9) {
            de9.isMesh === true && de9.morphTargetInfluences && Se.push(de9.name ? de9.name : de9.uuid);
          }) : Se.push(nr2);
          var q38 = se6.array;
          if (se6.normalized) {
            var ce6;
            if (q38.constructor === Int8Array)
              ce6 = 1 / 127;
            else if (q38.constructor === Uint8Array)
              ce6 = 1 / 255;
            else if (q38.constructor == Int16Array)
              ce6 = 1 / 32767;
            else if (q38.constructor === Uint16Array)
              ce6 = 1 / 65535;
            else
              throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");
            for (var He3 = new Float32Array(q38.length), ee10 = 0, Oe2 = q38.length; ee10 < Oe2; ee10++)
              He3[ee10] = q38[ee10] * ce6;
            q38 = He3;
          }
          for (var ee10 = 0, Oe2 = Se.length; ee10 < Oe2; ee10++) {
            var Fe2 = new Ae5(
              Se[ee10] + "." + V25[Ce4.path],
              be6.array,
              q38,
              tr2
            );
            xe3.interpolation === "CUBICSPLINE" && (Fe2.createInterpolant = function(sr) {
              return new D52(this.times, this.values, this.getValueSize() / 3, sr);
            }, Fe2.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true), $23.push(Fe2);
          }
        }
      }
      var ar4 = t43.name ? t43.name : "animation_" + e48;
      return new AnimationClip(ar4, void 0, $23);
    });
  }, C52.prototype.loadNode = function(e48) {
    var r66 = this.json, t43 = this.extensions, n72 = this, a62 = r66.meshReferences, i65 = r66.meshUses, s60 = r66.nodes[e48];
    return function() {
      var o71 = [];
      return s60.mesh !== void 0 && o71.push(n72.getDependency("mesh", s60.mesh).then(function(l63) {
        var f80;
        if (a62[s60.mesh] > 1) {
          var h66 = i65[s60.mesh]++;
          f80 = l63.clone(), f80.name += "_instance_" + h66;
        } else
          f80 = l63;
        return s60.weights !== void 0 && f80.traverse(function(c85) {
          if (c85.isMesh)
            for (var d73 = 0, A62 = s60.weights.length; d73 < A62; d73++)
              c85.morphTargetInfluences[d73] = s60.weights[d73];
        }), f80;
      })), s60.camera !== void 0 && o71.push(n72.getDependency("camera", s60.camera)), s60.extensions && s60.extensions[u72.KHR_LIGHTS_PUNCTUAL] && s60.extensions[u72.KHR_LIGHTS_PUNCTUAL].light !== void 0 && o71.push(n72.getDependency("light", s60.extensions[u72.KHR_LIGHTS_PUNCTUAL].light)), Promise.all(o71);
    }().then(function(o71) {
      var l63;
      if (s60.isBone === true ? l63 = new Bone() : o71.length > 1 ? l63 = new Group() : o71.length === 1 ? l63 = o71[0] : l63 = new Object3D(), l63 !== o71[0])
        for (var f80 = 0, h66 = o71.length; f80 < h66; f80++)
          l63.add(o71[f80]);
      if (s60.name && (l63.userData.name = s60.name, l63.name = PropertyBinding.sanitizeNodeName(s60.name)), W25(l63, s60), s60.extensions && oe11(t43, l63, s60), s60.matrix !== void 0) {
        var c85 = new Matrix4();
        c85.fromArray(s60.matrix), l63.applyMatrix4(c85);
      } else
        s60.translation !== void 0 && l63.position.fromArray(s60.translation), s60.rotation !== void 0 && l63.quaternion.fromArray(s60.rotation), s60.scale !== void 0 && l63.scale.fromArray(s60.scale);
      return n72.associations.set(l63, { type: "nodes", index: e48 }), l63;
    });
  }, C52.prototype.loadScene = /* @__PURE__ */ function() {
    function e48(r66, t43, n72, a62) {
      var i65 = n72.nodes[r66];
      return a62.getDependency("node", r66).then(function(s60) {
        if (i65.skin === void 0) return s60;
        var o71;
        return a62.getDependency("skin", i65.skin).then(function(l63) {
          o71 = l63;
          for (var f80 = [], h66 = 0, c85 = o71.joints.length; h66 < c85; h66++)
            f80.push(a62.getDependency("node", o71.joints[h66]));
          return Promise.all(f80);
        }).then(function(l63) {
          return s60.traverse(function(f80) {
            if (f80.isMesh) {
              for (var h66 = [], c85 = [], d73 = 0, A62 = l63.length; d73 < A62; d73++) {
                var y51 = l63[d73];
                if (y51) {
                  h66.push(y51);
                  var E53 = new Matrix4();
                  o71.inverseBindMatrices !== void 0 && E53.fromArray(o71.inverseBindMatrices.array, d73 * 16), c85.push(E53);
                } else
                  console.warn('THREE.GLTFLoader: Joint "%s" could not be found.', o71.joints[d73]);
              }
              f80.bind(new Skeleton(h66, c85), f80.matrixWorld);
            }
          }), s60;
        });
      }).then(function(s60) {
        t43.add(s60);
        var o71 = [];
        if (i65.children)
          for (var l63 = i65.children, f80 = 0, h66 = l63.length; f80 < h66; f80++) {
            var c85 = l63[f80];
            o71.push(e48(c85, s60, n72, a62));
          }
        return Promise.all(o71);
      });
    }
    return function(t43) {
      var n72 = this.json, a62 = this.extensions, i65 = this.json.scenes[t43], s60 = this, o71 = new Group();
      i65.name && (o71.name = i65.name), W25(o71, i65), i65.extensions && oe11(a62, o71, i65);
      for (var l63 = i65.nodes || [], f80 = [], h66 = 0, c85 = l63.length; h66 < c85; h66++)
        f80.push(e48(l63[h66], o71, n72, s60));
      return Promise.all(f80).then(function() {
        return o71;
      });
    };
  }(), p66;
}();
var k25 = function(p66) {
  Loader.call(this, p66), this.decoderPath = "", this.decoderConfig = {}, this.decoderBinary = null, this.decoderPending = null, this.workerLimit = 4, this.workerPool = [], this.workerNextTaskID = 1, this.workerSourceURL = "", this.defaultAttributeIDs = {
    position: "POSITION",
    normal: "NORMAL",
    color: "COLOR",
    uv: "TEX_COORD"
  }, this.defaultAttributeTypes = {
    position: "Float32Array",
    normal: "Float32Array",
    color: "Float32Array",
    uv: "Float32Array"
  };
};
k25.prototype = Object.assign(Object.create(Loader.prototype), {
  constructor: k25,
  setDecoderPath: function(p66) {
    return this.decoderPath = p66, this;
  },
  setDecoderConfig: function(p66) {
    return this.decoderConfig = p66, this;
  },
  setWorkerLimit: function(p66) {
    return this.workerLimit = p66, this;
  },
  /** @deprecated */
  setVerbosity: function() {
    console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.");
  },
  /** @deprecated */
  setDrawMode: function() {
    console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.");
  },
  /** @deprecated */
  setSkipDequantization: function() {
    console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.");
  },
  load: function(p66, T38, u72, m66) {
    var v58 = new FileLoader(this.manager);
    v58.setPath(this.path), v58.setResponseType("arraybuffer"), this.crossOrigin === "use-credentials" && v58.setWithCredentials(true), v58.load(p66, (g67) => {
      var _32 = {
        attributeIDs: this.defaultAttributeIDs,
        attributeTypes: this.defaultAttributeTypes,
        useUniqueIDs: false
      };
      this.decodeGeometry(g67, _32).then(T38).catch(m66);
    }, u72, m66);
  },
  /** @deprecated Kept for backward-compatibility with previous DRACOLoader versions. */
  decodeDracoFile: function(p66, T38, u72, m66) {
    var v58 = {
      attributeIDs: u72 || this.defaultAttributeIDs,
      attributeTypes: m66 || this.defaultAttributeTypes,
      useUniqueIDs: !!u72
    };
    this.decodeGeometry(p66, v58).then(T38);
  },
  decodeGeometry: function(p66, T38) {
    for (var u72 in T38.attributeTypes) {
      var m66 = T38.attributeTypes[u72];
      m66.BYTES_PER_ELEMENT !== void 0 && (T38.attributeTypes[u72] = m66.name);
    }
    var v58 = JSON.stringify(T38);
    if (k25.taskCache.has(p66)) {
      var g67 = k25.taskCache.get(p66);
      if (g67.key === v58)
        return g67.promise;
      if (p66.byteLength === 0)
        throw new Error(
          "THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred."
        );
    }
    var _32, x49 = this.workerNextTaskID++, F45 = p66.byteLength, R43 = this._getWorker(x49, F45).then((I49) => (_32 = I49, new Promise((P55, b55) => {
      _32._callbacks[x49] = { resolve: P55, reject: b55 }, _32.postMessage({ type: "decode", id: x49, taskConfig: T38, buffer: p66 }, [p66]);
    }))).then((I49) => this._createGeometry(I49.geometry));
    return R43.catch(() => true).then(() => {
      _32 && x49 && this._releaseTask(_32, x49);
    }), k25.taskCache.set(p66, {
      key: v58,
      promise: R43
    }), R43;
  },
  _createGeometry: function(p66) {
    var T38 = new BufferGeometry();
    p66.index && T38.setIndex(new BufferAttribute(p66.index.array, 1));
    for (var u72 = 0; u72 < p66.attributes.length; u72++) {
      var m66 = p66.attributes[u72], v58 = m66.name, g67 = m66.array, _32 = m66.itemSize;
      T38.setAttribute(v58, new BufferAttribute(g67, _32));
    }
    return T38;
  },
  _loadLibrary: function(p66, T38) {
    var u72 = new FileLoader(this.manager);
    return u72.setPath(this.decoderPath), u72.setResponseType(T38), new Promise((m66, v58) => {
      u72.load(p66, m66, void 0, v58);
    });
  },
  preload: function() {
    return this._initDecoder(), this;
  },
  _initDecoder: function() {
    if (this.decoderPending) return this.decoderPending;
    var p66 = typeof WebAssembly != "object" || this.decoderConfig.type === "js", T38 = [];
    return p66 ? T38.push(this._loadLibrary("draco_decoder.js", "text")) : (T38.push(this._loadLibrary("draco_wasm_wrapper.js", "text")), T38.push(this._loadLibrary("draco_decoder.wasm", "arraybuffer"))), this.decoderPending = Promise.all(T38).then((u72) => {
      var m66 = u72[0];
      p66 || (this.decoderConfig.wasmBinary = u72[1]);
      var v58 = k25.DRACOWorker.toString(), g67 = [
        "/* draco decoder */",
        m66,
        "",
        "/* worker */",
        v58.substring(v58.indexOf("{") + 1, v58.lastIndexOf("}"))
      ].join(`
`);
      this.workerSourceURL = URL.createObjectURL(new Blob([g67]));
    }), this.decoderPending;
  },
  _getWorker: function(p66, T38) {
    return this._initDecoder().then(() => {
      if (this.workerPool.length < this.workerLimit) {
        var u72 = new Worker(this.workerSourceURL);
        u72._callbacks = {}, u72._taskCosts = {}, u72._taskLoad = 0, u72.postMessage({ type: "init", decoderConfig: this.decoderConfig }), u72.onmessage = function(v58) {
          var g67 = v58.data;
          switch (g67.type) {
            case "decode":
              u72._callbacks[g67.id].resolve(g67);
              break;
            case "error":
              u72._callbacks[g67.id].reject(g67);
              break;
            default:
              console.error('THREE.DRACOLoader: Unexpected message, "' + g67.type + '"');
          }
        }, this.workerPool.push(u72);
      } else
        this.workerPool.sort(function(m66, v58) {
          return m66._taskLoad > v58._taskLoad ? -1 : 1;
        });
      var u72 = this.workerPool[this.workerPool.length - 1];
      return u72._taskCosts[p66] = T38, u72._taskLoad += T38, u72;
    });
  },
  _releaseTask: function(p66, T38) {
    p66._taskLoad -= p66._taskCosts[T38], delete p66._callbacks[T38], delete p66._taskCosts[T38];
  },
  debug: function() {
    console.log("Task load: ", this.workerPool.map((p66) => p66._taskLoad));
  },
  dispose: function() {
    for (var p66 = 0; p66 < this.workerPool.length; ++p66)
      this.workerPool[p66].terminate();
    return this.workerPool.length = 0, this;
  }
});
k25.DRACOWorker = function() {
  var p66, T38;
  onmessage = function(v58) {
    var g67 = v58.data;
    switch (g67.type) {
      case "init":
        p66 = g67.decoderConfig, T38 = new Promise(function(F45) {
          p66.onModuleLoaded = function(R43) {
            F45({ draco: R43 });
          }, DracoDecoderModule(p66);
        });
        break;
      case "decode":
        var _32 = g67.buffer, x49 = g67.taskConfig;
        T38.then((F45) => {
          var R43 = F45.draco, I49 = new R43.Decoder(), P55 = new R43.DecoderBuffer();
          P55.Init(new Int8Array(_32), _32.byteLength);
          try {
            var b55 = u72(R43, I49, P55, x49), M48 = b55.attributes.map((w49) => w49.array.buffer);
            b55.index && M48.push(b55.index.array.buffer), self.postMessage({ type: "decode", id: g67.id, geometry: b55 }, M48);
          } catch (w49) {
            console.error(w49), self.postMessage({ type: "error", id: g67.id, error: w49.message });
          } finally {
            R43.destroy(P55), R43.destroy(I49);
          }
        });
        break;
    }
  };
  function u72(v58, g67, _32, x49) {
    var F45 = x49.attributeIDs, R43 = x49.attributeTypes, I49, P55, b55 = g67.GetEncodedGeometryType(_32);
    if (b55 === v58.TRIANGULAR_MESH)
      I49 = new v58.Mesh(), P55 = g67.DecodeBufferToMesh(_32, I49);
    else if (b55 === v58.POINT_CLOUD)
      I49 = new v58.PointCloud(), P55 = g67.DecodeBufferToPointCloud(_32, I49);
    else
      throw new Error("THREE.DRACOLoader: Unexpected geometry type.");
    if (!P55.ok() || I49.ptr === 0)
      throw new Error("THREE.DRACOLoader: Decoding failed: " + P55.error_msg());
    var M48 = { index: null, attributes: [] };
    for (var w49 in F45) {
      var K32 = self[R43[w49]], ne14, D52;
      if (x49.useUniqueIDs)
        D52 = F45[w49], ne14 = g67.GetAttributeByUniqueId(I49, D52);
      else {
        if (D52 = g67.GetAttributeId(I49, v58[F45[w49]]), D52 === -1) continue;
        ne14 = g67.GetAttribute(I49, D52);
      }
      M48.attributes.push(m66(v58, g67, I49, w49, K32, ne14));
    }
    if (b55 === v58.TRIANGULAR_MESH) {
      for (var J33 = I49.num_faces(), H39 = J33 * 3, Q29 = new Uint32Array(H39), Z18 = new v58.DracoInt32Array(), X24 = 0; X24 < J33; ++X24) {
        g67.GetFaceFromMesh(I49, X24, Z18);
        for (var z28 = 0; z28 < 3; ++z28)
          Q29[X24 * 3 + z28] = Z18.GetValue(z28);
      }
      M48.index = { array: Q29, itemSize: 1 }, v58.destroy(Z18);
    }
    return v58.destroy(I49), M48;
  }
  function m66(v58, g67, _32, x49, F45, R43) {
    var I49 = R43.num_components(), P55 = _32.num_points(), b55 = P55 * I49, M48, w49;
    switch (F45) {
      case Float32Array:
        M48 = new v58.DracoFloat32Array(), g67.GetAttributeFloatForAllPoints(_32, R43, M48), w49 = new Float32Array(b55);
        break;
      case Int8Array:
        M48 = new v58.DracoInt8Array(), g67.GetAttributeInt8ForAllPoints(_32, R43, M48), w49 = new Int8Array(b55);
        break;
      case Int16Array:
        M48 = new v58.DracoInt16Array(), g67.GetAttributeInt16ForAllPoints(_32, R43, M48), w49 = new Int16Array(b55);
        break;
      case Int32Array:
        M48 = new v58.DracoInt32Array(), g67.GetAttributeInt32ForAllPoints(_32, R43, M48), w49 = new Int32Array(b55);
        break;
      case Uint8Array:
        M48 = new v58.DracoUInt8Array(), g67.GetAttributeUInt8ForAllPoints(_32, R43, M48), w49 = new Uint8Array(b55);
        break;
      case Uint16Array:
        M48 = new v58.DracoUInt16Array(), g67.GetAttributeUInt16ForAllPoints(_32, R43, M48), w49 = new Uint16Array(b55);
        break;
      case Uint32Array:
        M48 = new v58.DracoUInt32Array(), g67.GetAttributeUInt32ForAllPoints(_32, R43, M48), w49 = new Uint32Array(b55);
        break;
      default:
        throw new Error("THREE.DRACOLoader: Unexpected attribute type.");
    }
    for (var K32 = 0; K32 < b55; K32++)
      w49[K32] = M48.GetValue(K32);
    return v58.destroy(M48), {
      name: x49,
      array: w49,
      itemSize: I49
    };
  }
};
k25.taskCache = /* @__PURE__ */ new WeakMap();
k25.setDecoderPath = function() {
  console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.");
};
k25.setDecoderConfig = function() {
  console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.");
};
k25.releaseDecoderModule = function() {
  console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.");
};
k25.getDecoderModule = function() {
  console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.");
};
var Ne2 = function(p66) {
  CompressedTextureLoader.call(this, p66);
};
Ne2.prototype = Object.assign(Object.create(CompressedTextureLoader.prototype), {
  constructor: Ne2,
  parse: function(p66, T38) {
    var u72 = { mipmaps: [], width: 0, height: 0, format: null, mipmapCount: 1 }, m66 = 542327876, v58 = 131072, g67 = 512, _32 = 1024, x49 = 2048, F45 = 4096, R43 = 8192, I49 = 16384, P55 = 32768, b55 = 4;
    function M48(l63) {
      return l63.charCodeAt(0) + (l63.charCodeAt(1) << 8) + (l63.charCodeAt(2) << 16) + (l63.charCodeAt(3) << 24);
    }
    function w49(l63) {
      return String.fromCharCode(
        l63 & 255,
        l63 >> 8 & 255,
        l63 >> 16 & 255,
        l63 >> 24 & 255
      );
    }
    function K32(l63, f80, h66, c85) {
      for (var d73 = h66 * c85 * 4, A62 = new Uint8Array(l63, f80, d73), y51 = new Uint8Array(d73), E53 = 0, S52 = 0, L40 = 0; L40 < c85; L40++)
        for (var O40 = 0; O40 < h66; O40++) {
          var G31 = A62[S52];
          S52++;
          var te10 = A62[S52];
          S52++;
          var ae7 = A62[S52];
          S52++;
          var $23 = A62[S52];
          S52++, y51[E53] = ae7, E53++, y51[E53] = te10, E53++, y51[E53] = G31, E53++, y51[E53] = $23, E53++;
        }
      return y51;
    }
    var ne14 = M48("DXT1"), D52 = M48("DXT3"), J33 = M48("DXT5"), H39 = M48("ETC1"), Q29 = 31, Z18 = 0, X24 = 1, z28 = 2, le5 = 3, V25 = 4, Le3 = 7, fe10 = 20, Te5 = 21, ge10 = 22, Me3 = 23, oe11 = 24, W25 = 25, we4 = 26, Ie4 = 28, U33 = new Int32Array(p66, 0, Q29);
    if (U33[Z18] !== m66)
      return console.error("THREE.DDSLoader.parse: Invalid magic number in DDS header."), u72;
    if (!U33[fe10] & b55)
      return console.error("THREE.DDSLoader.parse: Unsupported format, must contain a FourCC code."), u72;
    var Y23, C52 = U33[Te5], me7 = false;
    switch (C52) {
      case ne14:
        Y23 = 8, u72.format = RGB_S3TC_DXT1_Format;
        break;
      case D52:
        Y23 = 16, u72.format = RGBA_S3TC_DXT3_Format;
        break;
      case J33:
        Y23 = 16, u72.format = RGBA_S3TC_DXT5_Format;
        break;
      case H39:
        Y23 = 8, u72.format = RGB_ETC1_Format;
        break;
      default:
        if (U33[ge10] === 32 && U33[Me3] & 16711680 && U33[oe11] & 65280 && U33[W25] & 255 && U33[we4] & 4278190080)
          me7 = true, Y23 = 64, u72.format = RGBAFormat;
        else
          return console.error("THREE.DDSLoader.parse: Unsupported FourCC code ", w49(C52)), u72;
    }
    u72.mipmapCount = 1, U33[z28] & v58 && T38 !== false && (u72.mipmapCount = Math.max(1, U33[Le3]));
    var j37 = U33[Ie4];
    if (u72.isCubemap = !!(j37 & g67), u72.isCubemap && (!(j37 & _32) || !(j37 & x49) || !(j37 & F45) || !(j37 & R43) || !(j37 & I49) || !(j37 & P55)))
      return console.error("THREE.DDSLoader.parse: Incomplete cubemap faces"), u72;
    u72.width = U33[V25], u72.height = U33[le5];
    for (var ie10 = U33[X24] + 4, e48 = u72.isCubemap ? 6 : 1, r66 = 0; r66 < e48; r66++)
      for (var t43 = u72.width, n72 = u72.height, a62 = 0; a62 < u72.mipmapCount; a62++) {
        if (me7)
          var i65 = K32(p66, ie10, t43, n72), s60 = i65.length;
        else
          var s60 = Math.max(4, t43) / 4 * Math.max(4, n72) / 4 * Y23, i65 = new Uint8Array(p66, ie10, s60);
        var o71 = { data: i65, width: t43, height: n72 };
        u72.mipmaps.push(o71), ie10 += s60, t43 = Math.max(t43 >> 1, 1), n72 = Math.max(n72 >> 1, 1);
      }
    return u72;
  }
});
var Qe2 = (
  /** @class */
  function(p66) {
    rr2(T38, p66);
    function T38(u72) {
      var m66 = p66.call(this) || this;
      return m66.needsRender = true, u72 && u72.children.length && m66.add.apply(m66, u72.children), m66.mixer = new AnimationMixer(m66), m66;
    }
    return T38.prototype.clone = function() {
      var u72 = p66.prototype.clone.call(this, true), m66 = new AnimationMixer(u72);
      return u72.mixer = m66, u72.needsRender = true, u72;
    }, T38;
  }(Group)
);
var Jr2 = "https://vr-public.realsee-cdn.cn/release/static/image/release/five/resource/draco/1.5.6/";
var $r2 = (
  /** @class */
  function(p66) {
    rr2(T38, p66);
    function T38(u72) {
      var m66 = p66.call(this, u72) || this;
      return m66.ddsLoader = new Ne2(u72), m66.dracoLoader = new k25(u72), m66.dracoLoader.setDecoderPath(Jr2), m66;
    }
    return Object.defineProperty(T38, "version", {
      get: function() {
        return "6.4.0-alpha.40";
      },
      enumerable: false,
      configurable: true
    }), T38.prototype.load = function(u72, m66, v58, g67) {
      return p66.prototype.load.call(this, u72, m66, v58, g67);
    }, T38.prototype.parse = function(u72, m66, v58, g67) {
      return p66.prototype.parse.call(this, u72, m66, function(_32) {
        var x49 = new Qe2(_32.scene), F45 = _32.scenes.map(function(R43) {
          return R43 === _32.scene ? x49 : new Qe2(R43);
        });
        v58(Object.assign(_32, { scene: x49, scenes: F45 }));
      }, g67);
    }, T38;
  }(qr2)
);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/GLTFLoader.js
var a35 = new $r2();
function f40(n72) {
  return new Promise((r66, e48) => {
    function t43(o71) {
      r66(o71);
    }
    function d73(o71) {
      e48(o71);
    }
    a35.load(n72, t43, void 0, d73);
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/planeNormal.js
function i43(r66) {
  if (!r66 || r66.length < 3)
    return;
  const o71 = r66.map(t2), t43 = o71[1].clone().sub(o71[0]), n72 = o71[2].clone().sub(o71[1]);
  return t43.cross(n72);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Line/Straight.js
function J20(t43) {
  Qt2(t43, "svelte-xuejcm", ".line.svelte-xuejcm{position:absolute;pointer-events:none}.line.vertical.svelte-xuejcm{transform:rotate(-90deg) translate3d(0.03125rem, 0, 0.625rem);transform-origin:0 0}.line.horizontal.svelte-xuejcm{transform:translate3d(0, -0.03125rem, 0.625rem)}.straight-line.svelte-xuejcm{display:block;width:100%;height:100%;overflow:visible}");
}
function L25(t43) {
  let e48, i65, o71, n72, s60, r66, _32, f80 = (
    /*unfolded*/
    t43[3] && B22(t43)
  );
  return {
    c() {
      e48 = K4("div"), i65 = Mt("svg"), o71 = Mt("defs"), n72 = Mt("linearGradient"), s60 = Mt("stop"), r66 = Mt("stop"), f80 && f80.c(), te2(s60, "offset", "25%"), te2(
        s60,
        "stop-color",
        /*color*/
        t43[5]
      ), te2(s60, "stop-opacity", "1"), te2(r66, "offset", "100%"), te2(
        r66,
        "stop-color",
        /*color*/
        t43[5]
      ), te2(r66, "stop-opacity", "0.5"), te2(n72, "x1", 0.5), te2(n72, "y1", 0.5), te2(
        n72,
        "x2",
        /*width*/
        t43[8]
      ), te2(n72, "y2", 0.5), te2(
        n72,
        "id",
        /*defsID*/
        t43[10]
      ), te2(n72, "gradientUnits", "userSpaceOnUse"), te2(i65, "class", "straight-line svelte-xuejcm"), te2(i65, "viewBox", _32 = "0 0 " + /*width*/
      t43[8] + " " + /*height*/
      t43[7]), te2(i65, "preserveAspectRatio", "none"), te2(e48, "class", "line svelte-xuejcm"), re2(
        e48,
        "vertical",
        /*isVertical*/
        t43[9]
      ), re2(e48, "horizontal", !/*isVertical*/
      t43[9]), ne2(
        e48,
        "width",
        /*width*/
        t43[8] + "px"
      ), ne2(
        e48,
        "height",
        /*height*/
        t43[7] + "px"
      );
    },
    m(a62, d73) {
      Nt(a62, e48, d73), pt(e48, i65), pt(i65, o71), pt(o71, n72), pt(n72, s60), pt(n72, r66), f80 && f80.m(i65, null);
    },
    p(a62, d73) {
      d73 & /*color*/
      32 && te2(
        s60,
        "stop-color",
        /*color*/
        a62[5]
      ), d73 & /*color*/
      32 && te2(
        r66,
        "stop-color",
        /*color*/
        a62[5]
      ), d73 & /*width*/
      256 && te2(
        n72,
        "x2",
        /*width*/
        a62[8]
      ), /*unfolded*/
      a62[3] ? f80 ? (f80.p(a62, d73), d73 & /*unfolded*/
      8 && ot(f80, 1)) : (f80 = B22(a62), f80.c(), ot(f80, 1), f80.m(i65, null)) : f80 && (Lt(), $t(f80, 1, 1, () => {
        f80 = null;
      }), Ot()), d73 & /*width, height*/
      384 && _32 !== (_32 = "0 0 " + /*width*/
      a62[8] + " " + /*height*/
      a62[7]) && te2(i65, "viewBox", _32), d73 & /*isVertical*/
      512 && re2(
        e48,
        "vertical",
        /*isVertical*/
        a62[9]
      ), d73 & /*isVertical*/
      512 && re2(e48, "horizontal", !/*isVertical*/
      a62[9]), d73 & /*width*/
      256 && ne2(
        e48,
        "width",
        /*width*/
        a62[8] + "px"
      ), d73 & /*height*/
      128 && ne2(
        e48,
        "height",
        /*height*/
        a62[7] + "px"
      );
    },
    d(a62) {
      a62 && J4(e48), f80 && f80.d();
    }
  };
}
function B22(t43) {
  let e48, i65, o71, n72, s60;
  return {
    c() {
      e48 = Mt("path"), te2(e48, "fill", "none"), te2(e48, "stroke", i65 = /*useLinearColor*/
      t43[4] ? `url(#${/*defsID*/
      t43[10]})` : (
        /*color*/
        t43[5]
      )), te2(e48, "stroke-width", 1), te2(
        e48,
        "d",
        /*path*/
        t43[6]
      );
    },
    m(r66, _32) {
      Nt(r66, e48, _32), s60 = true;
    },
    p(r66, _32) {
      t43 = r66, (!s60 || _32 & /*useLinearColor, color*/
      48 && i65 !== (i65 = /*useLinearColor*/
      t43[4] ? `url(#${/*defsID*/
      t43[10]})` : (
        /*color*/
        t43[5]
      ))) && te2(e48, "stroke", i65), (!s60 || _32 & /*path*/
      64) && te2(
        e48,
        "d",
        /*path*/
        t43[6]
      );
    },
    i(r66) {
      s60 || (r66 && z2(() => {
        s60 && (n72 && n72.end(1), o71 = me2(e48, I7, {
          duration: (
            /*duration*/
            t43[2]
          ),
          delay: (
            /*inDelay*/
            t43[0]
          ),
          easing: Z
        }), o71.start());
      }), s60 = true);
    },
    o(r66) {
      o71 && o71.invalidate(), r66 && (n72 = ge(e48, I7, {
        duration: (
          /*duration*/
          t43[2]
        ),
        delay: (
          /*outDelay*/
          t43[1]
        ),
        easing: Z
      })), s60 = false;
    },
    d(r66) {
      r66 && J4(e48), r66 && n72 && n72.end();
    }
  };
}
function K19(t43) {
  let e48, i65 = (
    /*width*/
    t43[8] && L25(t43)
  );
  return {
    c() {
      i65 && i65.c(), e48 = Yt();
    },
    m(o71, n72) {
      i65 && i65.m(o71, n72), Nt(o71, e48, n72);
    },
    p(o71, [n72]) {
      o71[8] ? i65 ? i65.p(o71, n72) : (i65 = L25(o71), i65.c(), i65.m(e48.parentNode, e48)) : i65 && (i65.d(1), i65 = null);
    },
    i: N4,
    o: N4,
    d(o71) {
      i65 && i65.d(o71), o71 && J4(e48);
    }
  };
}
function P26(t43, e48, i65) {
  let o71, n72, s60, r66, { inDelay: _32 = 0 } = e48, { outDelay: f80 = 0 } = e48, { duration: a62 = 1e3 } = e48, { unfolded: d73 } = e48, { length: c85 } = e48, { direction: k47 = "horizontal" } = e48, { useLinearColor: b55 = false } = e48, { color: D52 = "white" } = e48;
  const S52 = r2();
  return t43.$$set = (u72) => {
    "inDelay" in u72 && i65(0, _32 = u72.inDelay), "outDelay" in u72 && i65(1, f80 = u72.outDelay), "duration" in u72 && i65(2, a62 = u72.duration), "unfolded" in u72 && i65(3, d73 = u72.unfolded), "length" in u72 && i65(11, c85 = u72.length), "direction" in u72 && i65(12, k47 = u72.direction), "useLinearColor" in u72 && i65(4, b55 = u72.useLinearColor), "color" in u72 && i65(5, D52 = u72.color);
  }, t43.$$.update = () => {
    t43.$$.dirty & /*direction*/
    4096 && i65(9, o71 = k47 === "vertical"), t43.$$.dirty & /*length*/
    2048 && i65(8, n72 = c85), t43.$$.dirty & /*length*/
    2048 && i65(6, r66 = `M0.5 0.5 H ${c85}`);
  }, i65(7, s60 = 1), [
    _32,
    f80,
    a62,
    d73,
    b55,
    D52,
    r66,
    s60,
    n72,
    o71,
    S52,
    c85,
    k47
  ];
}
var Y14 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      P26,
      K19,
      Ft,
      {
        inDelay: 0,
        outDelay: 1,
        duration: 2,
        unfolded: 3,
        length: 11,
        direction: 12,
        useLinearColor: 4,
        color: 5
      },
      J20
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Shadow.js
function K20(e48) {
  Qt2(e48, "svelte-faoauy", ".shadow.svelte-faoauy{position:absolute}");
}
function I27(e48) {
  let i65, t43, l63, f80, u72;
  return {
    c() {
      i65 = K4("div"), te2(i65, "class", "shadow svelte-faoauy"), te2(i65, "style", t43 = `
      left: ${r37(
        /*left*/
        e48[5]
      )};
      bottom: ${r37(
        /*bottom*/
        e48[6]
      )};
      border-radius: ${/*round*/
      e48[10] ? "9999px" : "0"};
      box-shadow: 0 0 ${r37(
        /*blurRadius*/
        e48[11]
      )} ${r37(
        /*spreadRadius*/
        e48[12]
      )} rgba(0, 0, 0, ${/*opacity*/
      e48[13]});
      ${/*horizontalCenter*/
      e48[8] ? "transform: translateX(-50%); left: 50%" : ""}
      ${/*verticalCenter*/
      e48[9] ? "transform: translateX(-50%); top: 50%" : ""}
      ${/*center*/
      e48[7] ? "transform: translate(-50%, -50%); left: 50%; top: 50%;" : ""}
    `), ne2(i65, "width", r37(
        /*width*/
        e48[3]
      )), ne2(i65, "height", r37(
        /*height*/
        e48[4]
      )), ne2(
        i65,
        "z-index",
        /*zIndex*/
        e48[14]
      );
    },
    m(a62, o71) {
      Nt(a62, i65, o71), u72 = true;
    },
    p(a62, o71) {
      e48 = a62, (!u72 || o71 & /*left, bottom, round, blurRadius, spreadRadius, opacity, horizontalCenter, verticalCenter, center*/
      16352 && t43 !== (t43 = `
      left: ${r37(
        /*left*/
        e48[5]
      )};
      bottom: ${r37(
        /*bottom*/
        e48[6]
      )};
      border-radius: ${/*round*/
      e48[10] ? "9999px" : "0"};
      box-shadow: 0 0 ${r37(
        /*blurRadius*/
        e48[11]
      )} ${r37(
        /*spreadRadius*/
        e48[12]
      )} rgba(0, 0, 0, ${/*opacity*/
      e48[13]});
      ${/*horizontalCenter*/
      e48[8] ? "transform: translateX(-50%); left: 50%" : ""}
      ${/*verticalCenter*/
      e48[9] ? "transform: translateX(-50%); top: 50%" : ""}
      ${/*center*/
      e48[7] ? "transform: translate(-50%, -50%); left: 50%; top: 50%;" : ""}
    `)) && te2(i65, "style", t43);
      const d73 = o71 & /*left, bottom, round, blurRadius, spreadRadius, opacity, horizontalCenter, verticalCenter, center*/
      16352;
      (d73 || o71 & /*width, left, bottom, round, blurRadius, spreadRadius, opacity, horizontalCenter, verticalCenter, center*/
      16360) && ne2(i65, "width", r37(
        /*width*/
        e48[3]
      )), (d73 || o71 & /*height, left, bottom, round, blurRadius, spreadRadius, opacity, horizontalCenter, verticalCenter, center*/
      16368) && ne2(i65, "height", r37(
        /*height*/
        e48[4]
      )), (d73 || o71 & /*zIndex, left, bottom, round, blurRadius, spreadRadius, opacity, horizontalCenter, verticalCenter, center*/
      32736) && ne2(
        i65,
        "z-index",
        /*zIndex*/
        e48[14]
      );
    },
    i(a62) {
      u72 || (a62 && z2(() => {
        u72 && (f80 && f80.end(1), l63 = me2(i65, C13, { duration: (
          /*inDelay*/
          e48[0]
        ) }), l63.start());
      }), u72 = true);
    },
    o(a62) {
      l63 && l63.invalidate(), a62 && (f80 = ge(i65, C13, { duration: (
        /*outDelay*/
        e48[1]
      ) })), u72 = false;
    },
    d(a62) {
      a62 && J4(i65), a62 && f80 && f80.end();
    }
  };
}
function L26(e48) {
  let i65, t43 = (
    /*visible*/
    e48[2] && I27(e48)
  );
  return {
    c() {
      t43 && t43.c(), i65 = Yt();
    },
    m(l63, f80) {
      t43 && t43.m(l63, f80), Nt(l63, i65, f80);
    },
    p(l63, [f80]) {
      l63[2] ? t43 ? (t43.p(l63, f80), f80 & /*visible*/
      4 && ot(t43, 1)) : (t43 = I27(l63), t43.c(), ot(t43, 1), t43.m(i65.parentNode, i65)) : t43 && (Lt(), $t(t43, 1, 1, () => {
        t43 = null;
      }), Ot());
    },
    i(l63) {
      ot(t43);
    },
    o(l63) {
      $t(t43);
    },
    d(l63) {
      t43 && t43.d(l63), l63 && J4(i65);
    }
  };
}
function r37(e48) {
  return typeof e48 == "number" ? e48 / 16 + "rem" : e48;
}
function M25(e48, i65, t43) {
  let { inDelay: l63 = 1e3 } = i65, { outDelay: f80 = 1e3 } = i65, { visible: u72 = true } = i65, { width: a62 = 0 } = i65, { height: o71 = 0 } = i65, { left: d73 = 0 } = i65, { bottom: b55 = 0 } = i65, { center: _32 = false } = i65, { horizontalCenter: y51 = false } = i65, { verticalCenter: c85 = false } = i65, { round: w49 = false } = i65, { blurRadius: z28 } = i65, { spreadRadius: C52 } = i65, { opacity: g67 = 0.15 } = i65, { zIndex: D52 = -1 } = i65;
  return e48.$$set = (n72) => {
    "inDelay" in n72 && t43(0, l63 = n72.inDelay), "outDelay" in n72 && t43(1, f80 = n72.outDelay), "visible" in n72 && t43(2, u72 = n72.visible), "width" in n72 && t43(3, a62 = n72.width), "height" in n72 && t43(4, o71 = n72.height), "left" in n72 && t43(5, d73 = n72.left), "bottom" in n72 && t43(6, b55 = n72.bottom), "center" in n72 && t43(7, _32 = n72.center), "horizontalCenter" in n72 && t43(8, y51 = n72.horizontalCenter), "verticalCenter" in n72 && t43(9, c85 = n72.verticalCenter), "round" in n72 && t43(10, w49 = n72.round), "blurRadius" in n72 && t43(11, z28 = n72.blurRadius), "spreadRadius" in n72 && t43(12, C52 = n72.spreadRadius), "opacity" in n72 && t43(13, g67 = n72.opacity), "zIndex" in n72 && t43(14, D52 = n72.zIndex);
  }, [
    l63,
    f80,
    u72,
    a62,
    o71,
    d73,
    b55,
    _32,
    y51,
    c85,
    w49,
    z28,
    C52,
    g67,
    D52
  ];
}
var T22 = class extends Ce {
  constructor(i65) {
    super(), Te(
      this,
      i65,
      M25,
      L26,
      Ft,
      {
        inDelay: 0,
        outDelay: 1,
        visible: 2,
        width: 3,
        height: 4,
        left: 5,
        bottom: 6,
        center: 7,
        horizontalCenter: 8,
        verticalCenter: 9,
        round: 10,
        blurRadius: 11,
        spreadRadius: 12,
        opacity: 13,
        zIndex: 14
      },
      K20
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/search.js
function f41(l63, o71) {
  const [i65, r66] = o71;
  if (i65 >= r66 || r66 <= 1 || i65 <= 1)
    return -1;
  const e48 = {}, u72 = (n72) => (e48[n72] || (e48[n72] = l63(n72)), e48[n72]);
  for (let n72 = i65; n72 < r66; n72++) {
    const a62 = u72(n72), c85 = u72(n72 - 1);
    if (a62 < c85)
      return n72;
  }
  return -1;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/constants.js
function n43() {
  return Math.random().toString(36).slice(-6);
}
var t34 = n43();

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Text/FlyText.js
function Q21(o71) {
  Qt2(o71, "svelte-1b2n9wi", ".text-char.svelte-1b2n9wi{display:inline-block;text-shadow:0.125rem 0rem 0.5rem rgba(0, 0, 0, 0.15)}");
}
function R29(o71, e48, i65) {
  const l63 = o71.slice();
  return l63[19] = e48[i65].id, l63[0] = e48[i65].content, l63[20] = e48, l63[21] = i65, l63;
}
function Z9(o71) {
  let e48, i65 = (
    /*content*/
    o71[0] + ""
  ), l63, a62 = (
    /*index*/
    o71[21]
  );
  const _32 = () => (
    /*span_binding_1*/
    o71[10](e48, a62)
  ), t43 = () => (
    /*span_binding_1*/
    o71[10](null, a62)
  );
  return {
    c() {
      e48 = K4("span"), l63 = gt(i65), te2(e48, "class", "text-char svelte-1b2n9wi");
    },
    m(n72, s60) {
      Nt(n72, e48, s60), pt(e48, l63), _32();
    },
    p(n72, s60) {
      o71 = n72, s60 & /*contentList*/
      4 && i65 !== (i65 = /*content*/
      o71[0] + "") && ee2(l63, i65), a62 !== /*index*/
      o71[21] && (t43(), a62 = /*index*/
      o71[21], _32());
    },
    d(n72) {
      n72 && J4(e48), t43();
    }
  };
}
function x25(o71) {
  let e48;
  return {
    c() {
      e48 = K4("br");
    },
    m(i65, l63) {
      Nt(i65, e48, l63);
    },
    p: N4,
    d(i65) {
      i65 && J4(e48);
    }
  };
}
function $15(o71) {
  let e48, i65 = (
    /*index*/
    o71[21]
  );
  const l63 = () => (
    /*span_binding*/
    o71[9](e48, i65)
  ), a62 = () => (
    /*span_binding*/
    o71[9](null, i65)
  );
  return {
    c() {
      e48 = K4("span"), e48.textContent = " ", te2(e48, "class", "text-char svelte-1b2n9wi");
    },
    m(_32, t43) {
      Nt(_32, e48, t43), l63();
    },
    p(_32, t43) {
      o71 = _32, i65 !== /*index*/
      o71[21] && (a62(), i65 = /*index*/
      o71[21], l63());
    },
    d(_32) {
      _32 && J4(e48), a62();
    }
  };
}
function S32(o71, e48) {
  let i65, l63;
  function a62(n72, s60) {
    return (
      /*content*/
      n72[0] === /*__SpaceFlag__*/
      n72[3] ? $15 : (
        /*content*/
        n72[0] === /*__NewLineFlag__*/
        n72[4] ? x25 : Z9
      )
    );
  }
  let _32 = a62(e48), t43 = _32(e48);
  return {
    key: o71,
    first: null,
    c() {
      i65 = Yt(), t43.c(), l63 = Yt(), this.first = i65;
    },
    m(n72, s60) {
      Nt(n72, i65, s60), t43.m(n72, s60), Nt(n72, l63, s60);
    },
    p(n72, s60) {
      e48 = n72, _32 === (_32 = a62(e48)) && t43 ? t43.p(e48, s60) : (t43.d(1), t43 = _32(e48), t43 && (t43.c(), t43.m(l63.parentNode, l63)));
    },
    d(n72) {
      n72 && J4(i65), t43.d(n72), n72 && J4(l63);
    }
  };
}
function ee6(o71) {
  let e48 = [], i65 = /* @__PURE__ */ new Map(), l63, a62 = (
    /*contentList*/
    o71[2]
  );
  const _32 = (t43) => (
    /*id*/
    t43[19]
  );
  for (let t43 = 0; t43 < a62.length; t43 += 1) {
    let n72 = R29(o71, a62, t43), s60 = _32(n72);
    i65.set(s60, e48[t43] = S32(s60, n72));
  }
  return {
    c() {
      for (let t43 = 0; t43 < e48.length; t43 += 1)
        e48[t43].c();
      l63 = Yt();
    },
    m(t43, n72) {
      for (let s60 = 0; s60 < e48.length; s60 += 1)
        e48[s60] && e48[s60].m(t43, n72);
      Nt(t43, l63, n72);
    },
    p(t43, [n72]) {
      n72 & /*spanEleList, contentList, __SpaceFlag__, __NewLineFlag__*/
      30 && (a62 = /*contentList*/
      t43[2], e48 = Ee(e48, n72, _32, 1, t43, a62, i65, l63.parentNode, ke, S32, l63, R29));
    },
    i: N4,
    o: N4,
    d(t43) {
      for (let n72 = 0; n72 < e48.length; n72 += 1)
        e48[n72].d(t43);
      t43 && J4(l63);
    }
  };
}
function te6(o71, e48, i65) {
  let l63, { inDelay: a62 = 0 } = e48, { outDelay: _32 = 0 } = e48, { content: t43 } = e48, { unfolded: n72 } = e48, { isFistUnfoldedUpdate: s60 = true } = e48;
  const E53 = `__EMOJI_SPLIT_${t34}__`, b55 = `__EMOJI_${t34}__`, j37 = `__SPACE_${t34}__`, D52 = `__NEW_LINE_${t34}__`;
  let U33, f80, d73 = [];
  function C52(r66) {
    const u72 = [], g67 = new RegExp(new RegExp("\\p{Regional_Indicator}\\p{Regional_Indicator}|\\p{Emoji}(\\p{Emoji_Modifier}+|\\uFE0F\\u20E3?)?(\\u200D\\p{Emoji}(\\p{Emoji_Modifier}+|\\uFE0F\\u20E3?)?)+|\\p{Emoji_Presentation}(\\p{Emoji_Modifier}+|\\uFE0F\\u20E3?)?|\\p{Emoji}(\\p{Emoji_Modifier}+|\\uFE0F\\u20E3?)", "gu"));
    return r66.slice().replace(g67, (c85) => `${E53}${b55}${c85}${E53}`).split(E53).forEach((c85) => c85.startsWith(b55) ? u72.push({
      id: r2(),
      content: c85.slice(b55.length)
    }) : u72.push(...c85.split("").map((h66) => h66 === " " ? j37 : h66 === `
` ? D52 : h66).map((h66) => ({ id: r2(), content: h66 })))), u72;
  }
  function L40() {
    if (!f80)
      return;
    const r66 = !n72;
    f80.reversed !== r66 && f80.reverse(), f80.play();
  }
  function T38(r66) {
    if (s60) {
      i65(5, s60 = false);
      return;
    }
    clearTimeout(U33), U33 = setTimeout(L40, r66 ? a62 : _32);
  }
  function O40(r66) {
    const u72 = function() {
      const g67 = f41((c85) => r66[c85].getBoundingClientRect().x, [Math.min(r66.length - 1, 10), Math.min(r66.length - 1, 30)]);
      if (g67 > 0)
        return g67;
    }();
    f80 = x2({
      targets: r66.slice(0, u72).filter(i7),
      autoplay: false,
      duration: 400,
      scale: [0.7, 1],
      rotate: [20, 0],
      opacity: [0, 1],
      translateX: [4, 0],
      translateY: [10, 0],
      delay: x2.stagger(50),
      easing: "easeInOutCubic"
    }), n72 && f80.seek(f80.duration);
  }
  function P55(r66, u72) {
    ft[r66 ? "unshift" : "push"](() => {
      d73[u72] = r66, i65(1, d73);
    });
  }
  function J33(r66, u72) {
    ft[r66 ? "unshift" : "push"](() => {
      d73[u72] = r66, i65(1, d73);
    });
  }
  return o71.$$set = (r66) => {
    "inDelay" in r66 && i65(6, a62 = r66.inDelay), "outDelay" in r66 && i65(7, _32 = r66.outDelay), "content" in r66 && i65(0, t43 = r66.content), "unfolded" in r66 && i65(8, n72 = r66.unfolded), "isFistUnfoldedUpdate" in r66 && i65(5, s60 = r66.isFistUnfoldedUpdate);
  }, o71.$$.update = () => {
    o71.$$.dirty & /*content*/
    1 && i65(2, l63 = C52(t43)), o71.$$.dirty & /*unfolded*/
    256 && T38(n72), o71.$$.dirty & /*spanEleList*/
    2 && O40(d73.filter((r66) => !!r66));
  }, [
    t43,
    d73,
    l63,
    j37,
    D52,
    s60,
    a62,
    _32,
    n72,
    P55,
    J33
  ];
}
var ae5 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      te6,
      ee6,
      Ft,
      {
        inDelay: 6,
        outDelay: 7,
        content: 0,
        unfolded: 8,
        isFistUnfoldedUpdate: 5
      },
      Q21
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Arrow.js
function M26(i65) {
  Qt2(i65, "svelte-1ogmlqq", ".arrow.svelte-1ogmlqq{width:100%;height:100%;background-size:100%;transition:transform 400ms ease-in-out;cursor:pointer;pointer-events:auto}.arrow-wrapper.svelte-1ogmlqq{position:relative;width:100%;height:100%}.arrow.left.svelte-1ogmlqq{transform:rotate(0deg)}.arrow.right.svelte-1ogmlqq{transform:rotate(-180deg)}.arrow.top.svelte-1ogmlqq{transform:rotate(90deg)}.arrow.bottom.svelte-1ogmlqq{transform:rotate(-90deg)}");
}
function h38(i65) {
  let r66, o71, e48, t43, l63, f80, s60, u72, n72, g67;
  return o71 = new T22({
    props: {
      center: true,
      blurRadius: 9,
      spreadRadius: 3
    }
  }), {
    c() {
      r66 = K4("div"), Ae(o71.$$.fragment), e48 = Xt(), t43 = K4("div"), te2(t43, "class", l63 = "arrow " + /*direction*/
      i65[0] + " svelte-1ogmlqq"), ne2(t43, "background-image", "url(" + A34 + ")"), te2(r66, "class", "arrow-wrapper svelte-1ogmlqq");
    },
    m(a62, m66) {
      Nt(a62, r66, m66), Dt(o71, r66, null), pt(r66, e48), pt(r66, t43), u72 = true, n72 || (g67 = lt(
        t43,
        "click",
        /*click_handler*/
        i65[5]
      ), n72 = true);
    },
    p(a62, m66) {
      i65 = a62, (!u72 || m66 & /*direction*/
      1 && l63 !== (l63 = "arrow " + /*direction*/
      i65[0] + " svelte-1ogmlqq")) && te2(t43, "class", l63);
    },
    i(a62) {
      u72 || (ot(o71.$$.fragment, a62), a62 && z2(() => {
        u72 && (s60 && s60.end(1), f80 = me2(t43, C13, {
          duration: (
            /*duration*/
            i65[2]
          ),
          delay: (
            /*inDelay*/
            i65[3]
          ),
          easing: c24
        }), f80.start());
      }), u72 = true);
    },
    o(a62) {
      $t(o71.$$.fragment, a62), f80 && f80.invalidate(), a62 && (s60 = ge(t43, C13, {
        duration: (
          /*duration*/
          i65[2]
        ),
        delay: (
          /*outDelay*/
          i65[4]
        ),
        easing: c24
      })), u72 = false;
    },
    d(a62) {
      a62 && J4(r66), Rt(o71), a62 && s60 && s60.end(), n72 = false, g67();
    }
  };
}
function P27(i65) {
  let r66, o71, e48 = (
    /*visible*/
    i65[1] && h38(i65)
  );
  return {
    c() {
      e48 && e48.c(), r66 = Yt();
    },
    m(t43, l63) {
      e48 && e48.m(t43, l63), Nt(t43, r66, l63), o71 = true;
    },
    p(t43, [l63]) {
      t43[1] ? e48 ? (e48.p(t43, l63), l63 & /*visible*/
      2 && ot(e48, 1)) : (e48 = h38(t43), e48.c(), ot(e48, 1), e48.m(r66.parentNode, r66)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot());
    },
    i(t43) {
      o71 || (ot(e48), o71 = true);
    },
    o(t43) {
      $t(e48), o71 = false;
    },
    d(t43) {
      e48 && e48.d(t43), t43 && J4(r66);
    }
  };
}
function Q22(i65, r66, o71) {
  let { direction: e48 = "right" } = r66, { visible: t43 = true } = r66, { duration: l63 = 0 } = r66, { inDelay: f80 = 0 } = r66, { outDelay: s60 = 0 } = r66;
  function u72(n72) {
    he.call(this, i65, n72);
  }
  return i65.$$set = (n72) => {
    "direction" in n72 && o71(0, e48 = n72.direction), "visible" in n72 && o71(1, t43 = n72.visible), "duration" in n72 && o71(2, l63 = n72.duration), "inDelay" in n72 && o71(3, f80 = n72.inDelay), "outDelay" in n72 && o71(4, s60 = n72.outDelay);
  }, [e48, t43, l63, f80, s60, u72];
}
var Y15 = class extends Ce {
  constructor(r66) {
    super(), Te(
      this,
      r66,
      Q22,
      P27,
      Ft,
      {
        direction: 0,
        visible: 1,
        duration: 2,
        inDelay: 3,
        outDelay: 4
      },
      M26
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/doUtil.js
function s42(n72, r66, a62 = 20, o71 = 5) {
  return new Promise((c85, i65) => {
    let t43 = 0;
    const l63 = setInterval(() => {
      const e48 = n72();
      r66(e48) ? (clearInterval(l63), c85(e48)) : t43 >= o71 && (clearInterval(l63), i65(e48)), t43++;
    }, a62);
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Text/FlyMText.js
function I28(o71) {
  Qt2(o71, "svelte-1fuzm7v", ".text.svelte-1fuzm7v{pointer-events:auto;box-sizing:border-box;display:inline-block;max-width:7.5rem;transition:transform 400ms ease-in-out;font-size:0.75rem;line-height:1.125rem;white-space:initial;cursor:pointer}.arrow.svelte-1fuzm7v{pointer-events:auto;display:inline-block;vertical-align:top;width:0.875rem;height:0.875rem;margin-left:0.125rem;margin-top:0.125rem}");
}
function w22(o71) {
  let r66, t43, l63;
  return t43 = new ae5({
    props: {
      unfolded: (
        /*visible*/
        o71[0]
      ),
      content: (
        /*content*/
        o71[1]
      ),
      inDelay: 500,
      outDelay: (
        /*foldTextDelay*/
        o71[5]
      )
    }
  }), {
    c() {
      r66 = K4("div"), Ae(t43.$$.fragment), te2(r66, "class", "text svelte-1fuzm7v"), ne2(
        r66,
        "transform",
        /*transform*/
        o71[7]
      );
    },
    m(e48, i65) {
      Nt(e48, r66, i65), Dt(t43, r66, null), o71[10](r66), l63 = true;
    },
    p(e48, i65) {
      const n72 = {};
      i65 & /*visible*/
      1 && (n72.unfolded = /*visible*/
      e48[0]), i65 & /*content*/
      2 && (n72.content = /*content*/
      e48[1]), i65 & /*foldTextDelay*/
      32 && (n72.outDelay = /*foldTextDelay*/
      e48[5]), t43.$set(n72), i65 & /*transform*/
      128 && ne2(
        r66,
        "transform",
        /*transform*/
        e48[7]
      );
    },
    i(e48) {
      l63 || (ot(t43.$$.fragment, e48), l63 = true);
    },
    o(e48) {
      $t(t43.$$.fragment, e48), l63 = false;
    },
    d(e48) {
      e48 && J4(r66), Rt(t43), o71[10](null);
    }
  };
}
function k26(o71) {
  let r66, t43, l63;
  return t43 = new Y15({
    props: {
      direction: (
        /*arrowDirection*/
        o71[6]
      ),
      visible: (
        /*visible*/
        o71[0]
      ),
      inDelay: 600,
      duration: 1e3
    }
  }), {
    c() {
      r66 = K4("div"), Ae(t43.$$.fragment), te2(r66, "class", "arrow svelte-1fuzm7v");
    },
    m(e48, i65) {
      Nt(e48, r66, i65), Dt(t43, r66, null), l63 = true;
    },
    p(e48, i65) {
      const n72 = {};
      i65 & /*arrowDirection*/
      64 && (n72.direction = /*arrowDirection*/
      e48[6]), i65 & /*visible*/
      1 && (n72.visible = /*visible*/
      e48[0]), t43.$set(n72);
    },
    i(e48) {
      l63 || (ot(t43.$$.fragment, e48), l63 = true);
    },
    o(e48) {
      $t(t43.$$.fragment, e48), l63 = false;
    },
    d(e48) {
      e48 && J4(r66), Rt(t43);
    }
  };
}
function J21(o71) {
  let r66, t43, l63, e48 = (
    /*content*/
    o71[1] && w22(o71)
  ), i65 = (
    /*lineHeight*/
    o71[3] < /*textHeight*/
    o71[4] && k26(o71)
  );
  return {
    c() {
      e48 && e48.c(), r66 = Xt(), i65 && i65.c(), t43 = Yt();
    },
    m(n72, f80) {
      e48 && e48.m(n72, f80), Nt(n72, r66, f80), i65 && i65.m(n72, f80), Nt(n72, t43, f80), l63 = true;
    },
    p(n72, [f80]) {
      n72[1] ? e48 ? (e48.p(n72, f80), f80 & /*content*/
      2 && ot(e48, 1)) : (e48 = w22(n72), e48.c(), ot(e48, 1), e48.m(r66.parentNode, r66)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot()), /*lineHeight*/
      n72[3] < /*textHeight*/
      n72[4] ? i65 ? (i65.p(n72, f80), f80 & /*lineHeight, textHeight*/
      24 && ot(i65, 1)) : (i65 = k26(n72), i65.c(), ot(i65, 1), i65.m(t43.parentNode, t43)) : i65 && (Lt(), $t(i65, 1, 1, () => {
        i65 = null;
      }), Ot());
    },
    i(n72) {
      l63 || (ot(e48), ot(i65), l63 = true);
    },
    o(n72) {
      $t(e48), $t(i65), l63 = false;
    },
    d(n72) {
      e48 && e48.d(n72), n72 && J4(r66), i65 && i65.d(n72), n72 && J4(t43);
    }
  };
}
function K21(o71, r66, t43) {
  let l63, e48, i65, { visible: n72 = false } = r66, { textUnfolded: f80 = false } = r66, { content: _32 } = r66, m66, g67 = 0, b55 = 0, c85 = 0;
  function S52(s60) {
    ft[s60 ? "unshift" : "push"](() => {
      m66 = s60, t43(2, m66);
    });
  }
  return o71.$$set = (s60) => {
    "visible" in s60 && t43(0, n72 = s60.visible), "textUnfolded" in s60 && t43(8, f80 = s60.textUnfolded), "content" in s60 && t43(1, _32 = s60.content);
  }, o71.$$.update = () => {
    if (o71.$$.dirty & /*textElement, visible, content*/
    7 && m66 && n72 && _32) {
      const { lineHeight: s60 } = getComputedStyle(m66);
      t43(4, c85 = m66.offsetHeight), s42(() => m66 == null ? void 0 : m66.offsetHeight, Boolean).then(() => {
        t43(4, c85 = m66.offsetHeight);
      }), t43(3, b55 = Number(s60.replace("px", "")));
    }
    o71.$$.dirty & /*textUnfolded, lineHeight, textHeight*/
    280 && t43(9, g67 = f80 ? b55 - c85 : 0), o71.$$.dirty & /*translateY*/
    512 && t43(7, l63 = `translateY(${g67}px)`), o71.$$.dirty & /*textUnfolded*/
    256 && t43(6, e48 = f80 ? "left" : "right"), o71.$$.dirty & /*textUnfolded*/
    256 && t43(5, i65 = f80 ? 450 : 0);
  }, [
    n72,
    _32,
    m66,
    b55,
    c85,
    i65,
    e48,
    l63,
    f80,
    g67,
    S52
  ];
}
var ie6 = class extends Ce {
  constructor(r66) {
    super(), Te(this, r66, K21, J21, Ft, { visible: 0, textUnfolded: 8, content: 1 }, I28);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/TextTag/TextTag.js
function H18(n72) {
  Qt2(n72, "svelte-5hip41", ".content.svelte-5hip41{--height:62.4375rem;width:-moz-max-content;width:max-content;height:var(--height);padding:calc(var(--height) - 1.125rem) 0.25rem 0 1rem;position:absolute;left:0;bottom:0;overflow:hidden;box-sizing:border-box;font-size:0;pointer-events:none;white-space:nowrap;font-weight:600}");
}
function M27(n72) {
  var u72, w49;
  let l63, r66, e48, o71, i65, m66, a62, p66, g67;
  return l63 = new T22({
    props: {
      visible: (
        /*unfolded*/
        n72[2]
      ),
      left: (
        /*contentWidth*/
        n72[3] / 2 + "px"
      ),
      bottom: 12,
      width: 2,
      blurRadius: 120,
      spreadRadius: 60
    }
  }), e48 = new Y14({
    props: {
      unfolded: (
        /*unfolded*/
        n72[2]
      ),
      length: (
        /*contentWidth*/
        n72[3]
      ),
      outDelay: (
        /*foldTextDelay*/
        n72[4] + 40 * Math.min(
          /*textItems*/
          (w49 = (u72 = n72[6][0]) == null ? void 0 : u72.content.length) != null ? w49 : 10,
          15
        )
      ),
      useLinearColor: true
    }
  }), m66 = new ie6({
    props: {
      visible: (
        /*unfolded*/
        n72[2]
      ),
      textUnfolded: (
        /*textUnfolded*/
        n72[1]
      ),
      content: (
        /*content*/
        n72[5]
      )
    }
  }), {
    c() {
      Ae(l63.$$.fragment), r66 = Xt(), Ae(e48.$$.fragment), o71 = Xt(), i65 = K4("div"), Ae(m66.$$.fragment), te2(i65, "class", "content svelte-5hip41");
    },
    m(t43, f80) {
      Dt(l63, t43, f80), Nt(t43, r66, f80), Dt(e48, t43, f80), Nt(t43, o71, f80), Nt(t43, i65, f80), Dt(m66, i65, null), a62 = true, p66 || (g67 = [
        Jt(E11.call(null, i65)),
        lt(
          i65,
          "clientWidth",
          /*clientWidth_handler*/
          n72[10]
        ),
        lt(
          i65,
          "click",
          /*toggleTextUnfolded*/
          n72[7]
        )
      ], p66 = true);
    },
    p(t43, f80) {
      var _32, z28;
      const s60 = {};
      f80 & /*unfolded*/
      4 && (s60.visible = /*unfolded*/
      t43[2]), f80 & /*contentWidth*/
      8 && (s60.left = /*contentWidth*/
      t43[3] / 2 + "px"), l63.$set(s60);
      const d73 = {};
      f80 & /*unfolded*/
      4 && (d73.unfolded = /*unfolded*/
      t43[2]), f80 & /*contentWidth*/
      8 && (d73.length = /*contentWidth*/
      t43[3]), f80 & /*foldTextDelay*/
      16 && (d73.outDelay = /*foldTextDelay*/
      t43[4] + 40 * Math.min(
        /*textItems*/
        (z28 = (_32 = t43[6][0]) == null ? void 0 : _32.content.length) != null ? z28 : 10,
        15
      )), e48.$set(d73);
      const h66 = {};
      f80 & /*unfolded*/
      4 && (h66.visible = /*unfolded*/
      t43[2]), f80 & /*textUnfolded*/
      2 && (h66.textUnfolded = /*textUnfolded*/
      t43[1]), f80 & /*content*/
      32 && (h66.content = /*content*/
      t43[5]), m66.$set(h66);
    },
    i(t43) {
      a62 || (ot(l63.$$.fragment, t43), ot(e48.$$.fragment, t43), ot(m66.$$.fragment, t43), a62 = true);
    },
    o(t43) {
      $t(l63.$$.fragment, t43), $t(e48.$$.fragment, t43), $t(m66.$$.fragment, t43), a62 = false;
    },
    d(t43) {
      Rt(l63, t43), t43 && J4(r66), Rt(e48, t43), t43 && J4(o71), t43 && J4(i65), Rt(m66), p66 = false, M8(g67);
    }
  };
}
function J22(n72) {
  let l63, r66, e48 = (
    /*tag*/
    n72[0].state && M27(n72)
  );
  return {
    c() {
      e48 && e48.c(), l63 = Yt();
    },
    m(o71, i65) {
      e48 && e48.m(o71, i65), Nt(o71, l63, i65), r66 = true;
    },
    p(o71, [i65]) {
      o71[0].state ? e48 ? (e48.p(o71, i65), i65 & /*tag*/
      1 && ot(e48, 1)) : (e48 = M27(o71), e48.c(), ot(e48, 1), e48.m(l63.parentNode, l63)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot());
    },
    i(o71) {
      r66 || (ot(e48), r66 = true);
    },
    o(o71) {
      $t(e48), r66 = false;
    },
    d(o71) {
      e48 && e48.d(o71), o71 && J4(l63);
    }
  };
}
function K22(n72, l63, r66) {
  let e48, o71, i65, m66, a62, { tag: p66 } = l63, g67, u72 = false, w49 = [];
  function t43() {
    r66(1, u72 = !u72);
  }
  const f80 = (s60) => {
    r66(3, g67 = s60.detail);
  };
  return n72.$$set = (s60) => {
    "tag" in s60 && r66(0, p66 = s60.tag);
  }, n72.$$.update = () => {
    var s60, d73, h66, _32;
    n72.$$.dirty & /*tag*/
    1 && r66(2, e48 = !!((s60 = p66.state) != null && s60.unfolded)), n72.$$.dirty & /*tag*/
    1 && r66(9, o71 = (h66 = (d73 = p66.data.title) != null ? d73 : p66.data.text) != null ? h66 : ""), n72.$$.dirty & /*tag*/
    1 && r66(8, i65 = (_32 = p66.data.description) != null ? _32 : ""), n72.$$.dirty & /*title, description*/
    768 && r66(5, m66 = (() => {
      if (o71 && i65)
        return o71 + `
` + i65;
      if (o71)
        return o71;
      if (i65)
        return i65;
    })()), n72.$$.dirty & /*unfolded*/
    4 && (e48 || setTimeout(
      () => {
        r66(1, u72 = false);
      },
      20
    )), n72.$$.dirty & /*textUnfolded*/
    2 && r66(4, a62 = u72 ? 450 : 0);
  }, [
    p66,
    u72,
    e48,
    g67,
    a62,
    m66,
    w49,
    t43,
    i65,
    o71,
    f80
  ];
}
var ut3 = class extends Ce {
  constructor(l63) {
    super(), Te(this, l63, K22, J22, Ft, { tag: 0 }, H18);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/px2rem.js
function e34(r66) {
  return typeof r66 == "number" ? r66 / 16 + "rem" : r66;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Text/MText.js
function D34(o71) {
  Qt2(o71, "svelte-1j0cz4o", '.text.svelte-1j0cz4o{display:-webkit-box;display:-ms-box;display:-moz-box;position:relative;width:-moz-max-content;width:max-content;max-width:100%;-webkit-box-orient:vertical;-ms-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}@keyframes svelte-1j0cz4o-blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}.caret.svelte-1j0cz4o{position:absolute;width:0.0625rem;height:100%;background-color:#fff;animation:svelte-1j0cz4o-blink 1.2s infinite}.placeholder.svelte-1j0cz4o{opacity:0.5}.placeholder.svelte-1j0cz4o:empty::after{content:" "}');
}
function F28(o71) {
  let t43;
  const l63 = (
    /*#slots*/
    o71[6].default
  ), e48 = Bt(
    l63,
    o71,
    /*$$scope*/
    o71[5],
    null
  );
  return {
    c() {
      e48 && e48.c();
    },
    m(i65, s60) {
      e48 && e48.m(i65, s60), t43 = true;
    },
    p(i65, s60) {
      e48 && e48.p && (!t43 || s60 & /*$$scope*/
      32) && It(
        e48,
        l63,
        i65,
        /*$$scope*/
        i65[5],
        t43 ? Ht(
          l63,
          /*$$scope*/
          i65[5],
          s60,
          null
        ) : Ut(
          /*$$scope*/
          i65[5]
        ),
        null
      );
    },
    i(i65) {
      t43 || (ot(e48, i65), t43 = true);
    },
    o(i65) {
      $t(e48, i65), t43 = false;
    },
    d(i65) {
      e48 && e48.d(i65);
    }
  };
}
function G20(o71) {
  var s60, a62;
  let t43, l63, e48 = (
    /*edit*/
    ((s60 = o71[3]) == null ? void 0 : s60.inputting) && v27()
  ), i65 = typeof /*edit*/
  ((a62 = o71[3]) == null ? void 0 : a62.placeholder) == "string" && w23(o71);
  return {
    c() {
      e48 && e48.c(), t43 = Xt(), i65 && i65.c(), l63 = Yt();
    },
    m(f80, n72) {
      e48 && e48.m(f80, n72), Nt(f80, t43, n72), i65 && i65.m(f80, n72), Nt(f80, l63, n72);
    },
    p(f80, n72) {
      var c85, r66;
      (c85 = f80[3]) != null && c85.inputting ? e48 || (e48 = v27(), e48.c(), e48.m(t43.parentNode, t43)) : e48 && (e48.d(1), e48 = null), typeof /*edit*/
      ((r66 = f80[3]) == null ? void 0 : r66.placeholder) == "string" ? i65 ? i65.p(f80, n72) : (i65 = w23(f80), i65.c(), i65.m(l63.parentNode, l63)) : i65 && (i65.d(1), i65 = null);
    },
    i: N4,
    o: N4,
    d(f80) {
      e48 && e48.d(f80), f80 && J4(t43), i65 && i65.d(f80), f80 && J4(l63);
    }
  };
}
function H19(o71) {
  let t43;
  return {
    c() {
      t43 = gt(
        /*text*/
        o71[2]
      );
    },
    m(l63, e48) {
      Nt(l63, t43, e48);
    },
    p(l63, e48) {
      e48 & /*text*/
      4 && ee2(
        t43,
        /*text*/
        l63[2]
      );
    },
    i: N4,
    o: N4,
    d(l63) {
      l63 && J4(t43);
    }
  };
}
function v27(o71) {
  let t43;
  return {
    c() {
      t43 = K4("div"), te2(t43, "class", "caret svelte-1j0cz4o");
    },
    m(l63, e48) {
      Nt(l63, t43, e48);
    },
    d(l63) {
      l63 && J4(t43);
    }
  };
}
function w23(o71) {
  let t43, l63 = (
    /*edit*/
    o71[3].placeholder + ""
  ), e48;
  return {
    c() {
      t43 = K4("span"), e48 = gt(l63), te2(t43, "class", "placeholder svelte-1j0cz4o");
    },
    m(i65, s60) {
      Nt(i65, t43, s60), pt(t43, e48);
    },
    p(i65, s60) {
      s60 & /*edit*/
      8 && l63 !== (l63 = /*edit*/
      i65[3].placeholder + "") && ee2(e48, l63);
    },
    d(i65) {
      i65 && J4(t43);
    }
  };
}
function I29(o71) {
  let t43, l63, e48, i65;
  const s60 = [H19, G20, F28], a62 = [];
  function f80(n72, c85) {
    return (
      /*text*/
      n72[2] ? 0 : (
        /*isEditing*/
        n72[4] ? 1 : 2
      )
    );
  }
  return l63 = f80(o71), e48 = a62[l63] = s60[l63](o71), {
    c() {
      t43 = K4("div"), e48.c(), te2(t43, "class", "text svelte-1j0cz4o"), ne2(t43, "max-width", typeof /*maxWidth*/
      o71[1] == "number" ? e34(
        /*maxWidth*/
        o71[1]
      ) : (
        /*maxWidth*/
        o71[1]
      )), ne2(
        t43,
        "-webkit-line-clamp",
        /*maxLine*/
        o71[0]
      );
    },
    m(n72, c85) {
      Nt(n72, t43, c85), a62[l63].m(t43, null), i65 = true;
    },
    p(n72, [c85]) {
      let r66 = l63;
      l63 = f80(n72), l63 === r66 ? a62[l63].p(n72, c85) : (Lt(), $t(a62[r66], 1, 1, () => {
        a62[r66] = null;
      }), Ot(), e48 = a62[l63], e48 ? e48.p(n72, c85) : (e48 = a62[l63] = s60[l63](n72), e48.c()), ot(e48, 1), e48.m(t43, null)), c85 & /*maxWidth*/
      2 && ne2(t43, "max-width", typeof /*maxWidth*/
      n72[1] == "number" ? e34(
        /*maxWidth*/
        n72[1]
      ) : (
        /*maxWidth*/
        n72[1]
      )), c85 & /*maxLine*/
      1 && ne2(
        t43,
        "-webkit-line-clamp",
        /*maxLine*/
        n72[0]
      );
    },
    i(n72) {
      i65 || (ot(e48), i65 = true);
    },
    o(n72) {
      $t(e48), i65 = false;
    },
    d(n72) {
      n72 && J4(t43), a62[l63].d();
    }
  };
}
function J23(o71, t43, l63) {
  let e48, { $$slots: i65 = {}, $$scope: s60 } = t43, { maxLine: a62 = null } = t43, { maxWidth: f80 = null } = t43, { text: n72 = null } = t43, { edit: c85 = null } = t43;
  return o71.$$set = (r66) => {
    "maxLine" in r66 && l63(0, a62 = r66.maxLine), "maxWidth" in r66 && l63(1, f80 = r66.maxWidth), "text" in r66 && l63(2, n72 = r66.text), "edit" in r66 && l63(3, c85 = r66.edit), "$$scope" in r66 && l63(5, s60 = r66.$$scope);
  }, o71.$$.update = () => {
    o71.$$.dirty & /*edit*/
    8 && l63(4, e48 = typeof (c85 == null ? void 0 : c85.placeholder) == "string" || (c85 == null ? void 0 : c85.inputting));
  }, [a62, f80, n72, c85, e48, s60, i65];
}
var P28 = class extends Ce {
  constructor(t43) {
    super(), Te(
      this,
      t43,
      J23,
      I29,
      Ft,
      {
        maxLine: 0,
        maxWidth: 1,
        text: 2,
        edit: 3
      },
      D34
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/TextTag/TextPlaneTag.js
function H20(t43) {
  Qt2(t43, "svelte-1oxrkr1", ".plane__container.svelte-1oxrkr1.svelte-1oxrkr1{position:absolute;left:50%;transform:translate(-50%, -100%);width:-moz-max-content;width:max-content}.plane__wrapper.svelte-1oxrkr1.svelte-1oxrkr1{transition:transform 500ms linear, opacity 200ms linear;padding:0.625rem;background-color:rgba(0, 0, 0, 0.5);border:0.03125rem solid rgba(255, 255, 255, 0.3);border-radius:0.25rem}.unfolded.svelte-1oxrkr1 .plane__wrapper.svelte-1oxrkr1{transition-delay:200ms, 500ms;opacity:1}.folded.svelte-1oxrkr1 .plane__wrapper.svelte-1oxrkr1{opacity:0}.plane.svelte-1oxrkr1.svelte-1oxrkr1{max-width:11.75rem}.title.svelte-1oxrkr1.svelte-1oxrkr1{white-space:pre-wrap;font-weight:bold;font-size:0.75rem;line-height:1.125rem}.description.svelte-1oxrkr1.svelte-1oxrkr1{margin-top:0.25rem;white-space:pre-wrap;font-size:0.6875rem;line-height:1rem}");
}
function S33(t43) {
  var _32, k47;
  let o71, a62, e48, n72, r66, d73, s60, f80, m66;
  o71 = new Y14({
    props: {
      unfolded: (
        /*unfolded*/
        t43[1]
      ),
      direction: "vertical",
      length: 15,
      duration: 500,
      inDelay: 200,
      useLinearColor: true
    }
  }), s60 = new P28({
    props: {
      text: (
        /*title*/
        t43[4]
      ),
      edit: (
        /*tag*/
        (_32 = t43[0].data.edit) == null ? void 0 : _32.title
      ),
      maxLine: (
        /*titleMaxRows*/
        t43[2]
      )
    }
  });
  let l63 = (
    /*tag*/
    (t43[0].data.description || /*tag*/
    ((k47 = t43[0].data.edit) == null ? void 0 : k47.description)) && q20(t43)
  );
  return {
    c() {
      Ae(o71.$$.fragment), a62 = Xt(), e48 = K4("div"), n72 = K4("div"), r66 = K4("div"), d73 = K4("div"), Ae(s60.$$.fragment), f80 = Xt(), l63 && l63.c(), te2(d73, "class", "title svelte-1oxrkr1"), te2(r66, "class", "plane svelte-1oxrkr1"), te2(n72, "class", "plane__wrapper svelte-1oxrkr1"), ne2(
        n72,
        "transform",
        /*unfolded*/
        t43[1] ? "translateY(-15px)" : "translateY(0)"
      ), te2(e48, "class", "plane__container svelte-1oxrkr1"), re2(
        e48,
        "unfolded",
        /*unfolded*/
        t43[1]
      ), re2(
        e48,
        "folded",
        /*folded*/
        t43[5]
      );
    },
    m(i65, p66) {
      Dt(o71, i65, p66), Nt(i65, a62, p66), Nt(i65, e48, p66), pt(e48, n72), pt(n72, r66), pt(r66, d73), Dt(s60, d73, null), pt(r66, f80), l63 && l63.m(r66, null), m66 = true;
    },
    p(i65, p66) {
      var y51, z28;
      const Y23 = {};
      p66 & /*unfolded*/
      2 && (Y23.unfolded = /*unfolded*/
      i65[1]), o71.$set(Y23);
      const x49 = {};
      p66 & /*title*/
      16 && (x49.text = /*title*/
      i65[4]), p66 & /*tag*/
      1 && (x49.edit = /*tag*/
      (y51 = i65[0].data.edit) == null ? void 0 : y51.title), p66 & /*titleMaxRows*/
      4 && (x49.maxLine = /*titleMaxRows*/
      i65[2]), s60.$set(x49), /*tag*/
      i65[0].data.description || /*tag*/
      (z28 = i65[0].data.edit) != null && z28.description ? l63 ? (l63.p(i65, p66), p66 & /*tag*/
      1 && ot(l63, 1)) : (l63 = q20(i65), l63.c(), ot(l63, 1), l63.m(r66, null)) : l63 && (Lt(), $t(l63, 1, 1, () => {
        l63 = null;
      }), Ot()), p66 & /*unfolded*/
      2 && ne2(
        n72,
        "transform",
        /*unfolded*/
        i65[1] ? "translateY(-15px)" : "translateY(0)"
      ), (!m66 || p66 & /*unfolded*/
      2) && re2(
        e48,
        "unfolded",
        /*unfolded*/
        i65[1]
      ), (!m66 || p66 & /*folded*/
      32) && re2(
        e48,
        "folded",
        /*folded*/
        i65[5]
      );
    },
    i(i65) {
      m66 || (ot(o71.$$.fragment, i65), ot(s60.$$.fragment, i65), ot(l63), m66 = true);
    },
    o(i65) {
      $t(o71.$$.fragment, i65), $t(s60.$$.fragment, i65), $t(l63), m66 = false;
    },
    d(i65) {
      Rt(o71, i65), i65 && J4(a62), i65 && J4(e48), Rt(s60), l63 && l63.d();
    }
  };
}
function q20(t43) {
  var n72;
  let o71, a62, e48;
  return a62 = new P28({
    props: {
      text: (
        /*tag*/
        t43[0].data.description
      ),
      edit: (
        /*tag*/
        (n72 = t43[0].data.edit) == null ? void 0 : n72.description
      ),
      maxLine: (
        /*descriptionMaxRows*/
        t43[3]
      )
    }
  }), {
    c() {
      o71 = K4("div"), Ae(a62.$$.fragment), te2(o71, "class", "description svelte-1oxrkr1");
    },
    m(r66, d73) {
      Nt(r66, o71, d73), Dt(a62, o71, null), e48 = true;
    },
    p(r66, d73) {
      var f80;
      const s60 = {};
      d73 & /*tag*/
      1 && (s60.text = /*tag*/
      r66[0].data.description), d73 & /*tag*/
      1 && (s60.edit = /*tag*/
      (f80 = r66[0].data.edit) == null ? void 0 : f80.description), d73 & /*descriptionMaxRows*/
      8 && (s60.maxLine = /*descriptionMaxRows*/
      r66[3]), a62.$set(s60);
    },
    i(r66) {
      e48 || (ot(a62.$$.fragment, r66), e48 = true);
    },
    o(r66) {
      $t(a62.$$.fragment, r66), e48 = false;
    },
    d(r66) {
      r66 && J4(o71), Rt(a62);
    }
  };
}
function I30(t43) {
  let o71, a62, e48 = (
    /*tag*/
    t43[0].state && S33(t43)
  );
  return {
    c() {
      e48 && e48.c(), o71 = Yt();
    },
    m(n72, r66) {
      e48 && e48.m(n72, r66), Nt(n72, o71, r66), a62 = true;
    },
    p(n72, [r66]) {
      n72[0].state ? e48 ? (e48.p(n72, r66), r66 & /*tag*/
      1 && ot(e48, 1)) : (e48 = S33(n72), e48.c(), ot(e48, 1), e48.m(o71.parentNode, o71)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot());
    },
    i(n72) {
      a62 || (ot(e48), a62 = true);
    },
    o(n72) {
      $t(e48), a62 = false;
    },
    d(n72) {
      e48 && e48.d(n72), n72 && J4(o71);
    }
  };
}
function J24(t43, o71, a62) {
  let e48, n72, r66, d73, s60, { tag: f80 } = o71;
  return t43.$$set = (m66) => {
    "tag" in m66 && a62(0, f80 = m66.tag);
  }, t43.$$.update = () => {
    var m66, l63, _32, k47, i65;
    t43.$$.dirty & /*tag*/
    1 && a62(1, e48 = !!((m66 = f80.state) != null && m66.unfolded)), t43.$$.dirty & /*unfolded*/
    2 && a62(5, n72 = !e48), t43.$$.dirty & /*tag*/
    1 && a62(4, r66 = (_32 = (l63 = f80.data.title) != null ? l63 : f80.data.text) != null ? _32 : ""), t43.$$.dirty & /*tag*/
    1 && a62(3, d73 = (k47 = f80.data.descriptionMaxRows) != null ? k47 : null), t43.$$.dirty & /*tag*/
    1 && a62(2, s60 = (i65 = f80.data.titleMaxRows) != null ? i65 : null);
  }, [f80, e48, s60, d73, r66, n72];
}
var Z10 = class extends Ce {
  constructor(o71) {
    super(), Te(this, o71, J24, I30, Ft, { tag: 0 }, H20);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/TextTag/index.js
function v28(a62) {
  let t43, r66;
  return t43 = new Z10({ props: { tag: (
    /*tag*/
    a62[0]
  ) } }), {
    c() {
      Ae(t43.$$.fragment);
    },
    m(e48, o71) {
      Dt(t43, e48, o71), r66 = true;
    },
    p(e48, o71) {
      const i65 = {};
      o71 & /*tag*/
      1 && (i65.tag = /*tag*/
      e48[0]), t43.$set(i65);
    },
    i(e48) {
      r66 || (ot(t43.$$.fragment, e48), r66 = true);
    },
    o(e48) {
      $t(t43.$$.fragment, e48), r66 = false;
    },
    d(e48) {
      Rt(t43, e48);
    }
  };
}
function C36(a62) {
  let t43, r66;
  return t43 = new ut3({ props: { tag: (
    /*tag*/
    a62[0]
  ) } }), {
    c() {
      Ae(t43.$$.fragment);
    },
    m(e48, o71) {
      Dt(t43, e48, o71), r66 = true;
    },
    p(e48, o71) {
      const i65 = {};
      o71 & /*tag*/
      1 && (i65.tag = /*tag*/
      e48[0]), t43.$set(i65);
    },
    i(e48) {
      r66 || (ot(t43.$$.fragment, e48), r66 = true);
    },
    o(e48) {
      $t(t43.$$.fragment, e48), r66 = false;
    },
    d(e48) {
      Rt(t43, e48);
    }
  };
}
function N18(a62) {
  let t43, r66, e48, o71;
  const i65 = [C36, v28], p66 = [];
  function u72(n72, c85) {
    return (
      /*appearance*/
      n72[1] === "line" ? 0 : (
        /*appearance*/
        n72[1] === "plane" ? 1 : -1
      )
    );
  }
  return ~(t43 = u72(a62)) && (r66 = p66[t43] = i65[t43](a62)), {
    c() {
      r66 && r66.c(), e48 = Yt();
    },
    m(n72, c85) {
      ~t43 && p66[t43].m(n72, c85), Nt(n72, e48, c85), o71 = true;
    },
    p(n72, [c85]) {
      let l63 = t43;
      t43 = u72(n72), t43 === l63 ? ~t43 && p66[t43].p(n72, c85) : (r66 && (Lt(), $t(p66[l63], 1, 1, () => {
        p66[l63] = null;
      }), Ot()), ~t43 ? (r66 = p66[t43], r66 ? r66.p(n72, c85) : (r66 = p66[t43] = i65[t43](n72), r66.c()), ot(r66, 1), r66.m(e48.parentNode, e48)) : r66 = null);
    },
    i(n72) {
      o71 || (ot(r66), o71 = true);
    },
    o(n72) {
      $t(r66), o71 = false;
    },
    d(n72) {
      ~t43 && p66[t43].d(n72), n72 && J4(e48);
    }
  };
}
function P29(a62, t43, r66) {
  let e48, { tag: o71 } = t43;
  return a62.$$set = (i65) => {
    "tag" in i65 && r66(0, o71 = i65.tag);
  }, a62.$$.update = () => {
    var i65;
    a62.$$.dirty & /*tag*/
    1 && r66(1, e48 = (i65 = o71.data.appearance) != null ? i65 : "line");
  }, [o71, e48];
}
var Y16 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, P29, N18, Ft, { tag: 0 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Line/Polyline.js
function q21(n72) {
  Qt2(n72, "svelte-blgtit", ".line.svelte-blgtit{width:100%;height:100%;overflow:visible;pointer-events:none}");
}
function y23(n72) {
  let e48, a62, l63, o71;
  return {
    c() {
      e48 = Mt("path"), te2(e48, "fill", "none"), te2(e48, "stroke", "url(#" + /*defsID*/
      n72[4] + ")"), te2(e48, "stroke-width", "1"), te2(e48, "d", "M0 21 L14 0.5 L105 0.5");
    },
    m(i65, t43) {
      Nt(i65, e48, t43), o71 = true;
    },
    p(i65, t43) {
      n72 = i65;
    },
    i(i65) {
      o71 || (i65 && z2(() => {
        o71 && (l63 && l63.end(1), a62 = me2(e48, I7, {
          duration: (
            /*duration*/
            n72[1]
          ),
          delay: (
            /*inDelay*/
            n72[0]
          ),
          easing: o18
        }), a62.start());
      }), o71 = true);
    },
    o(i65) {
      a62 && a62.invalidate(), i65 && (l63 = ge(e48, I7, {
        duration: (
          /*duration*/
          n72[1]
        ),
        delay: (
          /*outDelay*/
          n72[2]
        ),
        easing: c24
      })), o71 = false;
    },
    d(i65) {
      i65 && J4(e48), i65 && l63 && l63.end();
    }
  };
}
function B23(n72) {
  let e48, a62, l63, o71, i65, t43 = (
    /*unfolded*/
    n72[3] && y23(n72)
  );
  return {
    c() {
      e48 = Mt("svg"), a62 = Mt("defs"), l63 = Mt("linearGradient"), o71 = Mt("stop"), i65 = Mt("stop"), t43 && t43.c(), te2(o71, "offset", "25%"), te2(o71, "stop-color", "white"), te2(o71, "stop-opacity", "1"), te2(i65, "offset", "100%"), te2(i65, "stop-color", "white"), te2(i65, "stop-opacity", "0.5"), te2(
        l63,
        "id",
        /*defsID*/
        n72[4]
      ), te2(l63, "gradientUnits", "userSpaceOnUse"), te2(e48, "class", "line svelte-blgtit"), te2(e48, "viewBox", "0 0 105 21");
    },
    m(u72, f80) {
      Nt(u72, e48, f80), pt(e48, a62), pt(a62, l63), pt(l63, o71), pt(l63, i65), t43 && t43.m(e48, null);
    },
    p(u72, [f80]) {
      u72[3] ? t43 ? (t43.p(u72, f80), f80 & /*unfolded*/
      8 && ot(t43, 1)) : (t43 = y23(u72), t43.c(), ot(t43, 1), t43.m(e48, null)) : t43 && (Lt(), $t(t43, 1, 1, () => {
        t43 = null;
      }), Ot());
    },
    i(u72) {
      ot(t43);
    },
    o(u72) {
      $t(t43);
    },
    d(u72) {
      u72 && J4(e48), t43 && t43.d();
    }
  };
}
function C37(n72, e48, a62) {
  let { inDelay: l63 = 0 } = e48, { duration: o71 = 1e3 } = e48, { outDelay: i65 = 0 } = e48, { unfolded: t43 } = e48;
  const u72 = r2();
  return n72.$$set = (f80) => {
    "inDelay" in f80 && a62(0, l63 = f80.inDelay), "duration" in f80 && a62(1, o71 = f80.duration), "outDelay" in f80 && a62(2, i65 = f80.outDelay), "unfolded" in f80 && a62(3, t43 = f80.unfolded);
  }, [l63, o71, i65, t43, u72];
}
var A37 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      C37,
      B23,
      Ft,
      {
        inDelay: 0,
        duration: 1,
        outDelay: 2,
        unfolded: 3
      },
      q21
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/components/Dot/Dot.js
function f42(e48) {
  Qt2(e48, "svelte-1mgyhhn", `:root{--sc-dot-size:6px;--sc-active-dot-size:8px;--sc-dot-size-animation-time:250ms}.sc-carousel-dot__dot.svelte-1mgyhhn{background-color:var(--sc-color-rgb-light);border-radius:50%;display:inline-block;opacity:0.5;transition:opacity 100ms ease,\r
      height var(--sc-dot-size-animation-time) ease,\r
      width var(--sc-dot-size-animation-time) ease;cursor:pointer;-webkit-tap-highlight-color:transparent;height:var(--sc-dot-size);width:var(--sc-dot-size)}.sc-carousel-dot__dot.svelte-1mgyhhn:hover{opacity:0.9}.sc-carousel-dot__dot_active.svelte-1mgyhhn{opacity:0.7;height:var(--sc-active-dot-size);width:var(--sc-active-dot-size)}`);
}
function b29(e48) {
  let t43, s60, c85;
  return {
    c() {
      t43 = K4("button"), te2(t43, "class", "sc-carousel-button sc-carousel-dot__dot svelte-1mgyhhn"), re2(
        t43,
        "sc-carousel-dot__dot_active",
        /*active*/
        e48[0]
      );
    },
    m(i65, o71) {
      Nt(i65, t43, o71), s60 || (c85 = lt(
        t43,
        "click",
        /*click_handler*/
        e48[1]
      ), s60 = true);
    },
    p(i65, [o71]) {
      o71 & /*active*/
      1 && re2(
        t43,
        "sc-carousel-dot__dot_active",
        /*active*/
        i65[0]
      );
    },
    i: N4,
    o: N4,
    d(i65) {
      i65 && J4(t43), s60 = false, c85();
    }
  };
}
function y24(e48, t43, s60) {
  let { active: c85 = false } = t43;
  function i65(o71) {
    he.call(this, e48, o71);
  }
  return e48.$$set = (o71) => {
    "active" in o71 && s60(0, c85 = o71.active);
  }, [c85, i65];
}
var k27 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, y24, b29, Ft, { active: 0 }, f42);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/components/Dots/Dots.js
function M28(l63) {
  Qt2(l63, "svelte-670fde", ".sc-carousel-dots__container.svelte-670fde{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;padding:0 30px}.sc-carousel-dots__dot-container.svelte-670fde{height:calc(var(--sc-dot-size) + 14px);width:calc(var(--sc-dot-size) + 10px);display:flex;align-items:center;justify-content:center}");
}
function u39(l63, c85, n72) {
  const r66 = l63.slice();
  return r66[5] = c85[n72], r66[7] = n72, r66;
}
function d39(l63, c85) {
  let n72, r66, a62, o71;
  function i65() {
    return (
      /*click_handler*/
      c85[3](
        /*pageIndex*/
        c85[7]
      )
    );
  }
  return r66 = new k27({
    props: {
      active: (
        /*currentPageIndex*/
        c85[1] === /*pageIndex*/
        c85[7]
      )
    }
  }), r66.$on("click", i65), {
    key: l63,
    first: null,
    c() {
      n72 = K4("div"), Ae(r66.$$.fragment), a62 = Xt(), te2(n72, "class", "sc-carousel-dots__dot-container svelte-670fde"), this.first = n72;
    },
    m(t43, e48) {
      Nt(t43, n72, e48), Dt(r66, n72, null), pt(n72, a62), o71 = true;
    },
    p(t43, e48) {
      c85 = t43;
      const s60 = {};
      e48 & /*currentPageIndex, pagesCount*/
      3 && (s60.active = /*currentPageIndex*/
      c85[1] === /*pageIndex*/
      c85[7]), r66.$set(s60);
    },
    i(t43) {
      o71 || (ot(r66.$$.fragment, t43), o71 = true);
    },
    o(t43) {
      $t(r66.$$.fragment, t43), o71 = false;
    },
    d(t43) {
      t43 && J4(n72), Rt(r66);
    }
  };
}
function S34(l63) {
  let c85, n72 = [], r66 = /* @__PURE__ */ new Map(), a62, o71 = Array(
    /*pagesCount*/
    l63[0]
  );
  const i65 = (t43) => (
    /*pageIndex*/
    t43[7]
  );
  for (let t43 = 0; t43 < o71.length; t43 += 1) {
    let e48 = u39(l63, o71, t43), s60 = i65(e48);
    r66.set(s60, n72[t43] = d39(s60, e48));
  }
  return {
    c() {
      c85 = K4("div");
      for (let t43 = 0; t43 < n72.length; t43 += 1)
        n72[t43].c();
      te2(c85, "class", "sc-carousel-dots__container svelte-670fde");
    },
    m(t43, e48) {
      Nt(t43, c85, e48);
      for (let s60 = 0; s60 < n72.length; s60 += 1)
        n72[s60] && n72[s60].m(c85, null);
      a62 = true;
    },
    p(t43, [e48]) {
      e48 & /*currentPageIndex, Array, pagesCount, handleDotClick*/
      7 && (o71 = Array(
        /*pagesCount*/
        t43[0]
      ), Lt(), n72 = Ee(n72, e48, i65, 1, t43, o71, r66, c85, xe, d39, null, u39), Ot());
    },
    i(t43) {
      if (!a62) {
        for (let e48 = 0; e48 < o71.length; e48 += 1)
          ot(n72[e48]);
        a62 = true;
      }
    },
    o(t43) {
      for (let e48 = 0; e48 < n72.length; e48 += 1)
        $t(n72[e48]);
      a62 = false;
    },
    d(t43) {
      t43 && J4(c85);
      for (let e48 = 0; e48 < n72.length; e48 += 1)
        n72[e48].d();
    }
  };
}
function B24(l63, c85, n72) {
  const r66 = fe2();
  let { pagesCount: a62 = 1 } = c85, { currentPageIndex: o71 = 0 } = c85;
  function i65(e48) {
    r66("pageChange", e48);
  }
  const t43 = (e48) => i65(e48);
  return l63.$$set = (e48) => {
    "pagesCount" in e48 && n72(0, a62 = e48.pagesCount), "currentPageIndex" in e48 && n72(1, o71 = e48.currentPageIndex);
  }, [a62, o71, i65, t43];
}
var H21 = class extends Ce {
  constructor(c85) {
    super(), Te(this, c85, B24, S34, Ft, { pagesCount: 0, currentPageIndex: 1 }, M28);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/direction.js
var t35 = "prev";
var e35 = "next";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/components/Arrow/Arrow.js
function z17(a62) {
  Qt2(a62, "svelte-1bftafx", ":root{--sc-arrow-size:2px}.sc-carousel-arrow__circle.svelte-1bftafx{width:20px;height:20px;border-radius:50%;background-color:var(--sc-color-rgb-light-50p);display:flex;align-items:center;justify-content:center;transition:opacity 100ms ease;cursor:pointer;-webkit-tap-highlight-color:transparent}.sc-carousel-arrow__circle.svelte-1bftafx:hover{opacity:0.9}.sc-carousel-arrow__arrow.svelte-1bftafx{border:solid var(--sc-color-hex-dark);border-width:0 var(--sc-arrow-size) var(--sc-arrow-size) 0;padding:var(--sc-arrow-size);position:relative}.sc-carousel-arrow__arrow-next.svelte-1bftafx{transform:rotate(-45deg);left:calc(var(--sc-arrow-size) / -2)}.sc-carousel-arrow__arrow-prev.svelte-1bftafx{transform:rotate(135deg);right:calc(var(--sc-arrow-size) / -2)}.sc-carousel-arrow__circle_disabled.svelte-1bftafx,.sc-carousel-arrow__circle_disabled.svelte-1bftafx:hover{opacity:0.5}");
}
function k28(a62) {
  let r66, o71, t43, i65;
  return {
    c() {
      r66 = K4("button"), o71 = K4("i"), te2(o71, "class", "sc-carousel-arrow__arrow svelte-1bftafx"), re2(
        o71,
        "sc-carousel-arrow__arrow-next",
        /*direction*/
        a62[0] === e35
      ), re2(
        o71,
        "sc-carousel-arrow__arrow-prev",
        /*direction*/
        a62[0] === t35
      ), te2(r66, "class", "sc-carousel-button sc-carousel-arrow__circle svelte-1bftafx"), re2(
        r66,
        "sc-carousel-arrow__circle_disabled",
        /*disabled*/
        a62[1]
      );
    },
    m(s60, e48) {
      Nt(s60, r66, e48), pt(r66, o71), t43 || (i65 = lt(
        r66,
        "click",
        /*click_handler*/
        a62[2]
      ), t43 = true);
    },
    p(s60, [e48]) {
      e48 & /*direction, NEXT*/
      1 && re2(
        o71,
        "sc-carousel-arrow__arrow-next",
        /*direction*/
        s60[0] === e35
      ), e48 & /*direction, PREV*/
      1 && re2(
        o71,
        "sc-carousel-arrow__arrow-prev",
        /*direction*/
        s60[0] === t35
      ), e48 & /*disabled*/
      2 && re2(
        r66,
        "sc-carousel-arrow__circle_disabled",
        /*disabled*/
        s60[1]
      );
    },
    i: N4,
    o: N4,
    d(s60) {
      s60 && J4(r66), t43 = false, i65();
    }
  };
}
function y25(a62, r66, o71) {
  let { direction: t43 = e35 } = r66, { disabled: i65 = false } = r66;
  function s60(e48) {
    he.call(this, a62, e48);
  }
  return a62.$$set = (e48) => {
    "direction" in e48 && o71(0, t43 = e48.direction), "disabled" in e48 && o71(1, i65 = e48.disabled);
  }, [t43, i65, s60];
}
var q22 = class extends Ce {
  constructor(r66) {
    super(), Te(this, r66, y25, k28, Ft, { direction: 0, disabled: 1 }, z17);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/components/Progress/Progress.js
function m44(t43) {
  Qt2(t43, "svelte-i7yfid", ".sc-carousel-progress__indicator.svelte-i7yfid{height:100%;background-color:var(--sc-color-hex-dark-50p)}");
}
function g31(t43) {
  let e48;
  return {
    c() {
      e48 = K4("div"), te2(e48, "class", "sc-carousel-progress__indicator svelte-i7yfid"), ne2(
        e48,
        "width",
        /*width*/
        t43[0] + "%"
      );
    },
    m(i65, s60) {
      Nt(i65, e48, s60);
    },
    p(i65, [s60]) {
      s60 & /*width*/
      1 && ne2(
        e48,
        "width",
        /*width*/
        i65[0] + "%"
      );
    },
    i: N4,
    o: N4,
    d(i65) {
      i65 && J4(e48);
    }
  };
}
var c48 = 100;
function y26(t43, e48, i65) {
  let s60, { value: r66 = 0 } = e48;
  return t43.$$set = (n72) => {
    "value" in n72 && i65(1, r66 = n72.value);
  }, t43.$$.update = () => {
    t43.$$.dirty & /*value*/
    2 && i65(0, s60 = Math.min(Math.max(r66 * c48, 0), c48));
  }, [s60, r66];
}
var w24 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, y26, g31, Ft, { value: 1 }, m44);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/actions/swipeable/event.js
function n44(e48, t43) {
  e48.addEventListener("mousedown", t43), e48.addEventListener("touchstart", t43, { passive: true });
}
function v29(e48, t43) {
  e48.removeEventListener("mousedown", t43), e48.removeEventListener("touchstart", t43);
}
function o52(e48, t43) {
  e48.addEventListener("mouseup", t43), e48.addEventListener("touchend", t43);
}
function r38(e48, t43) {
  e48.removeEventListener("mouseup", t43), e48.removeEventListener("touchend", t43);
}
function i44(e48, t43) {
  e48.addEventListener("mousemove", t43), e48.addEventListener("touchmove", t43);
}
function d40(e48, t43) {
  e48.removeEventListener("mousemove", t43), e48.removeEventListener("touchmove", t43);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/utils/event.js
function c49(t43) {
  return function(e48, n72) {
    t43.dispatchEvent(
      new CustomEvent(e48, {
        detail: n72
      })
    );
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/units.js
var _19 = 110;
var I31 = 9;
var M29 = 111;
var N19 = 20;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/actions/swipeable/swipeable.js
function f43(e48) {
  if ("TouchEvent" in window && e48 instanceof TouchEvent) {
    const o71 = e48.touches[0];
    return {
      x: o71 ? o71.clientX : 0,
      y: o71 ? o71.clientY : 0
    };
  }
  return {
    x: e48.clientX,
    y: e48.clientY
  };
}
function b30(e48, { thresholdProvider: o71 }) {
  const r66 = c49(e48);
  let s60, c85, n72 = 0, l63, a62 = false;
  function v58() {
    return Date.now() - l63 >= M29 && Math.abs(n72) >= N19;
  }
  function p66(i65) {
    l63 = Date.now(), n72 = 0, a62 = true;
    const t43 = f43(i65);
    s60 = t43.x, c85 = t43.y, r66("swipeStart", { x: s60, y: c85 }), i44(window, w49), o52(window, u72);
  }
  function w49(i65) {
    if (!a62)
      return;
    const t43 = f43(i65), d73 = t43.x - s60, M48 = t43.y - c85;
    s60 = t43.x, c85 = t43.y, r66("swipeMove", { x: s60, y: c85, dx: d73, dy: M48 }), d73 !== 0 && Math.sign(d73) !== Math.sign(n72) && (n72 = 0), n72 += d73, Math.abs(n72) > o71() && (r66("swipeThresholdReached", { direction: n72 > 0 ? t35 : e35 }), r38(window, u72), d40(window, w49));
  }
  function u72(i65) {
    if (r38(window, u72), d40(window, w49), a62 = false, !v58()) {
      r66("swipeFailed");
      return;
    }
    const t43 = f43(i65);
    r66("swipeEnd", { x: t43.x, y: t43.y });
  }
  return n44(e48, p66), {
    destroy() {
      v29(e48, p66);
    }
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/actions/hoverable/event.js
function t36(e48, n72) {
  e48.addEventListener("mouseenter", n72);
}
function r39(e48, n72) {
  e48.removeEventListener("mouseenter", n72);
}
function v30(e48, n72) {
  e48.addEventListener("mouseleave", n72);
}
function o53(e48, n72) {
  e48.removeEventListener("mouseleave", n72);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/actions/hoverable/hoverable.js
function h39(e48) {
  const t43 = c49(e48);
  function v58() {
    v30(e48, r66), t43("hovered", { value: true });
  }
  function r66() {
    t43("hovered", { value: false }), o53(e48, r66);
  }
  return t36(e48, v58), {
    destroy() {
      r39(e48, v58), o53(e48, r66);
    }
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/utils/math.js
var s43 = (t43, n72) => {
  const e48 = n72.x - t43.x, a62 = n72.y - t43.y;
  return Math.sqrt(e48 * e48 + a62 * a62);
};
function r40(t43, n72, e48) {
  return Math.max(t43, Math.min(n72, e48));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/actions/tappable/event.js
function n45(e48, t43) {
  e48.addEventListener("touchstart", t43, { passive: true });
}
function o54(e48, t43) {
  e48.removeEventListener("touchstart", t43);
}
function r41(e48, t43) {
  e48.addEventListener("touchend", t43);
}
function s44(e48, t43) {
  e48.removeEventListener("touchend", t43);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/actions/tappable/tappable.js
function y27(e48) {
  const s60 = c49(e48);
  let a62 = 0, c85 = { x: 0, y: 0 };
  function p66({
    tapEndedAt: n72,
    tapEndedPos: t43
  }) {
    const u72 = n72 - a62, d73 = s43(c85, t43);
    return u72 <= _19 && d73 <= I31;
  }
  function i65(n72) {
    a62 = Date.now();
    const t43 = n72.touches[0];
    c85 = { x: t43.clientX, y: t43.clientY }, r41(e48, o71);
  }
  function o71(n72) {
    s44(e48, o71);
    const t43 = n72.changedTouches[0];
    p66({
      tapEndedAt: Date.now(),
      tapEndedPos: { x: t43.clientX, y: t43.clientY }
    }) && s60("tapped");
  }
  return n45(e48, i65), {
    destroy() {
      o54(e48, i65), s44(e48, o71);
    }
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/utils/page.js
function a36({
  currentParticleIndex: t43,
  particlesCount: e48,
  clonesCountHead: n72,
  clonesCountTotal: i65,
  particlesToScroll: r66
}) {
  return t43 === e48 - n72 ? 0 : t43 === 0 ? g32({
    particlesCountWithoutClones: e48 - i65,
    particlesToScroll: r66
  }) - 1 : Math.floor((t43 - n72) / r66);
}
function x26({
  currentParticleIndex: t43,
  particlesToScroll: e48
}) {
  return Math.ceil(t43 / e48);
}
function M30({
  currentParticleIndex: t43,
  particlesCount: e48,
  clonesCountHead: n72,
  clonesCountTotal: i65,
  infinite: r66,
  particlesToScroll: u72
}) {
  return r66 ? a36({
    currentParticleIndex: t43,
    particlesCount: e48,
    clonesCountHead: n72,
    clonesCountTotal: i65,
    particlesToScroll: u72
  }) : x26({
    currentParticleIndex: t43,
    particlesToScroll: u72
  });
}
function g32({
  particlesCountWithoutClones: t43,
  particlesToScroll: e48
}) {
  return Math.ceil(t43 / e48);
}
function d41({
  particlesCountWithoutClones: t43,
  particlesToScroll: e48,
  particlesToShow: n72
}) {
  const i65 = m45({
    particlesCountWithoutClones: t43,
    particlesToScroll: e48,
    particlesToShow: n72
  });
  return Math.ceil(t43 / e48) - i65;
}
function h40({
  infinite: t43,
  particlesCountWithoutClones: e48,
  particlesToScroll: n72,
  particlesToShow: i65
}) {
  return t43 ? g32({
    particlesCountWithoutClones: e48,
    particlesToScroll: n72
  }) : d41({
    particlesCountWithoutClones: e48,
    particlesToScroll: n72,
    particlesToShow: i65
  });
}
function I32({
  pageIndex: t43,
  clonesCountHead: e48,
  clonesCountTail: n72,
  particlesToScroll: i65,
  particlesCount: r66
}) {
  return r40(
    0,
    Math.min(e48 + t43 * i65, r66 - n72),
    r66 - 1
  );
}
function y28({
  pageIndex: t43,
  particlesToScroll: e48,
  particlesCount: n72,
  particlesToShow: i65
}) {
  return r40(
    0,
    Math.min(t43 * e48, n72 - i65),
    n72 - 1
  );
}
function _20({
  infinite: t43,
  pageIndex: e48,
  clonesCountHead: n72,
  clonesCountTail: i65,
  particlesToScroll: r66,
  particlesCount: u72,
  particlesToShow: P55
}) {
  return t43 ? I32({
    pageIndex: e48,
    clonesCountHead: n72,
    clonesCountTail: i65,
    particlesToScroll: r66,
    particlesCount: u72
  }) : y28({
    pageIndex: e48,
    particlesToScroll: r66,
    particlesCount: u72,
    particlesToShow: P55
  });
}
function c50({
  particlesContainerChildren: t43,
  particleWidth: e48
}) {
  for (let n72 = 0; n72 < t43.length; n72++)
    t43[n72].style.minWidth = `${e48}px`, t43[n72].style.maxWidth = `${e48}px`;
}
function m45({
  particlesToScroll: t43,
  particlesToShow: e48,
  particlesCountWithoutClones: n72
}) {
  const i65 = t43 - e48;
  let r66 = e48;
  for (; ; ) {
    const u72 = n72 - r66 - i65;
    if (u72 < e48)
      return Math.max(u72, 0);
    r66 += e48 + i65;
  }
}
function z18(t43) {
  return new ResizeObserver((e48) => {
    t43({
      width: e48[0].contentRect.width
    });
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/utils/clones.js
var g33 = Object.defineProperty;
var p29 = Object.defineProperties;
var a37 = Object.getOwnPropertyDescriptors;
var f44 = Object.getOwnPropertySymbols;
var i45 = Object.prototype.hasOwnProperty;
var r42 = Object.prototype.propertyIsEnumerable;
var h41 = (n72, t43, e48) => t43 in n72 ? g33(n72, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : n72[t43] = e48;
var s45 = (n72, t43) => {
  for (var e48 in t43 || (t43 = {}))
    i45.call(t43, e48) && h41(n72, e48, t43[e48]);
  if (f44)
    for (var e48 of f44(t43))
      r42.call(t43, e48) && h41(n72, e48, t43[e48]);
  return n72;
};
var d42 = (n72, t43) => p29(n72, a37(t43));
function N20({
  clonesCountHead: n72,
  clonesCountTail: t43,
  particlesContainerChildren: e48
}) {
  const o71 = [];
  for (let l63 = 0; l63 < t43; l63++)
    o71.push(e48[l63].cloneNode(true));
  const u72 = [], c85 = e48.length;
  for (let l63 = c85 - 1; l63 > c85 - 1 - n72; l63--)
    u72.push(e48[l63].cloneNode(true));
  return {
    clonesToAppend: o71,
    clonesToPrepend: u72
  };
}
function x27({
  particlesContainer: n72,
  clonesToAppend: t43,
  clonesToPrepend: e48
}) {
  for (let o71 = 0; o71 < t43.length; o71++)
    n72.append(t43[o71]);
  for (let o71 = 0; o71 < e48.length; o71++)
    n72.prepend(e48[o71]);
}
function y29({
  infinite: n72,
  particlesToShow: t43,
  partialPageSize: e48
}) {
  const o71 = n72 ? {
    // need to round with ceil as particlesToShow, particlesToShow can be floating (e.g. 1.5, 3.75)
    head: Math.ceil(e48 || t43),
    tail: Math.ceil(t43)
  } : {
    head: 0,
    tail: 0
  };
  return d42(s45({}, o71), {
    total: o71.head + o71.tail
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/utils/object.js
var o55 = (r66, n72, t43) => {
  if (r66 && r66.hasOwnProperty(n72))
    return r66[n72];
  if (t43 === void 0)
    throw new Error(`Required arg "${n72}" was not provided`);
  return t43;
};
var w25 = (r66) => (n72) => {
  r66[n72] && r66[n72]();
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/_commonjsHelpers.js
var e36 = typeof globalThis != "undefined" ? globalThis : typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : {};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/lodash.get/index.js
var $16 = "Expected a function";
var O26 = "__lodash_hash_undefined__";
var j19 = 1 / 0;
var D35 = "[object Function]";
var N21 = "[object GeneratorFunction]";
var F29 = "[object Symbol]";
var H22 = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/;
var G21 = /^\w*$/;
var R30 = /^\./;
var A38 = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;
var M31 = /[\\^$.*+?()[\]{}|]/g;
var K23 = /\\(\\)?/g;
var L27 = /^\[object .+?Constructor\]$/;
var z19 = typeof e36 == "object" && e36 && e36.Object === Object && e36;
var U23 = typeof self == "object" && self && self.Object === Object && self;
var d43 = z19 || U23 || Function("return this")();
function q23(t43, e48) {
  return t43 == null ? void 0 : t43[e48];
}
function J25(t43) {
  var e48 = false;
  if (t43 != null && typeof t43.toString != "function")
    try {
      e48 = !!(t43 + "");
    } catch (r66) {
    }
  return e48;
}
var V14 = Array.prototype;
var X19 = Function.prototype;
var w26 = Object.prototype;
var l36 = d43["__core-js_shared__"];
var m46 = function() {
  var t43 = /[^.]+$/.exec(l36 && l36.keys && l36.keys.IE_PROTO || "");
  return t43 ? "Symbol(src)_1." + t43 : "";
}();
var x28 = X19.toString;
var _21 = w26.hasOwnProperty;
var P30 = w26.toString;
var Y17 = RegExp(
  "^" + x28.call(_21).replace(M31, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
);
var v31 = d43.Symbol;
var B25 = V14.splice;
var Q23 = T23(d43, "Map");
var u40 = T23(Object, "create");
var C38 = v31 ? v31.prototype : void 0;
var S35 = C38 ? C38.toString : void 0;
function a38(t43) {
  var e48 = -1, r66 = t43 ? t43.length : 0;
  for (this.clear(); ++e48 < r66; ) {
    var n72 = t43[e48];
    this.set(n72[0], n72[1]);
  }
}
function W14() {
  this.__data__ = u40 ? u40(null) : {};
}
function Z11(t43) {
  return this.has(t43) && delete this.__data__[t43];
}
function k29(t43) {
  var e48 = this.__data__;
  if (u40) {
    var r66 = e48[t43];
    return r66 === O26 ? void 0 : r66;
  }
  return _21.call(e48, t43) ? e48[t43] : void 0;
}
function tt3(t43) {
  var e48 = this.__data__;
  return u40 ? e48[t43] !== void 0 : _21.call(e48, t43);
}
function et3(t43, e48) {
  var r66 = this.__data__;
  return r66[t43] = u40 && e48 === void 0 ? O26 : e48, this;
}
a38.prototype.clear = W14;
a38.prototype.delete = Z11;
a38.prototype.get = k29;
a38.prototype.has = tt3;
a38.prototype.set = et3;
function i46(t43) {
  var e48 = -1, r66 = t43 ? t43.length : 0;
  for (this.clear(); ++e48 < r66; ) {
    var n72 = t43[e48];
    this.set(n72[0], n72[1]);
  }
}
function rt3() {
  this.__data__ = [];
}
function nt4(t43) {
  var e48 = this.__data__, r66 = h42(e48, t43);
  if (r66 < 0)
    return false;
  var n72 = e48.length - 1;
  return r66 == n72 ? e48.pop() : B25.call(e48, r66, 1), true;
}
function at3(t43) {
  var e48 = this.__data__, r66 = h42(e48, t43);
  return r66 < 0 ? void 0 : e48[r66][1];
}
function ot4(t43) {
  return h42(this.__data__, t43) > -1;
}
function it3(t43, e48) {
  var r66 = this.__data__, n72 = h42(r66, t43);
  return n72 < 0 ? r66.push([t43, e48]) : r66[n72][1] = e48, this;
}
i46.prototype.clear = rt3;
i46.prototype.delete = nt4;
i46.prototype.get = at3;
i46.prototype.has = ot4;
i46.prototype.set = it3;
function o56(t43) {
  var e48 = -1, r66 = t43 ? t43.length : 0;
  for (this.clear(); ++e48 < r66; ) {
    var n72 = t43[e48];
    this.set(n72[0], n72[1]);
  }
}
function ct3() {
  this.__data__ = {
    hash: new a38(),
    map: new (Q23 || i46)(),
    string: new a38()
  };
}
function st4(t43) {
  return p30(this, t43).delete(t43);
}
function ut4(t43) {
  return p30(this, t43).get(t43);
}
function ft3(t43) {
  return p30(this, t43).has(t43);
}
function ht3(t43, e48) {
  return p30(this, t43).set(t43, e48), this;
}
o56.prototype.clear = ct3;
o56.prototype.delete = st4;
o56.prototype.get = ut4;
o56.prototype.has = ft3;
o56.prototype.set = ht3;
function h42(t43, e48) {
  for (var r66 = t43.length; r66--; )
    if (St2(t43[r66][0], e48))
      return r66;
  return -1;
}
function pt2(t43, e48) {
  e48 = yt2(e48, t43) ? [e48] : _t2(e48);
  for (var r66 = 0, n72 = e48.length; t43 != null && r66 < n72; )
    t43 = t43[vt2(e48[r66++])];
  return r66 && r66 == n72 ? t43 : void 0;
}
function lt3(t43) {
  if (!E31(t43) || bt3(t43))
    return false;
  var e48 = Ot2(t43) || J25(t43) ? Y17 : L27;
  return e48.test(Ct2(t43));
}
function dt3(t43) {
  if (typeof t43 == "string")
    return t43;
  if (g34(t43))
    return S35 ? S35.call(t43) : "";
  var e48 = t43 + "";
  return e48 == "0" && 1 / t43 == -j19 ? "-0" : e48;
}
function _t2(t43) {
  return I33(t43) ? t43 : mt2(t43);
}
function p30(t43, e48) {
  var r66 = t43.__data__;
  return gt4(e48) ? r66[typeof e48 == "string" ? "string" : "hash"] : r66.map;
}
function T23(t43, e48) {
  var r66 = q23(t43, e48);
  return lt3(r66) ? r66 : void 0;
}
function yt2(t43, e48) {
  if (I33(t43))
    return false;
  var r66 = typeof t43;
  return r66 == "number" || r66 == "symbol" || r66 == "boolean" || t43 == null || g34(t43) ? true : G21.test(t43) || !H22.test(t43) || e48 != null && t43 in Object(e48);
}
function gt4(t43) {
  var e48 = typeof t43;
  return e48 == "string" || e48 == "number" || e48 == "symbol" || e48 == "boolean" ? t43 !== "__proto__" : t43 === null;
}
function bt3(t43) {
  return !!m46 && m46 in t43;
}
var mt2 = y30(function(t43) {
  t43 = wt2(t43);
  var e48 = [];
  return R30.test(t43) && e48.push(""), t43.replace(A38, function(r66, n72, c85, s60) {
    e48.push(c85 ? s60.replace(K23, "$1") : n72 || r66);
  }), e48;
});
function vt2(t43) {
  if (typeof t43 == "string" || g34(t43))
    return t43;
  var e48 = t43 + "";
  return e48 == "0" && 1 / t43 == -j19 ? "-0" : e48;
}
function Ct2(t43) {
  if (t43 != null) {
    try {
      return x28.call(t43);
    } catch (e48) {
    }
    try {
      return t43 + "";
    } catch (e48) {
    }
  }
  return "";
}
function y30(t43, e48) {
  if (typeof t43 != "function" || e48 && typeof e48 != "function")
    throw new TypeError($16);
  var r66 = function() {
    var n72 = arguments, c85 = e48 ? e48.apply(this, n72) : n72[0], s60 = r66.cache;
    if (s60.has(c85))
      return s60.get(c85);
    var b55 = t43.apply(this, n72);
    return r66.cache = s60.set(c85, b55), b55;
  };
  return r66.cache = new (y30.Cache || o56)(), r66;
}
y30.Cache = o56;
function St2(t43, e48) {
  return t43 === e48 || t43 !== t43 && e48 !== e48;
}
var I33 = Array.isArray;
function Ot2(t43) {
  var e48 = E31(t43) ? P30.call(t43) : "";
  return e48 == D35 || e48 == N21;
}
function E31(t43) {
  var e48 = typeof t43;
  return !!t43 && (e48 == "object" || e48 == "function");
}
function jt2(t43) {
  return !!t43 && typeof t43 == "object";
}
function g34(t43) {
  return typeof t43 == "symbol" || jt2(t43) && P30.call(t43) == F29;
}
function wt2(t43) {
  return t43 == null ? "" : dt3(t43);
}
function xt2(t43, e48, r66) {
  var n72 = t43 == null ? void 0 : pt2(t43, e48);
  return n72 === void 0 ? r66 : n72;
}
var Tt2 = xt2;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/lodash.clonedeep/index.js
var M32 = {};
var pe3 = {
  get exports() {
    return M32;
  },
  set exports(g67) {
    M32 = g67;
  }
};
(function(g67, G31) {
  var Ut2 = 200, Y23 = "__lodash_hash_undefined__", Z18 = 9007199254740991, B42 = "[object Arguments]", $t2 = "[object Array]", Q29 = "[object Boolean]", z28 = "[object Date]", Kt4 = "[object Error]", R43 = "[object Function]", k47 = "[object GeneratorFunction]", A62 = "[object Map]", tt5 = "[object Number]", H39 = "[object Object]", rt7 = "[object Promise]", et4 = "[object RegExp]", S52 = "[object Set]", nt7 = "[object String]", ot7 = "[object Symbol]", L40 = "[object WeakMap]", at6 = "[object ArrayBuffer]", C52 = "[object DataView]", it8 = "[object Float32Array]", ct5 = "[object Float64Array]", st6 = "[object Int8Array]", ut6 = "[object Int16Array]", ft4 = "[object Int32Array]", lt5 = "[object Uint8Array]", ht4 = "[object Uint8ClampedArray]", pt3 = "[object Uint16Array]", dt4 = "[object Uint32Array]", Nt3 = /[\\^$.*+?()[\]{}|]/g, Vt2 = /\w*$/, Wt4 = /^\[object .+?Constructor\]$/, qt4 = /^(?:0|[1-9]\d*)$/, o71 = {};
  o71[B42] = o71[$t2] = o71[at6] = o71[C52] = o71[Q29] = o71[z28] = o71[it8] = o71[ct5] = o71[st6] = o71[ut6] = o71[ft4] = o71[A62] = o71[tt5] = o71[H39] = o71[et4] = o71[S52] = o71[nt7] = o71[ot7] = o71[lt5] = o71[ht4] = o71[pt3] = o71[dt4] = true, o71[Kt4] = o71[R43] = o71[L40] = false;
  var Jt4 = typeof e36 == "object" && e36 && e36.Object === Object && e36, Xt4 = typeof self == "object" && self && self.Object === Object && self, u72 = Jt4 || Xt4 || Function("return this")(), gt6 = G31 && !G31.nodeType && G31, _t3 = gt6 && true && g67 && !g67.nodeType && g67, Yt3 = _t3 && _t3.exports === gt6;
  function Zt3(t43, r66) {
    return t43.set(r66[0], r66[1]), t43;
  }
  function Qt5(t43, r66) {
    return t43.add(r66), t43;
  }
  function zt5(t43, r66) {
    for (var e48 = -1, n72 = t43 ? t43.length : 0; ++e48 < n72 && r66(t43[e48], e48, t43) !== false; )
      ;
    return t43;
  }
  function kt3(t43, r66) {
    for (var e48 = -1, n72 = r66.length, a62 = t43.length; ++e48 < n72; )
      t43[a62 + e48] = r66[e48];
    return t43;
  }
  function bt4(t43, r66, e48, n72) {
    var a62 = -1, i65 = t43 ? t43.length : 0;
    for (n72 && i65 && (e48 = t43[++a62]); ++a62 < i65; )
      e48 = r66(e48, t43[a62], a62, t43);
    return e48;
  }
  function tr2(t43, r66) {
    for (var e48 = -1, n72 = Array(t43); ++e48 < t43; )
      n72[e48] = r66(e48);
    return n72;
  }
  function rr3(t43, r66) {
    return t43 == null ? void 0 : t43[r66];
  }
  function yt3(t43) {
    var r66 = false;
    if (t43 != null && typeof t43.toString != "function")
      try {
        r66 = !!(t43 + "");
      } catch (e48) {
      }
    return r66;
  }
  function wt3(t43) {
    var r66 = -1, e48 = Array(t43.size);
    return t43.forEach(function(n72, a62) {
      e48[++r66] = [a62, n72];
    }), e48;
  }
  function D52(t43, r66) {
    return function(e48) {
      return t43(r66(e48));
    };
  }
  function vt3(t43) {
    var r66 = -1, e48 = Array(t43.size);
    return t43.forEach(function(n72) {
      e48[++r66] = n72;
    }), e48;
  }
  var er2 = Array.prototype, nr2 = Function.prototype, O40 = Object.prototype, F45 = u72["__core-js_shared__"], Tt3 = function() {
    var t43 = /[^.]+$/.exec(F45 && F45.keys && F45.keys.IE_PROTO || "");
    return t43 ? "Symbol(src)_1." + t43 : "";
  }(), At2 = nr2.toString, l63 = O40.hasOwnProperty, x49 = O40.toString, or = RegExp(
    "^" + At2.call(l63).replace(Nt3, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
  ), St3 = Yt3 ? u72.Buffer : void 0, Ct4 = u72.Symbol, Ot4 = u72.Uint8Array, ar4 = D52(Object.getPrototypeOf, Object), ir2 = Object.create, cr = O40.propertyIsEnumerable, sr = er2.splice, xt3 = Object.getOwnPropertySymbols, ur3 = St3 ? St3.isBuffer : void 0, fr2 = D52(Object.keys, Object), U33 = y51(u72, "DataView"), v58 = y51(u72, "Map"), $23 = y51(u72, "Promise"), K32 = y51(u72, "Set"), N33 = y51(u72, "WeakMap"), T38 = y51(Object, "create"), lr3 = d73(U33), hr3 = d73(v58), pr2 = d73($23), dr2 = d73(K32), gr2 = d73(N33), mt3 = Ct4 ? Ct4.prototype : void 0, jt3 = mt3 ? mt3.valueOf : void 0;
  function h66(t43) {
    var r66 = -1, e48 = t43 ? t43.length : 0;
    for (this.clear(); ++r66 < e48; ) {
      var n72 = t43[r66];
      this.set(n72[0], n72[1]);
    }
  }
  function _r2() {
    this.__data__ = T38 ? T38(null) : {};
  }
  function br4(t43) {
    return this.has(t43) && delete this.__data__[t43];
  }
  function yr2(t43) {
    var r66 = this.__data__;
    if (T38) {
      var e48 = r66[t43];
      return e48 === Y23 ? void 0 : e48;
    }
    return l63.call(r66, t43) ? r66[t43] : void 0;
  }
  function wr3(t43) {
    var r66 = this.__data__;
    return T38 ? r66[t43] !== void 0 : l63.call(r66, t43);
  }
  function vr2(t43, r66) {
    var e48 = this.__data__;
    return e48[t43] = T38 && r66 === void 0 ? Y23 : r66, this;
  }
  h66.prototype.clear = _r2, h66.prototype.delete = br4, h66.prototype.get = yr2, h66.prototype.has = wr3, h66.prototype.set = vr2;
  function f80(t43) {
    var r66 = -1, e48 = t43 ? t43.length : 0;
    for (this.clear(); ++r66 < e48; ) {
      var n72 = t43[r66];
      this.set(n72[0], n72[1]);
    }
  }
  function Tr3() {
    this.__data__ = [];
  }
  function Ar(t43) {
    var r66 = this.__data__, e48 = m66(r66, t43);
    if (e48 < 0)
      return false;
    var n72 = r66.length - 1;
    return e48 == n72 ? r66.pop() : sr.call(r66, e48, 1), true;
  }
  function Sr2(t43) {
    var r66 = this.__data__, e48 = m66(r66, t43);
    return e48 < 0 ? void 0 : r66[e48][1];
  }
  function Cr2(t43) {
    return m66(this.__data__, t43) > -1;
  }
  function Or2(t43, r66) {
    var e48 = this.__data__, n72 = m66(e48, t43);
    return n72 < 0 ? e48.push([t43, r66]) : e48[n72][1] = r66, this;
  }
  f80.prototype.clear = Tr3, f80.prototype.delete = Ar, f80.prototype.get = Sr2, f80.prototype.has = Cr2, f80.prototype.set = Or2;
  function _32(t43) {
    var r66 = -1, e48 = t43 ? t43.length : 0;
    for (this.clear(); ++r66 < e48; ) {
      var n72 = t43[r66];
      this.set(n72[0], n72[1]);
    }
  }
  function xr2() {
    this.__data__ = {
      hash: new h66(),
      map: new (v58 || f80)(),
      string: new h66()
    };
  }
  function mr2(t43) {
    return j37(this, t43).delete(t43);
  }
  function jr2(t43) {
    return j37(this, t43).get(t43);
  }
  function Er2(t43) {
    return j37(this, t43).has(t43);
  }
  function Ir2(t43, r66) {
    return j37(this, t43).set(t43, r66), this;
  }
  _32.prototype.clear = xr2, _32.prototype.delete = mr2, _32.prototype.get = jr2, _32.prototype.has = Er2, _32.prototype.set = Ir2;
  function b55(t43) {
    this.__data__ = new f80(t43);
  }
  function Pr2() {
    this.__data__ = new f80();
  }
  function Mr2(t43) {
    return this.__data__.delete(t43);
  }
  function Gr2(t43) {
    return this.__data__.get(t43);
  }
  function Br(t43) {
    return this.__data__.has(t43);
  }
  function Rr2(t43, r66) {
    var e48 = this.__data__;
    if (e48 instanceof f80) {
      var n72 = e48.__data__;
      if (!v58 || n72.length < Ut2 - 1)
        return n72.push([t43, r66]), this;
      e48 = this.__data__ = new _32(n72);
    }
    return e48.set(t43, r66), this;
  }
  b55.prototype.clear = Pr2, b55.prototype.delete = Mr2, b55.prototype.get = Gr2, b55.prototype.has = Br, b55.prototype.set = Rr2;
  function Hr2(t43, r66) {
    var e48 = q38(t43) || ie10(t43) ? tr2(t43.length, String) : [], n72 = e48.length, a62 = !!n72;
    for (var i65 in t43)
      (r66 || l63.call(t43, i65)) && !(a62 && (i65 == "length" || ee10(i65, n72))) && e48.push(i65);
    return e48;
  }
  function Et4(t43, r66, e48) {
    var n72 = t43[r66];
    (!(l63.call(t43, r66) && Gt4(n72, e48)) || e48 === void 0 && !(r66 in t43)) && (t43[r66] = e48);
  }
  function m66(t43, r66) {
    for (var e48 = t43.length; e48--; )
      if (Gt4(t43[e48][0], r66))
        return e48;
    return -1;
  }
  function Lr4(t43, r66) {
    return t43 && It2(r66, J33(r66), t43);
  }
  function V25(t43, r66, e48, n72, a62, i65, s60) {
    var c85;
    if (n72 && (c85 = i65 ? n72(t43, a62, i65, s60) : n72(t43)), c85 !== void 0)
      return c85;
    if (!E53(t43))
      return t43;
    var Ht4 = q38(t43);
    if (Ht4) {
      if (c85 = kr2(t43), !r66)
        return Zr2(t43, c85);
    } else {
      var w49 = p66(t43), Lt4 = w49 == R43 || w49 == k47;
      if (se6(t43))
        return Nr2(t43, r66);
      if (w49 == H39 || w49 == B42 || Lt4 && !i65) {
        if (yt3(t43))
          return i65 ? t43 : {};
        if (c85 = te10(Lt4 ? {} : t43), !r66)
          return Qr2(t43, Lr4(c85, t43));
      } else {
        if (!o71[w49])
          return i65 ? t43 : {};
        c85 = re7(t43, w49, V25, r66);
      }
    }
    s60 || (s60 = new b55());
    var Dt3 = s60.get(t43);
    if (Dt3)
      return Dt3;
    if (s60.set(t43, c85), !Ht4)
      var Ft3 = e48 ? zr4(t43) : J33(t43);
    return zt5(Ft3 || t43, function(X24, I49) {
      Ft3 && (I49 = X24, X24 = t43[I49]), Et4(c85, I49, V25(X24, r66, e48, n72, I49, t43, s60));
    }), c85;
  }
  function Dr2(t43) {
    return E53(t43) ? ir2(t43) : {};
  }
  function Fr3(t43, r66, e48) {
    var n72 = r66(t43);
    return q38(t43) ? n72 : kt3(n72, e48(t43));
  }
  function Ur2(t43) {
    return x49.call(t43);
  }
  function $r3(t43) {
    if (!E53(t43) || oe11(t43))
      return false;
    var r66 = Rt3(t43) || yt3(t43) ? or : Wt4;
    return r66.test(d73(t43));
  }
  function Kr2(t43) {
    if (!Mt2(t43))
      return fr2(t43);
    var r66 = [];
    for (var e48 in Object(t43))
      l63.call(t43, e48) && e48 != "constructor" && r66.push(e48);
    return r66;
  }
  function Nr2(t43, r66) {
    if (r66)
      return t43.slice();
    var e48 = new t43.constructor(t43.length);
    return t43.copy(e48), e48;
  }
  function W25(t43) {
    var r66 = new t43.constructor(t43.byteLength);
    return new Ot4(r66).set(new Ot4(t43)), r66;
  }
  function Vr2(t43, r66) {
    var e48 = r66 ? W25(t43.buffer) : t43.buffer;
    return new t43.constructor(e48, t43.byteOffset, t43.byteLength);
  }
  function Wr3(t43, r66, e48) {
    var n72 = r66 ? e48(wt3(t43), true) : wt3(t43);
    return bt4(n72, Zt3, new t43.constructor());
  }
  function qr3(t43) {
    var r66 = new t43.constructor(t43.source, Vt2.exec(t43));
    return r66.lastIndex = t43.lastIndex, r66;
  }
  function Jr3(t43, r66, e48) {
    var n72 = r66 ? e48(vt3(t43), true) : vt3(t43);
    return bt4(n72, Qt5, new t43.constructor());
  }
  function Xr2(t43) {
    return jt3 ? Object(jt3.call(t43)) : {};
  }
  function Yr3(t43, r66) {
    var e48 = r66 ? W25(t43.buffer) : t43.buffer;
    return new t43.constructor(e48, t43.byteOffset, t43.length);
  }
  function Zr2(t43, r66) {
    var e48 = -1, n72 = t43.length;
    for (r66 || (r66 = Array(n72)); ++e48 < n72; )
      r66[e48] = t43[e48];
    return r66;
  }
  function It2(t43, r66, e48, n72) {
    e48 || (e48 = {});
    for (var a62 = -1, i65 = r66.length; ++a62 < i65; ) {
      var s60 = r66[a62], c85 = n72 ? n72(e48[s60], t43[s60], s60, e48, t43) : void 0;
      Et4(e48, s60, c85 === void 0 ? t43[s60] : c85);
    }
    return e48;
  }
  function Qr2(t43, r66) {
    return It2(t43, Pt2(t43), r66);
  }
  function zr4(t43) {
    return Fr3(t43, J33, Pt2);
  }
  function j37(t43, r66) {
    var e48 = t43.__data__;
    return ne14(r66) ? e48[typeof r66 == "string" ? "string" : "hash"] : e48.map;
  }
  function y51(t43, r66) {
    var e48 = rr3(t43, r66);
    return $r3(e48) ? e48 : void 0;
  }
  var Pt2 = xt3 ? D52(xt3, Object) : le5, p66 = Ur2;
  (U33 && p66(new U33(new ArrayBuffer(1))) != C52 || v58 && p66(new v58()) != A62 || $23 && p66($23.resolve()) != rt7 || K32 && p66(new K32()) != S52 || N33 && p66(new N33()) != L40) && (p66 = function(t43) {
    var r66 = x49.call(t43), e48 = r66 == H39 ? t43.constructor : void 0, n72 = e48 ? d73(e48) : void 0;
    if (n72)
      switch (n72) {
        case lr3:
          return C52;
        case hr3:
          return A62;
        case pr2:
          return rt7;
        case dr2:
          return S52;
        case gr2:
          return L40;
      }
    return r66;
  });
  function kr2(t43) {
    var r66 = t43.length, e48 = t43.constructor(r66);
    return r66 && typeof t43[0] == "string" && l63.call(t43, "index") && (e48.index = t43.index, e48.input = t43.input), e48;
  }
  function te10(t43) {
    return typeof t43.constructor == "function" && !Mt2(t43) ? Dr2(ar4(t43)) : {};
  }
  function re7(t43, r66, e48, n72) {
    var a62 = t43.constructor;
    switch (r66) {
      case at6:
        return W25(t43);
      case Q29:
      case z28:
        return new a62(+t43);
      case C52:
        return Vr2(t43, n72);
      case it8:
      case ct5:
      case st6:
      case ut6:
      case ft4:
      case lt5:
      case ht4:
      case pt3:
      case dt4:
        return Yr3(t43, n72);
      case A62:
        return Wr3(t43, n72, e48);
      case tt5:
      case nt7:
        return new a62(t43);
      case et4:
        return qr3(t43);
      case S52:
        return Jr3(t43, n72, e48);
      case ot7:
        return Xr2(t43);
    }
  }
  function ee10(t43, r66) {
    return r66 = r66 == null ? Z18 : r66, !!r66 && (typeof t43 == "number" || qt4.test(t43)) && t43 > -1 && t43 % 1 == 0 && t43 < r66;
  }
  function ne14(t43) {
    var r66 = typeof t43;
    return r66 == "string" || r66 == "number" || r66 == "symbol" || r66 == "boolean" ? t43 !== "__proto__" : t43 === null;
  }
  function oe11(t43) {
    return !!Tt3 && Tt3 in t43;
  }
  function Mt2(t43) {
    var r66 = t43 && t43.constructor, e48 = typeof r66 == "function" && r66.prototype || O40;
    return t43 === e48;
  }
  function d73(t43) {
    if (t43 != null) {
      try {
        return At2.call(t43);
      } catch (r66) {
      }
      try {
        return t43 + "";
      } catch (r66) {
      }
    }
    return "";
  }
  function ae7(t43) {
    return V25(t43, true, true);
  }
  function Gt4(t43, r66) {
    return t43 === r66 || t43 !== t43 && r66 !== r66;
  }
  function ie10(t43) {
    return ce6(t43) && l63.call(t43, "callee") && (!cr.call(t43, "callee") || x49.call(t43) == B42);
  }
  var q38 = Array.isArray;
  function Bt4(t43) {
    return t43 != null && ue8(t43.length) && !Rt3(t43);
  }
  function ce6(t43) {
    return fe10(t43) && Bt4(t43);
  }
  var se6 = ur3 || he6;
  function Rt3(t43) {
    var r66 = E53(t43) ? x49.call(t43) : "";
    return r66 == R43 || r66 == k47;
  }
  function ue8(t43) {
    return typeof t43 == "number" && t43 > -1 && t43 % 1 == 0 && t43 <= Z18;
  }
  function E53(t43) {
    var r66 = typeof t43;
    return !!t43 && (r66 == "object" || r66 == "function");
  }
  function fe10(t43) {
    return !!t43 && typeof t43 == "object";
  }
  function J33(t43) {
    return Bt4(t43) ? Hr2(t43) : Kr2(t43);
  }
  function le5() {
    return [];
  }
  function he6() {
    return false;
  }
  g67.exports = ae7;
})(pe3, M32);
var ge4 = M32;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/lodash.isequal/index.js
var Y18 = {};
var bn = {
  get exports() {
    return Y18;
  },
  set exports(E53) {
    Y18 = E53;
  }
};
(function(E53, Z18) {
  var Kt4 = 200, Q29 = "__lodash_hash_undefined__", M48 = 1, ut6 = 2, ot7 = 9007199254740991, G31 = "[object Arguments]", V25 = "[object Array]", $t2 = "[object AsyncFunction]", lt5 = "[object Boolean]", ct5 = "[object Date]", pt3 = "[object Error]", gt6 = "[object Function]", qt4 = "[object GeneratorFunction]", R43 = "[object Map]", dt4 = "[object Number]", Jt4 = "[object Null]", I49 = "[object Object]", _t3 = "[object Promise]", Wt4 = "[object Proxy]", ht4 = "[object RegExp]", U33 = "[object Set]", yt3 = "[object String]", Xt4 = "[object Symbol]", Yt3 = "[object Undefined]", k47 = "[object WeakMap]", vt3 = "[object ArrayBuffer]", B42 = "[object DataView]", Zt3 = "[object Float32Array]", Qt5 = "[object Float64Array]", Vt2 = "[object Int8Array]", kt3 = "[object Int16Array]", te10 = "[object Int32Array]", ee10 = "[object Uint8Array]", ne14 = "[object Uint8ClampedArray]", re7 = "[object Uint16Array]", ae7 = "[object Uint32Array]", ie10 = /[\\^$.*+?()[\]{}|]/g, se6 = /^\[object .+?Constructor\]$/, fe10 = /^(?:0|[1-9]\d*)$/, i65 = {};
  i65[Zt3] = i65[Qt5] = i65[Vt2] = i65[kt3] = i65[te10] = i65[ee10] = i65[ne14] = i65[re7] = i65[ae7] = true, i65[G31] = i65[V25] = i65[vt3] = i65[lt5] = i65[B42] = i65[ct5] = i65[pt3] = i65[gt6] = i65[R43] = i65[dt4] = i65[I49] = i65[ht4] = i65[U33] = i65[yt3] = i65[k47] = false;
  var Tt3 = typeof e36 == "object" && e36 && e36.Object === Object && e36, ue8 = typeof self == "object" && self && self.Object === Object && self, y51 = Tt3 || ue8 || Function("return this")(), bt4 = Z18 && !Z18.nodeType && Z18, At2 = bt4 && true && E53 && !E53.nodeType && E53, wt3 = At2 && At2.exports === bt4, tt5 = wt3 && Tt3.process, St3 = function() {
    try {
      return tt5 && tt5.binding && tt5.binding("util");
    } catch (t43) {
    }
  }(), Ot4 = St3 && St3.isTypedArray;
  function oe11(t43, e48) {
    for (var n72 = -1, r66 = t43 == null ? 0 : t43.length, s60 = 0, a62 = []; ++n72 < r66; ) {
      var u72 = t43[n72];
      e48(u72, n72, t43) && (a62[s60++] = u72);
    }
    return a62;
  }
  function le5(t43, e48) {
    for (var n72 = -1, r66 = e48.length, s60 = t43.length; ++n72 < r66; )
      t43[s60 + n72] = e48[n72];
    return t43;
  }
  function ce6(t43, e48) {
    for (var n72 = -1, r66 = t43 == null ? 0 : t43.length; ++n72 < r66; )
      if (e48(t43[n72], n72, t43))
        return true;
    return false;
  }
  function pe7(t43, e48) {
    for (var n72 = -1, r66 = Array(t43); ++n72 < t43; )
      r66[n72] = e48(n72);
    return r66;
  }
  function ge10(t43) {
    return function(e48) {
      return t43(e48);
    };
  }
  function de9(t43, e48) {
    return t43.has(e48);
  }
  function _e8(t43, e48) {
    return t43 == null ? void 0 : t43[e48];
  }
  function he6(t43) {
    var e48 = -1, n72 = Array(t43.size);
    return t43.forEach(function(r66, s60) {
      n72[++e48] = [s60, r66];
    }), n72;
  }
  function ye5(t43, e48) {
    return function(n72) {
      return t43(e48(n72));
    };
  }
  function ve5(t43) {
    var e48 = -1, n72 = Array(t43.size);
    return t43.forEach(function(r66) {
      n72[++e48] = r66;
    }), n72;
  }
  var Te5 = Array.prototype, be6 = Function.prototype, H39 = Object.prototype, et4 = y51["__core-js_shared__"], xt3 = be6.toString, h66 = H39.hasOwnProperty, Ct4 = function() {
    var t43 = /[^.]+$/.exec(et4 && et4.keys && et4.keys.IE_PROTO || "");
    return t43 ? "Symbol(src)_1." + t43 : "";
  }(), mt3 = H39.toString, Ae5 = RegExp(
    "^" + xt3.call(h66).replace(ie10, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
  ), Et4 = wt3 ? y51.Buffer : void 0, F45 = y51.Symbol, It2 = y51.Uint8Array, Pt2 = H39.propertyIsEnumerable, we4 = Te5.splice, S52 = F45 ? F45.toStringTag : void 0, Lt4 = Object.getOwnPropertySymbols, Se = Et4 ? Et4.isBuffer : void 0, Oe2 = ye5(Object.keys, Object), nt7 = P55(y51, "DataView"), L40 = P55(y51, "Map"), rt7 = P55(y51, "Promise"), at6 = P55(y51, "Set"), it8 = P55(y51, "WeakMap"), j37 = P55(Object, "create"), xe3 = C52(nt7), Ce4 = C52(L40), me7 = C52(rt7), Ee5 = C52(at6), Ie4 = C52(it8), jt3 = F45 ? F45.prototype : void 0, st6 = jt3 ? jt3.valueOf : void 0;
  function O40(t43) {
    var e48 = -1, n72 = t43 == null ? 0 : t43.length;
    for (this.clear(); ++e48 < n72; ) {
      var r66 = t43[e48];
      this.set(r66[0], r66[1]);
    }
  }
  function Pe4() {
    this.__data__ = j37 ? j37(null) : {}, this.size = 0;
  }
  function Le3(t43) {
    var e48 = this.has(t43) && delete this.__data__[t43];
    return this.size -= e48 ? 1 : 0, e48;
  }
  function je3(t43) {
    var e48 = this.__data__;
    if (j37) {
      var n72 = e48[t43];
      return n72 === Q29 ? void 0 : n72;
    }
    return h66.call(e48, t43) ? e48[t43] : void 0;
  }
  function ze6(t43) {
    var e48 = this.__data__;
    return j37 ? e48[t43] !== void 0 : h66.call(e48, t43);
  }
  function De7(t43, e48) {
    var n72 = this.__data__;
    return this.size += this.has(t43) ? 0 : 1, n72[t43] = j37 && e48 === void 0 ? Q29 : e48, this;
  }
  O40.prototype.clear = Pe4, O40.prototype.delete = Le3, O40.prototype.get = je3, O40.prototype.has = ze6, O40.prototype.set = De7;
  function v58(t43) {
    var e48 = -1, n72 = t43 == null ? 0 : t43.length;
    for (this.clear(); ++e48 < n72; ) {
      var r66 = t43[e48];
      this.set(r66[0], r66[1]);
    }
  }
  function Me3() {
    this.__data__ = [], this.size = 0;
  }
  function Ge2(t43) {
    var e48 = this.__data__, n72 = K32(e48, t43);
    if (n72 < 0)
      return false;
    var r66 = e48.length - 1;
    return n72 == r66 ? e48.pop() : we4.call(e48, n72, 1), --this.size, true;
  }
  function Re4(t43) {
    var e48 = this.__data__, n72 = K32(e48, t43);
    return n72 < 0 ? void 0 : e48[n72][1];
  }
  function Ue2(t43) {
    return K32(this.__data__, t43) > -1;
  }
  function Be(t43, e48) {
    var n72 = this.__data__, r66 = K32(n72, t43);
    return r66 < 0 ? (++this.size, n72.push([t43, e48])) : n72[r66][1] = e48, this;
  }
  v58.prototype.clear = Me3, v58.prototype.delete = Ge2, v58.prototype.get = Re4, v58.prototype.has = Ue2, v58.prototype.set = Be;
  function x49(t43) {
    var e48 = -1, n72 = t43 == null ? 0 : t43.length;
    for (this.clear(); ++e48 < n72; ) {
      var r66 = t43[e48];
      this.set(r66[0], r66[1]);
    }
  }
  function He3() {
    this.size = 0, this.__data__ = {
      hash: new O40(),
      map: new (L40 || v58)(),
      string: new O40()
    };
  }
  function Fe2(t43) {
    var e48 = $23(this, t43).delete(t43);
    return this.size -= e48 ? 1 : 0, e48;
  }
  function Ne4(t43) {
    return $23(this, t43).get(t43);
  }
  function Ke(t43) {
    return $23(this, t43).has(t43);
  }
  function $e3(t43, e48) {
    var n72 = $23(this, t43), r66 = n72.size;
    return n72.set(t43, e48), this.size += n72.size == r66 ? 0 : 1, this;
  }
  x49.prototype.clear = He3, x49.prototype.delete = Fe2, x49.prototype.get = Ne4, x49.prototype.has = Ke, x49.prototype.set = $e3;
  function N33(t43) {
    var e48 = -1, n72 = t43 == null ? 0 : t43.length;
    for (this.__data__ = new x49(); ++e48 < n72; )
      this.add(t43[e48]);
  }
  function qe6(t43) {
    return this.__data__.set(t43, Q29), this;
  }
  function Je(t43) {
    return this.__data__.has(t43);
  }
  N33.prototype.add = N33.prototype.push = qe6, N33.prototype.has = Je;
  function b55(t43) {
    var e48 = this.__data__ = new v58(t43);
    this.size = e48.size;
  }
  function We3() {
    this.__data__ = new v58(), this.size = 0;
  }
  function Xe(t43) {
    var e48 = this.__data__, n72 = e48.delete(t43);
    return this.size = e48.size, n72;
  }
  function Ye2(t43) {
    return this.__data__.get(t43);
  }
  function Ze2(t43) {
    return this.__data__.has(t43);
  }
  function Qe4(t43, e48) {
    var n72 = this.__data__;
    if (n72 instanceof v58) {
      var r66 = n72.__data__;
      if (!L40 || r66.length < Kt4 - 1)
        return r66.push([t43, e48]), this.size = ++n72.size, this;
      n72 = this.__data__ = new x49(r66);
    }
    return n72.set(t43, e48), this.size = n72.size, this;
  }
  b55.prototype.clear = We3, b55.prototype.delete = Xe, b55.prototype.get = Ye2, b55.prototype.has = Ze2, b55.prototype.set = Qe4;
  function Ve2(t43, e48) {
    var n72 = q38(t43), r66 = !n72 && dn(t43), s60 = !n72 && !r66 && ft4(t43), a62 = !n72 && !r66 && !s60 && Ft3(t43), u72 = n72 || r66 || s60 || a62, o71 = u72 ? pe7(t43.length, String) : [], l63 = o71.length;
    for (var f80 in t43)
      (e48 || h66.call(t43, f80)) && !(u72 && // Safari 9 has enumerable `arguments.length` in strict mode.
      (f80 == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
      s60 && (f80 == "offset" || f80 == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
      a62 && (f80 == "buffer" || f80 == "byteLength" || f80 == "byteOffset") || // Skip index properties.
      on(f80, l63))) && o71.push(f80);
    return o71;
  }
  function K32(t43, e48) {
    for (var n72 = t43.length; n72--; )
      if (Rt3(t43[n72][0], e48))
        return n72;
    return -1;
  }
  function ke5(t43, e48, n72) {
    var r66 = e48(t43);
    return q38(t43) ? r66 : le5(r66, n72(t43));
  }
  function z28(t43) {
    return t43 == null ? t43 === void 0 ? Yt3 : Jt4 : S52 && S52 in Object(t43) ? fn(t43) : gn(t43);
  }
  function zt5(t43) {
    return D52(t43) && z28(t43) == G31;
  }
  function Dt3(t43, e48, n72, r66, s60) {
    return t43 === e48 ? true : t43 == null || e48 == null || !D52(t43) && !D52(e48) ? t43 !== t43 && e48 !== e48 : tn(t43, e48, n72, r66, Dt3, s60);
  }
  function tn(t43, e48, n72, r66, s60, a62) {
    var u72 = q38(t43), o71 = q38(e48), l63 = u72 ? V25 : A62(t43), f80 = o71 ? V25 : A62(e48);
    l63 = l63 == G31 ? I49 : l63, f80 = f80 == G31 ? I49 : f80;
    var p66 = l63 == I49, _32 = f80 == I49, c85 = l63 == f80;
    if (c85 && ft4(t43)) {
      if (!ft4(e48))
        return false;
      u72 = true, p66 = false;
    }
    if (c85 && !p66)
      return a62 || (a62 = new b55()), u72 || Ft3(t43) ? Mt2(t43, e48, n72, r66, s60, a62) : an(t43, e48, l63, n72, r66, s60, a62);
    if (!(n72 & M48)) {
      var g67 = p66 && h66.call(t43, "__wrapped__"), d73 = _32 && h66.call(e48, "__wrapped__");
      if (g67 || d73) {
        var w49 = g67 ? t43.value() : t43, T38 = d73 ? e48.value() : e48;
        return a62 || (a62 = new b55()), s60(w49, T38, n72, r66, a62);
      }
    }
    return c85 ? (a62 || (a62 = new b55()), sn(t43, e48, n72, r66, s60, a62)) : false;
  }
  function en(t43) {
    if (!Ht4(t43) || cn(t43))
      return false;
    var e48 = Ut2(t43) ? Ae5 : se6;
    return e48.test(C52(t43));
  }
  function nn(t43) {
    return D52(t43) && Bt4(t43.length) && !!i65[z28(t43)];
  }
  function rn(t43) {
    if (!pn(t43))
      return Oe2(t43);
    var e48 = [];
    for (var n72 in Object(t43))
      h66.call(t43, n72) && n72 != "constructor" && e48.push(n72);
    return e48;
  }
  function Mt2(t43, e48, n72, r66, s60, a62) {
    var u72 = n72 & M48, o71 = t43.length, l63 = e48.length;
    if (o71 != l63 && !(u72 && l63 > o71))
      return false;
    var f80 = a62.get(t43);
    if (f80 && a62.get(e48))
      return f80 == e48;
    var p66 = -1, _32 = true, c85 = n72 & ut6 ? new N33() : void 0;
    for (a62.set(t43, e48), a62.set(e48, t43); ++p66 < o71; ) {
      var g67 = t43[p66], d73 = e48[p66];
      if (r66)
        var w49 = u72 ? r66(d73, g67, p66, e48, t43, a62) : r66(g67, d73, p66, t43, e48, a62);
      if (w49 !== void 0) {
        if (w49)
          continue;
        _32 = false;
        break;
      }
      if (c85) {
        if (!ce6(e48, function(T38, m66) {
          if (!de9(c85, m66) && (g67 === T38 || s60(g67, T38, n72, r66, a62)))
            return c85.push(m66);
        })) {
          _32 = false;
          break;
        }
      } else if (!(g67 === d73 || s60(g67, d73, n72, r66, a62))) {
        _32 = false;
        break;
      }
    }
    return a62.delete(t43), a62.delete(e48), _32;
  }
  function an(t43, e48, n72, r66, s60, a62, u72) {
    switch (n72) {
      case B42:
        if (t43.byteLength != e48.byteLength || t43.byteOffset != e48.byteOffset)
          return false;
        t43 = t43.buffer, e48 = e48.buffer;
      case vt3:
        return !(t43.byteLength != e48.byteLength || !a62(new It2(t43), new It2(e48)));
      case lt5:
      case ct5:
      case dt4:
        return Rt3(+t43, +e48);
      case pt3:
        return t43.name == e48.name && t43.message == e48.message;
      case ht4:
      case yt3:
        return t43 == e48 + "";
      case R43:
        var o71 = he6;
      case U33:
        var l63 = r66 & M48;
        if (o71 || (o71 = ve5), t43.size != e48.size && !l63)
          return false;
        var f80 = u72.get(t43);
        if (f80)
          return f80 == e48;
        r66 |= ut6, u72.set(t43, e48);
        var p66 = Mt2(o71(t43), o71(e48), r66, s60, a62, u72);
        return u72.delete(t43), p66;
      case Xt4:
        if (st6)
          return st6.call(t43) == st6.call(e48);
    }
    return false;
  }
  function sn(t43, e48, n72, r66, s60, a62) {
    var u72 = n72 & M48, o71 = Gt4(t43), l63 = o71.length, f80 = Gt4(e48), p66 = f80.length;
    if (l63 != p66 && !u72)
      return false;
    for (var _32 = l63; _32--; ) {
      var c85 = o71[_32];
      if (!(u72 ? c85 in e48 : h66.call(e48, c85)))
        return false;
    }
    var g67 = a62.get(t43);
    if (g67 && a62.get(e48))
      return g67 == e48;
    var d73 = true;
    a62.set(t43, e48), a62.set(e48, t43);
    for (var w49 = u72; ++_32 < l63; ) {
      c85 = o71[_32];
      var T38 = t43[c85], m66 = e48[c85];
      if (r66)
        var Nt3 = u72 ? r66(m66, T38, c85, e48, t43, a62) : r66(T38, m66, c85, t43, e48, a62);
      if (!(Nt3 === void 0 ? T38 === m66 || s60(T38, m66, n72, r66, a62) : Nt3)) {
        d73 = false;
        break;
      }
      w49 || (w49 = c85 == "constructor");
    }
    if (d73 && !w49) {
      var J33 = t43.constructor, W25 = e48.constructor;
      J33 != W25 && "constructor" in t43 && "constructor" in e48 && !(typeof J33 == "function" && J33 instanceof J33 && typeof W25 == "function" && W25 instanceof W25) && (d73 = false);
    }
    return a62.delete(t43), a62.delete(e48), d73;
  }
  function Gt4(t43) {
    return ke5(t43, yn, un);
  }
  function $23(t43, e48) {
    var n72 = t43.__data__;
    return ln(e48) ? n72[typeof e48 == "string" ? "string" : "hash"] : n72.map;
  }
  function P55(t43, e48) {
    var n72 = _e8(t43, e48);
    return en(n72) ? n72 : void 0;
  }
  function fn(t43) {
    var e48 = h66.call(t43, S52), n72 = t43[S52];
    try {
      t43[S52] = void 0;
      var r66 = true;
    } catch (a62) {
    }
    var s60 = mt3.call(t43);
    return r66 && (e48 ? t43[S52] = n72 : delete t43[S52]), s60;
  }
  var un = Lt4 ? function(t43) {
    return t43 == null ? [] : (t43 = Object(t43), oe11(Lt4(t43), function(e48) {
      return Pt2.call(t43, e48);
    }));
  } : vn, A62 = z28;
  (nt7 && A62(new nt7(new ArrayBuffer(1))) != B42 || L40 && A62(new L40()) != R43 || rt7 && A62(rt7.resolve()) != _t3 || at6 && A62(new at6()) != U33 || it8 && A62(new it8()) != k47) && (A62 = function(t43) {
    var e48 = z28(t43), n72 = e48 == I49 ? t43.constructor : void 0, r66 = n72 ? C52(n72) : "";
    if (r66)
      switch (r66) {
        case xe3:
          return B42;
        case Ce4:
          return R43;
        case me7:
          return _t3;
        case Ee5:
          return U33;
        case Ie4:
          return k47;
      }
    return e48;
  });
  function on(t43, e48) {
    return e48 = e48 == null ? ot7 : e48, !!e48 && (typeof t43 == "number" || fe10.test(t43)) && t43 > -1 && t43 % 1 == 0 && t43 < e48;
  }
  function ln(t43) {
    var e48 = typeof t43;
    return e48 == "string" || e48 == "number" || e48 == "symbol" || e48 == "boolean" ? t43 !== "__proto__" : t43 === null;
  }
  function cn(t43) {
    return !!Ct4 && Ct4 in t43;
  }
  function pn(t43) {
    var e48 = t43 && t43.constructor, n72 = typeof e48 == "function" && e48.prototype || H39;
    return t43 === n72;
  }
  function gn(t43) {
    return mt3.call(t43);
  }
  function C52(t43) {
    if (t43 != null) {
      try {
        return xt3.call(t43);
      } catch (e48) {
      }
      try {
        return t43 + "";
      } catch (e48) {
      }
    }
    return "";
  }
  function Rt3(t43, e48) {
    return t43 === e48 || t43 !== t43 && e48 !== e48;
  }
  var dn = zt5(/* @__PURE__ */ function() {
    return arguments;
  }()) ? zt5 : function(t43) {
    return D52(t43) && h66.call(t43, "callee") && !Pt2.call(t43, "callee");
  }, q38 = Array.isArray;
  function _n(t43) {
    return t43 != null && Bt4(t43.length) && !Ut2(t43);
  }
  var ft4 = Se || Tn;
  function hn(t43, e48) {
    return Dt3(t43, e48);
  }
  function Ut2(t43) {
    if (!Ht4(t43))
      return false;
    var e48 = z28(t43);
    return e48 == gt6 || e48 == qt4 || e48 == $t2 || e48 == Wt4;
  }
  function Bt4(t43) {
    return typeof t43 == "number" && t43 > -1 && t43 % 1 == 0 && t43 <= ot7;
  }
  function Ht4(t43) {
    var e48 = typeof t43;
    return t43 != null && (e48 == "object" || e48 == "function");
  }
  function D52(t43) {
    return t43 != null && typeof t43 == "object";
  }
  var Ft3 = Ot4 ? ge10(Ot4) : nn;
  function yn(t43) {
    return _n(t43) ? Ve2(t43) : rn(t43);
  }
  function vn() {
    return [];
  }
  function Tn() {
    return false;
  }
  E53.exports = hn;
})(bn, Y18);
var wn = Y18;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/easy-reactive/src/utils/object.js
var p31 = (e48, t43) => wn(e48, t43);
var c51 = (e48) => Object.keys(e48 || {});
var u41 = (e48, t43) => {
  const r66 = {};
  return e48.forEach((s60) => {
    r66[s60] = t43[s60];
  }), r66;
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/easy-reactive/src/utils/subscription.js
var m47 = () => {
  const e48 = {}, i65 = (s60, t43) => {
    const { watcherName: c85, fn: n72 } = s60, { prop: p66, value: o71 } = t43;
    e48[c85] || (e48[c85] = {
      deps: {},
      fn: n72
    }), e48[c85].deps[p66] = o71;
  };
  return {
    subscribers: e48,
    subscribe(s60, t43) {
      s60 && i65(s60, t43);
    },
    notify(s60, t43) {
      Object.entries(e48).forEach(([c85, { deps: n72, fn: p66 }]) => {
        const o71 = c51(n72);
        if (o71.includes(t43)) {
          const r66 = u41(o71, s60);
          p31(n72, r66) || (e48[c85].deps = r66, p66());
        }
      });
    }
  };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/easy-reactive/src/utils/watcher.js
var a39 = () => {
  let t43 = null;
  return {
    targetWatcher(e48, r66) {
      t43 = {
        watcherName: e48,
        fn: r66
      }, t43.fn(), t43 = null;
    },
    getTarget() {
      return t43;
    }
  };
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/easy-reactive/src/simply-reactive.js
function E32(c85, l63) {
  const h66 = Tt2(c85, "data", {}), m66 = Tt2(c85, "watch", {}), b55 = Tt2(c85, "methods", {}), i65 = Tt2(l63, "onChange", () => {
  }), { subscribe: d73, notify: _32, subscribers: p66 } = m47(), { targetWatcher: y51, getTarget: a62 } = a39();
  let n72;
  const o71 = {}, f80 = () => ({
    data: n72,
    methods: o71
  });
  let u72 = false;
  const j37 = (e48) => (...t43) => {
    u72 = true;
    const r66 = e48(...t43);
    return u72 = false, r66;
  };
  Object.entries(b55).forEach(([e48, t43]) => {
    o71[e48] = j37(
      (...r66) => t43(f80(), ...r66)
    ), Object.defineProperty(o71[e48], "name", { value: e48 });
  }), n72 = new Proxy(ge4(h66), {
    get(e48, t43) {
      return a62() && !u72 && d73(a62(), { prop: t43, value: e48[t43] }), Reflect.get(...arguments);
    },
    set(e48, t43, r66) {
      return e48[t43] === r66 || (Reflect.set(...arguments), a62() || (i65 && i65(t43, r66), _32(n72, t43))), true;
    }
  }), Object.entries(m66).forEach(([e48, t43]) => {
    y51(e48, () => {
      t43(f80());
    });
  });
  const g67 = [n72, o71];
  return g67._internal = {
    _getSubscribers() {
      return p66;
    }
  }, g67;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/utils/lazy.js
function l37({
  pageIndex: r66,
  particlesToShow: a62,
  particlesToScroll: e48,
  particlesCount: x49
}) {
  const d73 = r66 === 0 ? 0 : a62 - e48, c85 = r66 * a62 - r66 * d73, s60 = c85 + Math.max(a62, e48) - 1, n72 = [];
  for (let t43 = c85; t43 <= Math.min(x49 - 1, s60); t43++)
    n72.push(t43);
  return n72;
}
function h43({
  infinite: r66,
  pageIndex: a62,
  pagesCount: e48,
  particlesCount: x49,
  particlesToShow: d73,
  particlesToScroll: c85
}) {
  const s60 = r40(0, a62, e48 - 1);
  let n72 = s60 - 1, t43 = s60 + 1;
  n72 = r66 ? n72 < 0 ? e48 - 1 : n72 : Math.max(0, n72), t43 = r66 ? t43 > e48 - 1 ? 0 : t43 : Math.min(e48 - 1, t43);
  const f80 = [.../* @__PURE__ */ new Set([
    n72,
    s60,
    t43,
    // because of these values outputs for infinite/non-infinites are the same
    0,
    // needed to clone first page particles
    e48 - 1
    // needed to clone last page particles
  ])].sort((o71, m66) => o71 - m66), I49 = f80.flatMap(
    (o71) => l37({
      pageIndex: o71,
      particlesToShow: d73,
      particlesToScroll: c85,
      particlesCount: x49
    })
  );
  return {
    pageIndexes: f80,
    particleIndexes: [...new Set(I49)].sort((o71, m66) => o71 - m66)
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/utils/interval.js
var r43 = (e48, t43) => (e48(), setInterval(e48, t43));

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/utils/ProgressManager.js
var h44 = (u72, t43, e48) => new Promise((a62, r66) => {
  var i65 = (s60) => {
    try {
      o71(e48.next(s60));
    } catch (n72) {
      r66(n72);
    }
  }, _32 = (s60) => {
    try {
      o71(e48.throw(s60));
    } catch (n72) {
      r66(n72);
    }
  }, o71 = (s60) => s60.done ? a62(s60.value) : Promise.resolve(s60.value).then(i65, _32);
  o71((e48 = e48.apply(u72, t43)).next());
});
var g35 = 35;
var l38 = 1;
var P31 = class {
  constructor({ onProgressValueChange: t43 }) {
    this._onProgressValueChange = t43, this._autoplayDuration, this._onProgressValueChange, this._interval, this._paused = false;
  }
  setAutoplayDuration(t43) {
    this._autoplayDuration = t43;
  }
  start(t43) {
    return new Promise((e48) => {
      this.reset();
      const a62 = Math.min(g35, Math.max(this._autoplayDuration, 1));
      let r66 = -a62;
      this._interval = r43(() => h44(this, null, function* () {
        if (this._paused)
          return;
        r66 += a62;
        const i65 = r66 / this._autoplayDuration;
        this._onProgressValueChange(i65), i65 > l38 && (this.reset(), yield t43(), e48());
      }), a62);
    });
  }
  pause() {
    this._paused = true;
  }
  resume() {
    this._paused = false;
  }
  reset() {
    clearInterval(this._interval), this._onProgressValueChange(l38);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/components/Carousel/createCarousel.js
var i47 = (s60, r66, l63) => new Promise((a62, c85) => {
  var f80 = (t43) => {
    try {
      o71(l63.next(t43));
    } catch (n72) {
      c85(n72);
    }
  }, e48 = (t43) => {
    try {
      o71(l63.throw(t43));
    } catch (n72) {
      c85(n72);
    }
  }, o71 = (t43) => t43.done ? a62(t43.value) : Promise.resolve(t43.value).then(f80, e48);
  o71((l63 = l63.apply(s60, r66)).next());
});
function A39(s60) {
  const r66 = new P31({
    onProgressValueChange: (e48) => {
      s60("progressValue", 1 - e48);
    }
  }), l63 = E32(
    {
      data: {
        particlesCountWithoutClones: 0,
        particlesToShow: 1,
        // normalized
        particlesToShowInit: 1,
        // initial value
        particlesToScroll: 1,
        // normalized
        particlesToScrollInit: 1,
        // initial value
        particlesCount: 1,
        currentParticleIndex: 1,
        infinite: false,
        autoplayDuration: 1e3,
        clonesCountHead: 0,
        clonesCountTail: 0,
        clonesCountTotal: 0,
        partialPageSize: 1,
        currentPageIndex: 1,
        pagesCount: 1,
        pauseOnFocus: false,
        focused: false,
        autoplay: false,
        autoplayDirection: "next",
        disabled: false,
        // disable page change while animation is in progress
        durationMsInit: 1e3,
        durationMs: 1e3,
        offset: 0,
        particleWidth: 0,
        loaded: []
      },
      watch: {
        setLoaded({ data: e48 }) {
          e48.loaded = h43({
            infinite: e48.infinite,
            pageIndex: e48.currentPageIndex,
            pagesCount: e48.pagesCount,
            particlesCount: e48.particlesCountWithoutClones,
            particlesToShow: e48.particlesToShow,
            particlesToScroll: e48.particlesToScroll
          }).particleIndexes;
        },
        setCurrentPageIndex({ data: e48 }) {
          e48.currentPageIndex = M30({
            currentParticleIndex: e48.currentParticleIndex,
            particlesCount: e48.particlesCount,
            clonesCountHead: e48.clonesCountHead,
            clonesCountTotal: e48.clonesCountTotal,
            infinite: e48.infinite,
            particlesToScroll: e48.particlesToScroll
          });
        },
        setPartialPageSize({ data: e48 }) {
          e48.partialPageSize = m45({
            particlesToScroll: e48.particlesToScroll,
            particlesToShow: e48.particlesToShow,
            particlesCountWithoutClones: e48.particlesCountWithoutClones
          });
        },
        setClonesCount({ data: e48 }) {
          const { head: o71, tail: t43 } = y29({
            infinite: e48.infinite,
            particlesToShow: e48.particlesToShow,
            partialPageSize: e48.partialPageSize
          });
          e48.clonesCountHead = o71, e48.clonesCountTail = t43, e48.clonesCountTotal = o71 + t43;
        },
        setProgressManagerAutoplayDuration({ data: e48 }) {
          r66.setAutoplayDuration(e48.autoplayDuration);
        },
        toggleProgressManager({ data: { pauseOnFocus: e48, focused: o71 } }) {
          e48 && (o71 ? r66.pause() : r66.resume());
        },
        initDuration({ data: e48 }) {
          e48.durationMs = e48.durationMsInit;
        },
        applyAutoplay({ data: e48, methods: { _applyAutoplayIfNeeded: o71 } }) {
          e48.autoplay && o71(e48.autoplay);
        },
        setPagesCount({ data: e48 }) {
          e48.pagesCount = h40({
            infinite: e48.infinite,
            particlesCountWithoutClones: e48.particlesCountWithoutClones,
            particlesToScroll: e48.particlesToScroll,
            particlesToShow: e48.particlesToShow
          });
        },
        setParticlesToShow({ data: e48 }) {
          e48.particlesToShow = r40(
            1,
            e48.particlesToShowInit,
            e48.particlesCountWithoutClones
          );
        },
        setParticlesToScroll({ data: e48 }) {
          e48.particlesToScroll = r40(
            1,
            e48.particlesToScrollInit,
            e48.particlesCountWithoutClones
          );
        }
      },
      methods: {
        _prev({ data: e48 }) {
          e48.currentParticleIndex = _20({
            infinite: e48.infinite,
            pageIndex: e48.currentPageIndex - 1,
            clonesCountHead: e48.clonesCountHead,
            clonesCountTail: e48.clonesCountTail,
            particlesToScroll: e48.particlesToScroll,
            particlesCount: e48.particlesCount,
            particlesToShow: e48.particlesToShow
          });
        },
        _next({ data: e48 }) {
          e48.currentParticleIndex = _20({
            infinite: e48.infinite,
            pageIndex: e48.currentPageIndex + 1,
            clonesCountHead: e48.clonesCountHead,
            clonesCountTail: e48.clonesCountTail,
            particlesToScroll: e48.particlesToScroll,
            particlesCount: e48.particlesCount,
            particlesToShow: e48.particlesToShow
          });
        },
        _moveToParticle({ data: e48 }, o71) {
          e48.currentParticleIndex = r40(
            0,
            o71,
            e48.particlesCount - 1
          );
        },
        toggleFocused({ data: e48 }) {
          e48.focused = !e48.focused;
        },
        _applyAutoplayIfNeeded(t43) {
          return i47(this, arguments, function* ({ data: e48, methods: o71 }) {
            if (!e48.infinite && (e48.autoplayDirection === e35 && e48.currentParticleIndex === e48.particlesCount - 1 || e48.autoplayDirection === t35 && e48.currentParticleIndex === 0)) {
              r66.reset();
              return;
            }
            if (e48.autoplay) {
              const n72 = () => w25({
                [e35]: () => i47(this, null, function* () {
                  return o71.showNextPage();
                }),
                [t35]: () => i47(this, null, function* () {
                  return o71.showPrevPage();
                })
              })(e48.autoplayDirection);
              yield r66.start(n72);
            }
          });
        },
        // makes delayed jump to 1st or last element
        _jumpIfNeeded(t43) {
          return i47(this, arguments, function* ({ data: e48, methods: o71 }) {
            let n72 = false;
            return e48.infinite && (e48.currentParticleIndex === 0 ? (yield o71.showParticle(
              e48.particlesCount - e48.clonesCountTotal,
              {
                animated: false
              }
            ), n72 = true) : e48.currentParticleIndex === e48.particlesCount - e48.clonesCountTail && (yield o71.showParticle(e48.clonesCountHead, {
              animated: false
            }), n72 = true)), n72;
          });
        },
        changePage(F45, R43, T38) {
          return i47(this, arguments, function* ({ data: e48, methods: o71 }, t43, n72) {
            if (r66.reset(), e48.disabled)
              return;
            e48.disabled = true, t43(), yield o71.offsetPage({ animated: o55(n72, "animated", true) }), e48.disabled = false, !(yield o71._jumpIfNeeded()) && o71._applyAutoplayIfNeeded();
          });
        },
        showNextPage(n72, F45) {
          return i47(this, arguments, function* ({ data: e48, methods: o71 }, t43) {
            e48.disabled || (yield o71.changePage(o71._next, t43));
          });
        },
        showPrevPage(n72, F45) {
          return i47(this, arguments, function* ({ data: e48, methods: o71 }, t43) {
            e48.disabled || (yield o71.changePage(o71._prev, t43));
          });
        },
        showParticle(n72, F45, R43) {
          return i47(this, arguments, function* ({ methods: e48 }, o71, t43) {
            yield e48.changePage(
              () => e48._moveToParticle(o71),
              t43
            );
          });
        },
        _getParticleIndexByPageIndex({ data: e48 }, o71) {
          return _20({
            infinite: e48.infinite,
            pageIndex: o71,
            clonesCountHead: e48.clonesCountHead,
            clonesCountTail: e48.clonesCountTail,
            particlesToScroll: e48.particlesToScroll,
            particlesCount: e48.particlesCount,
            particlesToShow: e48.particlesToShow
          });
        },
        showPage(n72, F45, R43) {
          return i47(this, arguments, function* ({ methods: e48 }, o71, t43) {
            const T38 = e48._getParticleIndexByPageIndex(o71);
            yield e48.showParticle(T38, t43);
          });
        },
        offsetPage({ data: e48 }, o71) {
          const t43 = o55(o71, "animated", true);
          return new Promise((n72) => {
            e48.durationMs = t43 ? e48.durationMsInit : 0, e48.offset = -e48.currentParticleIndex * e48.particleWidth, setTimeout(() => {
              n72();
            }, e48.durationMs);
          });
        }
      }
    },
    {
      onChange: s60
    }
  ), [a62, c85] = l63;
  return [{ data: a62, progressManager: r66 }, c85, l63._internal];
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/vendor/svelte-carousel/src/components/Carousel/Carousel.js
var k30 = (e48, o71, n72) => new Promise((l63, t43) => {
  var i65 = (w49) => {
    try {
      v58(n72.next(w49));
    } catch (C52) {
      t43(C52);
    }
  }, s60 = (w49) => {
    try {
      v58(n72.throw(w49));
    } catch (C52) {
      t43(C52);
    }
  }, v58 = (w49) => w49.done ? l63(w49.value) : Promise.resolve(w49.value).then(i65, s60);
  v58((n72 = n72.apply(e48, o71)).next());
});
function tt4(e48) {
  Qt2(e48, "svelte-sme1z4", ":root{--sc-color-rgb-light-50p:rgba(93, 93, 93, 0.5);--sc-color-rgb-light:#5d5d5d;--sc-color-hex-dark-50p:rgba(30, 30, 30, 0.5);--sc-color-hex-dark:#1e1e1e}.sc-carousel__carousel-container.svelte-sme1z4{display:flex;width:100%;flex-direction:column;align-items:center}.sc-carousel__content-container.svelte-sme1z4{position:relative;display:flex;width:100%}.sc-carousel__pages-window.svelte-sme1z4{flex:1;display:flex;overflow:hidden;box-sizing:border-box;position:relative}.sc-carousel__pages-container.svelte-sme1z4{width:100%;display:flex;transition-property:transform}.sc-carousel__arrow-container.svelte-sme1z4{padding:5px;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.sc-carousel-progress__container.svelte-sme1z4{width:100%;height:5px;background-color:var(--sc-color-rgb-light-50p);position:absolute;bottom:0}.sc-carousel-button{all:unset;cursor:pointer}.sc-carousel-button:focus{outline:5px auto}");
}
var nt5 = (e48) => ({
  currentPageIndex: e48[0] & /*currentPageIndex*/
  32,
  pagesCount: e48[0] & /*pagesCount*/
  1024,
  loaded: e48[0] & /*loaded*/
  64
});
var ue5 = (e48) => ({
  currentPageIndex: (
    /*currentPageIndex*/
    e48[5]
  ),
  pagesCount: (
    /*pagesCount*/
    e48[10]
  ),
  showPage: (
    /*handlePageChange*/
    e48[15]
  ),
  loaded: (
    /*loaded*/
    e48[6]
  )
});
var ot5 = (e48) => ({
  loaded: e48[0] & /*loaded*/
  64,
  currentPageIndex: e48[0] & /*currentPageIndex*/
  32
});
var ce3 = (e48) => ({
  showNextPage: (
    /*methods*/
    e48[14].showNextPage
  ),
  loaded: (
    /*loaded*/
    e48[6]
  ),
  currentPageIndex: (
    /*currentPageIndex*/
    e48[5]
  )
});
var it4 = (e48) => ({
  loaded: e48[0] & /*loaded*/
  64,
  currentPageIndex: e48[0] & /*currentPageIndex*/
  32
});
var fe4 = (e48) => ({
  loaded: (
    /*loaded*/
    e48[6]
  ),
  currentPageIndex: (
    /*currentPageIndex*/
    e48[5]
  )
});
var at4 = (e48) => ({
  loaded: e48[0] & /*loaded*/
  64,
  currentPageIndex: e48[0] & /*currentPageIndex*/
  32
});
var de5 = (e48) => ({
  showPrevPage: (
    /*methods*/
    e48[14].showPrevPage
  ),
  loaded: (
    /*loaded*/
    e48[6]
  ),
  currentPageIndex: (
    /*currentPageIndex*/
    e48[5]
  )
});
function ge5(e48) {
  let o71;
  const n72 = (
    /*#slots*/
    e48[37].prev
  ), l63 = Bt(
    n72,
    e48,
    /*$$scope*/
    e48[36],
    de5
  ), t43 = l63 || lt4(e48);
  return {
    c() {
      t43 && t43.c();
    },
    m(i65, s60) {
      t43 && t43.m(i65, s60), o71 = true;
    },
    p(i65, s60) {
      l63 ? l63.p && (!o71 || s60[0] & /*loaded, currentPageIndex*/
      96 | s60[1] & /*$$scope*/
      32) && It(
        l63,
        n72,
        i65,
        /*$$scope*/
        i65[36],
        o71 ? Ht(
          n72,
          /*$$scope*/
          i65[36],
          s60,
          at4
        ) : Ut(
          /*$$scope*/
          i65[36]
        ),
        de5
      ) : t43 && t43.p && (!o71 || s60[0] & /*infinite, currentPageIndex*/
      36) && t43.p(i65, o71 ? s60 : [-1, -1]);
    },
    i(i65) {
      o71 || (ot(t43, i65), o71 = true);
    },
    o(i65) {
      $t(t43, i65), o71 = false;
    },
    d(i65) {
      t43 && t43.d(i65);
    }
  };
}
function lt4(e48) {
  let o71, n72, l63;
  return n72 = new q22({
    props: {
      direction: "prev",
      disabled: !/*infinite*/
      e48[2] && /*currentPageIndex*/
      e48[5] === 0
    }
  }), n72.$on(
    "click",
    /*showPrevPage*/
    e48[23]
  ), {
    c() {
      o71 = K4("div"), Ae(n72.$$.fragment), te2(o71, "class", "sc-carousel__arrow-container svelte-sme1z4");
    },
    m(t43, i65) {
      Nt(t43, o71, i65), Dt(n72, o71, null), l63 = true;
    },
    p(t43, i65) {
      const s60 = {};
      i65[0] & /*infinite, currentPageIndex*/
      36 && (s60.disabled = !/*infinite*/
      t43[2] && /*currentPageIndex*/
      t43[5] === 0), n72.$set(s60);
    },
    i(t43) {
      l63 || (ot(n72.$$.fragment, t43), l63 = true);
    },
    o(t43) {
      $t(n72.$$.fragment, t43), l63 = false;
    },
    d(t43) {
      t43 && J4(o71), Rt(n72);
    }
  };
}
function _e5(e48) {
  let o71, n72, l63;
  return n72 = new w24({
    props: { value: (
      /*progressValue*/
      e48[7]
    ) }
  }), {
    c() {
      o71 = K4("div"), Ae(n72.$$.fragment), te2(o71, "class", "sc-carousel-progress__container svelte-sme1z4");
    },
    m(t43, i65) {
      Nt(t43, o71, i65), Dt(n72, o71, null), l63 = true;
    },
    p(t43, i65) {
      const s60 = {};
      i65[0] & /*progressValue*/
      128 && (s60.value = /*progressValue*/
      t43[7]), n72.$set(s60);
    },
    i(t43) {
      l63 || (ot(n72.$$.fragment, t43), l63 = true);
    },
    o(t43) {
      $t(n72.$$.fragment, t43), l63 = false;
    },
    d(t43) {
      t43 && J4(o71), Rt(n72);
    }
  };
}
function me5(e48) {
  let o71;
  const n72 = (
    /*#slots*/
    e48[37].next
  ), l63 = Bt(
    n72,
    e48,
    /*$$scope*/
    e48[36],
    ce3
  ), t43 = l63 || st5(e48);
  return {
    c() {
      t43 && t43.c();
    },
    m(i65, s60) {
      t43 && t43.m(i65, s60), o71 = true;
    },
    p(i65, s60) {
      l63 ? l63.p && (!o71 || s60[0] & /*loaded, currentPageIndex*/
      96 | s60[1] & /*$$scope*/
      32) && It(
        l63,
        n72,
        i65,
        /*$$scope*/
        i65[36],
        o71 ? Ht(
          n72,
          /*$$scope*/
          i65[36],
          s60,
          ot5
        ) : Ut(
          /*$$scope*/
          i65[36]
        ),
        ce3
      ) : t43 && t43.p && (!o71 || s60[0] & /*infinite, currentPageIndex, pagesCount*/
      1060) && t43.p(i65, o71 ? s60 : [-1, -1]);
    },
    i(i65) {
      o71 || (ot(t43, i65), o71 = true);
    },
    o(i65) {
      $t(t43, i65), o71 = false;
    },
    d(i65) {
      t43 && t43.d(i65);
    }
  };
}
function st5(e48) {
  let o71, n72, l63;
  return n72 = new q22({
    props: {
      direction: "next",
      disabled: !/*infinite*/
      e48[2] && /*currentPageIndex*/
      e48[5] === /*pagesCount*/
      e48[10] - 1
    }
  }), n72.$on(
    "click",
    /*methods*/
    e48[14].showNextPage
  ), {
    c() {
      o71 = K4("div"), Ae(n72.$$.fragment), te2(o71, "class", "sc-carousel__arrow-container svelte-sme1z4");
    },
    m(t43, i65) {
      Nt(t43, o71, i65), Dt(n72, o71, null), l63 = true;
    },
    p(t43, i65) {
      const s60 = {};
      i65[0] & /*infinite, currentPageIndex, pagesCount*/
      1060 && (s60.disabled = !/*infinite*/
      t43[2] && /*currentPageIndex*/
      t43[5] === /*pagesCount*/
      t43[10] - 1), n72.$set(s60);
    },
    i(t43) {
      l63 || (ot(n72.$$.fragment, t43), l63 = true);
    },
    o(t43) {
      $t(n72.$$.fragment, t43), l63 = false;
    },
    d(t43) {
      t43 && J4(o71), Rt(n72);
    }
  };
}
function pe4(e48) {
  let o71;
  const n72 = (
    /*#slots*/
    e48[37].dots
  ), l63 = Bt(
    n72,
    e48,
    /*$$scope*/
    e48[36],
    ue5
  ), t43 = l63 || rt4(e48);
  return {
    c() {
      t43 && t43.c();
    },
    m(i65, s60) {
      t43 && t43.m(i65, s60), o71 = true;
    },
    p(i65, s60) {
      l63 ? l63.p && (!o71 || s60[0] & /*currentPageIndex, pagesCount, loaded*/
      1120 | s60[1] & /*$$scope*/
      32) && It(
        l63,
        n72,
        i65,
        /*$$scope*/
        i65[36],
        o71 ? Ht(
          n72,
          /*$$scope*/
          i65[36],
          s60,
          nt5
        ) : Ut(
          /*$$scope*/
          i65[36]
        ),
        ue5
      ) : t43 && t43.p && (!o71 || s60[0] & /*pagesCount, currentPageIndex*/
      1056) && t43.p(i65, o71 ? s60 : [-1, -1]);
    },
    i(i65) {
      o71 || (ot(t43, i65), o71 = true);
    },
    o(i65) {
      $t(t43, i65), o71 = false;
    },
    d(i65) {
      t43 && t43.d(i65);
    }
  };
}
function rt4(e48) {
  let o71, n72;
  return o71 = new H21({
    props: {
      pagesCount: (
        /*pagesCount*/
        e48[10]
      ),
      currentPageIndex: (
        /*currentPageIndex*/
        e48[5]
      )
    }
  }), o71.$on(
    "pageChange",
    /*pageChange_handler*/
    e48[41]
  ), {
    c() {
      Ae(o71.$$.fragment);
    },
    m(l63, t43) {
      Dt(o71, l63, t43), n72 = true;
    },
    p(l63, t43) {
      const i65 = {};
      t43[0] & /*pagesCount*/
      1024 && (i65.pagesCount = /*pagesCount*/
      l63[10]), t43[0] & /*currentPageIndex*/
      32 && (i65.currentPageIndex = /*currentPageIndex*/
      l63[5]), o71.$set(i65);
    },
    i(l63) {
      n72 || (ot(o71.$$.fragment, l63), n72 = true);
    },
    o(l63) {
      $t(o71.$$.fragment, l63), n72 = false;
    },
    d(l63) {
      Rt(o71, l63);
    }
  };
}
function ut5(e48) {
  let o71, n72, l63, t43, i65, s60, v58, w49, C52, P55, c85, E53, u72 = (
    /*arrows*/
    e48[1] && ge5(e48)
  );
  const M48 = (
    /*#slots*/
    e48[37].default
  ), b55 = Bt(
    M48,
    e48,
    /*$$scope*/
    e48[36],
    fe4
  );
  let d73 = (
    /*autoplayProgressVisible*/
    e48[3] && _e5(e48)
  ), g67 = (
    /*arrows*/
    e48[1] && me5(e48)
  ), f80 = (
    /*dots*/
    e48[4] && pe4(e48)
  );
  return {
    c() {
      o71 = K4("div"), n72 = K4("div"), u72 && u72.c(), l63 = Xt(), t43 = K4("div"), i65 = K4("div"), b55 && b55.c(), v58 = Xt(), d73 && d73.c(), w49 = Xt(), g67 && g67.c(), C52 = Xt(), f80 && f80.c(), te2(i65, "class", "sc-carousel__pages-container svelte-sme1z4"), ne2(i65, "transform", "translateX(" + /*offset*/
      e48[8] + "px)"), ne2(
        i65,
        "transition-duration",
        /*durationMs*/
        e48[9] + "ms"
      ), ne2(
        i65,
        "transition-timing-function",
        /*timingFunction*/
        e48[0]
      ), te2(t43, "class", "sc-carousel__pages-window svelte-sme1z4"), te2(n72, "class", "sc-carousel__content-container svelte-sme1z4"), te2(o71, "class", "sc-carousel__carousel-container svelte-sme1z4");
    },
    m(r66, _32) {
      Nt(r66, o71, _32), pt(o71, n72), u72 && u72.m(n72, null), pt(n72, l63), pt(n72, t43), pt(t43, i65), b55 && b55.m(i65, null), e48[39](i65), pt(t43, v58), d73 && d73.m(t43, null), e48[40](t43), pt(n72, w49), g67 && g67.m(n72, null), pt(o71, C52), f80 && f80.m(o71, null), P55 = true, c85 || (E53 = [
        Jt(s60 = b30.call(null, i65, {
          thresholdProvider: (
            /*swipeable_function*/
            e48[38]
          )
        })),
        lt(
          i65,
          "swipeStart",
          /*handleSwipeStart*/
          e48[16]
        ),
        lt(
          i65,
          "swipeMove",
          /*handleSwipeMove*/
          e48[18]
        ),
        lt(
          i65,
          "swipeEnd",
          /*handleSwipeEnd*/
          e48[19]
        ),
        lt(
          i65,
          "swipeFailed",
          /*handleSwipeFailed*/
          e48[20]
        ),
        lt(
          i65,
          "swipeThresholdReached",
          /*handleSwipeThresholdReached*/
          e48[17]
        ),
        Jt(h39.call(null, t43)),
        lt(
          t43,
          "hovered",
          /*handleHovered*/
          e48[21]
        ),
        Jt(y27.call(null, t43)),
        lt(
          t43,
          "tapped",
          /*handleTapped*/
          e48[22]
        )
      ], c85 = true);
    },
    p(r66, _32) {
      r66[1] ? u72 ? (u72.p(r66, _32), _32[0] & /*arrows*/
      2 && ot(u72, 1)) : (u72 = ge5(r66), u72.c(), ot(u72, 1), u72.m(n72, l63)) : u72 && (Lt(), $t(u72, 1, 1, () => {
        u72 = null;
      }), Ot()), b55 && b55.p && (!P55 || _32[0] & /*loaded, currentPageIndex*/
      96 | _32[1] & /*$$scope*/
      32) && It(
        b55,
        M48,
        r66,
        /*$$scope*/
        r66[36],
        P55 ? Ht(
          M48,
          /*$$scope*/
          r66[36],
          _32,
          it4
        ) : Ut(
          /*$$scope*/
          r66[36]
        ),
        fe4
      ), (!P55 || _32[0] & /*offset*/
      256) && ne2(i65, "transform", "translateX(" + /*offset*/
      r66[8] + "px)"), (!P55 || _32[0] & /*durationMs*/
      512) && ne2(
        i65,
        "transition-duration",
        /*durationMs*/
        r66[9] + "ms"
      ), (!P55 || _32[0] & /*timingFunction*/
      1) && ne2(
        i65,
        "transition-timing-function",
        /*timingFunction*/
        r66[0]
      ), s60 && L5(s60.update) && _32[0] & /*pageWindowWidth*/
      2048 && s60.update.call(null, {
        thresholdProvider: (
          /*swipeable_function*/
          r66[38]
        )
      }), /*autoplayProgressVisible*/
      r66[3] ? d73 ? (d73.p(r66, _32), _32[0] & /*autoplayProgressVisible*/
      8 && ot(d73, 1)) : (d73 = _e5(r66), d73.c(), ot(d73, 1), d73.m(t43, null)) : d73 && (Lt(), $t(d73, 1, 1, () => {
        d73 = null;
      }), Ot()), /*arrows*/
      r66[1] ? g67 ? (g67.p(r66, _32), _32[0] & /*arrows*/
      2 && ot(g67, 1)) : (g67 = me5(r66), g67.c(), ot(g67, 1), g67.m(n72, null)) : g67 && (Lt(), $t(g67, 1, 1, () => {
        g67 = null;
      }), Ot()), /*dots*/
      r66[4] ? f80 ? (f80.p(r66, _32), _32[0] & /*dots*/
      16 && ot(f80, 1)) : (f80 = pe4(r66), f80.c(), ot(f80, 1), f80.m(o71, null)) : f80 && (Lt(), $t(f80, 1, 1, () => {
        f80 = null;
      }), Ot());
    },
    i(r66) {
      P55 || (ot(u72), ot(b55, r66), ot(d73), ot(g67), ot(f80), P55 = true);
    },
    o(r66) {
      $t(u72), $t(b55, r66), $t(d73), $t(g67), $t(f80), P55 = false;
    },
    d(r66) {
      r66 && J4(o71), u72 && u72.d(), b55 && b55.d(r66), e48[39](null), d73 && d73.d(), e48[40](null), g67 && g67.d(), f80 && f80.d(), c85 = false, M8(E53);
    }
  };
}
function ct4(e48, o71, n72) {
  let { $$slots: l63 = {}, $$scope: t43 } = o71, i65 = [], s60, v58, w49 = 0, C52 = 0, P55 = 1;
  const [{ data: c85, progressManager: E53 }, u72, M48] = A39((a62, h66) => {
    w25({
      currentPageIndex: () => n72(5, s60 = h66),
      progressValue: () => n72(7, v58 = h66),
      offset: () => n72(8, w49 = h66),
      durationMs: () => n72(9, C52 = h66),
      pagesCount: () => n72(10, P55 = h66),
      loaded: () => n72(6, i65 = h66)
    })(a62);
  }), b55 = fe2();
  let { timingFunction: d73 = "ease-in-out" } = o71, { arrows: g67 = true } = o71, { infinite: f80 = true } = o71, { initialPageIndex: r66 = 0 } = o71, { duration: _32 = 500 } = o71, { autoplay: L40 = false } = o71, { autoplayDuration: Q29 = 3e3 } = o71, { autoplayDirection: U33 = e35 } = o71, { pauseOnFocus: Y23 = false } = o71, { autoplayProgressVisible: te10 = false } = o71, { dots: ne14 = true } = o71, { swiping: I49 = true } = o71, { particlesToShow: Z18 = 1 } = o71, { particlesToScroll: x49 = 1 } = o71;
  function we4(a62, h66) {
    return k30(this, null, function* () {
      const We3 = o55(h66, "animated", true);
      if (typeof a62 != "number")
        throw new Error("pageIndex should be a number");
      yield u72.showPage(a62, { animated: We3 });
    });
  }
  function be6(a62) {
    return k30(this, null, function* () {
      const h66 = o55(a62, "animated", true);
      yield u72.showPrevPage({ animated: h66 });
    });
  }
  function Pe4(a62) {
    return k30(this, null, function* () {
      const h66 = o55(a62, "animated", true);
      yield u72.showNextPage({ animated: h66 });
    });
  }
  let W25 = 0, N33, T38;
  const oe11 = z18(({ width: a62 }) => {
    n72(11, W25 = a62), c85.particleWidth = W25 / c85.particlesToShow, c50({
      particlesContainerChildren: T38.children,
      particleWidth: c85.particleWidth
    }), u72.offsetPage({ animated: false });
  });
  function ve5() {
    const { clonesToAppend: a62, clonesToPrepend: h66 } = N20({
      clonesCountHead: c85.clonesCountHead,
      clonesCountTail: c85.clonesCountTail,
      particlesContainerChildren: T38.children
    });
    x27({
      particlesContainer: T38,
      clonesToAppend: a62,
      clonesToPrepend: h66
    });
  }
  ce(() => {
    k30(this, null, function* () {
      yield _e2(), T38 && N33 && (c85.particlesCountWithoutClones = T38.children.length, yield _e2(), c85.infinite && ve5(), c85.particlesCount = T38.children.length, u72.showPage(r66, { animated: false }), oe11.observe(N33));
    });
  }), le(() => {
    oe11.disconnect(), E53.reset();
  });
  function ie10(a62) {
    return k30(this, null, function* () {
      yield u72.showPage(a62, { animated: true });
    });
  }
  function Ce4() {
    I49 && (c85.durationMs = 0);
  }
  function Te5(a62) {
    return k30(this, null, function* () {
      I49 && (yield w25({
        [e35]: u72.showNextPage,
        [t35]: u72.showPrevPage
      })(a62.detail.direction));
    });
  }
  function ke5(a62) {
    I49 && (c85.offset += a62.detail.dx);
  }
  function Ie4() {
    I49 && u72.showParticle(c85.currentParticleIndex);
  }
  function Se() {
    return k30(this, null, function* () {
      I49 && (yield u72.offsetPage({ animated: true }));
    });
  }
  function ye5(a62) {
    c85.focused = a62.detail.value;
  }
  function ze6() {
    u72.toggleFocused();
  }
  function De7() {
    u72.showPrevPage();
  }
  const Fe2 = () => W25 / 3;
  function Ne4(a62) {
    ft[a62 ? "unshift" : "push"](() => {
      T38 = a62, n72(13, T38);
    });
  }
  function Ee5(a62) {
    ft[a62 ? "unshift" : "push"](() => {
      N33 = a62, n72(12, N33);
    });
  }
  const Me3 = (a62) => ie10(a62.detail);
  return e48.$$set = (a62) => {
    "timingFunction" in a62 && n72(0, d73 = a62.timingFunction), "arrows" in a62 && n72(1, g67 = a62.arrows), "infinite" in a62 && n72(2, f80 = a62.infinite), "initialPageIndex" in a62 && n72(24, r66 = a62.initialPageIndex), "duration" in a62 && n72(25, _32 = a62.duration), "autoplay" in a62 && n72(26, L40 = a62.autoplay), "autoplayDuration" in a62 && n72(27, Q29 = a62.autoplayDuration), "autoplayDirection" in a62 && n72(28, U33 = a62.autoplayDirection), "pauseOnFocus" in a62 && n72(29, Y23 = a62.pauseOnFocus), "autoplayProgressVisible" in a62 && n72(3, te10 = a62.autoplayProgressVisible), "dots" in a62 && n72(4, ne14 = a62.dots), "swiping" in a62 && n72(30, I49 = a62.swiping), "particlesToShow" in a62 && n72(31, Z18 = a62.particlesToShow), "particlesToScroll" in a62 && n72(32, x49 = a62.particlesToScroll), "$$scope" in a62 && n72(36, t43 = a62.$$scope);
  }, e48.$$.update = () => {
    e48.$$.dirty[0] & /*currentPageIndex*/
    32 && b55("pageChange", s60), e48.$$.dirty[0] & /*infinite*/
    4 && (c85.infinite = f80), e48.$$.dirty[0] & /*duration*/
    33554432 && (c85.durationMsInit = _32), e48.$$.dirty[0] & /*autoplay*/
    67108864 && (c85.autoplay = L40), e48.$$.dirty[0] & /*autoplayDuration*/
    134217728 && (c85.autoplayDuration = Q29), e48.$$.dirty[0] & /*autoplayDirection*/
    268435456 && (c85.autoplayDirection = U33), e48.$$.dirty[0] & /*pauseOnFocus*/
    536870912 && (c85.pauseOnFocus = Y23), e48.$$.dirty[1] & /*particlesToShow*/
    1 && (c85.particlesToShowInit = Z18), e48.$$.dirty[1] & /*particlesToScroll*/
    2 && (c85.particlesToScrollInit = x49);
  }, [
    d73,
    g67,
    f80,
    te10,
    ne14,
    s60,
    i65,
    v58,
    w49,
    C52,
    P55,
    W25,
    N33,
    T38,
    u72,
    ie10,
    Ce4,
    Te5,
    ke5,
    Ie4,
    Se,
    ye5,
    ze6,
    De7,
    r66,
    _32,
    L40,
    Q29,
    U33,
    Y23,
    I49,
    Z18,
    x49,
    we4,
    be6,
    Pe4,
    t43,
    l63,
    Fe2,
    Ne4,
    Ee5,
    Me3
  ];
}
var kt2 = class extends Ce {
  constructor(o71) {
    super(), Te(
      this,
      o71,
      ct4,
      ut5,
      Ft,
      {
        timingFunction: 0,
        arrows: 1,
        infinite: 2,
        initialPageIndex: 24,
        duration: 25,
        autoplay: 26,
        autoplayDuration: 27,
        autoplayDirection: 28,
        pauseOnFocus: 29,
        autoplayProgressVisible: 3,
        dots: 4,
        swiping: 30,
        particlesToShow: 31,
        particlesToScroll: 32,
        goTo: 33,
        goToPrev: 34,
        goToNext: 35
      },
      tt4,
      [-1, -1]
    );
  }
  get goTo() {
    return this.$$.ctx[33];
  }
  get goToPrev() {
    return this.$$.ctx[34];
  }
  get goToNext() {
    return this.$$.ctx[35];
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/MediaItem.js
function $17(n72) {
  Qt2(n72, "svelte-159ski6", ".media-item.svelte-159ski6.svelte-159ski6{position:relative;height:100%}.media-content.svelte-159ski6.svelte-159ski6{position:relative;pointer-events:auto;width:100%;height:100%;-webkit-user-select:none;-moz-user-select:none;user-select:none;-o-object-fit:inherit;object-fit:inherit}.media-content.showPlayButton.svelte-159ski6.svelte-159ski6{pointer-events:none}.video-icon.svelte-159ski6.svelte-159ski6{width:12.5rem;height:6.25rem;max-width:60%;max-height:60%;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%)}.video-play-button-container.svelte-159ski6.svelte-159ski6{display:none;position:absolute;width:100%;height:100%;top:0;left:0;transform:translate3d(0, 0, 0)}.video-play-button-container.showPlayButton.svelte-159ski6.svelte-159ski6{pointer-events:none;display:block}.video-icon.svelte-159ski6.svelte-159ski6{pointer-events:auto}.video-icon.large.svelte-159ski6.svelte-159ski6{width:12.5rem;height:6.25rem}.video-icon.small.svelte-159ski6.svelte-159ski6{width:1.75rem;height:1.75rem}.video-icon.svelte-159ski6 .video-icon-img.svelte-159ski6{width:100%;height:100%;background-position:center center;background-size:contain;background-repeat:no-repeat}.video-icon.svelte-159ski6 .video-icon-img.canPlay.svelte-159ski6{cursor:pointer}");
}
function L28(n72) {
  let e48;
  function i65(l63, f80) {
    if (
      /*media*/
      l63[2].type === "Image"
    )
      return te7;
    if (
      /*media*/
      l63[2].type === "Video"
    )
      return ee7;
  }
  let t43 = i65(n72), o71 = t43 && t43(n72);
  return {
    c() {
      e48 = K4("div"), o71 && o71.c(), te2(e48, "class", "media-item svelte-159ski6"), te2(e48, "draggable", "false");
    },
    m(l63, f80) {
      Nt(l63, e48, f80), o71 && o71.m(e48, null);
    },
    p(l63, f80) {
      t43 === (t43 = i65(l63)) && o71 ? o71.p(l63, f80) : (o71 && o71.d(1), o71 = t43 && t43(l63), o71 && (o71.c(), o71.m(e48, null)));
    },
    d(l63) {
      l63 && J4(e48), o71 && o71.d();
    }
  };
}
function ee7(n72) {
  let e48, i65, t43, o71, l63, f80;
  function a62(u72, c85) {
    return (
      /*disableVideoIfHavePoster*/
      u72[8] && /*media*/
      u72[2].videoCoverUrl ? oe9 : ie7
    );
  }
  let d73 = a62(n72), m66 = d73(n72);
  return {
    c() {
      m66.c(), e48 = Xt(), i65 = K4("div"), t43 = K4("div"), o71 = K4("div"), te2(o71, "class", "video-icon-img svelte-159ski6"), ne2(o71, "background-image", "url(" + /*func*/
      n72[21]() + ")"), re2(
        o71,
        "canPlay",
        /*canPlay*/
        n72[5]
      ), te2(t43, "class", "video-icon svelte-159ski6"), re2(
        t43,
        "large",
        /*playButtonSizeIfNeed*/
        n72[4] === "large"
      ), re2(
        t43,
        "small",
        /*playButtonSizeIfNeed*/
        n72[4] === "small"
      ), te2(i65, "class", "video-play-button-container svelte-159ski6"), re2(
        i65,
        "showPlayButton",
        /*showPlayButton*/
        n72[11]
      );
    },
    m(u72, c85) {
      m66.m(u72, c85), Nt(u72, e48, c85), Nt(u72, i65, c85), pt(i65, t43), pt(t43, o71), l63 || (f80 = lt(
        o71,
        "click",
        /*click_handler_1*/
        n72[22]
      ), l63 = true);
    },
    p(u72, c85) {
      d73 === (d73 = a62(u72)) && m66 ? m66.p(u72, c85) : (m66.d(1), m66 = d73(u72), m66 && (m66.c(), m66.m(e48.parentNode, e48))), c85 & /*playButtonIfNeed*/
      8 && ne2(o71, "background-image", "url(" + /*func*/
      u72[21]() + ")"), c85 & /*canPlay*/
      32 && re2(
        o71,
        "canPlay",
        /*canPlay*/
        u72[5]
      ), c85 & /*playButtonSizeIfNeed*/
      16 && re2(
        t43,
        "large",
        /*playButtonSizeIfNeed*/
        u72[4] === "large"
      ), c85 & /*playButtonSizeIfNeed*/
      16 && re2(
        t43,
        "small",
        /*playButtonSizeIfNeed*/
        u72[4] === "small"
      ), c85 & /*showPlayButton*/
      2048 && re2(
        i65,
        "showPlayButton",
        /*showPlayButton*/
        u72[11]
      );
    },
    d(u72) {
      m66.d(u72), u72 && J4(e48), u72 && J4(i65), l63 = false, f80();
    }
  };
}
function te7(n72) {
  let e48, i65, t43;
  return {
    c() {
      e48 = K4("img"), te2(e48, "class", "media-content svelte-159ski6"), Wt(e48.src, i65 = /*media*/
      n72[2].url) || te2(e48, "src", i65), te2(e48, "alt", t43 = /*media*/
      n72[2].name), te2(e48, "draggable", false), ne2(
        e48,
        "object-fit",
        /*objectFit*/
        n72[7]
      );
    },
    m(o71, l63) {
      Nt(o71, e48, l63);
    },
    p(o71, l63) {
      l63 & /*media*/
      4 && !Wt(e48.src, i65 = /*media*/
      o71[2].url) && te2(e48, "src", i65), l63 & /*media*/
      4 && t43 !== (t43 = /*media*/
      o71[2].name) && te2(e48, "alt", t43), l63 & /*objectFit*/
      128 && ne2(
        e48,
        "object-fit",
        /*objectFit*/
        o71[7]
      );
    },
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function ie7(n72) {
  let e48, i65, t43, o71, l63, f80;
  return {
    c() {
      e48 = K4("video"), te2(e48, "class", "media-content svelte-159ski6"), Wt(e48.src, i65 = /*media*/
      n72[2].videoCoverUrl ? (
        /*media*/
        n72[2].url
      ) : (
        /*media*/
        n72[2].url + "#t=0.1"
      )) || te2(e48, "src", i65), te2(e48, "poster", t43 = /*media*/
      n72[2].videoCoverUrl), te2(e48, "preload", o71 = /*media*/
      n72[2].videoCoverUrl ? "none" : "auto"), te2(e48, "disablepictureinpicture", ""), e48.playsInline = true, te2(e48, "paused", ""), e48.muted = true, te2(e48, "draggable", false), e48.loop = false, te2(e48, "crossorigin", ""), e48.autoplay = /*autoplayVideo*/
      n72[6], e48.controls = false, re2(
        e48,
        "showPlayButton",
        /*showPlayButton*/
        n72[11]
      ), ne2(
        e48,
        "object-fit",
        /*objectFit*/
        n72[7]
      );
    },
    m(a62, d73) {
      Nt(a62, e48, d73), n72[20](e48), l63 || (f80 = [
        lt(
          e48,
          "play",
          /*play_handler*/
          n72[15]
        ),
        lt(
          e48,
          "pause",
          /*pause_handler*/
          n72[16]
        ),
        lt(
          e48,
          "error",
          /*error_handler*/
          n72[17]
        ),
        lt(
          e48,
          "ended",
          /*ended_handler*/
          n72[18]
        ),
        lt(
          e48,
          "click",
          /*click_handler*/
          n72[19]
        )
      ], l63 = true);
    },
    p(a62, d73) {
      d73 & /*media*/
      4 && !Wt(e48.src, i65 = /*media*/
      a62[2].videoCoverUrl ? (
        /*media*/
        a62[2].url
      ) : (
        /*media*/
        a62[2].url + "#t=0.1"
      )) && te2(e48, "src", i65), d73 & /*media*/
      4 && t43 !== (t43 = /*media*/
      a62[2].videoCoverUrl) && te2(e48, "poster", t43), d73 & /*media*/
      4 && o71 !== (o71 = /*media*/
      a62[2].videoCoverUrl ? "none" : "auto") && te2(e48, "preload", o71), d73 & /*autoplayVideo*/
      64 && (e48.autoplay = /*autoplayVideo*/
      a62[6]), d73 & /*showPlayButton*/
      2048 && re2(
        e48,
        "showPlayButton",
        /*showPlayButton*/
        a62[11]
      ), d73 & /*objectFit*/
      128 && ne2(
        e48,
        "object-fit",
        /*objectFit*/
        a62[7]
      );
    },
    d(a62) {
      a62 && J4(e48), n72[20](null), l63 = false, M8(f80);
    }
  };
}
function oe9(n72) {
  let e48, i65, t43;
  return {
    c() {
      e48 = K4("img"), te2(e48, "class", "media-content svelte-159ski6"), Wt(e48.src, i65 = /*media*/
      n72[2].videoCoverUrl) || te2(e48, "src", i65), te2(e48, "alt", t43 = /*media*/
      n72[2].name), te2(e48, "draggable", false), ne2(
        e48,
        "object-fit",
        /*objectFit*/
        n72[7]
      );
    },
    m(o71, l63) {
      Nt(o71, e48, l63);
    },
    p(o71, l63) {
      l63 & /*media*/
      4 && !Wt(e48.src, i65 = /*media*/
      o71[2].videoCoverUrl) && te2(e48, "src", i65), l63 & /*media*/
      4 && t43 !== (t43 = /*media*/
      o71[2].name) && te2(e48, "alt", t43), l63 & /*objectFit*/
      128 && ne2(
        e48,
        "object-fit",
        /*objectFit*/
        o71[7]
      );
    },
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function ne8(n72) {
  let e48, i65 = (
    /*media*/
    n72[2] && L28(n72)
  );
  return {
    c() {
      i65 && i65.c(), e48 = Yt();
    },
    m(t43, o71) {
      i65 && i65.m(t43, o71), Nt(t43, e48, o71);
    },
    p(t43, [o71]) {
      t43[2] ? i65 ? i65.p(t43, o71) : (i65 = L28(t43), i65.c(), i65.m(e48.parentNode, e48)) : i65 && (i65.d(1), i65 = null);
    },
    i: N4,
    o: N4,
    d(t43) {
      i65 && i65.d(t43), t43 && J4(e48);
    }
  };
}
function le4(n72, e48, i65) {
  let t43, o71, { mediaInstance: l63 = { videoInstance: void 0, paused: true } } = e48, { tag: f80 } = e48, { media: a62 } = e48, { playButtonIfNeed: d73 = "withoutText" } = e48, { playButtonSizeIfNeed: m66 = "small" } = e48, { canPlay: u72 = true } = e48, { autoplayVideo: c85 = false } = e48, { objectFit: B42 = "fill" } = e48, { disableVideoIfHavePoster: S52 = false } = e48, b55 = true, y51 = false;
  function N33() {
    i65(9, y51 = (a62 == null ? void 0 : a62.type) === "Video" && !!a62.videoCoverUrl);
  }
  const C52 = de("mediaStore"), I49 = de("hooks"), g67 = () => {
    y51 || t43 && (i65(10, t43.muted = true, t43), t43.play(), t43.pause(), i65(10, t43.muted = false, t43), i65(9, y51 = true));
  };
  I49.on("loadVideoFirstFrame", g67), ce(() => {
    C52.subscribe(({ currentMediaElement: s60 }) => {
      s60 !== t43 && (t43 == null || t43.pause());
    });
  });
  const E53 = (s60) => {
    i65(11, b55 = false), i65(0, l63.paused = false, l63), i65(9, y51 = true), t43 && C52.set({ currentMediaElement: t43 }), I49.emit("playStateChange", {
      event: s60,
      state: "playing",
      tag: f80,
      mediaInstance: t43
    });
  }, z28 = (s60) => {
    i65(11, b55 = true), i65(0, l63.paused = true, l63), I49.emit("playStateChange", {
      event: s60,
      state: "paused",
      tag: f80,
      mediaInstance: t43
    });
  }, F45 = (s60) => {
    i65(11, b55 = true), i65(0, l63.paused = true, l63), I49.emit("playStateChange", {
      event: s60,
      state: "paused",
      tag: f80,
      mediaInstance: t43
    });
  }, O40 = (s60) => {
    i65(11, b55 = true), i65(0, l63.paused = true, l63), I49.emit("playStateChange", {
      event: s60,
      state: "paused",
      tag: f80,
      mediaInstance: t43
    });
  }, W25 = (s60) => {
    t43 && t43.pause();
  };
  function H39(s60) {
    ft[s60 ? "unshift" : "push"](() => {
      l63.videoInstance = s60, i65(0, l63);
    });
  }
  const T38 = () => d73 === "withText" ? a28 : d73 === "withoutText" ? g26 : d73, M48 = (s60) => {
    u72 && t43 && (i65(10, t43.muted = false, t43), t43.play());
  };
  return n72.$$set = (s60) => {
    "mediaInstance" in s60 && i65(0, l63 = s60.mediaInstance), "tag" in s60 && i65(1, f80 = s60.tag), "media" in s60 && i65(2, a62 = s60.media), "playButtonIfNeed" in s60 && i65(3, d73 = s60.playButtonIfNeed), "playButtonSizeIfNeed" in s60 && i65(4, m66 = s60.playButtonSizeIfNeed), "canPlay" in s60 && i65(5, u72 = s60.canPlay), "autoplayVideo" in s60 && i65(6, c85 = s60.autoplayVideo), "objectFit" in s60 && i65(7, B42 = s60.objectFit), "disableVideoIfHavePoster" in s60 && i65(8, S52 = s60.disableVideoIfHavePoster);
  }, n72.$$.update = () => {
    if (n72.$$.dirty & /*mediaInstance*/
    1 && i65(10, t43 = l63.videoInstance), n72.$$.dirty & /*media*/
    4 && i65(14, o71 = a62 == null ? void 0 : a62.url), n72.$$.dirty & /*mediaUrl*/
    16384 && o71 && N33(), n72.$$.dirty & /*videoInstance*/
    1024 && t43 && i65(11, b55 = t43.paused), n72.$$.dirty & /*media, videoPosterLoaded, videoInstance*/
    1540 && (a62 == null ? void 0 : a62.type) === "Video" && !y51) {
      const s60 = navigator.userAgent.toLowerCase().indexOf("micromessenger") !== -1, q38 = navigator.userAgent.toLowerCase().indexOf("iphone") !== -1 && s60;
      t43 && q38 && t43.paused && (document.removeEventListener("WeixinJSBridgeReady", g67), document.removeEventListener("touchstart", g67), document.removeEventListener("click", g67), document.addEventListener("WeixinJSBridgeReady", g67), document.addEventListener("touchstart", g67), document.addEventListener("click", g67));
    }
  }, [
    l63,
    f80,
    a62,
    d73,
    m66,
    u72,
    c85,
    B42,
    S52,
    y51,
    t43,
    b55,
    C52,
    I49,
    o71,
    E53,
    z28,
    F45,
    O40,
    W25,
    H39,
    T38,
    M48
  ];
}
var ue6 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      le4,
      ne8,
      Ft,
      {
        mediaInstance: 0,
        tag: 1,
        media: 2,
        playButtonIfNeed: 3,
        playButtonSizeIfNeed: 4,
        canPlay: 5,
        autoplayVideo: 6,
        objectFit: 7,
        disableVideoIfHavePoster: 8
      },
      $17
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Media.js
function pe5(t43) {
  Qt2(t43, "svelte-1mrbqlg", ".media-list-wrapper.svelte-1mrbqlg.svelte-1mrbqlg{width:100%;height:100%;position:relative;overflow:hidden;border-radius:0.125rem}.media-list-wrapper.svelte-1mrbqlg .media-list.svelte-1mrbqlg{position:relative;pointer-events:auto;height:100%;left:50%;top:50%;transform:translate(-50%, -50%)}.media-list-wrapper.svelte-1mrbqlg .media-list.svelte-1mrbqlg .sc-carousel__carousel-container,.media-list-wrapper.svelte-1mrbqlg .media-list.svelte-1mrbqlg .sc-carousel__content-container{height:100%}");
}
function K24(t43, i65, o71) {
  const a62 = t43.slice();
  return a62[28] = i65[o71], a62[29] = i65, a62[30] = o71, a62;
}
function O27(t43) {
  let i65, o71, a62, e48, s60, u72, n72;
  const r66 = [he4, be3], m66 = [];
  function I49(d73, g67) {
    return (
      /*carouselEnabled*/
      d73[13] && /*mediaDataList*/
      d73[10].length > 1 ? 0 : 1
    );
  }
  return a62 = I49(t43), e48 = m66[a62] = r66[a62](t43), {
    c() {
      i65 = K4("div"), o71 = K4("div"), e48.c(), te2(o71, "class", "media-list svelte-1mrbqlg"), re2(
        o71,
        "carouselEnabled",
        /*carouselEnabled*/
        t43[13]
      ), te2(i65, "class", "media-list-wrapper svelte-1mrbqlg"), re2(
        i65,
        "unfolded",
        /*unfolded*/
        t43[5]
      );
    },
    m(d73, g67) {
      Nt(d73, i65, g67), pt(i65, o71), m66[a62].m(o71, null), n72 = true;
    },
    p(d73, g67) {
      t43 = d73;
      let b55 = a62;
      a62 = I49(t43), a62 === b55 ? m66[a62].p(t43, g67) : (Lt(), $t(m66[b55], 1, 1, () => {
        m66[b55] = null;
      }), Ot(), e48 = m66[a62], e48 ? e48.p(t43, g67) : (e48 = m66[a62] = r66[a62](t43), e48.c()), ot(e48, 1), e48.m(o71, null)), (!n72 || g67[0] & /*carouselEnabled*/
      8192) && re2(
        o71,
        "carouselEnabled",
        /*carouselEnabled*/
        t43[13]
      ), (!n72 || g67[0] & /*unfolded*/
      32) && re2(
        i65,
        "unfolded",
        /*unfolded*/
        t43[5]
      );
    },
    i(d73) {
      n72 || (ot(e48), d73 && z2(() => {
        n72 && (u72 && u72.end(1), s60 = me2(
          i65,
          S10,
          /*animation*/
          t43[6] ? {
            y: 4,
            duration: (
              /*duration*/
              t43[4]
            ),
            delay: (
              /*inDelay*/
              t43[2]
            ),
            easing: Z
          } : void 0
        ), s60.start());
      }), n72 = true);
    },
    o(d73) {
      $t(e48), s60 && s60.invalidate(), d73 && (u72 = ge(
        i65,
        S10,
        /*animation*/
        t43[6] ? {
          y: 4,
          duration: (
            /*duration*/
            t43[4]
          ),
          delay: (
            /*outDelay*/
            t43[3]
          ),
          easing: Z
        } : void 0
      )), n72 = false;
    },
    d(d73) {
      d73 && J4(i65), m66[a62].d(), d73 && u72 && u72.end();
    }
  };
}
function be3(t43) {
  let i65, o71, a62;
  const e48 = [
    { media: (
      /*mediaData*/
      t43[1][0]
    ) },
    { autoplayVideo: (
      /*autoplayVideo*/
      t43[14]
    ) },
    /*mediaItemConfig*/
    t43[7],
    { tag: (
      /*tag*/
      t43[0]
    ) }
  ];
  function s60(n72) {
    t43[21](n72);
  }
  let u72 = {};
  for (let n72 = 0; n72 < e48.length; n72 += 1)
    u72 = kt(u72, e48[n72]);
  return (
    /*mediaInstanceList*/
    t43[8][0] !== void 0 && (u72.mediaInstance = /*mediaInstanceList*/
    t43[8][0]), i65 = new ue6({ props: u72 }), ft.push(() => Me(i65, "mediaInstance", s60)), {
      c() {
        Ae(i65.$$.fragment);
      },
      m(n72, r66) {
        Dt(i65, n72, r66), a62 = true;
      },
      p(n72, r66) {
        const m66 = r66[0] & /*mediaData, autoplayVideo, mediaItemConfig, tag*/
        16515 ? ve(e48, [
          r66[0] & /*mediaData*/
          2 && { media: (
            /*mediaData*/
            n72[1][0]
          ) },
          r66[0] & /*autoplayVideo*/
          16384 && { autoplayVideo: (
            /*autoplayVideo*/
            n72[14]
          ) },
          r66[0] & /*mediaItemConfig*/
          128 && Ne(
            /*mediaItemConfig*/
            n72[7]
          ),
          r66[0] & /*tag*/
          1 && { tag: (
            /*tag*/
            n72[0]
          ) }
        ]) : {};
        !o71 && r66[0] & /*mediaInstanceList*/
        256 && (o71 = true, m66.mediaInstance = /*mediaInstanceList*/
        n72[8][0], pe(() => o71 = false)), i65.$set(m66);
      },
      i(n72) {
        a62 || (ot(i65.$$.fragment, n72), a62 = true);
      },
      o(n72) {
        $t(i65.$$.fragment, n72), a62 = false;
      },
      d(n72) {
        Rt(i65, n72);
      }
    }
  );
}
function he4(t43) {
  let i65, o71, a62 = {
    dots: false,
    arrows: false,
    $$slots: { default: [Ie2] },
    $$scope: { ctx: t43 }
  };
  return i65 = new kt2({ props: a62 }), t43[19](i65), i65.$on(
    "pageChange",
    /*pageChange_handler*/
    t43[20]
  ), {
    c() {
      Ae(i65.$$.fragment);
    },
    m(e48, s60) {
      Dt(i65, e48, s60), o71 = true;
    },
    p(e48, s60) {
      const u72 = {};
      s60[0] & /*mediaDataList, mediaItemConfig, tag, mediaInstanceList*/
      1409 | s60[1] & /*$$scope*/
      1 && (u72.$$scope = { dirty: s60, ctx: e48 }), i65.$set(u72);
    },
    i(e48) {
      o71 || (ot(i65.$$.fragment, e48), o71 = true);
    },
    o(e48) {
      $t(i65.$$.fragment, e48), o71 = false;
    },
    d(e48) {
      t43[19](null), Rt(i65, e48);
    }
  };
}
function P32(t43) {
  let i65, o71, a62;
  const e48 = [
    /*mediaItemConfig*/
    t43[7],
    { media: (
      /*media*/
      t43[28]
    ) },
    { tag: (
      /*tag*/
      t43[0]
    ) }
  ];
  function s60(n72) {
    t43[18](
      n72,
      /*index*/
      t43[30]
    );
  }
  let u72 = {};
  for (let n72 = 0; n72 < e48.length; n72 += 1)
    u72 = kt(u72, e48[n72]);
  return (
    /*mediaInstanceList*/
    t43[8][
      /*index*/
      t43[30]
    ] !== void 0 && (u72.mediaInstance = /*mediaInstanceList*/
    t43[8][
      /*index*/
      t43[30]
    ]), i65 = new ue6({ props: u72 }), ft.push(() => Me(i65, "mediaInstance", s60)), {
      c() {
        Ae(i65.$$.fragment);
      },
      m(n72, r66) {
        Dt(i65, n72, r66), a62 = true;
      },
      p(n72, r66) {
        t43 = n72;
        const m66 = r66[0] & /*mediaItemConfig, mediaDataList, tag*/
        1153 ? ve(e48, [
          r66[0] & /*mediaItemConfig*/
          128 && Ne(
            /*mediaItemConfig*/
            t43[7]
          ),
          r66[0] & /*mediaDataList*/
          1024 && { media: (
            /*media*/
            t43[28]
          ) },
          r66[0] & /*tag*/
          1 && { tag: (
            /*tag*/
            t43[0]
          ) }
        ]) : {};
        !o71 && r66[0] & /*mediaInstanceList*/
        256 && (o71 = true, m66.mediaInstance = /*mediaInstanceList*/
        t43[8][
          /*index*/
          t43[30]
        ], pe(() => o71 = false)), i65.$set(m66);
      },
      i(n72) {
        a62 || (ot(i65.$$.fragment, n72), a62 = true);
      },
      o(n72) {
        $t(i65.$$.fragment, n72), a62 = false;
      },
      d(n72) {
        Rt(i65, n72);
      }
    }
  );
}
function Ie2(t43) {
  let i65, o71, a62 = (
    /*mediaDataList*/
    t43[10]
  ), e48 = [];
  for (let u72 = 0; u72 < a62.length; u72 += 1)
    e48[u72] = P32(K24(t43, a62, u72));
  const s60 = (u72) => $t(e48[u72], 1, 1, () => {
    e48[u72] = null;
  });
  return {
    c() {
      for (let u72 = 0; u72 < e48.length; u72 += 1)
        e48[u72].c();
      i65 = Yt();
    },
    m(u72, n72) {
      for (let r66 = 0; r66 < e48.length; r66 += 1)
        e48[r66] && e48[r66].m(u72, n72);
      Nt(u72, i65, n72), o71 = true;
    },
    p(u72, n72) {
      if (n72[0] & /*mediaItemConfig, mediaDataList, tag, mediaInstanceList*/
      1409) {
        a62 = /*mediaDataList*/
        u72[10];
        let r66;
        for (r66 = 0; r66 < a62.length; r66 += 1) {
          const m66 = K24(u72, a62, r66);
          e48[r66] ? (e48[r66].p(m66, n72), ot(e48[r66], 1)) : (e48[r66] = P32(m66), e48[r66].c(), ot(e48[r66], 1), e48[r66].m(i65.parentNode, i65));
        }
        for (Lt(), r66 = a62.length; r66 < e48.length; r66 += 1)
          s60(r66);
        Ot();
      }
    },
    i(u72) {
      if (!o71) {
        for (let n72 = 0; n72 < a62.length; n72 += 1)
          ot(e48[n72]);
        o71 = true;
      }
    },
    o(u72) {
      e48 = e48.filter(Boolean);
      for (let n72 = 0; n72 < e48.length; n72 += 1)
        $t(e48[n72]);
      o71 = false;
    },
    d(u72) {
      Vt(e48, u72), u72 && J4(i65);
    }
  };
}
function ye2(t43) {
  let i65, o71, a62 = (
    /*unfolded*/
    t43[5] && O27(t43)
  );
  return {
    c() {
      a62 && a62.c(), i65 = Yt();
    },
    m(e48, s60) {
      a62 && a62.m(e48, s60), Nt(e48, i65, s60), o71 = true;
    },
    p(e48, s60) {
      e48[5] ? a62 ? (a62.p(e48, s60), s60[0] & /*unfolded*/
      32 && ot(a62, 1)) : (a62 = O27(e48), a62.c(), ot(a62, 1), a62.m(i65.parentNode, i65)) : a62 && (Lt(), $t(a62, 1, 1, () => {
        a62 = null;
      }), Ot());
    },
    i(e48) {
      o71 || (ot(a62), o71 = true);
    },
    o(e48) {
      $t(a62), o71 = false;
    },
    d(e48) {
      a62 && a62.d(e48), e48 && J4(i65);
    }
  };
}
function ke2(t43, i65, o71) {
  let a62, e48, s60, u72, { tag: n72 } = i65, { mediaData: r66 } = i65, { inDelay: m66 = 0 } = i65, { outDelay: I49 = 0 } = i65, { duration: d73 = 0 } = i65, { unfolded: g67 = true } = i65, { animation: b55 = true } = i65, { mediaItemConfig: L40 } = i65, { enableCarousel: C52 = true } = i65, { autoplayConfig: v58 = {} } = i65;
  const { autoplayVideo: x49 = false, autoplayCarousel: $23 = true, autoplayVideoInCarousel: Ce4 = false } = v58;
  let c85 = [], y51 = 0, h66, T38 = null;
  const j37 = de("hooks"), B42 = de("mediaStore");
  function z28() {
    const l63 = c85[y51], f80 = l63 == null ? void 0 : l63.videoInstance;
    f80 && (f80.paused ? (f80.muted = false, f80.play()) : f80.pause());
  }
  ce(() => {
    j37.on("click", (l63) => {
      var f80;
      (f80 = n72.tag3DContentSvelte) != null && f80.css3DInstance && l63.tag.id === n72.id && l63.target === "TagContent" && z28();
    }), o71(
      0,
      n72.play = () => {
        const l63 = c85[y51], f80 = l63 == null ? void 0 : l63.videoInstance;
        f80 && (f80.muted = false, f80.play());
      },
      n72
    ), o71(
      0,
      n72.pause = () => {
        const l63 = c85[y51], f80 = l63 == null ? void 0 : l63.videoInstance;
        f80 && f80.pause();
      },
      n72
    ), T38 = setInterval(
      () => {
        u72 && (h66 == null || h66.goToNext());
      },
      3e3
    );
  }), le(() => {
    clearInterval(T38), j37.off("click", z28);
  });
  function ee10(l63, f80) {
    t43.$$.not_equal(c85[f80], l63) && (c85[f80] = l63, o71(8, c85));
  }
  function te10(l63) {
    ft[l63 ? "unshift" : "push"](() => {
      h66 = l63, o71(12, h66);
    });
  }
  const ne14 = (l63) => {
    a62 || B42.set({ currentMediaElement: null }), o71(11, y51 = l63.detail);
  };
  function ie10(l63) {
    t43.$$.not_equal(c85[0], l63) && (c85[0] = l63, o71(8, c85));
  }
  return t43.$$set = (l63) => {
    "tag" in l63 && o71(0, n72 = l63.tag), "mediaData" in l63 && o71(1, r66 = l63.mediaData), "inDelay" in l63 && o71(2, m66 = l63.inDelay), "outDelay" in l63 && o71(3, I49 = l63.outDelay), "duration" in l63 && o71(4, d73 = l63.duration), "unfolded" in l63 && o71(5, g67 = l63.unfolded), "animation" in l63 && o71(6, b55 = l63.animation), "mediaItemConfig" in l63 && o71(7, L40 = l63.mediaItemConfig), "enableCarousel" in l63 && o71(16, C52 = l63.enableCarousel), "autoplayConfig" in l63 && o71(17, v58 = l63.autoplayConfig);
  }, t43.$$.update = () => {
    t43.$$.dirty[0] & /*mediaInstanceList*/
    256 && o71(9, a62 = c85.every((l63) => l63.paused)), t43.$$.dirty[0] & /*enableCarousel, mediaData*/
    65538 && o71(13, e48 = C52 && (r66 == null ? void 0 : r66.length) > 1), t43.$$.dirty[0] & /*mediaData*/
    2 && o71(10, s60 = r66), t43.$$.dirty[0] & /*mediaDataList, paused*/
    1536 && (u72 = s60.length > 1 && $23 && a62);
  }, [
    n72,
    r66,
    m66,
    I49,
    d73,
    g67,
    b55,
    L40,
    c85,
    a62,
    s60,
    y51,
    h66,
    e48,
    x49,
    B42,
    C52,
    v58,
    ee10,
    te10,
    ne14,
    ie10
  ];
}
var at5 = class extends Ce {
  constructor(i65) {
    super(), Te(
      this,
      i65,
      ke2,
      ye2,
      Ft,
      {
        tag: 0,
        mediaData: 1,
        inDelay: 2,
        outDelay: 3,
        duration: 4,
        unfolded: 5,
        animation: 6,
        mediaItemConfig: 7,
        enableCarousel: 16,
        autoplayConfig: 17
      },
      pe5,
      [-1, -1]
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/ImageTextTag.js
function V15(l63) {
  Qt2(l63, "svelte-1f7m1lj", ".line.svelte-1f7m1lj{position:absolute;width:6.5625rem;height:1.3125rem;transform:translateY(-100%)}.text.svelte-1f7m1lj{position:absolute;width:6.25rem;left:1rem;bottom:0.0625rem;font-weight:600}.media-wrapper.svelte-1f7m1lj{position:absolute;left:0.875rem;top:-5.3125rem;width:5.625rem;height:3.75rem;font-weight:600}");
}
function I34(l63) {
  let r66, o71, t43, e48, m66, a62, s60, d73;
  r66 = new T22({
    props: {
      visible: (
        /*unfolded*/
        l63[3]
      ),
      left: 61,
      bottom: 57,
      width: 2,
      blurRadius: 150,
      spreadRadius: 75
    }
  }), e48 = new A37({
    props: {
      unfolded: (
        /*unfolded*/
        l63[3]
      ),
      outDelay: 400
    }
  });
  let f80 = (
    /*content*/
    l63[2] && N22(l63)
  ), n72 = (
    /*mediaData*/
    l63[1] && P33(l63)
  );
  return {
    c() {
      Ae(r66.$$.fragment), o71 = Xt(), t43 = K4("div"), Ae(e48.$$.fragment), m66 = Xt(), f80 && f80.c(), a62 = Xt(), n72 && n72.c(), s60 = Yt(), te2(t43, "class", "line svelte-1f7m1lj");
    },
    m(i65, p66) {
      Dt(r66, i65, p66), Nt(i65, o71, p66), Nt(i65, t43, p66), Dt(e48, t43, null), Nt(i65, m66, p66), f80 && f80.m(i65, p66), Nt(i65, a62, p66), n72 && n72.m(i65, p66), Nt(i65, s60, p66), d73 = true;
    },
    p(i65, p66) {
      const D52 = {};
      p66 & /*unfolded*/
      8 && (D52.visible = /*unfolded*/
      i65[3]), r66.$set(D52);
      const C52 = {};
      p66 & /*unfolded*/
      8 && (C52.unfolded = /*unfolded*/
      i65[3]), e48.$set(C52), /*content*/
      i65[2] ? f80 ? (f80.p(i65, p66), p66 & /*content*/
      4 && ot(f80, 1)) : (f80 = N22(i65), f80.c(), ot(f80, 1), f80.m(a62.parentNode, a62)) : f80 && (Lt(), $t(f80, 1, 1, () => {
        f80 = null;
      }), Ot()), /*mediaData*/
      i65[1] ? n72 ? (n72.p(i65, p66), p66 & /*mediaData*/
      2 && ot(n72, 1)) : (n72 = P33(i65), n72.c(), ot(n72, 1), n72.m(s60.parentNode, s60)) : n72 && (Lt(), $t(n72, 1, 1, () => {
        n72 = null;
      }), Ot());
    },
    i(i65) {
      d73 || (ot(r66.$$.fragment, i65), ot(e48.$$.fragment, i65), ot(f80), ot(n72), d73 = true);
    },
    o(i65) {
      $t(r66.$$.fragment, i65), $t(e48.$$.fragment, i65), $t(f80), $t(n72), d73 = false;
    },
    d(i65) {
      Rt(r66, i65), i65 && J4(o71), i65 && J4(t43), Rt(e48), i65 && J4(m66), f80 && f80.d(i65), i65 && J4(a62), n72 && n72.d(i65), i65 && J4(s60);
    }
  };
}
function N22(l63) {
  let r66, o71, t43;
  return o71 = new ae5({
    props: {
      unfolded: (
        /*unfolded*/
        l63[3]
      ),
      content: (
        /*content*/
        l63[2]
      ),
      inDelay: 500
    }
  }), {
    c() {
      r66 = K4("div"), Ae(o71.$$.fragment), te2(r66, "class", "text svelte-1f7m1lj");
    },
    m(e48, m66) {
      Nt(e48, r66, m66), Dt(o71, r66, null), t43 = true;
    },
    p(e48, m66) {
      const a62 = {};
      m66 & /*unfolded*/
      8 && (a62.unfolded = /*unfolded*/
      e48[3]), m66 & /*content*/
      4 && (a62.content = /*content*/
      e48[2]), o71.$set(a62);
    },
    i(e48) {
      t43 || (ot(o71.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(o71.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      e48 && J4(r66), Rt(o71);
    }
  };
}
function P33(l63) {
  let r66, o71, t43;
  return o71 = new at5({
    props: {
      autoplayConfig: { autoplayCarousel: false },
      unfolded: (
        /*unfolded*/
        l63[3]
      ),
      mediaData: (
        /*mediaData*/
        l63[1]
      ),
      tag: (
        /*tag*/
        l63[0]
      ),
      enableCarousel: false,
      mediaItemConfig: {
        canPlay: false,
        playButtonSizeIfNeed: "small",
        disableVideoIfHavePoster: true
      },
      inDelay: 500,
      duration: 500
    }
  }), {
    c() {
      r66 = K4("div"), Ae(o71.$$.fragment), te2(r66, "class", "media-wrapper svelte-1f7m1lj");
    },
    m(e48, m66) {
      Nt(e48, r66, m66), Dt(o71, r66, null), t43 = true;
    },
    p(e48, m66) {
      const a62 = {};
      m66 & /*unfolded*/
      8 && (a62.unfolded = /*unfolded*/
      e48[3]), m66 & /*mediaData*/
      2 && (a62.mediaData = /*mediaData*/
      e48[1]), m66 & /*tag*/
      1 && (a62.tag = /*tag*/
      e48[0]), o71.$set(a62);
    },
    i(e48) {
      t43 || (ot(o71.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(o71.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      e48 && J4(r66), Rt(o71);
    }
  };
}
function Y19(l63) {
  let r66, o71, t43 = (
    /*tag*/
    l63[0].state && I34(l63)
  );
  return {
    c() {
      t43 && t43.c(), r66 = Yt();
    },
    m(e48, m66) {
      t43 && t43.m(e48, m66), Nt(e48, r66, m66), o71 = true;
    },
    p(e48, [m66]) {
      e48[0].state ? t43 ? (t43.p(e48, m66), m66 & /*tag*/
      1 && ot(t43, 1)) : (t43 = I34(e48), t43.c(), ot(t43, 1), t43.m(r66.parentNode, r66)) : t43 && (Lt(), $t(t43, 1, 1, () => {
        t43 = null;
      }), Ot());
    },
    i(e48) {
      o71 || (ot(t43), o71 = true);
    },
    o(e48) {
      $t(t43), o71 = false;
    },
    d(e48) {
      t43 && t43.d(e48), e48 && J4(r66);
    }
  };
}
function A40(l63, r66, o71) {
  let t43, e48, m66, a62, { tag: s60 } = r66;
  return l63.$$set = (d73) => {
    "tag" in d73 && o71(0, s60 = d73.tag);
  }, l63.$$.update = () => {
    var d73, f80, n72;
    l63.$$.dirty & /*tag*/
    1 && o71(3, t43 = s60.state ? s60.state.unfolded : false), l63.$$.dirty & /*tag*/
    1 && o71(4, e48 = (f80 = (d73 = s60.data.title) != null ? d73 : s60.data.text) != null ? f80 : ""), l63.$$.dirty & /*title*/
    16 && o71(2, m66 = ((n72 = e48.length) != null ? n72 : 0) > 7 ? e48.substring(0, 6) + "..." : e48), l63.$$.dirty & /*tag*/
    1 && o71(1, a62 = s60.data.mediaData);
  }, [s60, a62, m66, t43, e48];
}
var qe3 = class extends Ce {
  constructor(r66) {
    super(), Te(this, r66, A40, Y19, Ft, { tag: 0 }, V15);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/MarketingTag.js
function de6(i65) {
  Qt2(i65, "svelte-1707m54", '@charset "UTF-8";.svelte-1707m54.svelte-1707m54{box-sizing:border-box}.marketing.svelte-1707m54.svelte-1707m54{transform:translateY(-100%)}.marketing.svelte-1707m54 .line.svelte-1707m54{position:absolute;height:1.875rem;width:0.0625rem;left:50%;transform:translateX(-50%);background-color:white;bottom:0;transform-origin:bottom;transition:all 500ms}.marketing.svelte-1707m54 .content.svelte-1707m54{position:relative;min-width:7.5rem;width:-moz-max-content;width:max-content;height:-moz-max-content;height:max-content;border-radius:0.25rem;top:-1.875rem;left:-1rem;padding:0.5rem 0rem 0.5625rem;transition-property:opacity, transform;transition-duration:500ms}.marketing.svelte-1707m54 .content .headerImage.svelte-1707m54{position:absolute;width:100%;top:0.25rem;transform:translateY(-100%);border-top-left-radius:0.25rem;border-top-right-radius:0.25rem}.title-wrapper.svelte-1707m54.svelte-1707m54{position:relative;width:100%;height:1.125rem}.title-wrapper.svelte-1707m54 .title.svelte-1707m54{border-radius:0.25rem;width:100%;padding-left:0.625rem;padding-right:0.625rem}.title-wrapper.svelte-1707m54 .title .text.svelte-1707m54{display:block;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-size:0.75rem;font-weight:bold;line-height:1.125rem}.footer.svelte-1707m54.svelte-1707m54{box-sizing:border-box;width:100%;padding:0.5rem 0.625rem 0;display:flex;justify-content:space-between;align-items:center}.footer.svelte-1707m54 .price-section.svelte-1707m54{flex-shrink:0;max-width:calc(100% - 1.875rem);overflow:hidden;white-space:nowrap}.footer.svelte-1707m54 .price-section .value.svelte-1707m54{font-size:0.875rem;line-height:1rem;font-weight:normal;font-family:TG-TYPE, PingFangSC, Segoe UI, Rototo, sans-serif;letter-spacing:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.footer.svelte-1707m54 .price-section .unit.svelte-1707m54{font-size:0.625rem;margin-left:0.125rem}.footer.svelte-1707m54 .action-section.svelte-1707m54{display:flex;align-items:center;height:0.875rem}.footer.svelte-1707m54 .action-section .highlight-text.svelte-1707m54{font-size:0.625rem;line-height:0.875rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:8.75rem}.footer.svelte-1707m54 .action-section .arrow.svelte-1707m54{display:flex;align-items:center;margin-left:0.25rem;flex-shrink:0;width:0.625rem}.footer.svelte-1707m54 .action-section .arrow svg.svelte-1707m54{width:0.375rem;height:0.625rem}.tags-wrapper.svelte-1707m54.svelte-1707m54{position:relative;overflow:hidden;height:1rem;margin-top:0.25rem}.tags-wrapper.svelte-1707m54 .tags.svelte-1707m54{position:relative;display:inline-flex;max-width:100%;flex-wrap:wrap;padding-left:0.625rem;padding-right:0.375rem}.tags-wrapper.svelte-1707m54 .tags .tag.svelte-1707m54{display:block;text-align:center;flex-shrink:0;flex-grow:0;font-size:0.625rem;height:1rem;line-height:1rem;margin-right:0.25rem;margin-bottom:0.25rem;padding:0 0.25rem;border-radius:0.125rem;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;box-sizing:border-box}.marketing.light.svelte-1707m54 .content.svelte-1707m54{background-color:white}.marketing.light.svelte-1707m54 .content .title-wrapper .title .text.svelte-1707m54{color:rgba(0, 0, 0, 0.8)}.marketing.light.svelte-1707m54 .content .tags-wrapper .tags .primary-tag.svelte-1707m54{background:rgba(234, 208, 154, 0.5);color:#946700}.marketing.light.svelte-1707m54 .content .tags-wrapper .tags .secondary-tag.svelte-1707m54{background:rgba(0, 0, 0, 0.06);color:rgba(0, 0, 0, 0.5)}.marketing.light.svelte-1707m54 .content .footer.svelte-1707m54{color:#946700;fill:#946700}.marketing.dark.svelte-1707m54 .content.svelte-1707m54{background-color:rgba(0, 0, 0, 0.5)}.marketing.dark.svelte-1707m54 .content .title-wrapper .title .text.svelte-1707m54{color:white}.marketing.dark.svelte-1707m54 .content .tags-wrapper .tags .primary-tag.svelte-1707m54{background:rgba(234, 208, 154, 0.5);color:white}.marketing.dark.svelte-1707m54 .content .tags-wrapper .tags .secondary-tag.svelte-1707m54{background:rgba(255, 255, 255, 0.15);color:rgba(255, 255, 255, 0.85)}.marketing.dark.svelte-1707m54 .content .footer.svelte-1707m54{color:#ead09a;fill:#ead09a}.marketing.unfolded.svelte-1707m54 .line.svelte-1707m54{transform:translateX(-50%) scale(1, 1);transition-timing-function:ease-out}.marketing.folded.svelte-1707m54 .line.svelte-1707m54{transform:translateX(-50%) scale(1, 0);transition-timing-function:ease-in}.marketing.unfolded.svelte-1707m54 .content.svelte-1707m54{opacity:1;transform:translateY(0);transition-timing-function:ease-out}.marketing.folded.svelte-1707m54 .content.svelte-1707m54{opacity:0;transform:translateY(0.425rem);transition-timing-function:ease-in}.tag.svelte-1707m54.svelte-1707m54,.text.svelte-1707m54.svelte-1707m54{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}');
}
function q24(i65, e48, t43) {
  const r66 = i65.slice();
  return r66[0] = e48[t43], r66;
}
function x29(i65, e48, t43) {
  const r66 = i65.slice();
  return r66[0] = e48[t43], r66;
}
function O28(i65) {
  let e48, t43;
  return {
    c() {
      e48 = K4("img"), te2(e48, "class", "headerImage svelte-1707m54"), Wt(e48.src, t43 = /*data*/
      i65[1].headerPictureUrl) || te2(e48, "src", t43), te2(e48, "alt", "");
    },
    m(r66, o71) {
      Nt(r66, e48, o71);
    },
    p(r66, o71) {
      o71 & /*data*/
      2 && !Wt(e48.src, t43 = /*data*/
      r66[1].headerPictureUrl) && te2(e48, "src", t43);
    },
    d(r66) {
      r66 && J4(e48);
    }
  };
}
function j20(i65) {
  let e48, t43, r66, o71, a62, l63 = (
    /*primaryTags*/
    i65[4] || []
  ), n72 = [];
  for (let m66 = 0; m66 < l63.length; m66 += 1)
    n72[m66] = E33(x29(i65, l63, m66));
  let f80 = (
    /*secondaryTags*/
    i65[3] || []
  ), d73 = [];
  for (let m66 = 0; m66 < f80.length; m66 += 1)
    d73[m66] = G22(q24(i65, f80, m66));
  return {
    c() {
      e48 = K4("div"), t43 = K4("div");
      for (let m66 = 0; m66 < n72.length; m66 += 1)
        n72[m66].c();
      r66 = Xt();
      for (let m66 = 0; m66 < d73.length; m66 += 1)
        d73[m66].c();
      te2(t43, "class", "tags svelte-1707m54"), te2(e48, "class", "tags-wrapper svelte-1707m54");
    },
    m(m66, b55) {
      Nt(m66, e48, b55), pt(e48, t43);
      for (let s60 = 0; s60 < n72.length; s60 += 1)
        n72[s60] && n72[s60].m(t43, null);
      pt(t43, r66);
      for (let s60 = 0; s60 < d73.length; s60 += 1)
        d73[s60] && d73[s60].m(t43, null);
      o71 || (a62 = [
        Jt(E11.call(null, t43)),
        lt(
          t43,
          "clientHeight",
          /*clientHeight_handler*/
          i65[18]
        )
      ], o71 = true);
    },
    p(m66, b55) {
      if (b55 & /*minTagWidth, primaryTags*/
      16) {
        l63 = /*primaryTags*/
        m66[4] || [];
        let s60;
        for (s60 = 0; s60 < l63.length; s60 += 1) {
          const T38 = x29(m66, l63, s60);
          n72[s60] ? n72[s60].p(T38, b55) : (n72[s60] = E33(T38), n72[s60].c(), n72[s60].m(t43, r66));
        }
        for (; s60 < n72.length; s60 += 1)
          n72[s60].d(1);
        n72.length = l63.length;
      }
      if (b55 & /*minTagWidth, secondaryTags*/
      8) {
        f80 = /*secondaryTags*/
        m66[3] || [];
        let s60;
        for (s60 = 0; s60 < f80.length; s60 += 1) {
          const T38 = q24(m66, f80, s60);
          d73[s60] ? d73[s60].p(T38, b55) : (d73[s60] = G22(T38), d73[s60].c(), d73[s60].m(t43, null));
        }
        for (; s60 < d73.length; s60 += 1)
          d73[s60].d(1);
        d73.length = f80.length;
      }
    },
    d(m66) {
      m66 && J4(e48), Vt(n72, m66), Vt(d73, m66), o71 = false, M8(a62);
    }
  };
}
function E33(i65) {
  let e48, t43 = (
    /*tag*/
    i65[0] + ""
  ), r66;
  return {
    c() {
      e48 = K4("div"), r66 = gt(t43), te2(e48, "class", "tag primary-tag svelte-1707m54"), ne2(e48, "min-width", R31);
    },
    m(o71, a62) {
      Nt(o71, e48, a62), pt(e48, r66);
    },
    p(o71, a62) {
      a62 & /*primaryTags*/
      16 && t43 !== (t43 = /*tag*/
      o71[0] + "") && ee2(r66, t43);
    },
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function G22(i65) {
  let e48, t43 = (
    /*tag*/
    i65[0] + ""
  ), r66;
  return {
    c() {
      e48 = K4("div"), r66 = gt(t43), te2(e48, "class", "tag secondary-tag svelte-1707m54"), ne2(e48, "min-width", R31);
    },
    m(o71, a62) {
      Nt(o71, e48, a62), pt(e48, r66);
    },
    p(o71, a62) {
      a62 & /*secondaryTags*/
      8 && t43 !== (t43 = /*tag*/
      o71[0] + "") && ee2(r66, t43);
    },
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function N23(i65) {
  let e48, t43, r66, o71, a62, l63 = (
    /*havePrice*/
    i65[2] && Z12(i65)
  ), n72 = !/*havePrice*/
  i65[2] && /*data*/
  i65[1].highlightText && J26(i65);
  return {
    c() {
      e48 = K4("div"), l63 && l63.c(), t43 = Xt(), r66 = K4("div"), n72 && n72.c(), o71 = Xt(), a62 = K4("span"), a62.innerHTML = '<svg viewBox="0 0 6 9" class="svelte-1707m54"><g transform="translate(-3, -2)" fill-rule="nonzero" class="svelte-1707m54"><path d="M4.43868724,2.12056563 C4.28121824,1.95989074 4.02582143,1.95979988 3.86824251,2.1203627 C3.72498894,2.26632889 3.71189225,2.49481723 3.82900374,2.65587166 L6.57092402,5.92894326 C6.72651763,6.11470411 6.72651763,6.38529589 6.57092402,6.57105674 L3.86804348,9.79798499 C3.72488984,9.94405307 3.71194952,10.1725507 3.8291712,10.3335217 L3.86824251,10.3796373 C4.01149607,10.5256035 4.23559087,10.5387981 4.39346025,10.4192733 L4.43868724,10.3794344 L8.1144599,6.5985342 C8.30312347,6.40447482 8.30312347,6.09552518 8.1144599,5.9014658 L4.43868724,2.12056563 Z" class="svelte-1707m54"></path></g></svg>', te2(a62, "class", "arrow svelte-1707m54"), te2(r66, "class", "action-section svelte-1707m54"), te2(e48, "class", "footer svelte-1707m54");
    },
    m(f80, d73) {
      Nt(f80, e48, d73), l63 && l63.m(e48, null), pt(e48, t43), pt(e48, r66), n72 && n72.m(r66, null), pt(r66, o71), pt(r66, a62);
    },
    p(f80, d73) {
      f80[2] ? l63 ? l63.p(f80, d73) : (l63 = Z12(f80), l63.c(), l63.m(e48, t43)) : l63 && (l63.d(1), l63 = null), !/*havePrice*/
      f80[2] && /*data*/
      f80[1].highlightText ? n72 ? n72.p(f80, d73) : (n72 = J26(f80), n72.c(), n72.m(r66, o71)) : n72 && (n72.d(1), n72 = null);
    },
    d(f80) {
      f80 && J4(e48), l63 && l63.d(), n72 && n72.d();
    }
  };
}
function Z12(i65) {
  let e48, t43, r66 = (
    /*data*/
    i65[1].price.value + ""
  ), o71, a62, l63 = (
    /*data*/
    i65[1].price.unit && A41(i65)
  );
  return {
    c() {
      e48 = K4("div"), t43 = K4("span"), o71 = gt(r66), a62 = Xt(), l63 && l63.c(), te2(t43, "class", "value svelte-1707m54"), te2(e48, "class", "price-section svelte-1707m54");
    },
    m(n72, f80) {
      Nt(n72, e48, f80), pt(e48, t43), pt(t43, o71), pt(e48, a62), l63 && l63.m(e48, null);
    },
    p(n72, f80) {
      f80 & /*data*/
      2 && r66 !== (r66 = /*data*/
      n72[1].price.value + "") && ee2(o71, r66), /*data*/
      n72[1].price.unit ? l63 ? l63.p(n72, f80) : (l63 = A41(n72), l63.c(), l63.m(e48, null)) : l63 && (l63.d(1), l63 = null);
    },
    d(n72) {
      n72 && J4(e48), l63 && l63.d();
    }
  };
}
function A41(i65) {
  let e48, t43 = (
    /*data*/
    i65[1].price.unit + ""
  ), r66;
  return {
    c() {
      e48 = K4("span"), r66 = gt(t43), te2(e48, "class", "unit svelte-1707m54");
    },
    m(o71, a62) {
      Nt(o71, e48, a62), pt(e48, r66);
    },
    p(o71, a62) {
      a62 & /*data*/
      2 && t43 !== (t43 = /*data*/
      o71[1].price.unit + "") && ee2(r66, t43);
    },
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function J26(i65) {
  let e48, t43 = (
    /*data*/
    i65[1].highlightText + ""
  ), r66;
  return {
    c() {
      e48 = K4("span"), r66 = gt(t43), te2(e48, "class", "highlight-text svelte-1707m54");
    },
    m(o71, a62) {
      Nt(o71, e48, a62), pt(e48, r66);
    },
    p(o71, a62) {
      a62 & /*data*/
      2 && t43 !== (t43 = /*data*/
      o71[1].highlightText + "") && ee2(r66, t43);
    },
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function ce4(i65) {
  let e48, t43, r66, o71, a62, l63, n72, f80, d73, m66, b55 = (
    /*data*/
    i65[1].title + ""
  ), s60, T38, P55, z28, k47;
  t43 = new T22({
    props: {
      visible: (
        /*unfolded*/
        i65[5]
      ),
      outDelay: 500,
      left: 61,
      bottom: 87,
      blurRadius: 150,
      spreadRadius: 75
    }
  });
  let v58 = (
    /*data*/
    i65[1].headerPictureUrl && O28(i65)
  ), h66 = (
    /*hasTags*/
    i65[6] && j20(i65)
  ), u72 = (
    /*havePrice*/
    (i65[2] || /*data*/
    i65[1].highlightText) && N23(i65)
  );
  return {
    c() {
      e48 = K4("div"), Ae(t43.$$.fragment), r66 = Xt(), o71 = K4("div"), a62 = Xt(), l63 = K4("div"), v58 && v58.c(), n72 = Xt(), f80 = K4("div"), d73 = K4("div"), m66 = K4("div"), s60 = gt(b55), T38 = Xt(), h66 && h66.c(), P55 = Xt(), u72 && u72.c(), te2(o71, "class", "line svelte-1707m54"), ne2(
        o71,
        "transition-delay",
        /*unfolded*/
        i65[5] ? (
          /*lineDelayUnfolded*/
          i65[9] + "ms"
        ) : (
          /*lineDelayFolded*/
          i65[8] + "ms"
        )
      ), te2(m66, "class", "text svelte-1707m54"), te2(d73, "class", "title svelte-1707m54"), te2(f80, "class", "title-wrapper svelte-1707m54"), te2(l63, "class", "content svelte-1707m54"), ne2(l63, "max-width", e34(
        /*maxWidth*/
        i65[12]
      )), ne2(
        l63,
        "transition-delay",
        /*unfolded*/
        i65[5] ? (
          /*contentDelayUnfolded*/
          i65[7] + "ms"
        ) : "0ms"
      ), te2(e48, "class", z28 = Gt(`marketing ${/*theme*/
      i65[10]}`) + " svelte-1707m54"), re2(
        e48,
        "unfolded",
        /*unfolded*/
        i65[5]
      ), re2(
        e48,
        "folded",
        /*folded*/
        i65[11]
      );
    },
    m(p66, y51) {
      Nt(p66, e48, y51), Dt(t43, e48, null), pt(e48, r66), pt(e48, o71), pt(e48, a62), pt(e48, l63), v58 && v58.m(l63, null), pt(l63, n72), pt(l63, f80), pt(f80, d73), pt(d73, m66), pt(m66, s60), pt(l63, T38), h66 && h66.m(l63, null), pt(l63, P55), u72 && u72.m(l63, null), k47 = true;
    },
    p(p66, [y51]) {
      const w49 = {};
      y51 & /*unfolded*/
      32 && (w49.visible = /*unfolded*/
      p66[5]), t43.$set(w49), y51 & /*unfolded, lineDelayUnfolded, lineDelayFolded*/
      800 && ne2(
        o71,
        "transition-delay",
        /*unfolded*/
        p66[5] ? (
          /*lineDelayUnfolded*/
          p66[9] + "ms"
        ) : (
          /*lineDelayFolded*/
          p66[8] + "ms"
        )
      ), /*data*/
      p66[1].headerPictureUrl ? v58 ? v58.p(p66, y51) : (v58 = O28(p66), v58.c(), v58.m(l63, n72)) : v58 && (v58.d(1), v58 = null), (!k47 || y51 & /*data*/
      2) && b55 !== (b55 = /*data*/
      p66[1].title + "") && ee2(s60, b55), /*hasTags*/
      p66[6] ? h66 ? h66.p(p66, y51) : (h66 = j20(p66), h66.c(), h66.m(l63, P55)) : h66 && (h66.d(1), h66 = null), /*havePrice*/
      p66[2] || /*data*/
      p66[1].highlightText ? u72 ? u72.p(p66, y51) : (u72 = N23(p66), u72.c(), u72.m(l63, null)) : u72 && (u72.d(1), u72 = null), y51 & /*unfolded, contentDelayUnfolded*/
      160 && ne2(
        l63,
        "transition-delay",
        /*unfolded*/
        p66[5] ? (
          /*contentDelayUnfolded*/
          p66[7] + "ms"
        ) : "0ms"
      ), (!k47 || y51 & /*theme*/
      1024 && z28 !== (z28 = Gt(`marketing ${/*theme*/
      p66[10]}`) + " svelte-1707m54")) && te2(e48, "class", z28), (!k47 || y51 & /*theme, unfolded*/
      1056) && re2(
        e48,
        "unfolded",
        /*unfolded*/
        p66[5]
      ), (!k47 || y51 & /*theme, folded*/
      3072) && re2(
        e48,
        "folded",
        /*folded*/
        p66[11]
      );
    },
    i(p66) {
      k47 || (ot(t43.$$.fragment, p66), k47 = true);
    },
    o(p66) {
      $t(t43.$$.fragment, p66), k47 = false;
    },
    d(p66) {
      p66 && J4(e48), Rt(t43), v58 && v58.d(), h66 && h66.d(), u72 && u72.d();
    }
  };
}
var R31 = 40;
function ge6(i65, e48, t43) {
  let r66, o71, a62, l63, n72, f80, d73, m66, b55, s60, T38, P55, { tag: z28 } = e48, k47, v58 = (() => {
    var Y23;
    const w49 = (Y23 = z28.data.limitWidth) != null ? Y23 : true;
    if (typeof w49 == "number")
      return w49;
    if (w49 === true)
      return 172;
  })(), h66 = 0, u72 = false;
  function p66(w49) {
    Math.abs(k47 - w49) > 5 && (t43(14, k47 = w49), setTimeout(
      () => {
        t43(16, u72 = false);
      },
      100
    ));
  }
  const y51 = (w49) => p66(w49.detail);
  return i65.$$set = (w49) => {
    "tag" in w49 && t43(0, z28 = w49.tag);
  }, i65.$$.update = () => {
    var w49, Y23, S52, B42;
    i65.$$.dirty & /*tag*/
    1 && t43(5, r66 = (Y23 = (w49 = z28.state) == null ? void 0 : w49.unfolded) != null ? Y23 : false), i65.$$.dirty & /*unfolded*/
    32 && t43(11, o71 = !r66), i65.$$.dirty & /*tag*/
    1 && t43(1, a62 = z28.data), i65.$$.dirty & /*data*/
    2 && t43(2, l63 = i7((S52 = a62.price) == null ? void 0 : S52.value) && ((B42 = a62.price) == null ? void 0 : B42.value) !== ""), i65.$$.dirty & /*tag*/
    1 && t43(10, n72 = z28.data.theme || "light"), i65.$$.dirty & /*tagsCalculated, tagsOffsetHeight, maxTagsLength*/
    114688 && (!u72 || v58 && v58 > 0) && (t43(15, h66 = Math.max(1, Math.floor(((v58 || 172) - 20) / R31))), k47 !== void 0 && k47 > 40 && t43(15, h66 = Math.max(1, h66 - 1)), t43(16, u72 = true)), i65.$$.dirty & /*data, maxTagsLength*/
    32770 && t43(4, f80 = (a62.brandTags || []).filter(Boolean).slice(0, h66)), i65.$$.dirty & /*maxTagsLength, primaryTags*/
    32784 && t43(17, d73 = Math.max(0, h66 - f80.length)), i65.$$.dirty & /*data, secondaryTagsLimit*/
    131074 && t43(3, m66 = (a62.tags || []).filter(Boolean).slice(0, d73)), i65.$$.dirty & /*primaryTags, secondaryTags*/
    24 && t43(6, P55 = f80.length > 0 || m66.length > 0), i65.$$.dirty & /*havePrice, data*/
    6 && (l63 || a62.highlightText);
  }, t43(9, b55 = 400), t43(8, s60 = 180 + 500 - 500 - 40), t43(7, T38 = 400 + 180), [
    z28,
    a62,
    l63,
    m66,
    f80,
    r66,
    P55,
    T38,
    s60,
    b55,
    n72,
    o71,
    v58,
    p66,
    k47,
    h66,
    u72,
    d73,
    y51
  ];
}
var Dt2 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, ge6, ce4, Ft, { tag: 0 }, de6);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/noTypecheck.js
var e37 = (c85) => c85;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/audio/AudioDiagnostics.js
var d44 = (u72, o71, t43) => new Promise((e48, n72) => {
  var r66 = (s60) => {
    try {
      a62(t43.next(s60));
    } catch (i65) {
      n72(i65);
    }
  }, c85 = (s60) => {
    try {
      a62(t43.throw(s60));
    } catch (i65) {
      n72(i65);
    }
  }, a62 = (s60) => s60.done ? e48(s60.value) : Promise.resolve(s60.value).then(r66, c85);
  a62((t43 = t43.apply(u72, o71)).next());
});
var E34 = class {
  /**
   * 检查浏览器音频支持
   */
  static checkBrowserSupport() {
    var s60, i65, g67, m66;
    const o71 = navigator.userAgent, t43 = document.createElement("audio");
    let e48 = "Unknown", n72 = "Unknown";
    o71.includes("Edge/") ? (e48 = "Microsoft Edge", n72 = ((s60 = o71.match(/Edge\/(\d+)/)) == null ? void 0 : s60[1]) || "Unknown") : o71.includes("Chrome/") ? (e48 = "Chrome", n72 = ((i65 = o71.match(/Chrome\/(\d+)/)) == null ? void 0 : i65[1]) || "Unknown") : o71.includes("Firefox/") ? (e48 = "Firefox", n72 = ((g67 = o71.match(/Firefox\/(\d+)/)) == null ? void 0 : g67[1]) || "Unknown") : o71.includes("Safari/") && !o71.includes("Chrome") && (e48 = "Safari", n72 = ((m66 = o71.match(/Version\/(\d+)/)) == null ? void 0 : m66[1]) || "Unknown");
    const r66 = [
      { name: "MP3", mime: "audio/mpeg" },
      { name: "OGG", mime: "audio/ogg" },
      { name: "WAV", mime: "audio/wav" },
      { name: "M4A", mime: "audio/mp4" },
      { name: "AAC", mime: "audio/aac" },
      { name: "WEBM", mime: "audio/webm" }
    ], c85 = [], a62 = [];
    return r66.forEach((l63) => {
      const p66 = t43.canPlayType(l63.mime);
      p66 === "probably" ? c85.push(`${l63.name} (完全支持)`) : p66 === "maybe" ? (c85.push(`${l63.name} (可能支持)`), a62.push(`${l63.name} 格式支持不确定，建议使用其他格式`)) : a62.push(`${l63.name} 格式不被支持`);
    }), {
      browser: `${e48} ${n72}`,
      version: n72,
      supportedFormats: c85,
      warnings: a62
    };
  }
  /**
   * 测试音频URL的可访问性
   */
  static testAudioUrl(o71) {
    return d44(this, null, function* () {
      try {
        const t43 = yield fetch(o71, { method: "HEAD" });
        return {
          accessible: t43.ok,
          status: t43.status,
          contentType: t43.headers.get("content-type") || void 0,
          contentLength: parseInt(t43.headers.get("content-length") || "0") || void 0
        };
      } catch (t43) {
        return {
          accessible: false,
          error: t43 instanceof Error ? t43.message : String(t43)
        };
      }
    });
  }
  /**
   * 尝试创建和测试音频元素
   */
  static testAudioElement(o71) {
    return d44(this, null, function* () {
      return new Promise((t43) => {
        const e48 = new Audio();
        let n72 = false;
        const r66 = () => {
          n72 || (n72 = true, e48.removeEventListener("loadedmetadata", c85), e48.removeEventListener("error", s60), e48.removeEventListener("canplay", a62));
        }, c85 = () => {
          r66(), t43({
            success: true,
            duration: e48.duration,
            networkState: e48.networkState,
            readyState: e48.readyState
          });
        }, a62 = () => {
          r66(), t43({
            success: true,
            canPlay: "canplay",
            duration: e48.duration,
            networkState: e48.networkState,
            readyState: e48.readyState
          });
        }, s60 = () => {
          r66(), t43({
            success: false,
            error: e48.error ? `${e48.error.code}: ${e48.error.message}` : "Unknown audio error",
            networkState: e48.networkState,
            readyState: e48.readyState
          });
        };
        e48.addEventListener("loadedmetadata", c85), e48.addEventListener("canplay", a62), e48.addEventListener("error", s60), setTimeout(() => {
          n72 || (r66(), t43({
            success: false,
            error: "音频加载超时",
            networkState: e48.networkState,
            readyState: e48.readyState
          }));
        }, 1e4), e48.src = o71, e48.load();
      });
    });
  }
  /**
   * 完整的音频诊断
   */
  static diagnoseAudio(o71) {
    return d44(this, null, function* () {
      var c85;
      console.group("🎵 音频诊断报告"), console.group("1. 浏览器支持检查");
      const t43 = this.checkBrowserSupport();
      console.log("浏览器:", t43.browser), console.log("支持的格式:", t43.supportedFormats), t43.warnings.length > 0 && console.warn("警告:", t43.warnings), console.groupEnd(), console.group("2. 音频文件URL检查"), console.log("音频URL:", o71);
      try {
        new URL(o71, window.location.href), console.log("✅ URL格式正确");
      } catch (a62) {
        console.error("❌ URL格式错误"), console.groupEnd(), console.groupEnd();
        return;
      }
      const e48 = (c85 = o71.split(".").pop()) == null ? void 0 : c85.toLowerCase();
      e48 && (console.log("文件扩展名:", e48.toUpperCase()), ["mp3", "ogg", "wav", "m4a", "aac", "webm"].includes(e48) ? console.log("✅ 文件格式常见") : console.warn("⚠️ 不常见的文件格式，可能存在兼容性问题")), console.groupEnd(), console.group("3. 网络可访问性测试");
      const n72 = yield this.testAudioUrl(o71);
      n72.accessible ? (console.log("✅ 文件可访问"), console.log("HTTP状态:", n72.status), n72.contentType && console.log("内容类型:", n72.contentType), n72.contentLength && console.log("文件大小:", (n72.contentLength / 1024).toFixed(2), "KB")) : (console.error("❌ 文件无法访问"), n72.status && console.error("HTTP状态:", n72.status), n72.error && console.error("错误:", n72.error)), console.groupEnd(), console.group("4. 音频元素测试");
      const r66 = yield this.testAudioElement(o71);
      r66.success ? (console.log("✅ 音频元素创建成功"), r66.duration && console.log("音频时长:", r66.duration.toFixed(2), "秒"), console.log("网络状态:", this.getNetworkStateDescription(r66.networkState)), console.log("就绪状态:", this.getReadyStateDescription(r66.readyState))) : (console.error("❌ 音频元素创建失败"), console.error("错误:", r66.error), console.log("网络状态:", this.getNetworkStateDescription(r66.networkState)), console.log("就绪状态:", this.getReadyStateDescription(r66.readyState))), console.groupEnd(), console.groupEnd();
    });
  }
  static getNetworkStateDescription(o71) {
    switch (o71) {
      case 0:
        return "NETWORK_EMPTY - 音频元素尚未初始化";
      case 1:
        return "NETWORK_IDLE - 音频元素处于活动状态但未使用网络";
      case 2:
        return "NETWORK_LOADING - 浏览器正在下载数据";
      case 3:
        return "NETWORK_NO_SOURCE - 未找到合适的音频源";
      default:
        return `未知状态 (${o71})`;
    }
  }
  static getReadyStateDescription(o71) {
    switch (o71) {
      case 0:
        return "HAVE_NOTHING - 没有音频数据";
      case 1:
        return "HAVE_METADATA - 已获取元数据";
      case 2:
        return "HAVE_CURRENT_DATA - 有当前播放位置的数据";
      case 3:
        return "HAVE_FUTURE_DATA - 有足够的数据开始播放";
      case 4:
        return "HAVE_ENOUGH_DATA - 有足够的数据流畅播放";
      default:
        return `未知状态 (${o71})`;
    }
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/audio/SharedAudio.js
var f45 = Object.defineProperty;
var A42 = (l63, u72, e48) => u72 in l63 ? f45(l63, u72, { enumerable: true, configurable: true, writable: true, value: e48 }) : l63[u72] = e48;
var h45 = (l63, u72, e48) => (A42(l63, typeof u72 != "symbol" ? u72 + "" : u72, e48), e48);
var v32 = (l63, u72, e48) => new Promise((t43, o71) => {
  var a62 = (i65) => {
    try {
      d73(e48.next(i65));
    } catch (c85) {
      o71(c85);
    }
  }, s60 = (i65) => {
    try {
      d73(e48.throw(i65));
    } catch (c85) {
      o71(c85);
    }
  }, d73 = (i65) => i65.done ? t43(i65.value) : Promise.resolve(i65.value).then(a62, s60);
  d73((e48 = e48.apply(l63, u72)).next());
});
var S36 = class extends Audio {
  constructor(e48) {
    super();
    h45(this, "sharedAudioSrc");
    h45(this, "sharedAudioPaused", true);
    h45(this, "sharedAudioCurrentTime", 0);
    h45(this, "tryplaying", false);
    h45(this, "audioInstance");
    h45(this, "eventListenerDisposer");
    this.sharedAudioSrc = e48, e48 && this.validateAudioSource(e48);
  }
  get paused() {
    var e48;
    return (e48 = this.sharedAudioPaused) != null ? e48 : true;
  }
  get currentTime() {
    return this.sharedAudioCurrentTime;
  }
  get duration() {
    var e48;
    return ((e48 = this.audioInstance) == null ? void 0 : e48.duration) || 0;
  }
  play() {
    return v32(this, null, function* () {
      var t43, o71, a62;
      if (this.tryplaying)
        return;
      this.tryplaying = true, (!this.audioInstance || ((t43 = this.audioInstance) == null ? void 0 : t43.realSrc) !== this.sharedAudioSrc) && (this.audioInstance = L24(this.sharedAudioSrc, { namespace: d36.PlayAudio })), (o71 = this.eventListenerDisposer) == null || o71.call(this), this.eventListenerDisposer = this.addEventListeners(), this.audioInstance.currentTime = (a62 = this.currentTime) != null ? a62 : 0;
      const e48 = this.audioInstance.currentTime !== this.currentTime;
      this.audioInstance.play().then(() => {
        var s60;
        this.audioInstance.muted = false, e48 && (this.audioInstance.currentTime = (s60 = this.currentTime) != null ? s60 : 0), this.sharedAudioPaused = false;
      }).catch((s60) => {
        var d73;
        this.handlePlayError(s60), this.endedHandler(), (d73 = this.onerror) == null || d73.call(this, s60);
      }).finally(() => {
        this.tryplaying = false;
      });
    });
  }
  pause(e48) {
    var t43;
    if (this.audioInstance && !this.paused) {
      if (this.sharedAudioPaused = true, (t43 = this.eventListenerDisposer) == null || t43.call(this), this.audioInstance.ended) {
        this.endedHandler();
        return;
      }
      this.audioInstance.paused || this.audioInstance.pause(), this.onpause(e48 != null ? e48 : new Event("pause")), this.clear();
    }
  }
  dispose() {
    var e48;
    (e48 = this.eventListenerDisposer) == null || e48.call(this), this.clear(), this.audioInstance = void 0;
  }
  clear() {
    var e48;
    (e48 = this.audioInstance) == null || e48.clear();
  }
  handlePlayError(e48) {
    var a62, s60, d73, i65;
    const t43 = navigator.userAgent, o71 = this.sharedAudioSrc;
    if (console.group("🎵 音频播放错误详情"), console.error("错误对象:", e48), console.error("错误名称:", e48.name), console.error("错误信息:", e48.message), console.error("音频文件路径:", o71), console.error("浏览器信息:", t43), console.error("音频实例状态:", {
      exists: !!this.audioInstance,
      readyState: (a62 = this.audioInstance) == null ? void 0 : a62.readyState,
      networkState: (s60 = this.audioInstance) == null ? void 0 : s60.networkState,
      error: (d73 = this.audioInstance) == null ? void 0 : d73.error
    }), e48.name === "NotSupportedError") {
      if (e48.message.includes("no supported source was found") && (console.error("❌ 错误原因: 无法找到支持的音频源"), console.error("💡 可能的解决方案:"), console.error("   1. 检查音频文件路径是否正确"), console.error("   2. 检查音频文件是否存在"), console.error("   3. 检查音频文件格式是否被浏览器支持 (推荐: MP3, OGG, WAV)"), console.error("   4. 检查CORS设置，确保可以跨域访问音频文件"), o71)) {
        const c85 = (i65 = o71.split(".").pop()) == null ? void 0 : i65.toLowerCase(), p66 = ["mp3", "ogg", "wav", "m4a", "aac"];
        c85 && !p66.includes(c85) && (console.error(`   ⚠️  检测到不常见的音频格式: .${c85}`), console.error(`   📝 建议使用: ${p66.join(", ")}`));
      }
    } else
      e48.name === "AbortError" ? console.error("❌ 错误原因: 音频播放被中断") : e48.name === "NotAllowedError" ? console.error("❌ 错误原因: 浏览器阻止了音频播放 (通常需要用户交互)") : e48.message === "The operation is not supported." ? console.error("❌ 错误原因: 音频文件可能损坏或格式有问题") : console.error("❌ 未知的音频播放错误");
    console.groupEnd(), e48.name === "NotSupportedError" && o71 && (console.error("💡 建议运行完整音频诊断来查找问题根源："), console.error(`AudioDiagnostics.diagnoseAudio("${o71}")`), console.warn("🔍 自动运行音频诊断..."), E34.diagnoseAudio(o71));
  }
  validateAudioSource(e48) {
    var a62;
    try {
      new URL(e48, window.location.href);
    } catch (s60) {
      console.warn("🎵 音频URL格式可能有问题:", e48), E34.diagnoseAudio(e48);
      return;
    }
    const t43 = (a62 = e48.split(".").pop()) == null ? void 0 : a62.toLowerCase(), o71 = ["mp3", "ogg", "wav", "m4a", "aac", "webm"];
    t43 && !o71.includes(t43) && (console.warn("🎵 音频格式可能不被广泛支持:", t43), console.warn("💡 建议使用常见格式:", o71.join(", ")), console.warn('💡 运行音频诊断：AudioDiagnostics.diagnoseAudio("' + e48 + '")')), this.checkBrowserSupport(t43);
  }
  checkBrowserSupport(e48) {
    if (!e48)
      return;
    const t43 = document.createElement("audio"), a62 = {
      mp3: "audio/mpeg",
      ogg: "audio/ogg",
      wav: "audio/wav",
      m4a: "audio/mp4",
      aac: "audio/aac",
      webm: "audio/webm"
    }[e48];
    if (a62) {
      const s60 = t43.canPlayType(a62);
      s60 === "" ? (console.warn(`🎵 当前浏览器可能不支持 ${e48.toUpperCase()} 格式`), console.warn("💡 建议提供多种格式的音频文件作为备选")) : console.info(s60 === "maybe" ? `🎵 当前浏览器可能支持 ${e48.toUpperCase()} 格式 (不确定)` : `🎵 当前浏览器支持 ${e48.toUpperCase()} 格式`);
    }
  }
  endedHandler(e48) {
    var t43, o71;
    (t43 = this.onended) == null || t43.call(this, e48 != null ? e48 : new Event("ended")), (o71 = this.eventListenerDisposer) == null || o71.call(this), this.sharedAudioPaused = true, this.sharedAudioCurrentTime = 0, this.clear();
  }
  addEventListeners() {
    const e48 = this.audioInstance;
    if (!e48)
      return;
    const t43 = (r66) => {
      var n72;
      this.sharedAudioCurrentTime = e48.currentTime, (n72 = this.ontimeupdate) == null || n72.call(this, r66);
    }, o71 = (r66) => {
      var n72;
      e48.isBlankAudio || (this.sharedAudioPaused = false, (n72 = this.onplay) == null || n72.call(this, r66));
    }, a62 = (r66) => {
      this.pause(r66);
    }, s60 = (r66) => {
      this.endedHandler(r66);
    }, d73 = (r66) => {
      var n72;
      this.sharedAudioPaused = true, (n72 = this.onerror) == null || n72.call(this, r66);
    }, i65 = (r66) => {
      var n72;
      return (n72 = this.oncanplay) == null ? void 0 : n72.call(this, r66);
    }, c85 = (r66) => {
      var n72;
      return (n72 = this.oncanplaythrough) == null ? void 0 : n72.call(this, r66);
    }, p66 = (r66) => {
      var n72;
      return (n72 = this.onloadeddata) == null ? void 0 : n72.call(this, r66);
    }, m66 = (r66) => {
      var n72;
      return (n72 = this.onloadedmetadata) == null ? void 0 : n72.call(this, r66);
    };
    return e48.addEventListener("timeupdate", t43), e48.addEventListener("play", o71), e48.addEventListener("pause", a62), e48.addEventListener("ended", s60), e48.addEventListener("error", d73), e48.addEventListener("canplay", i65), e48.addEventListener("canplaythrough", c85), e48.addEventListener("loadeddata", p66), e48.addEventListener("loadedmetadata", m66), () => {
      e48.removeEventListener("timeupdate", t43), e48.removeEventListener("play", o71), e48.removeEventListener("pause", a62), e48.removeEventListener("ended", s60), e48.removeEventListener("error", d73), e48.removeEventListener("canplay", i65), e48.removeEventListener("canplaythrough", c85), e48.removeEventListener("loadeddata", p66), e48.removeEventListener("loadedmetadata", m66);
    };
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Audio.js
var S37 = Object.defineProperty;
var _22 = Object.getOwnPropertySymbols;
var C39 = Object.prototype.hasOwnProperty;
var A43 = Object.prototype.propertyIsEnumerable;
var g36 = (o71, n72, t43) => n72 in o71 ? S37(o71, n72, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[n72] = t43;
var d45 = (o71, n72) => {
  for (var t43 in n72 || (n72 = {}))
    C39.call(n72, t43) && g36(o71, t43, n72[t43]);
  if (_22)
    for (var t43 of _22(n72))
      A43.call(n72, t43) && g36(o71, t43, n72[t43]);
  return o71;
};
function K25(o71) {
  Qt2(o71, "svelte-13e7hxv", ".audio.svelte-13e7hxv{pointer-events:auto;cursor:pointer;width:100%;height:100%}");
}
function O29(o71) {
  let n72, t43, c85, m66;
  const r66 = (
    /*#slots*/
    o71[8].default
  ), u72 = Bt(
    r66,
    o71,
    /*$$scope*/
    o71[7],
    null
  );
  return {
    c() {
      n72 = K4("div"), u72 && u72.c(), te2(n72, "class", "audio svelte-13e7hxv"), te2(
        n72,
        "style",
        /*style*/
        o71[0]
      );
    },
    m(a62, i65) {
      Nt(a62, n72, i65), u72 && u72.m(n72, null), t43 = true, c85 || (m66 = lt(n72, "click", Zt(
        /*onClick*/
        o71[1]
      )), c85 = true);
    },
    p(a62, [i65]) {
      u72 && u72.p && (!t43 || i65 & /*$$scope*/
      128) && It(
        u72,
        r66,
        a62,
        /*$$scope*/
        a62[7],
        t43 ? Ht(
          r66,
          /*$$scope*/
          a62[7],
          i65,
          null
        ) : Ut(
          /*$$scope*/
          a62[7]
        ),
        null
      ), (!t43 || i65 & /*style*/
      1) && te2(
        n72,
        "style",
        /*style*/
        a62[0]
      );
    },
    i(a62) {
      t43 || (ot(u72, a62), t43 = true);
    },
    o(a62) {
      $t(u72, a62), t43 = false;
    },
    d(a62) {
      a62 && J4(n72), u72 && u72.d(a62), c85 = false, m66();
    }
  };
}
function Q24(o71, n72, t43) {
  let { $$slots: c85 = {}, $$scope: m66 } = n72, { url: r66 } = n72, { enable: u72 = true } = n72, { style: a62 = "" } = n72, { hooksInfo: i65 } = n72;
  const l63 = fe2(), p66 = de("hooks"), h66 = de("mediaStore");
  let e48, f80 = true;
  function b55() {
    t43(
      5,
      e48.onplay = (s60) => {
        p66.emit("playStateChange", d45({
          event: s60,
          state: "playing",
          mediaInstance: e48
        }, i65)), l63("play"), t43(6, f80 = false);
      },
      e48
    ), t43(
      5,
      e48.onpause = (s60) => {
        p66.emit("playStateChange", d45({
          event: s60,
          state: "paused",
          mediaInstance: e48
        }, i65)), l63("pause"), t43(6, f80 = true);
      },
      e48
    ), t43(
      5,
      e48.onended = (s60) => {
        p66.emit("playStateChange", d45({
          event: s60,
          state: "paused",
          mediaInstance: e48
        }, i65)), l63("pause"), t43(6, f80 = true);
      },
      e48
    ), t43(
      5,
      e48.onloadedmetadata = (s60) => {
        typeof e48.duration == "number" && !Number.isNaN(e48.duration) && l63("duration", e48.duration);
      },
      e48
    ), t43(
      5,
      e48.onerror = (s60) => {
        l63("pause"), t43(6, f80 = true);
      },
      e48
    ), t43(
      5,
      e48.ontimeupdate = (s60) => {
        l63("timeupdate", e48.currentTime);
      },
      e48
    );
  }
  h66.subscribe(({ currentMediaElement: s60 }) => {
    s60 !== e48 && (f80 || e48 == null || e48.pause());
  });
  function k47(s60) {
    e48 && (p66.emit("click", d45({
      event: s60,
      target: "AudioTagPlayIcon",
      audioInstance: e48
    }, i65)), h66.set({ currentMediaElement: e48 }), p66.emit("playStateChange", d45({
      event: s60,
      state: e48.paused ? "playing" : "paused",
      mediaInstance: e48
    }, i65)), e48.paused ? e48.play() : e48.pause());
  }
  return o71.$$set = (s60) => {
    "url" in s60 && t43(2, r66 = s60.url), "enable" in s60 && t43(3, u72 = s60.enable), "style" in s60 && t43(0, a62 = s60.style), "hooksInfo" in s60 && t43(4, i65 = s60.hooksInfo), "$$scope" in s60 && t43(7, m66 = s60.$$scope);
  }, o71.$$.update = () => {
    o71.$$.dirty & /*url*/
    4 && (r66 || l63("duration", 0)), o71.$$.dirty & /*audio, url*/
    36 && (e48 == null || e48.dispose(), t43(5, e48 = new S36(r66)), l63("audioRef", e48), setTimeout(() => l63("audioRef", e48), 200), b55()), o71.$$.dirty & /*enable, audio*/
    40 && (u72 || e48 == null || e48.pause()), o71.$$.dirty & /*enable, audioPaused*/
    72 && l63(u72 && !f80 ? "play" : "pause");
  }, [a62, k47, r66, u72, i65, e48, f80, m66, c85];
}
var Z13 = class extends Ce {
  constructor(n72) {
    super(), Te(
      this,
      n72,
      Q24,
      O29,
      Ft,
      {
        url: 2,
        enable: 3,
        style: 0,
        hooksInfo: 4
      },
      K25
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Icon/audioIcon.js
function L29(o71) {
  Qt2(o71, "svelte-6pnkgc", ".audio-icon__wrapper.svelte-6pnkgc.svelte-6pnkgc{display:inline-block}.audio-icon.svelte-6pnkgc.svelte-6pnkgc{display:flex;justify-content:center;align-items:center;position:relative;width:100%;height:100%;border-radius:50%}.audio-icon.svelte-6pnkgc .sound-wave__container.svelte-6pnkgc{position:absolute;pointer-events:none;top:0;left:0;width:100%;height:100%}@keyframes svelte-6pnkgc-sound_wave_1_animation{0%,10%{opacity:0}25%,100%{opacity:1}}@keyframes svelte-6pnkgc-sound_wave_2_animation{0%,35%{opacity:0}50%,100%{opacity:1}}@keyframes svelte-6pnkgc-sound_wave_3_animation{0%,60%{opacity:0}75%,100%{opacity:1}}");
}
function G23(o71) {
  let n72, i65;
  return n72 = new T22({
    props: {
      center: true,
      blurRadius: 12,
      spreadRadius: 5
    }
  }), {
    c() {
      Ae(n72.$$.fragment);
    },
    m(l63, g67) {
      Dt(n72, l63, g67), i65 = true;
    },
    i(l63) {
      i65 || (ot(n72.$$.fragment, l63), i65 = true);
    },
    o(l63) {
      $t(n72.$$.fragment, l63), i65 = false;
    },
    d(l63) {
      Rt(n72, l63);
    }
  };
}
function N24(o71) {
  let n72, i65, l63, g67, u72, k47, r66, f80, h66, s60, m66, a62, c85, y51, e48 = (
    /*shadow*/
    o71[0] && G23()
  );
  return {
    c() {
      n72 = K4("div"), e48 && e48.c(), i65 = Xt(), l63 = K4("div"), g67 = K4("div"), u72 = Mt("svg"), k47 = Mt("defs"), r66 = Mt("linearGradient"), f80 = Mt("stop"), h66 = Mt("stop"), s60 = Mt("linearGradient"), m66 = Mt("stop"), a62 = Mt("stop"), c85 = Mt("path"), te2(f80, "stop-color", "rgba(255, 255, 255, 1)"), te2(f80, "stop-opacity", ".5"), te2(f80, "offset", "0%"), te2(h66, "stop-color", "rgba(255, 255, 255, 1)"), te2(h66, "offset", "100%"), te2(r66, "x1", "8.653%"), te2(r66, "y1", "15.676%"), te2(r66, "x2", "85.159%"), te2(r66, "y2", "79.274%"), te2(r66, "id", "dnalogel-audio-icon-linear-gradient-1"), te2(m66, "stop-color", "rgba(255, 255, 255, 1)"), te2(m66, "offset", "0%"), te2(a62, "stop-color", "rgba(255, 255, 255, 1)"), te2(a62, "stop-opacity", "0"), te2(a62, "offset", "100%"), te2(s60, "x1", "0%"), te2(s60, "y1", "0%"), te2(s60, "x2", "64.422%"), te2(s60, "y2", "62.326%"), te2(s60, "id", "dnalogel-audio-icon-linear-gradient-2"), te2(
        c85,
        "d",
        /*d*/
        o71[3]
      ), te2(c85, "fill", "url(#dnalogel-audio-icon-linear-gradient-1)"), te2(c85, "fill-rule", "nonzero"), te2(c85, "stroke", "url(#dnalogel-audio-icon-linear-gradient-2)"), te2(c85, "stroke-width", ".5"), te2(u72, "viewBox", "0 0 24 24"), te2(u72, "version", "1.1"), te2(u72, "aria-label", "audio-icon"), te2(g67, "class", "sound-wave__container svelte-6pnkgc"), te2(l63, "class", "audio-icon svelte-6pnkgc"), te2(n72, "class", "audio-icon__wrapper svelte-6pnkgc"), te2(
        n72,
        "style",
        /*style*/
        o71[1]
      ), ne2(
        n72,
        "width",
        /*styleWidth*/
        o71[4]
      ), ne2(
        n72,
        "height",
        /*styleWidth*/
        o71[4]
      );
    },
    m(p66, w49) {
      Nt(p66, n72, w49), e48 && e48.m(n72, null), pt(n72, i65), pt(n72, l63), pt(l63, g67), pt(g67, u72), pt(u72, k47), pt(k47, r66), pt(r66, f80), pt(r66, h66), pt(k47, s60), pt(s60, m66), pt(s60, a62), pt(u72, c85), o71[10](g67), y51 = true;
    },
    p(p66, [w49]) {
      p66[0] ? e48 ? w49 & /*shadow*/
      1 && ot(e48, 1) : (e48 = G23(), e48.c(), ot(e48, 1), e48.m(n72, i65)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot()), (!y51 || w49 & /*d*/
      8) && te2(
        c85,
        "d",
        /*d*/
        p66[3]
      ), (!y51 || w49 & /*style*/
      2) && te2(
        n72,
        "style",
        /*style*/
        p66[1]
      );
      const S52 = w49 & /*style*/
      2;
      (S52 || w49 & /*styleWidth, style*/
      18) && ne2(
        n72,
        "width",
        /*styleWidth*/
        p66[4]
      ), (S52 || w49 & /*styleWidth, style*/
      18) && ne2(
        n72,
        "height",
        /*styleWidth*/
        p66[4]
      );
    },
    i(p66) {
      y51 || (ot(e48), y51 = true);
    },
    o(p66) {
      $t(e48), y51 = false;
    },
    d(p66) {
      p66 && J4(n72), e48 && e48.d(), o71[10](null);
    }
  };
}
function O30(o71, n72, i65) {
  let l63, g67, { playing: u72 } = n72, { shadow: k47 = false } = n72, { style: r66 = null } = n72, { width: f80 = "100%" } = n72, { animated: h66 = true } = n72, s60, m66 = 0, a62 = null;
  const c85 = [
    "M12 3.25c2.416 0 4.604.98 6.187 2.563A8.723 8.723 0 0 1 20.75 12c0 2.416-.98 4.604-2.563 6.187A8.723 8.723 0 0 1 12 20.75a8.723 8.723 0 0 1-6.187-2.563A8.723 8.723 0 0 1 3.25 12c0-2.416.98-4.604 2.563-6.187A8.723 8.723 0 0 1 12 3.25Zm1.534 3.282-1.29 1.289.186.183a5.86 5.86 0 0 1 1.663 4.095c0 1.555-.605 2.965-1.786 4.236l1.118 1.12.2-.19a7.46 7.46 0 0 0 2.225-5.322 7.46 7.46 0 0 0-2.316-5.411Zm-2.046 2.047-1.245 1.243.14.133a3.04 3.04 0 0 1 .882 2.144c0 .795-.308 1.516-.955 2.24l1.23 1.231.168-.168a4.793 4.793 0 0 0 1.314-3.303c0-1.39-.59-2.643-1.534-3.52Zm-1.752 1.78-1.69 1.689 1.745 1.743.132-.13a2.29 2.29 0 0 0-.187-3.302Z",
    "M12 3.25c2.416 0 4.604.98 6.187 2.563A8.723 8.723 0 0 1 20.75 12c0 2.416-.98 4.604-2.563 6.187A8.723 8.723 0 0 1 12 20.75a8.723 8.723 0 0 1-6.187-2.563A8.723 8.723 0 0 1 3.25 12c0-2.416.98-4.604 2.563-6.187A8.723 8.723 0 0 1 12 3.25Zm-2.264 7.109-1.69 1.689 1.745 1.743.132-.13a2.29 2.29 0 0 0-.187-3.302Z",
    "M12 3.25c2.416 0 4.604.98 6.187 2.563A8.723 8.723 0 0 1 20.75 12c0 2.416-.98 4.604-2.563 6.187A8.723 8.723 0 0 1 12 20.75a8.723 8.723 0 0 1-6.187-2.563A8.723 8.723 0 0 1 3.25 12c0-2.416.98-4.604 2.563-6.187A8.723 8.723 0 0 1 12 3.25Zm-.512 5.329-1.245 1.243.14.133a3.04 3.04 0 0 1 .882 2.144c0 .795-.308 1.516-.955 2.24l1.23 1.231.168-.168a4.793 4.793 0 0 0 1.314-3.303c0-1.39-.59-2.643-1.534-3.52Zm-1.752 1.78-1.69 1.689 1.745 1.743.132-.13a2.29 2.29 0 0 0-.187-3.302Z"
  ];
  le(() => {
    a62 && (clearInterval(a62), i65(9, a62 = null));
  });
  function y51(e48) {
    ft[e48 ? "unshift" : "push"](() => {
      s60 = e48, i65(2, s60);
    });
  }
  return o71.$$set = (e48) => {
    "playing" in e48 && i65(5, u72 = e48.playing), "shadow" in e48 && i65(0, k47 = e48.shadow), "style" in e48 && i65(1, r66 = e48.style), "width" in e48 && i65(6, f80 = e48.width), "animated" in e48 && i65(7, h66 = e48.animated);
  }, o71.$$.update = () => {
    var e48;
    o71.$$.dirty & /*width*/
    64 && i65(4, l63 = typeof f80 == "number" ? e34(f80) : f80), o71.$$.dirty & /*playing, timer, animationStep*/
    800 && (u72 ? a62 || i65(9, a62 = setInterval(
      () => {
        i65(8, m66 = (m66 + 1) % c85.length);
      },
      500
    )) : (a62 && (clearInterval(a62), i65(9, a62 = null)), i65(8, m66 = 0))), o71.$$.dirty & /*animated, animationStep*/
    384 && i65(3, g67 = (e48 = c85[h66 ? m66 : 0]) != null ? e48 : c85[0]);
  }, [
    k47,
    r66,
    s60,
    g67,
    l63,
    u72,
    f80,
    h66,
    m66,
    a62,
    y51
  ];
}
var X20 = class extends Ce {
  constructor(n72) {
    super(), Te(
      this,
      n72,
      O30,
      N24,
      Ft,
      {
        playing: 5,
        shadow: 0,
        style: 1,
        width: 6,
        animated: 7
      },
      L29
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/AudioTag/AudioTag.js
function se4(e48) {
  Qt2(e48, "svelte-1s6gk4a", ".audio-tag.svelte-1s6gk4a{position:absolute;left:0;top:0;width:0;height:0;overflow:visible}.audio-icon__wrapper.svelte-1s6gk4a{position:relative;vertical-align:top;width:100%;height:100%}.content.svelte-1s6gk4a{width:-moz-max-content;width:max-content;height:3.375rem;padding:2.25rem 0.25rem 0 1rem;position:absolute;left:0;bottom:0.125rem;overflow:hidden;box-sizing:border-box;font-size:0;white-space:nowrap;font-weight:600}.wrapper.svelte-1s6gk4a{position:relative;width:100%;height:100%}.audio-icon.svelte-1s6gk4a{pointer-events:none;vertical-align:top;display:inline-block;width:1rem;height:1rem;margin-right:0.25rem;margin-top:0.0625rem}.audio.svelte-1s6gk4a{position:relative;width:100%;height:100%}");
}
function j21(e48) {
  var g67, z28;
  let i65, n72, o71, t43, a62, f80, d73, l63, s60, p66, _32, $23, U33, I49;
  n72 = new T22({
    props: {
      visible: (
        /*unfolded*/
        e48[6]
      ),
      left: (
        /*contentWidth*/
        e48[3] / 2 + "px"
      ),
      bottom: 12,
      width: 2,
      blurRadius: 120,
      spreadRadius: 60
    }
  });
  let u72 = (
    /*unfolded*/
    e48[6] && B26(e48)
  );
  return s60 = new ie6({
    props: {
      visible: (
        /*unfolded*/
        e48[6]
      ),
      textUnfolded: (
        /*textUnfolded*/
        e48[1]
      ),
      content: (
        /*content*/
        e48[5]
      )
    }
  }), _32 = new Y14({
    props: {
      unfolded: (
        /*unfolded*/
        e48[6]
      ),
      length: (
        /*contentWidth*/
        e48[3]
      ),
      outDelay: (
        /*foldTextDelay*/
        e48[4] + 20 * Math.min(
          /*content*/
          (z28 = (g67 = e48[5]) == null ? void 0 : g67.length) != null ? z28 : 10,
          15
        )
      ),
      useLinearColor: true
    }
  }), {
    c() {
      i65 = K4("div"), Ae(n72.$$.fragment), o71 = Xt(), t43 = K4("div"), a62 = K4("div"), f80 = K4("div"), u72 && u72.c(), d73 = Xt(), l63 = K4("div"), Ae(s60.$$.fragment), p66 = Xt(), Ae(_32.$$.fragment), te2(f80, "class", "audio-icon svelte-1s6gk4a"), ne2(l63, "display", "inline-block"), te2(a62, "class", "wrapper svelte-1s6gk4a"), te2(t43, "class", "content svelte-1s6gk4a"), te2(i65, "class", "audio-tag svelte-1s6gk4a"), re2(
        i65,
        "unfolded",
        /*unfolded*/
        e48[6]
      );
    },
    m(r66, m66) {
      Nt(r66, i65, m66), Dt(n72, i65, null), pt(i65, o71), pt(i65, t43), pt(t43, a62), pt(a62, f80), u72 && u72.m(f80, null), pt(a62, d73), pt(a62, l63), Dt(s60, l63, null), pt(i65, p66), Dt(_32, i65, null), $23 = true, U33 || (I49 = [
        lt(
          l63,
          "click",
          /*clickContent*/
          e48[7]
        ),
        Jt(E11.call(null, l63)),
        lt(
          l63,
          "clientWidth",
          /*clientWidth_handler*/
          e48[12]
        )
      ], U33 = true);
    },
    p(r66, m66) {
      var W25, O40;
      const T38 = {};
      m66 & /*unfolded*/
      64 && (T38.visible = /*unfolded*/
      r66[6]), m66 & /*contentWidth*/
      8 && (T38.left = /*contentWidth*/
      r66[3] / 2 + "px"), n72.$set(T38), /*unfolded*/
      r66[6] ? u72 ? (u72.p(r66, m66), m66 & /*unfolded*/
      64 && ot(u72, 1)) : (u72 = B26(r66), u72.c(), ot(u72, 1), u72.m(f80, null)) : u72 && (Lt(), $t(u72, 1, 1, () => {
        u72 = null;
      }), Ot());
      const M48 = {};
      m66 & /*unfolded*/
      64 && (M48.visible = /*unfolded*/
      r66[6]), m66 & /*textUnfolded*/
      2 && (M48.textUnfolded = /*textUnfolded*/
      r66[1]), m66 & /*content*/
      32 && (M48.content = /*content*/
      r66[5]), s60.$set(M48);
      const A62 = {};
      m66 & /*unfolded*/
      64 && (A62.unfolded = /*unfolded*/
      r66[6]), m66 & /*contentWidth*/
      8 && (A62.length = /*contentWidth*/
      r66[3]), m66 & /*foldTextDelay, content*/
      48 && (A62.outDelay = /*foldTextDelay*/
      r66[4] + 20 * Math.min(
        /*content*/
        (O40 = (W25 = r66[5]) == null ? void 0 : W25.length) != null ? O40 : 10,
        15
      )), _32.$set(A62), (!$23 || m66 & /*unfolded*/
      64) && re2(
        i65,
        "unfolded",
        /*unfolded*/
        r66[6]
      );
    },
    i(r66) {
      $23 || (ot(n72.$$.fragment, r66), ot(u72), ot(s60.$$.fragment, r66), ot(_32.$$.fragment, r66), $23 = true);
    },
    o(r66) {
      $t(n72.$$.fragment, r66), $t(u72), $t(s60.$$.fragment, r66), $t(_32.$$.fragment, r66), $23 = false;
    },
    d(r66) {
      r66 && J4(i65), Rt(n72), u72 && u72.d(), Rt(s60), Rt(_32), U33 = false, M8(I49);
    }
  };
}
function B26(e48) {
  let i65, n72, o71, t43, a62, f80, d73;
  return n72 = new T22({
    props: {
      center: true,
      blurRadius: 15,
      spreadRadius: 6
    }
  }), t43 = new Z13({
    props: {
      enable: (
        /*unfolded*/
        e48[6]
      ),
      url: (
        /*tag*/
        e48[0].data.audioUrl
      ),
      hooksInfo: { tag: (
        /*tag*/
        e48[0]
      ) },
      $$slots: { default: [fe5] },
      $$scope: { ctx: e48 }
    }
  }), t43.$on(
    "play",
    /*play_handler*/
    e48[8]
  ), t43.$on(
    "pause",
    /*pause_handler*/
    e48[9]
  ), t43.$on(
    "error",
    /*error_handler*/
    e48[10]
  ), t43.$on(
    "audioRef",
    /*audioRef_handler*/
    e48[11]
  ), {
    c() {
      i65 = K4("div"), Ae(n72.$$.fragment), o71 = Xt(), Ae(t43.$$.fragment), te2(i65, "class", "audio svelte-1s6gk4a");
    },
    m(l63, s60) {
      Nt(l63, i65, s60), Dt(n72, i65, null), pt(i65, o71), Dt(t43, i65, null), d73 = true;
    },
    p(l63, s60) {
      e48 = l63;
      const p66 = {};
      s60 & /*unfolded*/
      64 && (p66.enable = /*unfolded*/
      e48[6]), s60 & /*tag*/
      1 && (p66.url = /*tag*/
      e48[0].data.audioUrl), s60 & /*tag*/
      1 && (p66.hooksInfo = { tag: (
        /*tag*/
        e48[0]
      ) }), s60 & /*$$scope, playing*/
      8196 && (p66.$$scope = { dirty: s60, ctx: e48 }), t43.$set(p66);
    },
    i(l63) {
      d73 || (ot(n72.$$.fragment, l63), ot(t43.$$.fragment, l63), l63 && z2(() => {
        d73 && (f80 && f80.end(1), a62 = me2(i65, C13, {
          duration: 1e3,
          delay: 0,
          easing: c24
        }), a62.start());
      }), d73 = true);
    },
    o(l63) {
      var s60, p66;
      $t(n72.$$.fragment, l63), $t(t43.$$.fragment, l63), a62 && a62.invalidate(), l63 && (f80 = ge(i65, C13, {
        duration: 1e3,
        delay: 20 * Math.min(
          /*content*/
          (p66 = (s60 = e48[5]) == null ? void 0 : s60.length) != null ? p66 : 10,
          15
        ),
        easing: c24
      })), d73 = false;
    },
    d(l63) {
      l63 && J4(i65), Rt(n72), Rt(t43), l63 && f80 && f80.end();
    }
  };
}
function fe5(e48) {
  let i65, n72, o71;
  return n72 = new X20({ props: { playing: (
    /*playing*/
    e48[2]
  ) } }), {
    c() {
      i65 = K4("div"), Ae(n72.$$.fragment), te2(i65, "class", "audio-icon__wrapper svelte-1s6gk4a");
    },
    m(t43, a62) {
      Nt(t43, i65, a62), Dt(n72, i65, null), o71 = true;
    },
    p(t43, a62) {
      const f80 = {};
      a62 & /*playing*/
      4 && (f80.playing = /*playing*/
      t43[2]), n72.$set(f80);
    },
    i(t43) {
      o71 || (ot(n72.$$.fragment, t43), o71 = true);
    },
    o(t43) {
      $t(n72.$$.fragment, t43), o71 = false;
    },
    d(t43) {
      t43 && J4(i65), Rt(n72);
    }
  };
}
function ue7(e48) {
  let i65, n72, o71 = (
    /*tag*/
    e48[0].state && j21(e48)
  );
  return {
    c() {
      o71 && o71.c(), i65 = Yt();
    },
    m(t43, a62) {
      o71 && o71.m(t43, a62), Nt(t43, i65, a62), n72 = true;
    },
    p(t43, [a62]) {
      t43[0].state ? o71 ? (o71.p(t43, a62), a62 & /*tag*/
      1 && ot(o71, 1)) : (o71 = j21(t43), o71.c(), ot(o71, 1), o71.m(i65.parentNode, i65)) : o71 && (Lt(), $t(o71, 1, 1, () => {
        o71 = null;
      }), Ot());
    },
    i(t43) {
      n72 || (ot(o71), n72 = true);
    },
    o(t43) {
      $t(o71), n72 = false;
    },
    d(t43) {
      o71 && o71.d(t43), t43 && J4(i65);
    }
  };
}
function de7(e48, i65, n72) {
  let o71, t43, a62, { tag: f80 } = i65, d73 = false, l63 = false, s60;
  function p66() {
    n72(1, d73 = !d73);
  }
  const _32 = () => {
    n72(2, l63 = true);
  }, $23 = () => {
    n72(2, l63 = false);
  }, U33 = () => {
    n72(2, l63 = false);
  };
  function I49(g67) {
    he.call(this, e48, g67);
  }
  const u72 = (g67) => {
    n72(3, s60 = g67.detail);
  };
  return e48.$$set = (g67) => {
    "tag" in g67 && n72(0, f80 = g67.tag);
  }, e48.$$.update = () => {
    var g67, z28, r66;
    e48.$$.dirty & /*tag*/
    1 && n72(6, o71 = !!((g67 = f80.state) != null && g67.unfolded)), e48.$$.dirty & /*tag*/
    1 && n72(5, t43 = (r66 = (z28 = f80.data.title) != null ? z28 : f80.data.text) != null ? r66 : ""), e48.$$.dirty & /*textUnfolded*/
    2 && n72(4, a62 = d73 ? 450 : 0);
  }, [
    f80,
    d73,
    l63,
    s60,
    a62,
    t43,
    o71,
    p66,
    _32,
    $23,
    U33,
    I49,
    u72
  ];
}
var qe4 = class extends Ce {
  constructor(i65) {
    super(), Te(this, i65, de7, ue7, Ft, { tag: 0 }, se4);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/AudioTag/AudioPlaneTag.js
function D36(a62) {
  Qt2(a62, "svelte-nclraj", ".audio-tag__wrapper.svelte-nclraj{position:absolute;left:50%;top:50%;transform:translate(-50%, -50%)}.audio-tag.svelte-nclraj{position:relative;width:-moz-max-content;width:max-content;height:-moz-max-content;height:max-content;padding:0.25rem;padding-right:0.625rem;border-radius:624999.9375rem;border:0.0625rem solid rgba(255, 255, 255, 0.6);background:linear-gradient(to bottom, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));box-shadow:inset 0 0 0.25rem 0 rgba(255, 255, 255, 0.3)}.audio__inner.svelte-nclraj{display:flex;align-items:center;justify-content:center;width:100%;height:100%}.text.svelte-nclraj{font-weight:bold;font-size:0.75rem;margin-left:0.25rem}.audio-icon__wrapper.svelte-nclraj{position:relative;vertical-align:top;pointer-events:none;width:1.5rem;height:1.5rem}");
}
function y31(a62) {
  let t43, n72, e48, r66;
  return e48 = new Z13({
    props: {
      style: "width: max-content; height: max-content;",
      enable: (
        /*tag*/
        a62[0].state.visible
      ),
      url: (
        /*tag*/
        a62[0].data.audioUrl
      ),
      hooksInfo: { tag: (
        /*tag*/
        a62[0]
      ) },
      $$slots: { default: [F30] },
      $$scope: { ctx: a62 }
    }
  }), e48.$on(
    "play",
    /*play_handler*/
    a62[5]
  ), e48.$on(
    "pause",
    /*pause_handler*/
    a62[6]
  ), e48.$on(
    "error",
    /*error_handler*/
    a62[7]
  ), e48.$on(
    "timeupdate",
    /*timeupdate_handler*/
    a62[8]
  ), e48.$on(
    "duration",
    /*duration_handler*/
    a62[9]
  ), e48.$on(
    "audioRef",
    /*audioRef_handler*/
    a62[10]
  ), {
    c() {
      t43 = K4("div"), n72 = K4("div"), Ae(e48.$$.fragment), te2(n72, "class", "audio-tag svelte-nclraj"), te2(t43, "class", "audio-tag__wrapper svelte-nclraj");
    },
    m(o71, i65) {
      Nt(o71, t43, i65), pt(t43, n72), Dt(e48, n72, null), r66 = true;
    },
    p(o71, i65) {
      const l63 = {};
      i65 & /*tag*/
      1 && (l63.enable = /*tag*/
      o71[0].state.visible), i65 & /*tag*/
      1 && (l63.url = /*tag*/
      o71[0].data.audioUrl), i65 & /*tag*/
      1 && (l63.hooksInfo = { tag: (
        /*tag*/
        o71[0]
      ) }), i65 & /*$$scope, title, playing*/
      2072 && (l63.$$scope = { dirty: i65, ctx: o71 }), e48.$set(l63);
    },
    i(o71) {
      r66 || (ot(e48.$$.fragment, o71), r66 = true);
    },
    o(o71) {
      $t(e48.$$.fragment, o71), r66 = false;
    },
    d(o71) {
      o71 && J4(t43), Rt(e48);
    }
  };
}
function E35(a62) {
  let t43;
  return {
    c() {
      t43 = gt(
        /*title*/
        a62[4]
      );
    },
    m(n72, e48) {
      Nt(n72, t43, e48);
    },
    p(n72, e48) {
      e48 & /*title*/
      16 && ee2(
        t43,
        /*title*/
        n72[4]
      );
    },
    d(n72) {
      n72 && J4(t43);
    }
  };
}
function F30(a62) {
  let t43, n72, e48, r66, o71, i65, l63;
  return e48 = new X20({ props: { playing: (
    /*playing*/
    a62[3]
  ) } }), i65 = new P28({
    props: {
      maxWidth: 72,
      maxLine: 1,
      $$slots: { default: [E35] },
      $$scope: { ctx: a62 }
    }
  }), {
    c() {
      t43 = K4("div"), n72 = K4("div"), Ae(e48.$$.fragment), r66 = Xt(), o71 = K4("div"), Ae(i65.$$.fragment), te2(n72, "class", "audio-icon__wrapper svelte-nclraj"), te2(o71, "class", "text svelte-nclraj"), te2(t43, "class", "audio__inner svelte-nclraj");
    },
    m(s60, d73) {
      Nt(s60, t43, d73), pt(t43, n72), Dt(e48, n72, null), pt(t43, r66), pt(t43, o71), Dt(i65, o71, null), l63 = true;
    },
    p(s60, d73) {
      const g67 = {};
      d73 & /*playing*/
      8 && (g67.playing = /*playing*/
      s60[3]), e48.$set(g67);
      const _32 = {};
      d73 & /*$$scope, title*/
      2064 && (_32.$$scope = { dirty: d73, ctx: s60 }), i65.$set(_32);
    },
    i(s60) {
      l63 || (ot(e48.$$.fragment, s60), ot(i65.$$.fragment, s60), l63 = true);
    },
    o(s60) {
      $t(e48.$$.fragment, s60), $t(i65.$$.fragment, s60), l63 = false;
    },
    d(s60) {
      s60 && J4(t43), Rt(e48), Rt(i65);
    }
  };
}
function G24(a62) {
  let t43, n72, e48 = (
    /*tag*/
    a62[0].state && y31(a62)
  );
  return {
    c() {
      e48 && e48.c(), t43 = Yt();
    },
    m(r66, o71) {
      e48 && e48.m(r66, o71), Nt(r66, t43, o71), n72 = true;
    },
    p(r66, [o71]) {
      r66[0].state ? e48 ? (e48.p(r66, o71), o71 & /*tag*/
      1 && ot(e48, 1)) : (e48 = y31(r66), e48.c(), ot(e48, 1), e48.m(t43.parentNode, t43)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot());
    },
    i(r66) {
      n72 || (ot(e48), n72 = true);
    },
    o(r66) {
      $t(e48), n72 = false;
    },
    d(r66) {
      e48 && e48.d(r66), r66 && J4(t43);
    }
  };
}
function H23(a62, t43, n72) {
  let e48, { tag: r66 } = t43, o71 = 0, i65 = 0, l63 = false;
  const s60 = () => {
    n72(3, l63 = true);
  }, d73 = () => {
    n72(3, l63 = false);
  }, g67 = () => {
    n72(3, l63 = false);
  }, _32 = (u72) => {
    n72(1, o71 = u72.detail);
  }, z28 = (u72) => {
    n72(2, i65 = u72.detail);
  };
  function A62(u72) {
    he.call(this, a62, u72);
  }
  return a62.$$set = (u72) => {
    "tag" in u72 && n72(0, r66 = u72.tag);
  }, a62.$$.update = () => {
    var u72, k47;
    a62.$$.dirty & /*tag*/
    1 && n72(4, e48 = (k47 = (u72 = r66.data.title) != null ? u72 : r66.data.text) != null ? k47 : "");
  }, [
    r66,
    o71,
    i65,
    l63,
    e48,
    s60,
    d73,
    g67,
    _32,
    z28,
    A62
  ];
}
var ae6 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, H23, G24, Ft, { tag: 0 }, D36);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/AudioTag/index.js
function q25(n72) {
  let t43, o71;
  return t43 = new ae6({ props: { tag: (
    /*tag*/
    n72[0]
  ) } }), t43.$on(
    "audioRef",
    /*audioRef*/
    n72[2]
  ), {
    c() {
      Ae(t43.$$.fragment);
    },
    m(e48, r66) {
      Dt(t43, e48, r66), o71 = true;
    },
    p(e48, r66) {
      const a62 = {};
      r66 & /*tag*/
      1 && (a62.tag = /*tag*/
      e48[0]), t43.$set(a62);
    },
    i(e48) {
      o71 || (ot(t43.$$.fragment, e48), o71 = true);
    },
    o(e48) {
      $t(t43.$$.fragment, e48), o71 = false;
    },
    d(e48) {
      Rt(t43, e48);
    }
  };
}
function v33(n72) {
  let t43, o71;
  return t43 = new qe4({ props: { tag: (
    /*tag*/
    n72[0]
  ) } }), t43.$on(
    "audioRef",
    /*audioRef*/
    n72[2]
  ), {
    c() {
      Ae(t43.$$.fragment);
    },
    m(e48, r66) {
      Dt(t43, e48, r66), o71 = true;
    },
    p(e48, r66) {
      const a62 = {};
      r66 & /*tag*/
      1 && (a62.tag = /*tag*/
      e48[0]), t43.$set(a62);
    },
    i(e48) {
      o71 || (ot(t43.$$.fragment, e48), o71 = true);
    },
    o(e48) {
      $t(t43.$$.fragment, e48), o71 = false;
    },
    d(e48) {
      Rt(t43, e48);
    }
  };
}
function C40(n72) {
  let t43, o71, e48, r66;
  const a62 = [v33, q25], p66 = [];
  function u72(i65, m66) {
    return (
      /*appearance*/
      i65[1] === "line" ? 0 : (
        /*appearance*/
        i65[1] === "plane" ? 1 : -1
      )
    );
  }
  return ~(t43 = u72(n72)) && (o71 = p66[t43] = a62[t43](n72)), {
    c() {
      o71 && o71.c(), e48 = Yt();
    },
    m(i65, m66) {
      ~t43 && p66[t43].m(i65, m66), Nt(i65, e48, m66), r66 = true;
    },
    p(i65, [m66]) {
      let c85 = t43;
      t43 = u72(i65), t43 === c85 ? ~t43 && p66[t43].p(i65, m66) : (o71 && (Lt(), $t(p66[c85], 1, 1, () => {
        p66[c85] = null;
      }), Ot()), ~t43 ? (o71 = p66[t43], o71 ? o71.p(i65, m66) : (o71 = p66[t43] = a62[t43](i65), o71.c()), ot(o71, 1), o71.m(e48.parentNode, e48)) : o71 = null);
    },
    i(i65) {
      r66 || (ot(o71), r66 = true);
    },
    o(i65) {
      $t(o71), r66 = false;
    },
    d(i65) {
      ~t43 && p66[t43].d(i65), i65 && J4(e48);
    }
  };
}
function N25(n72, t43, o71) {
  let e48, { tag: r66 } = t43, a62;
  function p66(u72) {
    a62 = u72.detail;
  }
  return r66.play = () => a62.play(), r66.pause = () => a62.pause(), n72.$$set = (u72) => {
    "tag" in u72 && o71(0, r66 = u72.tag);
  }, n72.$$.update = () => {
    var u72;
    n72.$$.dirty & /*tag*/
    1 && o71(1, e48 = (u72 = r66.data.appearance) != null ? u72 : "line");
  }, [r66, e48, p66];
}
var rt5 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, N25, C40, Ft, { tag: 0 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/MediaPlane.js
function M33(o71) {
  Qt2(o71, "svelte-10cw0el", ".media-wrapper.svelte-10cw0el{position:absolute;width:100%;height:100%}");
}
function c52(o71) {
  var a62;
  let r66, i65, e48;
  return i65 = new at5({
    props: {
      mediaItemConfig: {
        canPlay: true,
        playButtonSizeIfNeed: "large",
        playButtonIfNeed: (
          /*playIcon*/
          (a62 = o71[4]) != null ? a62 : "withText"
        ),
        disableVideoIfHavePoster: false,
        objectFit: (
          /*objectFit*/
          o71[2]
        )
      },
      unfolded: (
        /*unfolded*/
        o71[6]
      ),
      mediaData: (
        /*mediaData*/
        o71[5]
      ),
      enableCarousel: (
        /*enableCarousel*/
        o71[1]
      ),
      autoplayConfig: (
        /*autoplayConfig*/
        o71[3]
      ),
      tag: (
        /*tag*/
        o71[0]
      ),
      inDelay: 500,
      duration: 500
    }
  }), {
    c() {
      r66 = K4("div"), Ae(i65.$$.fragment), te2(r66, "class", "media-wrapper svelte-10cw0el");
    },
    m(t43, n72) {
      Nt(t43, r66, n72), Dt(i65, r66, null), e48 = true;
    },
    p(t43, n72) {
      var m66;
      const l63 = {};
      n72 & /*playIcon, objectFit*/
      20 && (l63.mediaItemConfig = {
        canPlay: true,
        playButtonSizeIfNeed: "large",
        playButtonIfNeed: (
          /*playIcon*/
          (m66 = t43[4]) != null ? m66 : "withText"
        ),
        disableVideoIfHavePoster: false,
        objectFit: (
          /*objectFit*/
          t43[2]
        )
      }), n72 & /*unfolded*/
      64 && (l63.unfolded = /*unfolded*/
      t43[6]), n72 & /*mediaData*/
      32 && (l63.mediaData = /*mediaData*/
      t43[5]), n72 & /*enableCarousel*/
      2 && (l63.enableCarousel = /*enableCarousel*/
      t43[1]), n72 & /*autoplayConfig*/
      8 && (l63.autoplayConfig = /*autoplayConfig*/
      t43[3]), n72 & /*tag*/
      1 && (l63.tag = /*tag*/
      t43[0]), i65.$set(l63);
    },
    i(t43) {
      e48 || (ot(i65.$$.fragment, t43), e48 = true);
    },
    o(t43) {
      $t(i65.$$.fragment, t43), e48 = false;
    },
    d(t43) {
      t43 && J4(r66), Rt(i65);
    }
  };
}
function S38(o71) {
  let r66, i65, e48 = (
    /*tag*/
    o71[0].state && /*mediaData*/
    o71[5] && c52(o71)
  );
  return {
    c() {
      e48 && e48.c(), r66 = Yt();
    },
    m(a62, t43) {
      e48 && e48.m(a62, t43), Nt(a62, r66, t43), i65 = true;
    },
    p(a62, [t43]) {
      a62[0].state && /*mediaData*/
      a62[5] ? e48 ? (e48.p(a62, t43), t43 & /*tag, mediaData*/
      33 && ot(e48, 1)) : (e48 = c52(a62), e48.c(), ot(e48, 1), e48.m(r66.parentNode, r66)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot());
    },
    i(a62) {
      i65 || (ot(e48), i65 = true);
    },
    o(a62) {
      $t(e48), i65 = false;
    },
    d(a62) {
      e48 && e48.d(a62), a62 && J4(r66);
    }
  };
}
function V16(o71, r66, i65) {
  let e48, a62, t43, n72, l63, m66, { tag: p66 } = r66;
  return o71.$$set = (f80) => {
    "tag" in f80 && i65(0, p66 = f80.tag);
  }, o71.$$.update = () => {
    var f80, s60;
    o71.$$.dirty & /*tag*/
    1 && i65(6, e48 = p66.state ? p66.state.unfolded : false), o71.$$.dirty & /*tag*/
    1 && i65(5, a62 = p66.data.mediaData), o71.$$.dirty & /*tag*/
    1 && i65(1, t43 = p66.data.enableCarousel), o71.$$.dirty & /*tag*/
    1 && i65(4, n72 = p66.data.playIcon), o71.$$.dirty & /*tag, enableCarousel*/
    3 && i65(3, l63 = (f80 = p66.data.autoplayConfig) != null ? f80 : {
      autoplay: t43 != null ? t43 : true,
      autoplayVideo: true
    }), o71.$$.dirty & /*tag*/
    1 && i65(2, m66 = (s60 = p66.data.objectFit) != null ? s60 : (() => p66.data.adaptationMode === "stretch" ? "fill" : p66.data.adaptationMode === "proportional" ? "contain" : void 0)());
  }, [p66, t43, m66, l63, n72, a62, e48];
}
var gt5 = class extends Ce {
  constructor(r66) {
    super(), Te(this, r66, V16, S38, Ft, { tag: 0 }, M33);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/getImageInfo.js
var I35 = Object.defineProperty;
var k31 = Object.defineProperties;
var H24 = Object.getOwnPropertyDescriptors;
var w27 = Object.getOwnPropertySymbols;
var W15 = Object.prototype.hasOwnProperty;
var z20 = Object.prototype.propertyIsEnumerable;
var d46 = (r66, e48, t43) => e48 in r66 ? I35(r66, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : r66[e48] = t43;
var f46 = (r66, e48) => {
  for (var t43 in e48 || (e48 = {}))
    W15.call(e48, t43) && d46(r66, t43, e48[t43]);
  if (w27)
    for (var t43 of w27(e48))
      z20.call(e48, t43) && d46(r66, t43, e48[t43]);
  return r66;
};
var m48 = (r66, e48) => k31(r66, H24(e48));
var g37 = (r66, e48, t43) => new Promise((i65, o71) => {
  var h66 = (n72) => {
    try {
      a62(t43.next(n72));
    } catch (c85) {
      o71(c85);
    }
  }, s60 = (n72) => {
    try {
      a62(t43.throw(n72));
    } catch (c85) {
      o71(c85);
    }
  }, a62 = (n72) => n72.done ? i65(n72.value) : Promise.resolve(n72.value).then(h66, s60);
  a62((t43 = t43.apply(r66, e48)).next());
});
var u42 = /* @__PURE__ */ new Map();
function y32(r66) {
  return g37(this, null, function* () {
    return new Promise((e48, t43) => {
      if (!r66) {
        t43(Error("url is empty"));
        return;
      }
      const i65 = new Image();
      i65.src = r66, i65.onload = () => e48({ width: i65.width, height: i65.height }), i65.onerror = t43;
    });
  });
}
function K26(r66) {
  return g37(this, null, function* () {
    const { url: e48, ratio: t43 = 3 } = r66, i65 = (() => {
      if (u42.has(e48))
        return u42.get(e48);
      const s60 = y32(e48);
      return u42.set(e48, s60), s60;
    })(), { width: o71, height: h66 } = yield i65;
    return m48(f46({}, r66), {
      width: o71 / t43,
      height: h66 / t43
    });
  });
}
function P34(r66) {
  return g37(this, null, function* () {
    const { steps: e48, url: t43, ratio: i65 = 3, fps: o71 = 24 } = r66;
    if (!e48)
      throw new Error("KeyframeIcon requires steps");
    const { width: h66, height: s60 } = yield y32(t43), a62 = h66 / i65, n72 = s60 / i65, c85 = a62 / e48, l63 = n72, p66 = 1 / o71 * e48 + "s";
    return m48(f46({}, r66), {
      width: c85,
      height: l63,
      duration: p66
    });
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Icon/Icon.js
var x30 = Object.defineProperty;
var ee8 = Object.defineProperties;
var ie8 = Object.getOwnPropertyDescriptors;
var U24 = Object.getOwnPropertySymbols;
var te8 = Object.prototype.hasOwnProperty;
var ne9 = Object.prototype.propertyIsEnumerable;
var A44 = (e48, t43, o71) => t43 in e48 ? x30(e48, t43, { enumerable: true, configurable: true, writable: true, value: o71 }) : e48[t43] = o71;
var N26 = (e48, t43) => {
  for (var o71 in t43 || (t43 = {}))
    te8.call(t43, o71) && A44(e48, o71, t43[o71]);
  if (U24)
    for (var o71 of U24(t43))
      ne9.call(t43, o71) && A44(e48, o71, t43[o71]);
  return e48;
};
var K27 = (e48, t43) => ee8(e48, ie8(t43));
var R32 = (e48, t43, o71) => new Promise((n72, i65) => {
  var r66 = (s60) => {
    try {
      f80(o71.next(s60));
    } catch (d73) {
      i65(d73);
    }
  }, l63 = (s60) => {
    try {
      f80(o71.throw(s60));
    } catch (d73) {
      i65(d73);
    }
  }, f80 = (s60) => s60.done ? n72(s60.value) : Promise.resolve(s60.value).then(r66, l63);
  f80((o71 = o71.apply(e48, t43)).next());
});
function _e6(e48) {
  Qt2(e48, "svelte-1j3azjf", '@keyframes svelte-1j3azjf-sprites-animation{0%{background-position:0 0}100%{background-position:100% 0}}.icon-bg.svelte-1j3azjf{position:absolute;width:141%;height:141%;top:50%;left:50%;transform:translate(-50%, -50%);border-radius:50%;overflow:hidden}.icon-bg-circle.svelte-1j3azjf{border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%}.icon-bg-circle-inner.svelte-1j3azjf{border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%}.icon-bg-circle-inner-shadow.svelte-1j3azjf{border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at center, transparent 20%, rgba(255,255,255,0.3))}.icon-bg-circle.svelte-1j3azjf::before{content:"";position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;border-radius:50%;z-index:1;border:0.0625rem solid rgba(255,255,255,0.6)}.icon-image.svelte-1j3azjf{position:relative;display:block;width:auto}.icon-keyframe.svelte-1j3azjf{background-repeat:no-repeat;background-size:auto 100%;animation-direction:normal;animation-iteration-count:infinite;animation-name:svelte-1j3azjf-sprites-animation;animation-delay:0}');
}
function G25(e48) {
  e48[1] = e48[21].width;
}
function J27(e48) {
  e48[1] = e48[21].width, e48[18] = e48[21].height, e48[19] = e48[21].steps, e48[20] = e48[21].duration;
}
function O31(e48) {
  let t43, o71, n72, i65 = (
    /*shadow*/
    e48[0] && P35()
  );
  function r66(s60, d73) {
    return (
      /*isKeyframe*/
      s60[8] ? be4 : ge7
    );
  }
  let l63 = r66(e48), f80 = l63(e48);
  return {
    c() {
      t43 = K4("div"), i65 && i65.c(), o71 = Xt(), f80.c(), te2(t43, "class", "icon"), ne2(
        t43,
        "width",
        /*width*/
        e48[1]
      );
    },
    m(s60, d73) {
      Nt(s60, t43, d73), i65 && i65.m(t43, null), pt(t43, o71), f80.m(t43, null), n72 = true;
    },
    p(s60, d73) {
      s60[0] ? i65 ? d73 & /*shadow*/
      1 && ot(i65, 1) : (i65 = P35(), i65.c(), ot(i65, 1), i65.m(t43, o71)) : i65 && (Lt(), $t(i65, 1, 1, () => {
        i65 = null;
      }), Ot()), l63 === (l63 = r66(s60)) && f80 ? f80.p(s60, d73) : (f80.d(1), f80 = l63(s60), f80 && (f80.c(), f80.m(t43, null))), d73 & /*width*/
      2 && ne2(
        t43,
        "width",
        /*width*/
        s60[1]
      );
    },
    i(s60) {
      n72 || (ot(i65), n72 = true);
    },
    o(s60) {
      $t(i65), n72 = false;
    },
    d(s60) {
      s60 && J4(t43), i65 && i65.d(), f80.d();
    }
  };
}
function P35(e48) {
  let t43, o71;
  return t43 = new T22({
    props: {
      center: true,
      blurRadius: 24,
      spreadRadius: 16
    }
  }), {
    c() {
      Ae(t43.$$.fragment);
    },
    m(n72, i65) {
      Dt(t43, n72, i65), o71 = true;
    },
    i(n72) {
      o71 || (ot(t43.$$.fragment, n72), o71 = true);
    },
    o(n72) {
      $t(t43.$$.fragment, n72), o71 = false;
    },
    d(n72) {
      Rt(t43, n72);
    }
  };
}
function ge7(e48) {
  let t43, o71, n72 = {
    ctx: e48,
    current: null,
    token: null,
    hasCatch: false,
    pending: je2,
    then: we2,
    catch: ke3,
    value: 21
  };
  return be(
    o71 = /*getImage*/
    e48[13](e37({
      url: (
        /*iconUrl*/
        e48[7]
      ),
      ratio: (
        /*iconRatio*/
        e48[5]
      )
    })),
    n72
  ), {
    c() {
      t43 = Yt(), n72.block.c();
    },
    m(i65, r66) {
      Nt(i65, t43, r66), n72.block.m(i65, n72.anchor = r66), n72.mount = () => t43.parentNode, n72.anchor = t43;
    },
    p(i65, r66) {
      e48 = i65, n72.ctx = e48, r66 & /*iconUrl, iconRatio*/
      160 && o71 !== (o71 = /*getImage*/
      e48[13](e37({
        url: (
          /*iconUrl*/
          e48[7]
        ),
        ratio: (
          /*iconRatio*/
          e48[5]
        )
      }))) && be(o71, n72) || we(n72, e48, r66);
    },
    d(i65) {
      i65 && J4(t43), n72.block.d(i65), n72.token = null, n72 = null;
    }
  };
}
function be4(e48) {
  let t43, o71, n72 = {
    ctx: e48,
    current: null,
    token: null,
    hasCatch: false,
    pending: ze3,
    then: ve3,
    catch: ye3,
    value: 21
  };
  return be(
    o71 = /*getKeyframe*/
    e48[12](e37({
      url: (
        /*iconUrl*/
        e48[7]
      ),
      steps: (
        /*iconSteps*/
        e48[2]
      ),
      fps: (
        /*iconFps*/
        e48[6]
      ),
      ratio: (
        /*iconRatio*/
        e48[5]
      )
    })),
    n72
  ), {
    c() {
      t43 = Yt(), n72.block.c();
    },
    m(i65, r66) {
      Nt(i65, t43, r66), n72.block.m(i65, n72.anchor = r66), n72.mount = () => t43.parentNode, n72.anchor = t43;
    },
    p(i65, r66) {
      e48 = i65, n72.ctx = e48, r66 & /*iconUrl, iconSteps, iconFps, iconRatio*/
      228 && o71 !== (o71 = /*getKeyframe*/
      e48[12](e37({
        url: (
          /*iconUrl*/
          e48[7]
        ),
        steps: (
          /*iconSteps*/
          e48[2]
        ),
        fps: (
          /*iconFps*/
          e48[6]
        ),
        ratio: (
          /*iconRatio*/
          e48[5]
        )
      }))) && be(o71, n72) || we(n72, e48, r66);
    },
    d(i65) {
      i65 && J4(t43), n72.block.d(i65), n72.token = null, n72 = null;
    }
  };
}
function ke3(e48) {
  return { c: N4, m: N4, p: N4, d: N4 };
}
function we2(e48) {
  G25(e48);
  let t43, o71, n72, i65 = (
    /*bgcolor*/
    e48[11] && Q25(e48)
  );
  return {
    c() {
      i65 && i65.c(), t43 = Xt(), o71 = K4("img"), te2(o71, "alt", "tag-icon"), te2(o71, "class", "icon-image svelte-1j3azjf"), Wt(o71.src, n72 = /*iconUrl*/
      e48[7]) || te2(o71, "src", n72), ne2(o71, "width", e34(j22({
        originWidth: (
          /*width*/
          e48[1]
        ),
        scale: (
          /*iconScale*/
          e48[4]
        ),
        wantedWidth: (
          /*iconWidth*/
          e48[3]
        )
      }).width)), ne2(o71, "max-width", "initial");
    },
    m(r66, l63) {
      i65 && i65.m(r66, l63), Nt(r66, t43, l63), Nt(r66, o71, l63);
    },
    p(r66, l63) {
      G25(r66), /*bgcolor*/
      r66[11] ? i65 ? i65.p(r66, l63) : (i65 = Q25(r66), i65.c(), i65.m(t43.parentNode, t43)) : i65 && (i65.d(1), i65 = null), l63 & /*iconUrl*/
      128 && !Wt(o71.src, n72 = /*iconUrl*/
      r66[7]) && te2(o71, "src", n72), l63 & /*iconUrl, iconRatio, iconScale, iconWidth*/
      184 && ne2(o71, "width", e34(j22({
        originWidth: (
          /*width*/
          r66[1]
        ),
        scale: (
          /*iconScale*/
          r66[4]
        ),
        wantedWidth: (
          /*iconWidth*/
          r66[3]
        )
      }).width));
    },
    d(r66) {
      i65 && i65.d(r66), r66 && J4(t43), r66 && J4(o71);
    }
  };
}
function Q25(e48) {
  let t43, o71, n72, i65, r66;
  return {
    c() {
      t43 = K4("div"), o71 = K4("div"), n72 = K4("div"), i65 = Xt(), r66 = K4("div"), te2(n72, "class", "icon-bg-circle-inner svelte-1j3azjf"), ne2(
        n72,
        "background",
        /*bgcolor*/
        e48[11]
      ), ne2(
        n72,
        "opacity",
        /*bgopacity*/
        e48[10]
      ), te2(r66, "class", "icon-bg-circle-inner-shadow svelte-1j3azjf"), te2(o71, "class", "icon-bg-circle svelte-1j3azjf"), te2(t43, "class", "icon-bg svelte-1j3azjf");
    },
    m(l63, f80) {
      Nt(l63, t43, f80), pt(t43, o71), pt(o71, n72), pt(o71, i65), pt(o71, r66);
    },
    p(l63, f80) {
      f80 & /*bgcolor*/
      2048 && ne2(
        n72,
        "background",
        /*bgcolor*/
        l63[11]
      ), f80 & /*bgopacity*/
      1024 && ne2(
        n72,
        "opacity",
        /*bgopacity*/
        l63[10]
      );
    },
    d(l63) {
      l63 && J4(t43);
    }
  };
}
function je2(e48) {
  return { c: N4, m: N4, p: N4, d: N4 };
}
function ye3(e48) {
  return { c: N4, m: N4, p: N4, d: N4 };
}
function ve3(e48) {
  J27(e48);
  let t43, o71 = `url(${/*iconUrl*/
  e48[7]})`, n72 = `steps(${/*steps*/
  e48[19] - 1})`;
  return {
    c() {
      t43 = K4("div"), te2(t43, "class", "icon-keyframe svelte-1j3azjf"), ne2(t43, "width", e34(j22({
        originWidth: (
          /*width*/
          e48[1]
        ),
        originHeight: (
          /*height*/
          e48[18]
        ),
        scale: (
          /*iconScale*/
          e48[4]
        ),
        wantedWidth: (
          /*iconWidth*/
          e48[3]
        )
      }).width)), ne2(t43, "height", e34(j22({
        originWidth: (
          /*width*/
          e48[1]
        ),
        originHeight: (
          /*height*/
          e48[18]
        ),
        scale: (
          /*iconScale*/
          e48[4]
        ),
        wantedWidth: (
          /*iconWidth*/
          e48[3]
        )
      }).height)), ne2(t43, "background-image", o71), ne2(
        t43,
        "animation-duration",
        /*duration*/
        e48[20]
      ), ne2(t43, "animation-timing-function", n72);
    },
    m(i65, r66) {
      Nt(i65, t43, r66);
    },
    p(i65, r66) {
      J27(i65), r66 & /*iconUrl, iconSteps, iconFps, iconRatio, iconScale, iconWidth*/
      252 && ne2(t43, "width", e34(j22({
        originWidth: (
          /*width*/
          i65[1]
        ),
        originHeight: (
          /*height*/
          i65[18]
        ),
        scale: (
          /*iconScale*/
          i65[4]
        ),
        wantedWidth: (
          /*iconWidth*/
          i65[3]
        )
      }).width)), r66 & /*iconUrl, iconSteps, iconFps, iconRatio, iconScale, iconWidth*/
      252 && ne2(t43, "height", e34(j22({
        originWidth: (
          /*width*/
          i65[1]
        ),
        originHeight: (
          /*height*/
          i65[18]
        ),
        scale: (
          /*iconScale*/
          i65[4]
        ),
        wantedWidth: (
          /*iconWidth*/
          i65[3]
        )
      }).height)), r66 & /*iconUrl*/
      128 && o71 !== (o71 = `url(${/*iconUrl*/
      i65[7]})`) && ne2(t43, "background-image", o71), r66 & /*iconUrl, iconSteps, iconFps, iconRatio*/
      228 && ne2(
        t43,
        "animation-duration",
        /*duration*/
        i65[20]
      ), r66 & /*iconUrl, iconSteps, iconFps, iconRatio*/
      228 && n72 !== (n72 = `steps(${/*steps*/
      i65[19] - 1})`) && ne2(t43, "animation-timing-function", n72);
    },
    d(i65) {
      i65 && J4(t43);
    }
  };
}
function ze3(e48) {
  return { c: N4, m: N4, p: N4, d: N4 };
}
function We2(e48) {
  let t43, o71, n72 = (
    /*iconCopy*/
    e48[9] && O31(e48)
  );
  return {
    c() {
      n72 && n72.c(), t43 = Yt();
    },
    m(i65, r66) {
      n72 && n72.m(i65, r66), Nt(i65, t43, r66), o71 = true;
    },
    p(i65, [r66]) {
      i65[9] ? n72 ? (n72.p(i65, r66), r66 & /*iconCopy*/
      512 && ot(n72, 1)) : (n72 = O31(i65), n72.c(), ot(n72, 1), n72.m(t43.parentNode, t43)) : n72 && (Lt(), $t(n72, 1, 1, () => {
        n72 = null;
      }), Ot());
    },
    i(i65) {
      o71 || (ot(n72), o71 = true);
    },
    o(i65) {
      $t(n72), o71 = false;
    },
    d(i65) {
      n72 && n72.d(i65), i65 && J4(t43);
    }
  };
}
function j22(e48) {
  const { originWidth: t43, originHeight: o71, scale: n72 = 1, wantedWidth: i65 } = e48, r66 = (i65 != null ? i65 : t43) * n72, l63 = typeof o71 == "number" ? r66 * (o71 / t43) : void 0;
  return K27(N26({}, e48), { width: r66, height: l63 });
}
function Ie3(e48, t43, o71) {
  let n72, i65, r66, l63, f80, s60, d73, I49, E53, H39, S52, { width: C52 = null } = t43, { icon: a62 = null } = t43, { shadow: F45 = false } = t43;
  const L40 = fe2();
  function Z18(h66) {
    return R32(this, null, function* () {
      const p66 = yield P34(h66);
      return L40("iconLoaded", p66), p66;
    });
  }
  function $23(h66) {
    return R32(this, null, function* () {
      if (typeof S52 == "number")
        return K27(N26({}, h66), { width: S52 });
      const p66 = yield K26(h66);
      return L40("iconLoaded", p66), p66;
    });
  }
  function M48() {
    H39 || L40("iconLoaded");
  }
  return ce(() => {
    M48();
  }), e48.$$set = (h66) => {
    "width" in h66 && o71(1, C52 = h66.width), "icon" in h66 && o71(14, a62 = h66.icon), "shadow" in h66 && o71(0, F45 = h66.shadow);
  }, e48.$$.update = () => {
    var h66, p66, T38;
    e48.$$.dirty & /*icon*/
    16384 && o71(7, n72 = a62 == null ? void 0 : a62.url), e48.$$.dirty & /*icon*/
    16384 && o71(11, i65 = a62 == null ? void 0 : a62.bgcolor), e48.$$.dirty & /*icon*/
    16384 && o71(10, r66 = (h66 = a62 == null ? void 0 : a62.bgopacity) != null ? h66 : 0.6), e48.$$.dirty & /*icon*/
    16384 && o71(2, l63 = (p66 = a62 == null ? void 0 : a62.steps) != null ? p66 : 1), e48.$$.dirty & /*icon*/
    16384 && o71(6, f80 = a62 == null ? void 0 : a62.fps), e48.$$.dirty & /*icon*/
    16384 && o71(5, s60 = a62 == null ? void 0 : a62.ratio), e48.$$.dirty & /*icon*/
    16384 && o71(4, d73 = (T38 = a62 == null ? void 0 : a62.scale) != null ? T38 : 1), e48.$$.dirty & /*icon*/
    16384 && o71(3, I49 = a62 == null ? void 0 : a62.width), e48.$$.dirty & /*iconUrl, iconSteps, iconFps, iconRatio, iconScale, iconWidth*/
    252 && o71(9, E53 = e37({
      url: n72,
      steps: l63,
      fps: f80,
      ratio: s60,
      scale: d73,
      width: I49
    })), e48.$$.dirty & /*iconSteps*/
    4 && o71(8, H39 = l63 > 1), e48.$$.dirty & /*width*/
    2 && (S52 = C52);
  }, M48(), [
    F45,
    C52,
    l63,
    I49,
    d73,
    s60,
    f80,
    n72,
    H39,
    E53,
    r66,
    i65,
    Z18,
    $23,
    a62
  ];
}
var Ee3 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, Ie3, We2, Ft, { width: 1, icon: 14, shadow: 0 }, _e6);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/LinkTag.js
function K28(n72) {
  Qt2(n72, "svelte-e58ijk", ".wrapper.svelte-e58ijk{font-weight:600;cursor:pointer;width:-moz-max-content;width:max-content;height:-moz-max-content;height:max-content;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);display:flex;align-items:center;justify-content:center;flex-direction:column;pointer-events:auto}.text-wrapper.svelte-e58ijk{position:relative;display:flex;align-items:center;justify-content:center}.text.svelte-e58ijk{position:absolute;top:0;font-size:0.875rem;color:#ffffff;letter-spacing:0;text-align:center;max-width:8.75rem;width:-moz-max-content;width:max-content;line-height:1.125rem;text-shadow:0.125rem 0rem 0.5rem rgba(0, 0, 0, 0.15)}");
}
function z21(n72) {
  let i65, e48, l63, a62, t43, o71;
  return e48 = new T22({
    props: {
      outDelay: 0,
      inDelay: 0,
      center: true,
      width: "80%",
      blurRadius: 40,
      spreadRadius: 16,
      opacity: 0.08
    }
  }), {
    c() {
      i65 = K4("div"), Ae(e48.$$.fragment), l63 = Xt(), a62 = K4("div"), t43 = gt(
        /*title*/
        n72[2]
      ), te2(a62, "class", "text svelte-e58ijk"), ne2(
        a62,
        "top",
        /*textTop*/
        n72[1]
      ), te2(i65, "class", "text-wrapper svelte-e58ijk");
    },
    m(r66, s60) {
      Nt(r66, i65, s60), Dt(e48, i65, null), pt(i65, l63), pt(i65, a62), pt(a62, t43), o71 = true;
    },
    p(r66, s60) {
      (!o71 || s60 & /*title*/
      4) && ee2(
        t43,
        /*title*/
        r66[2]
      ), s60 & /*textTop*/
      2 && ne2(
        a62,
        "top",
        /*textTop*/
        r66[1]
      );
    },
    i(r66) {
      o71 || (ot(e48.$$.fragment, r66), o71 = true);
    },
    o(r66) {
      $t(e48.$$.fragment, r66), o71 = false;
    },
    d(r66) {
      r66 && J4(i65), Rt(e48);
    }
  };
}
function M34(n72) {
  let i65, e48, l63, a62;
  e48 = new Ee3({
    props: { icon: (
      /*icon*/
      n72[0]
    ), shadow: true }
  }), e48.$on(
    "iconLoaded",
    /*iconLoaded_handler*/
    n72[8]
  );
  let t43 = (
    /*title*/
    n72[2] && /*iconLoaded*/
    n72[3] && z21(n72)
  );
  return {
    c() {
      i65 = K4("div"), Ae(e48.$$.fragment), l63 = Xt(), t43 && t43.c(), te2(i65, "class", "wrapper svelte-e58ijk");
    },
    m(o71, r66) {
      Nt(o71, i65, r66), Dt(e48, i65, null), pt(i65, l63), t43 && t43.m(i65, null), a62 = true;
    },
    p(o71, [r66]) {
      const s60 = {};
      r66 & /*icon*/
      1 && (s60.icon = /*icon*/
      o71[0]), e48.$set(s60), /*title*/
      o71[2] && /*iconLoaded*/
      o71[3] ? t43 ? (t43.p(o71, r66), r66 & /*title, iconLoaded*/
      12 && ot(t43, 1)) : (t43 = z21(o71), t43.c(), ot(t43, 1), t43.m(i65, null)) : t43 && (Lt(), $t(t43, 1, 1, () => {
        t43 = null;
      }), Ot());
    },
    i(o71) {
      a62 || (ot(e48.$$.fragment, o71), ot(t43), a62 = true);
    },
    o(o71) {
      $t(e48.$$.fragment, o71), $t(t43), a62 = false;
    },
    d(o71) {
      o71 && J4(i65), Rt(e48), t43 && t43.d();
    }
  };
}
var O32 = 4;
function Q26(n72, i65, e48) {
  let l63, a62, t43, o71, r66, s60, h66, { tag: c85 } = i65;
  const q38 = () => {
    e48(3, l63 = true);
  };
  return n72.$$set = (p66) => {
    "tag" in p66 && e48(4, c85 = p66.tag);
  }, n72.$$.update = () => {
    var p66, _32, w49, y51, x49, k47, b55, j37;
    n72.$$.dirty & /*tag*/
    16 && e48(2, a62 = (p66 = c85.data.title) != null ? p66 : c85.data.text), n72.$$.dirty & /*tag*/
    16 && e48(0, t43 = (w49 = c85.data.icon) != null ? w49 : (_32 = c85.style) == null ? void 0 : _32.point), n72.$$.dirty & /*tag*/
    16 && e48(6, o71 = (x49 = (y51 = c85.style) == null ? void 0 : y51.point) == null ? void 0 : x49.width), n72.$$.dirty & /*tag*/
    16 && e48(5, r66 = (j37 = (b55 = (k47 = c85.style) == null ? void 0 : k47.point) == null ? void 0 : b55.scale) != null ? j37 : 1), n72.$$.dirty & /*icon*/
    1 && e48(7, s60 = t43 == null ? void 0 : t43.bgcolor), n72.$$.dirty & /*bgcolor, width, scale*/
    224 && e48(1, h66 = s60 && o71 && typeof o71 == "number" ? e34(o71 * 0.414 * r66 / 2 + O32) : 0);
  }, e48(3, l63 = false), [
    t43,
    h66,
    a62,
    l63,
    c85,
    r66,
    o71,
    s60,
    q38
  ];
}
var nt6 = class extends Ce {
  constructor(i65) {
    super(), Te(this, i65, Q26, M34, Ft, { tag: 4 }, K28);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Icon/PanoramaIcon.js
var A45 = Object.defineProperty;
var D37 = Object.defineProperties;
var E36 = Object.getOwnPropertyDescriptors;
var H25 = Object.getOwnPropertySymbols;
var F31 = Object.prototype.hasOwnProperty;
var J28 = Object.prototype.propertyIsEnumerable;
var R33 = (l63, e48, i65) => e48 in l63 ? A45(l63, e48, { enumerable: true, configurable: true, writable: true, value: i65 }) : l63[e48] = i65;
var q26 = (l63, e48) => {
  for (var i65 in e48 || (e48 = {}))
    F31.call(e48, i65) && R33(l63, i65, e48[i65]);
  if (H25)
    for (var i65 of H25(e48))
      J28.call(e48, i65) && R33(l63, i65, e48[i65]);
  return l63;
};
var B27 = (l63, e48) => D37(l63, E36(e48));
function Y20(l63) {
  Qt2(l63, "svelte-ezi5lu", `.icon.svelte-ezi5lu{font-size:0}.icon-bg.svelte-ezi5lu{position:absolute;width:141%;height:141%;top:50%;left:50%;transform:translate(-50%, -50%);border-radius:50%;overflow:hidden;z-index:-1}.icon-bg-circle.svelte-ezi5lu{border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%}.icon-bg-circle-inner.svelte-ezi5lu{border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%}.icon-bg-circle-inner-shadow.svelte-ezi5lu{border-radius:50%;position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(circle at center, transparent 20%, rgba(255,255,255,0.3))}.icon-bg-circle.svelte-ezi5lu::before{content:"";position:absolute;z-index:1;top:0;left:0;right:0;bottom:0;border-radius:50%;background:linear-gradient(-45deg, rgba(255,255,255,1), rgba(255,255,255,0.2), rgba(255,255,255,1));z-index:1;mask:radial-gradient(circle at center, 
              transparent 65%, 
              black 0%);-webkit-mask:radial-gradient(circle at center, 
              transparent 65%, 
              black 0%)}`);
}
function C41(l63) {
  let e48, i65;
  return e48 = new T22({
    props: {
      center: true,
      blurRadius: 24,
      spreadRadius: 16
    }
  }), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(o71, n72) {
      Dt(e48, o71, n72), i65 = true;
    },
    i(o71) {
      i65 || (ot(e48.$$.fragment, o71), i65 = true);
    },
    o(o71) {
      $t(e48.$$.fragment, o71), i65 = false;
    },
    d(o71) {
      Rt(e48, o71);
    }
  };
}
function I36(l63) {
  let e48, i65, o71, n72, r66;
  return {
    c() {
      e48 = K4("div"), i65 = K4("div"), o71 = K4("div"), n72 = Xt(), r66 = K4("div"), te2(o71, "class", "icon-bg-circle-inner svelte-ezi5lu"), ne2(
        o71,
        "background",
        /*bgcolor*/
        l63[4]
      ), ne2(
        o71,
        "opacity",
        /*bgopacity*/
        l63[3]
      ), te2(r66, "class", "icon-bg-circle-inner-shadow svelte-ezi5lu"), te2(i65, "class", "icon-bg-circle svelte-ezi5lu"), te2(e48, "class", "icon-bg svelte-ezi5lu");
    },
    m(a62, h66) {
      Nt(a62, e48, h66), pt(e48, i65), pt(i65, o71), pt(i65, n72), pt(i65, r66);
    },
    p(a62, h66) {
      h66 & /*bgcolor*/
      16 && ne2(
        o71,
        "background",
        /*bgcolor*/
        a62[4]
      ), h66 & /*bgopacity*/
      8 && ne2(
        o71,
        "opacity",
        /*bgopacity*/
        a62[3]
      );
    },
    d(a62) {
      a62 && J4(e48);
    }
  };
}
function Z14(l63) {
  let e48, i65, o71, n72, r66, a62, h66, m66, c85, v58, s60, b55, k47, y51, w49, d73 = (
    /*shadow*/
    l63[1] && C41()
  ), u72 = (
    /*bgcolor*/
    l63[4] && I36(l63)
  );
  return {
    c() {
      e48 = K4("div"), d73 && d73.c(), i65 = Xt(), u72 && u72.c(), o71 = Xt(), n72 = Mt("svg"), r66 = Mt("linearGradient"), a62 = Mt("stop"), h66 = Mt("stop"), m66 = Mt("linearGradient"), c85 = Mt("stop"), v58 = Mt("stop"), s60 = Mt("g"), b55 = Mt("path"), k47 = Mt("path"), y51 = Mt("path"), te2(a62, "offset", "0"), te2(a62, "stop-color", "#fff"), te2(h66, "offset", "1"), te2(h66, "stop-color", "#fff"), te2(h66, "stop-opacity", ".7"), te2(r66, "id", "a"), te2(r66, "x1", "78.74567%"), te2(r66, "x2", "5.663764%"), te2(r66, "y1", "94.075617%"), te2(r66, "y2", "5.924383%"), te2(c85, "offset", "0"), te2(c85, "stop-color", "#fff"), te2(v58, "offset", "1"), te2(v58, "stop-color", "#fff"), te2(v58, "stop-opacity", "0"), te2(m66, "id", "b"), te2(m66, "x1", "16.588502%"), te2(m66, "x2", "68.285986%"), te2(m66, "y1", "5.924383%"), te2(m66, "y2", "63.800896%"), te2(b55, "d", "m18 5.4v8c0 1.9329966-4.0294373 3.5-9 3.5-4.97056275 0-9-1.5670034-9-3.5v-8c0 1.93299662 4.02943725 3.5 9 3.5 4.8670094 0 8.8316983-1.50239169 8.9947813-3.37967512zm-13.0396582-.5c.259 0 .504-.063.728-.196.441-.259.721-.728.721-1.26 0-.441-.189-.833-.504-1.085.259-.259.434-.63.434-1.022 0-.245-.063-.476-.182-.679-.252-.413-.693-.658-1.197-.658-.238 0-.462.056-.665.175-.42.238-.679.665-.679 1.162v.035h.721v-.035c0-.315.294-.616.623-.616.357 0 .651.287.651.616 0 .371-.287.658-.651.658h-.14v.728h.14c.399 0 .728.322.728.721s-.329.735-.728.735-.728-.336-.728-.735v-.105h-.728v.105c0 .266.063.511.196.728.259.448.728.728 1.26.728zm3.647 0c.273 0 .518-.07.749-.203.448-.273.742-.763.742-1.302 0-.273-.07-.518-.203-.749-.273-.448-.749-.742-1.288-.742-.077 0-.133 0-.168.007l.875-1.911h-.805l-1.274 2.793c-.091.189-.133.392-.133.602 0 .273.07.525.203.756.273.455.749.749 1.302.749zm0-.742c-.427 0-.763-.336-.763-.763 0-.42.343-.77.763-.77s.77.35.77.77-.35.763-.77.763zm3.654.749c.504 0 .952-.273 1.204-.7.126-.21.189-.441.189-.693v-2.086c0-.511-.273-.98-.693-1.239-.217-.126-.448-.189-.7-.189-.511 0-.98.273-1.232.714-.133.217-.196.455-.196.714v2.086c0 .504.273.952.714 1.204.217.126.455.189.714.189zm0-.721c-.371 0-.693-.301-.693-.672v-2.086c0-.399.308-.693.693-.693.371 0 .651.294.651.693v2.086c0 .385-.28.672-.651.672zm3.2140391-2.11266016c.2734375 0 .5132649-.09855143.7194824-.29565429.2062174-.19710287.3093262-.44376628.3093262-.73999024 0-.28710937-.0991211-.53035481-.2973633-.72973633-.1982422-.19938151-.4420573-.29907226-.7314453-.29907226-.2825521 0-.5257976.10026042-.7297364.30078125s-.3059082.44661458-.3059082.73828125c0 .2734375.0968425.51269531.2905274.71777344.1936849.20507812.4420573.30761718.7451172.30761718zm0-.37255859c-.1822917 0-.3383789-.06494141-.4682618-.19482422-.1298828-.12988281-.1948242-.28369141-.1948242-.46142578 0-.18457031.0655111-.34122721.1965332-.4699707.1310222-.12874349.2865397-.19311524.4665528-.19311524.180013 0 .3343912.06494141.4631347.19482422s.1931153.28369141.1931153.46142578c0 .18457031-.0655111.34122722-.1965332.46997071-.1310222.12874349-.2842611.19311523-.4597168.19311523z"), te2(b55, "fill", "url(#a)"), te2(b55, "fill-rule", "nonzero"), te2(k47, "d", "m18 5.4v8c0 1.9329966-4.0294373 3.5-9 3.5-4.97056275 0-9-1.5670034-9-3.5v-8c0 1.93299662 4.02943725 3.5 9 3.5 4.8670094 0 8.8316983-1.50239169 8.9947813-3.37967512zm-.537 1.917-.0556083.04651904c-1.6129673 1.27557869-4.7855335 2.07278608-8.4073917 2.07278608-3.5667171 0-6.69228643-.77164105-8.32741897-2.0099189l-.13658103-.10838622.00030512 6.082c0 1.4658868 3.60570734 2.8999734 8.15878222 2.9616322l.30491266.0020627c4.6959533 0 8.4636949-1.4652329 8.4636949-2.9636949zm-5.2016582-7.317c.252 0 .483.063.7.189.42.259.693.728.693 1.239v2.086l-.00756.14868c-.02016.19488-.08064.37632-.18144.54432-.252.427-.7.7-1.204.7-.259 0-.497-.063-.714-.189-.441-.252-.714-.7-.714-1.204v-2.086l.007616-.15288c.020384-.20048.081984-.38752.188384-.56112.252-.441.721-.714 1.232-.714zm-7.301 0c.504 0 .945.245 1.197.658.119.203.182.434.182.679 0 .392-.175.763-.434 1.022.315.252.504.644.504 1.085 0 .532-.28 1.001-.721 1.26-.224.133-.469.196-.728.196-.532 0-1.001-.28-1.26-.728-.133-.217-.196-.462-.196-.728v-.105h.728v.105c0 .399.329.735.728.735s.728-.336.728-.735-.329-.721-.728-.721h-.14v-.728h.14c.364 0 .651-.287.651-.658 0-.329-.294-.616-.651-.616-.329 0-.623.301-.623.616v.035h-.721v-.035c0-.497.259-.924.679-1.162.203-.119.427-.175.665-.175zm4.354 0-.875 1.911c.035-.007.091-.007.168-.007.539 0 1.015.294 1.288.742.133.231.203.476.203.749 0 .539-.294 1.029-.742 1.302-.231.133-.476.203-.749.203-.553 0-1.029-.294-1.302-.749-.133-.231-.203-.483-.203-.756 0-.21.042-.413.133-.602l1.274-2.793zm2.947.735c-.385 0-.693.294-.693.693v2.086l.0077784.09927273c.051172.32396694.3479489.57272727.6852216.57272727.371 0 .651-.287.651-.672v-2.086l-.0068002-.10607288c-.044861-.34395191-.3069271-.58692712-.6441998-.58692712zm-3.654 1.89c-.42 0-.763.35-.763.77 0 .427.336.763.763.763.42 0 .77-.343.77-.763s-.35-.77-.77-.77zm6.8680391-2.61611328c.289388 0 .5332031.09969075.7314453.29907226.1982422.19938152.2973633.44262696.2973633.72973633 0 .29622396-.1031088.54288737-.3093262.73999024-.2062175.19710286-.4460449.29565429-.7194824.29565429-.3030599 0-.5514323-.10253906-.7451172-.30761718-.1936849-.20507813-.2905274-.44433594-.2905274-.71777344 0-.29166667.1019694-.53776042.3059082-.73828125s.4471843-.30078125.7297364-.30078125zm0 .37255859c-.1800131 0-.3355306.06437175-.4665528.19311524-.1310221.12874349-.1965332.28540039-.1965332.4699707 0 .17773437.0649414.33154297.1948242.46142578.1298829.12988281.2859701.19482422.4682618.19482422.1754557 0 .3286946-.06437174.4597168-.19311523.1310221-.12874349.1965332-.2854004.1965332-.46997071 0-.17773437-.0643718-.33154297-.1931153-.46142578s-.2831217-.19482422-.4631347-.19482422z"), te2(k47, "fill", "url(#b)"), te2(k47, "fill-rule", "nonzero"), te2(y51, "d", "m3.00030998 2.79110119v5.21779762c-1.84142801-.64087734-3.00030998-1.57225753-3.00030998-2.60889881s1.15888197-1.96802147 3.00030998-2.60889881zm12.00038752.00035068c1.8408432.64086639 2.9993025 1.57209591 2.9993025 2.60854813s-1.1584593 1.96768174-2.9993025 2.60854813z"), te2(y51, "fill", "#d8d8d8"), te2(y51, "opacity", ".6"), te2(s60, "fill", "none"), te2(s60, "fill-rule", "evenodd"), te2(s60, "transform", "translate(3 3.1)"), te2(
        n72,
        "height",
        /*finalWidth*/
        l63[2]
      ), te2(
        n72,
        "width",
        /*finalWidth*/
        l63[2]
      ), te2(n72, "viewBox", "0 0 24 24"), te2(n72, "xmlns", "http://www.w3.org/2000/svg"), te2(n72, "xmlns:xlink", "http://www.w3.org/1999/xlink"), te2(e48, "class", "icon svelte-ezi5lu"), ne2(
        e48,
        "width",
        /*width*/
        l63[0]
      );
    },
    m(g67, z28) {
      Nt(g67, e48, z28), d73 && d73.m(e48, null), pt(e48, i65), u72 && u72.m(e48, null), pt(e48, o71), pt(e48, n72), pt(n72, r66), pt(r66, a62), pt(r66, h66), pt(n72, m66), pt(m66, c85), pt(m66, v58), pt(n72, s60), pt(s60, b55), pt(s60, k47), pt(s60, y51), w49 = true;
    },
    p(g67, [z28]) {
      g67[1] ? d73 ? z28 & /*shadow*/
      2 && ot(d73, 1) : (d73 = C41(), d73.c(), ot(d73, 1), d73.m(e48, i65)) : d73 && (Lt(), $t(d73, 1, 1, () => {
        d73 = null;
      }), Ot()), /*bgcolor*/
      g67[4] ? u72 ? u72.p(g67, z28) : (u72 = I36(g67), u72.c(), u72.m(e48, o71)) : u72 && (u72.d(1), u72 = null), (!w49 || z28 & /*finalWidth*/
      4) && te2(
        n72,
        "height",
        /*finalWidth*/
        g67[2]
      ), (!w49 || z28 & /*finalWidth*/
      4) && te2(
        n72,
        "width",
        /*finalWidth*/
        g67[2]
      ), z28 & /*width*/
      1 && ne2(
        e48,
        "width",
        /*width*/
        g67[0]
      );
    },
    i(g67) {
      w49 || (ot(d73), w49 = true);
    },
    o(g67) {
      $t(d73), w49 = false;
    },
    d(g67) {
      g67 && J4(e48), d73 && d73.d(), u72 && u72.d();
    }
  };
}
function $18(l63) {
  const { originWidth: e48, originHeight: i65, scale: o71 = 1, wantedWidth: n72 } = l63, r66 = (n72 != null ? n72 : e48) * o71, a62 = typeof i65 == "number" ? r66 * (i65 / e48) : void 0;
  return B27(q26({}, l63), { width: r66, height: a62 });
}
function e210(l63, e48, i65) {
  let o71, n72, r66, a62, h66, { width: m66 = null } = e48, { icon: c85 = null } = e48, { shadow: v58 = false } = e48;
  return l63.$$set = (s60) => {
    "width" in s60 && i65(0, m66 = s60.width), "icon" in s60 && i65(5, c85 = s60.icon), "shadow" in s60 && i65(1, v58 = s60.shadow);
  }, l63.$$.update = () => {
    var s60, b55;
    l63.$$.dirty & /*icon*/
    32 && i65(4, o71 = c85 == null ? void 0 : c85.bgcolor), l63.$$.dirty & /*icon*/
    32 && i65(3, n72 = (s60 = c85 == null ? void 0 : c85.bgopacity) != null ? s60 : 0.6), l63.$$.dirty & /*icon*/
    32 && i65(7, r66 = (b55 = c85 == null ? void 0 : c85.scale) != null ? b55 : 1), l63.$$.dirty & /*icon*/
    32 && i65(6, a62 = c85 == null ? void 0 : c85.width), l63.$$.dirty & /*iconScale, iconWidth*/
    192 && i65(2, h66 = $18({
      originWidth: 24,
      originHeight: 24,
      scale: r66,
      wantedWidth: a62
    }).width);
  }, [m66, v58, h66, n72, o71, c85, a62, r66];
}
var r210 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, e210, Z14, Ft, { width: 0, icon: 5, shadow: 1 }, Y20);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/PanoramaTag.js
function v34(r66) {
  Qt2(r66, "svelte-yq4ru9", ".wrapper.svelte-yq4ru9{font-weight:600;cursor:pointer;width:-moz-max-content;width:max-content;height:-moz-max-content;height:max-content;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);display:flex;align-items:center;justify-content:center;flex-direction:column;pointer-events:auto}");
}
function $19(r66) {
  let n72, e48, a62;
  return e48 = new r210({
    props: { icon: (
      /*icon*/
      r66[0]
    ), shadow: true }
  }), {
    c() {
      n72 = K4("div"), Ae(e48.$$.fragment), te2(n72, "class", "wrapper svelte-yq4ru9");
    },
    m(t43, o71) {
      Nt(t43, n72, o71), Dt(e48, n72, null), a62 = true;
    },
    p(t43, [o71]) {
      const i65 = {};
      o71 & /*icon*/
      1 && (i65.icon = /*icon*/
      t43[0]), e48.$set(i65);
    },
    i(t43) {
      a62 || (ot(e48.$$.fragment, t43), a62 = true);
    },
    o(t43) {
      $t(e48.$$.fragment, t43), a62 = false;
    },
    d(t43) {
      t43 && J4(n72), Rt(e48);
    }
  };
}
function q27(r66, n72, e48) {
  let a62, { tag: t43 } = n72;
  return r66.$$set = (o71) => {
    "tag" in o71 && e48(1, t43 = o71.tag);
  }, r66.$$.update = () => {
    var o71, i65;
    r66.$$.dirty & /*tag*/
    2 && e48(0, a62 = (i65 = t43.data.icon) != null ? i65 : (o71 = t43.style) == null ? void 0 : o71.point);
  }, [a62, t43];
}
var I37 = class extends Ce {
  constructor(n72) {
    super(), Te(this, n72, q27, $19, Ft, { tag: 1 }, v34);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/CustomTag.js
function T24(i65) {
  Qt2(i65, "svelte-kzl2aj", ".customElement__container.svelte-kzl2aj{position:relative}");
}
function q28(i65) {
  let e48, t43;
  return {
    c() {
      e48 = new se2(false), t43 = Yt(), e48.a = t43;
    },
    m(n72, l63) {
      e48.m(
        /*renderer*/
        i65[2],
        n72,
        l63
      ), Nt(n72, t43, l63);
    },
    p: N4,
    d(n72) {
      n72 && J4(t43), n72 && e48.d();
    }
  };
}
function D38(i65) {
  let e48, t43 = typeof /*renderer*/
  i65[2] == "string" && q28(i65);
  return {
    c() {
      e48 = K4("div"), t43 && t43.c(), te2(e48, "class", "customElement__container svelte-kzl2aj"), re2(
        e48,
        "unfolded",
        /*unfolded*/
        i65[1]
      );
    },
    m(n72, l63) {
      Nt(n72, e48, l63), t43 && t43.m(e48, null), i65[5](e48);
    },
    p(n72, [l63]) {
      typeof /*renderer*/
      n72[2] == "string" && t43.p(n72, l63), l63 & /*unfolded*/
      2 && re2(
        e48,
        "unfolded",
        /*unfolded*/
        n72[1]
      );
    },
    i: N4,
    o: N4,
    d(n72) {
      n72 && J4(e48), t43 && t43.d(), i65[5](null);
    }
  };
}
function H26(i65, e48, t43) {
  var u72, c85;
  let n72, { tag: l63 } = e48, { rendererMap: s60 = /* @__PURE__ */ new Map() } = e48, r66, o71 = (c85 = l63.element) != null ? c85 : (u72 = s60.get(l63.contentType)) == null ? void 0 : u72.renderer, a62;
  ce(() => {
    r66 && (o71 instanceof Element ? (r66.appendChild(o71), a62 = () => {
      o71 instanceof Element && o71.remove();
    }) : typeof o71 == "function" && (a62 = o71(r66, l63)));
  }), le(() => {
    a62 == null || a62();
  });
  function g67(f80) {
    ft[f80 ? "unshift" : "push"](() => {
      r66 = f80, t43(0, r66);
    });
  }
  return i65.$$set = (f80) => {
    "tag" in f80 && t43(3, l63 = f80.tag), "rendererMap" in f80 && t43(4, s60 = f80.rendererMap);
  }, i65.$$.update = () => {
    i65.$$.dirty & /*tag*/
    8 && t43(1, n72 = l63.state.unfolded);
  }, [r66, n72, o71, l63, s60, g67];
}
var A46 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, H26, D38, Ft, { tag: 3, rendererMap: 4 }, T24);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/index.js
function BA(i65) {
  Qt2(i65, "svelte-1fy4duy", '@font-face{font-family:"TG-TYPE";font-style:normal;font-weight:400;src:local("TG-TYPE-Bold"), url(data:application/font-woff2;charset=utf-8;base64,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) format("woff2")}*{-webkit-tap-highlight-color:transparent}.content__container.svelte-1fy4duy{position:relative;left:50%;top:50%;transform:translate(-50%, -50%);font-family:PingFangSC, Segoe UI, Rototo, sans-serif;transition:opacity 0.2s linear}.content__container.unClickable.svelte-1fy4duy{pointer-events:none !important}.content__container.unClickable.svelte-1fy4duy *{pointer-events:none !important}.content__wrapper.svelte-1fy4duy{pointer-events:none;width:100%;height:100%}.content__container.hide.svelte-1fy4duy{opacity:0;pointer-events:none}.content__container.hide.svelte-1fy4duy *{pointer-events:none !important}.content__container.disable.svelte-1fy4duy{display:none}.content.svelte-1fy4duy{position:relative;width:100%;height:100%;font-size:0.75rem;color:#fff}.content.svelte-1fy4duy:not(.unfolded){pointer-events:none}.content.svelte-1fy4duy:not(.unfolded) *{pointer-events:none !important}.content.unfolded.svelte-1fy4duy{pointer-events:auto;cursor:pointer}');
}
function _A(i65) {
  let A62, t43;
  return {
    c() {
      A62 = K4("div"), te2(A62, "data-info", "tag content is keep folded"), te2(A62, "data-id", t43 = /*tag*/
      i65[0].id);
    },
    m(e48, r66) {
      Nt(e48, A62, r66);
    },
    p(e48, r66) {
      r66 & /*tag*/
      1 && t43 !== (t43 = /*tag*/
      e48[0].id) && te2(A62, "data-id", t43);
    },
    i: N4,
    o: N4,
    d(e48) {
      e48 && J4(A62);
    }
  };
}
function QA(i65) {
  let A62, t43, e48, r66, a62, d73, u72, m66, o71, f80, p66, g67, b55, y51, B42, v58, E53;
  const J33 = [
    MA,
    DA,
    hA,
    yA,
    bA,
    CA,
    kA
  ], C52 = [];
  function H39(n72, s60) {
    return s60 & /*tag, contentTypeMap*/
    9 && (r66 = null), s60 & /*tag, contentTypeMap*/
    9 && (a62 = null), s60 & /*tag, contentTypeMap*/
    9 && (d73 = null), s60 & /*tag, contentTypeMap*/
    9 && (u72 = null), s60 & /*tag, contentTypeMap*/
    9 && (m66 = null), s60 & /*tag, contentTypeMap*/
    9 && (o71 = null), s60 & /*tag, contentTypeMap*/
    9 && (f80 = null), r66 == null && (r66 = !!(["Text"].includes(
      /*tag*/
      n72[0].contentType
    ) || ["Text"].includes(
      /*contentTypeMap*/
      n72[3].get(
        /*tag*/
        n72[0].contentType
      )
    ))), r66 ? 0 : (a62 == null && (a62 = !!(["ImageText", "Image", "Video"].includes(
      /*tag*/
      n72[0].contentType
    ) || ["ImageText", "Image", "Video"].includes(
      /*contentTypeMap*/
      n72[3].get(
        /*tag*/
        n72[0].contentType
      )
    ))), a62 ? 1 : (d73 == null && (d73 = !!(["Audio"].includes(
      /*tag*/
      n72[0].contentType
    ) || ["Audio"].includes(
      /*contentTypeMap*/
      n72[3].get(
        /*tag*/
        n72[0].contentType
      )
    ))), d73 ? 2 : (u72 == null && (u72 = !!(["Marketing"].includes(
      /*tag*/
      n72[0].contentType
    ) || ["Marketing"].includes(
      /*contentTypeMap*/
      n72[3].get(
        /*tag*/
        n72[0].contentType
      )
    ))), u72 ? 3 : (m66 == null && (m66 = !!(["Link", "VRLink", "PanoLink", "Sticker"].includes(
      /*tag*/
      n72[0].contentType
    ) || ["Link", "VRLink", "PanoLink", "Sticker"].includes(
      /*contentTypeMap*/
      n72[3].get(
        /*tag*/
        n72[0].contentType
      )
    ))), m66 ? 4 : (o71 == null && (o71 = !!(["MediaPlane", "MediaModel"].includes(
      /*tag*/
      n72[0].contentType
    ) || ["MediaPlane", "MediaModel"].includes(
      /*contentTypeMap*/
      n72[3].get(
        /*tag*/
        n72[0].contentType
      )
    ))), o71 ? 5 : (f80 == null && (f80 = !!(["Panorama"].includes(
      /*tag*/
      n72[0].contentType
    ) || ["Panorama"].includes(
      /*contentTypeMap*/
      n72[3].get(
        /*tag*/
        n72[0].contentType
      )
    ))), f80 ? 6 : -1))))));
  }
  return ~(p66 = H39(i65, -1)) && (g67 = C52[p66] = J33[p66](i65)), {
    c() {
      var n72;
      A62 = K4("div"), t43 = K4("div"), e48 = K4("div"), g67 && g67.c(), te2(e48, "class", "content svelte-1fy4duy"), re2(
        e48,
        "unfolded",
        /*tag*/
        (n72 = i65[0].state) == null ? void 0 : n72.unfolded
      ), te2(t43, "class", "content__wrapper svelte-1fy4duy"), te2(A62, "class", b55 = Gt(a27(
        "content__container",
        /*tag*/
        i65[0].className
      )) + " svelte-1fy4duy"), te2(A62, "data-id", y51 = /*tag*/
      i65[0].id), re2(
        A62,
        "disable",
        /*tag*/
        i65[0].enabled === false
      ), re2(
        A62,
        "hide",
        /*isHide*/
        i65[5]
      ), re2(
        A62,
        "unClickable",
        /*tag*/
        i65[0].config.clickable === false
      ), ne2(
        A62,
        "width",
        /*tag*/
        i65[0].stickType === "Plane" || /*tag*/
        i65[0].contentType === "MediaModel" ? "100%" : 0
      ), ne2(
        A62,
        "height",
        /*tag*/
        i65[0].stickType === "Plane" || /*tag*/
        i65[0].contentType === "MediaModel" ? "100%" : 0
      );
    },
    m(n72, s60) {
      Nt(n72, A62, s60), pt(A62, t43), pt(t43, e48), ~p66 && C52[p66].m(e48, null), i65[16](A62), B42 = true, v58 || (E53 = lt(
        A62,
        "click",
        /*click_handler_1*/
        i65[17],
        true
      ), v58 = true);
    },
    p(n72, s60) {
      var l63;
      let T38 = p66;
      p66 = H39(n72, s60), p66 === T38 ? ~p66 && C52[p66].p(n72, s60) : (g67 && (Lt(), $t(C52[T38], 1, 1, () => {
        C52[T38] = null;
      }), Ot()), ~p66 ? (g67 = C52[p66], g67 ? g67.p(n72, s60) : (g67 = C52[p66] = J33[p66](n72), g67.c()), ot(g67, 1), g67.m(e48, null)) : g67 = null), (!B42 || s60 & /*tag*/
      1) && re2(
        e48,
        "unfolded",
        /*tag*/
        (l63 = n72[0].state) == null ? void 0 : l63.unfolded
      ), (!B42 || s60 & /*tag*/
      1 && b55 !== (b55 = Gt(a27(
        "content__container",
        /*tag*/
        n72[0].className
      )) + " svelte-1fy4duy")) && te2(A62, "class", b55), (!B42 || s60 & /*tag*/
      1 && y51 !== (y51 = /*tag*/
      n72[0].id)) && te2(A62, "data-id", y51), (!B42 || s60 & /*tag, tag*/
      1) && re2(
        A62,
        "disable",
        /*tag*/
        n72[0].enabled === false
      ), (!B42 || s60 & /*tag, isHide*/
      33) && re2(
        A62,
        "hide",
        /*isHide*/
        n72[5]
      ), (!B42 || s60 & /*tag, tag*/
      1) && re2(
        A62,
        "unClickable",
        /*tag*/
        n72[0].config.clickable === false
      ), s60 & /*tag*/
      1 && ne2(
        A62,
        "width",
        /*tag*/
        n72[0].stickType === "Plane" || /*tag*/
        n72[0].contentType === "MediaModel" ? "100%" : 0
      ), s60 & /*tag*/
      1 && ne2(
        A62,
        "height",
        /*tag*/
        n72[0].stickType === "Plane" || /*tag*/
        n72[0].contentType === "MediaModel" ? "100%" : 0
      );
    },
    i(n72) {
      B42 || (ot(g67), B42 = true);
    },
    o(n72) {
      $t(g67), B42 = false;
    },
    d(n72) {
      n72 && J4(A62), ~p66 && C52[p66].d(), i65[16](null), v58 = false, E53();
    }
  };
}
function wA(i65) {
  let A62, t43, e48, r66, a62, d73, u72;
  return t43 = new A46({
    props: {
      tag: e37(
        /*tag*/
        i65[0]
      ),
      rendererMap: (
        /*rendererMap*/
        i65[2]
      )
    }
  }), {
    c() {
      A62 = K4("div"), Ae(t43.$$.fragment), te2(A62, "class", e48 = Gt(a27(
        "content__container",
        /*tag*/
        i65[0].className
      )) + " svelte-1fy4duy"), te2(A62, "data-id", r66 = /*tag*/
      i65[0].id), re2(
        A62,
        "custom-tag-disable",
        /*tag*/
        i65[0].enabled === false
      ), re2(
        A62,
        "custom-tag-hide",
        /*isHide*/
        i65[5]
      );
    },
    m(m66, o71) {
      Nt(m66, A62, o71), Dt(t43, A62, null), i65[14](A62), a62 = true, d73 || (u72 = lt(
        A62,
        "click",
        /*click_handler*/
        i65[15]
      ), d73 = true);
    },
    p(m66, o71) {
      const f80 = {};
      o71 & /*tag*/
      1 && (f80.tag = e37(
        /*tag*/
        m66[0]
      )), o71 & /*rendererMap*/
      4 && (f80.rendererMap = /*rendererMap*/
      m66[2]), t43.$set(f80), (!a62 || o71 & /*tag*/
      1 && e48 !== (e48 = Gt(a27(
        "content__container",
        /*tag*/
        m66[0].className
      )) + " svelte-1fy4duy")) && te2(A62, "class", e48), (!a62 || o71 & /*tag*/
      1 && r66 !== (r66 = /*tag*/
      m66[0].id)) && te2(A62, "data-id", r66), (!a62 || o71 & /*tag, tag*/
      1) && re2(
        A62,
        "custom-tag-disable",
        /*tag*/
        m66[0].enabled === false
      ), (!a62 || o71 & /*tag, isHide*/
      33) && re2(
        A62,
        "custom-tag-hide",
        /*isHide*/
        m66[5]
      );
    },
    i(m66) {
      a62 || (ot(t43.$$.fragment, m66), a62 = true);
    },
    o(m66) {
      $t(t43.$$.fragment, m66), a62 = false;
    },
    d(m66) {
      m66 && J4(A62), Rt(t43), i65[14](null), d73 = false, u72();
    }
  };
}
function kA(i65) {
  let A62, t43;
  return A62 = new I37({
    props: { tag: e37(
      /*tag*/
      i65[0]
    ) }
  }), {
    c() {
      Ae(A62.$$.fragment);
    },
    m(e48, r66) {
      Dt(A62, e48, r66), t43 = true;
    },
    p(e48, r66) {
      const a62 = {};
      r66 & /*tag*/
      1 && (a62.tag = e37(
        /*tag*/
        e48[0]
      )), A62.$set(a62);
    },
    i(e48) {
      t43 || (ot(A62.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(A62.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      Rt(A62, e48);
    }
  };
}
function CA(i65) {
  let A62, t43;
  return A62 = new gt5({
    props: { tag: e37(
      /*tag*/
      i65[0]
    ) }
  }), {
    c() {
      Ae(A62.$$.fragment);
    },
    m(e48, r66) {
      Dt(A62, e48, r66), t43 = true;
    },
    p(e48, r66) {
      const a62 = {};
      r66 & /*tag*/
      1 && (a62.tag = e37(
        /*tag*/
        e48[0]
      )), A62.$set(a62);
    },
    i(e48) {
      t43 || (ot(A62.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(A62.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      Rt(A62, e48);
    }
  };
}
function bA(i65) {
  let A62, t43;
  return A62 = new nt6({
    props: { tag: e37(
      /*tag*/
      i65[0]
    ) }
  }), {
    c() {
      Ae(A62.$$.fragment);
    },
    m(e48, r66) {
      Dt(A62, e48, r66), t43 = true;
    },
    p(e48, r66) {
      const a62 = {};
      r66 & /*tag*/
      1 && (a62.tag = e37(
        /*tag*/
        e48[0]
      )), A62.$set(a62);
    },
    i(e48) {
      t43 || (ot(A62.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(A62.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      Rt(A62, e48);
    }
  };
}
function yA(i65) {
  let A62, t43;
  return A62 = new Dt2({
    props: { tag: e37(
      /*tag*/
      i65[0]
    ) }
  }), {
    c() {
      Ae(A62.$$.fragment);
    },
    m(e48, r66) {
      Dt(A62, e48, r66), t43 = true;
    },
    p(e48, r66) {
      const a62 = {};
      r66 & /*tag*/
      1 && (a62.tag = e37(
        /*tag*/
        e48[0]
      )), A62.$set(a62);
    },
    i(e48) {
      t43 || (ot(A62.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(A62.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      Rt(A62, e48);
    }
  };
}
function hA(i65) {
  let A62, t43;
  return A62 = new rt5({
    props: { tag: e37(
      /*tag*/
      i65[0]
    ) }
  }), {
    c() {
      Ae(A62.$$.fragment);
    },
    m(e48, r66) {
      Dt(A62, e48, r66), t43 = true;
    },
    p(e48, r66) {
      const a62 = {};
      r66 & /*tag*/
      1 && (a62.tag = e37(
        /*tag*/
        e48[0]
      )), A62.$set(a62);
    },
    i(e48) {
      t43 || (ot(A62.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(A62.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      Rt(A62, e48);
    }
  };
}
function DA(i65) {
  let A62, t43;
  return A62 = new qe3({
    props: { tag: e37(
      /*tag*/
      i65[0]
    ) }
  }), {
    c() {
      Ae(A62.$$.fragment);
    },
    m(e48, r66) {
      Dt(A62, e48, r66), t43 = true;
    },
    p(e48, r66) {
      const a62 = {};
      r66 & /*tag*/
      1 && (a62.tag = e37(
        /*tag*/
        e48[0]
      )), A62.$set(a62);
    },
    i(e48) {
      t43 || (ot(A62.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(A62.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      Rt(A62, e48);
    }
  };
}
function MA(i65) {
  let A62, t43;
  return A62 = new Y16({
    props: { tag: e37(
      /*tag*/
      i65[0]
    ) }
  }), {
    c() {
      Ae(A62.$$.fragment);
    },
    m(e48, r66) {
      Dt(A62, e48, r66), t43 = true;
    },
    p(e48, r66) {
      const a62 = {};
      r66 & /*tag*/
      1 && (a62.tag = e37(
        /*tag*/
        e48[0]
      )), A62.$set(a62);
    },
    i(e48) {
      t43 || (ot(A62.$$.fragment, e48), t43 = true);
    },
    o(e48) {
      $t(A62.$$.fragment, e48), t43 = false;
    },
    d(e48) {
      Rt(A62, e48);
    }
  };
}
function vA(i65) {
  let A62, t43, e48, r66, a62;
  const d73 = [wA, QA, _A], u72 = [];
  function m66(o71, f80) {
    return f80 & /*tag, rendererMap*/
    5 && (A62 = null), A62 == null && (A62 = !!/*tag*/
    (o71[0].element || /*rendererMap*/
    o71[2].has(
      /*tag*/
      o71[0].contentType
    ))), A62 ? 0 : (
      /*haveContent*/
      o71[4] ? 1 : 2
    );
  }
  return t43 = m66(i65, -1), e48 = u72[t43] = d73[t43](i65), {
    c() {
      e48.c(), r66 = Yt();
    },
    m(o71, f80) {
      u72[t43].m(o71, f80), Nt(o71, r66, f80), a62 = true;
    },
    p(o71, [f80]) {
      let p66 = t43;
      t43 = m66(o71, f80), t43 === p66 ? u72[t43].p(o71, f80) : (Lt(), $t(u72[p66], 1, 1, () => {
        u72[p66] = null;
      }), Ot(), e48 = u72[t43], e48 ? e48.p(o71, f80) : (e48 = u72[t43] = d73[t43](o71), e48.c()), ot(e48, 1), e48.m(r66.parentNode, r66));
    },
    i(o71) {
      a62 || (ot(e48), a62 = true);
    },
    o(o71) {
      $t(e48), a62 = false;
    },
    d(o71) {
      u72[t43].d(o71), o71 && J4(r66);
    }
  };
}
function EA(i65, A62, t43) {
  let e48, r66, a62, d73, u72, m66, { tag: o71 } = A62, { hooks: f80 } = A62, { rendererMap: p66 = /* @__PURE__ */ new Map() } = A62, { contentTypeMap: g67 = /* @__PURE__ */ new Map() } = A62, { state: b55 } = A62, { mediaStore: y51 } = A62, { temporaryState: B42 } = A62;
  ae2("hooks", f80), ae2("mediaStore", y51);
  let v58, E53;
  function J33(l63) {
    l63 ? f80.emit("exposure", { id: d73, type: "start" }) : f80.emit("exposure", { id: d73, type: "end" });
  }
  function C52(l63, G31, U33) {
    var I49, P55;
    return !(!l63.enabled || !G31.visible || !G31.enabled || !U33.visible || !((I49 = l63.state) != null && I49.visible) || ((P55 = l63.temporaryState) == null ? void 0 : P55.visible) === false || l63 instanceof Qo && l63.loading);
  }
  function H39(l63) {
    ft[l63 ? "unshift" : "push"](() => {
      o71.contentDom = l63, t43(0, o71);
    });
  }
  const n72 = (l63) => f80.emit("click", { event: l63, target: "TagContent", tag: o71 });
  function s60(l63) {
    ft[l63 ? "unshift" : "push"](() => {
      o71.contentDom = l63, t43(0, o71);
    });
  }
  const T38 = (l63) => {
    o71.entryFromModel && o40(o71.five.state.mode) ? (l63.stopPropagation(), o71.find({ targetMode: "Panorama" })) : f80.emit("click", { event: l63, target: "TagContent", tag: o71 });
  };
  return i65.$$set = (l63) => {
    "tag" in l63 && t43(0, o71 = l63.tag), "hooks" in l63 && t43(1, f80 = l63.hooks), "rendererMap" in l63 && t43(2, p66 = l63.rendererMap), "contentTypeMap" in l63 && t43(3, g67 = l63.contentTypeMap), "state" in l63 && t43(6, b55 = l63.state), "mediaStore" in l63 && t43(7, y51 = l63.mediaStore), "temporaryState" in l63 && t43(8, B42 = l63.temporaryState);
  }, i65.$$.update = () => {
    var l63, G31, U33, I49, P55, V25, Z18, K32, N33, z28, R43;
    i65.$$.dirty & /*tag*/
    1 && t43(12, e48 = (l63 = o71.state) == null ? void 0 : l63.unfolded), i65.$$.dirty & /*tag*/
    1 && t43(11, r66 = (G31 = o71.state) == null ? void 0 : G31.visible), i65.$$.dirty & /*state, temporaryState, tag*/
    321 && t43(13, a62 = b55.visible && B42.visible && ((U33 = o71.state) == null ? void 0 : U33.visible)), i65.$$.dirty & /*tag*/
    1 && (d73 = o71.id), i65.$$.dirty & /*tag, state, temporaryState*/
    321 && t43(5, u72 = !C52(o71, b55, B42)), i65.$$.dirty & /*isVisible*/
    8192 && J33(a62), i65.$$.dirty & /*tag, unfolded, lastUnfoldedState, visible, lastVisibleState*/
    7681 && o71.hooks && (e48 !== void 0 && e48 !== E53 && (t43(10, E53 = e48), e48 ? (P55 = (I49 = o71.hooks).emit) == null || P55.call(I49, "unfolded") : (Z18 = o71 == null ? void 0 : (V25 = o71.hooks).emit) == null || Z18.call(V25, "folded")), r66 !== void 0 && r66 !== v58 && (t43(9, v58 = r66), r66 ? (N33 = (K32 = o71.hooks).emit) == null || N33.call(K32, "show") : (R43 = (z28 = o71.hooks).emit) == null || R43.call(z28, "hide"))), i65.$$.dirty & /*tag*/
    1 && t43(4, m66 = (() => !(typeof o71.config.unfoldedConfig == "object" && o71.config.unfoldedConfig.keep === "folded"))());
  }, [
    o71,
    f80,
    p66,
    g67,
    m66,
    u72,
    b55,
    y51,
    B42,
    v58,
    E53,
    r66,
    e48,
    a62,
    H39,
    n72,
    s60,
    T38
  ];
}
var Fi = class extends Ce {
  constructor(A62) {
    super(), Te(
      this,
      A62,
      EA,
      vA,
      Ft,
      {
        tag: 0,
        hooks: 1,
        rendererMap: 2,
        contentTypeMap: 3,
        state: 6,
        mediaStore: 7,
        temporaryState: 8
      },
      BA
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/controller/Tag/ModelTag.js
var k32 = Object.defineProperty;
var O33 = Object.defineProperties;
var F32 = Object.getOwnPropertyDescriptors;
var C42 = Object.getOwnPropertySymbols;
var w28 = Object.prototype.hasOwnProperty;
var x31 = Object.prototype.propertyIsEnumerable;
var f47 = (e48, o71, t43) => o71 in e48 ? k32(e48, o71, { enumerable: true, configurable: true, writable: true, value: t43 }) : e48[o71] = t43;
var b31 = (e48, o71) => {
  for (var t43 in o71 || (o71 = {}))
    w28.call(o71, t43) && f47(e48, t43, o71[t43]);
  if (C42)
    for (var t43 of C42(o71))
      x31.call(o71, t43) && f47(e48, t43, o71[t43]);
  return e48;
};
var P36 = (e48, o71) => O33(e48, F32(o71));
var v35 = (e48, o71, t43) => (f47(e48, typeof o71 != "symbol" ? o71 + "" : o71, t43), t43);
var y33 = (e48, o71, t43) => new Promise((m66, p66) => {
  var n72 = (r66) => {
    try {
      a62(t43.next(r66));
    } catch (i65) {
      p66(i65);
    }
  }, d73 = (r66) => {
    try {
      a62(t43.throw(r66));
    } catch (i65) {
      p66(i65);
    }
  }, a62 = (r66) => r66.done ? m66(r66.value) : Promise.resolve(r66.value).then(n72, d73);
  a62((t43 = t43.apply(e48, o71)).next());
});
var Qo = class extends Ji {
  constructor(t43, m66) {
    super(t43, m66);
    v35(this, "loading", false);
    v35(this, "loadModel", () => y33(this, null, function* () {
      var d73, a62;
      const t44 = this.data.modelUrl;
      if (!t44 || (this.loading = true, yield M2(this.five), !this.plugin.tags.includes(this)))
        return;
      const m67 = f40(t44).then((r66) => y33(this, null, function* () {
        var l63;
        const i65 = Object.assign(r66.scene, {
          customID: this.id,
          isTagModel: true,
          removeEventListener: this.getConfig().clickable === false ? () => {
          } : this.addObjectClickHandler(this, r66.scene, (g67) => {
            this.plugin.hooks.emit("click", { target: "TagModel", tag: this, event: g67 });
          })
        });
        return new Matrix4().fromArray(this.matrix).decompose(i65.position, i65.quaternion, i65.scale), i65.updateWorldMatrix(true, true), i65.visible = this.visible, (l63 = this.getConfig().modelConfig) != null && l63.autoLookAtEnabled && i65.lookAt(this.five.camera.position.clone().setY(i65.position.y)), i65;
      }));
      this.model = { promise: m67 };
      const p66 = yield m67;
      if (this.loading = false, ((d73 = this.model) == null ? void 0 : d73.promise) !== m67 || !this.plugin.tags.includes(this))
        return;
      this.model.object = p66;
      const n72 = this.plugin.gltfObjectGroup.children.find((r66) => r66.customID === this.id);
      if (n72 && (this.plugin.gltfObjectGroup.remove(n72), n72.removeEventListener()), o42(this)) {
        const r66 = this.data.mediaPosition.map(a2);
        if (this.computeRenderType() === "Mesh" && !this.mediaPlane) {
          this.mediaPlane = new z13(this.data.mediaData[0].url, r66, { objectFit: this.data.objectFit });
          const i65 = new Vector3().addVectors(r66[0], r66[2]).divideScalar(2);
          this.mediaPlane.position.copy(i65), p66.add(this.mediaPlane);
        }
        if (this.computeRenderType() !== "Mesh") {
          (a62 = this.tag3DContentSvelte) == null || a62.dispose();
          const i65 = document.createElement("div");
          i65.classList.add("tag-media-container");
          const c85 = "black";
          i65.style.backgroundColor = c85, i65.style.border = `3px solid ${c85}`;
          const l63 = b31({ mode: "behind", cornerPoints: r66, container: i65 }, this.config.tag3DConfig), g67 = this.computeRenderType() === "BehindDom" || l63.mode === "behind" ? "behind" : "front", s60 = new nt3(P36(b31({}, l63), { mode: g67 })), u72 = this.computeNormal();
          s60.position.add(u72.clone().setLength(F25.Z_FIGHTING_OFFSET)), p66.add(s60);
          let h66;
          s60.mode === "behind" && this.config.clickable !== false && (h66 = this.addObjectClickHandler(this, s60, (M48) => {
            this.plugin.hooks.emit("click", { event: M48, target: "TagContent", tag: this });
          }));
          const j37 = new Fi({
            target: i65,
            props: {
              tag: this,
              hooks: this.plugin.hooks,
              /** 模型标签要等模型加载好之后再展示 */
              state: this.plugin.state,
              mediaStore: this.plugin.mediaStore,
              temporaryState: this.plugin.temporaryState
            }
          });
          this.tag3DContentSvelte = {
            svelteApp: j37,
            domContainer: {
              css3DObject: s60
            },
            css3DInstance: s60,
            initialNormal: u72,
            currentNormal: u72,
            dispose: () => {
              j37.$destroy(), s60.dispose(), h66 == null || h66();
            }
          };
        }
      }
      return this.plugin.gltfObjectGroup.add(p66), p66;
    }));
    this.state.unfolded = true, E4(this.five), this.loadModel().then(() => this.updateVisible());
  }
  applyVisible() {
    var t43, m66;
    (t43 = this.tag3DContentSvelte) == null || t43.svelteApp.$set({ tag: this, state: this.plugin.state, temporaryState: this.plugin.temporaryState }), (m66 = this.model) != null && m66.object && (this.model.object.visible = this.visible);
  }
  set(...t43) {
    super.set(...t43), this.loadModel();
  }
  setData(...t43) {
    var p66;
    super.setData(...t43);
    const m66 = this.data.mediaPosition.map(a2);
    this.computeRenderType() === "Mesh" ? this.mediaPlane && this.mediaPlane.src !== this.data.mediaData[0].url && (this.mediaPlane.removeFromParent(), this.mediaPlane = new z13(this.data.mediaData[0].url, m66, { objectFit: this.data.objectFit })) : (p66 = this.tag3DContentSvelte) == null || p66.svelteApp.$set({ tag: this });
  }
  computeNormal() {
    return i43(this.data.mediaPosition);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/controller/Tag/PlaneTag.js
var T25 = Object.defineProperty;
var b32 = Object.defineProperties;
var k33 = Object.getOwnPropertyDescriptors;
var v36 = Object.getOwnPropertySymbols;
var R34 = Object.prototype.hasOwnProperty;
var V17 = Object.prototype.propertyIsEnumerable;
var P37 = (d73, e48, t43) => e48 in d73 ? T25(d73, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : d73[e48] = t43;
var g38 = (d73, e48) => {
  for (var t43 in e48 || (e48 = {}))
    R34.call(e48, t43) && P37(d73, t43, e48[t43]);
  if (v36)
    for (var t43 of v36(e48))
      V17.call(e48, t43) && P37(d73, t43, e48[t43]);
  return d73;
};
var y34 = (d73, e48) => b32(d73, k33(e48));
var D39 = (d73, e48, t43) => new Promise((m66, a62) => {
  var n72 = (p66) => {
    try {
      o71(t43.next(p66));
    } catch (i65) {
      a62(i65);
    }
  }, r66 = (p66) => {
    try {
      o71(t43.throw(p66));
    } catch (i65) {
      a62(i65);
    }
  }, o71 = (p66) => p66.done ? m66(p66.value) : Promise.resolve(p66.value).then(n72, r66);
  o71((t43 = t43.apply(d73, e48)).next());
});
var B28 = /* @__PURE__ */ new Map();
var O34 = /* @__PURE__ */ new Map();
var Qi = class extends Ji {
  constructor(e48, t43) {
    super(e48, t43), this.state.unfolded = true, this.loadModel();
  }
  applyVisible() {
    var t43, m66, a62, n72, r66, o71;
    this.computeRenderType() === "Mesh" ? ((m66 = (t43 = this.data.mediaData) == null ? void 0 : t43[0]) == null ? void 0 : m66.type) === "Video" ? this.renderVideoPlane() : ((n72 = (a62 = this.data.mediaData) == null ? void 0 : a62[0]) == null ? void 0 : n72.type) === "Image" && this.renderImagePlane() : ((r66 = this.tag3DContentSvelte) == null || r66.svelteApp.$set({ tag: this, state: this.plugin.state, temporaryState: this.plugin.temporaryState }), (o71 = this.tag3DContentSvelte) != null && o71.css3DInstance && (this.tag3DContentSvelte.css3DInstance.visible = this.visible, this.five.needsRender = true));
  }
  set(e48, t43 = true) {
    super.set(e48, t43), M2(this.five).then(() => {
      this.tag3DContentSvelte && (e48.data ? this.tag3DContentSvelte.svelteApp.$set({ tag: this, state: this.plugin.state, temporaryState: this.plugin.temporaryState }) : e48.position && this.loadModel());
    });
  }
  setData(...e48) {
    var m66, a62, n72, r66, o71;
    super.setData(...e48), this.computeRenderType() === "Mesh" ? ((a62 = (m66 = this.data.mediaData) == null ? void 0 : m66[0]) == null ? void 0 : a62.type) === "Video" ? this.renderVideoPlane() : ((r66 = (n72 = this.data.mediaData) == null ? void 0 : n72[0]) == null ? void 0 : r66.type) === "Image" && this.renderImagePlane() : (o71 = this.tag3DContentSvelte) == null || o71.svelteApp.$set({ tag: this });
  }
  loadModel() {
    return D39(this, null, function* () {
      var t43, m66, a62, n72, r66, o71;
      if (yield M2(this.five), this.computeRenderType() === "Mesh")
        ((m66 = (t43 = this.data.mediaData) == null ? void 0 : t43[0]) == null ? void 0 : m66.type) === "Video" ? this.renderVideoPlane() : ((n72 = (a62 = this.data.mediaData) == null ? void 0 : a62[0]) == null ? void 0 : n72.type) === "Image" && this.renderImagePlane();
      else {
        E4(this.five);
        const p66 = this.position.map(t2);
        (o71 = (r66 = this.tag3DContentSvelte) == null ? void 0 : r66.dispose) == null || o71.call(r66);
        const i65 = document.createElement("div");
        i65.classList.add("tag-media-container");
        const h66 = g38({ mode: "front", cornerPoints: p66, container: i65 }, this.config.tag3DConfig), l63 = this.computeRenderType() === "BehindDom" || h66.mode === "behind" ? "behind" : "front", s60 = new nt3(y34(g38({}, h66), { mode: l63 })), u72 = this.computeNormal();
        s60.position.add(u72.clone().setLength(F25.Z_FIGHTING_OFFSET)), this.plugin.group.add(s60);
        let c85;
        s60.mode === "behind" && this.config.clickable !== false && (c85 = this.addObjectClickHandler(this, s60, (I49) => {
          this.plugin.hooks.emit("click", { event: I49, target: "TagContent", tag: this });
        }));
        const f80 = new Fi({
          target: i65,
          props: {
            tag: this,
            hooks: this.plugin.hooks,
            /** 模型标签要等模型加载好之后再展示 */
            state: this.plugin.state,
            mediaStore: this.plugin.mediaStore,
            temporaryState: this.plugin.temporaryState
          }
        });
        this.tag3DContentSvelte = {
          svelteApp: f80,
          domContainer: {
            css3DObject: s60
          },
          css3DInstance: s60,
          initialNormal: u72,
          currentNormal: u72,
          dispose: () => {
            f80.$destroy(), s60.dispose(), c85 == null || c85();
          }
        }, this.five.needsRender = true;
      }
    });
  }
  renderVideoPlane() {
    var o71;
    const e48 = this.data.mediaData[0];
    if (!e48)
      return;
    const { url: t43 } = e48;
    if (!t43)
      return;
    const m66 = this.currentVisible, a62 = (() => !!(this.mediaPlane && !m66))(), n72 = (() => !!(!this.mediaPlane && m66))(), r66 = (() => !!(this.mediaPlane && this.mediaPlane.src !== t43))();
    if ((a62 || r66) && this.mediaPlane && (this.plugin.imagePlaneGroup.remove(this.mediaPlane), this.mediaPlane.dispose(), this.mediaPlane.removeFromParent(), this.mediaPlane = void 0), n72 || r66) {
      const p66 = this.position.map(a2), i65 = new D32(t43, p66, {
        videoCoverSrc: e48.videoCoverUrl,
        playButton: this.data.playIcon,
        paused: !((o71 = this.data.autoplayConfig) != null && o71.autoplayVideo),
        objectFit: this.data.objectFit,
        videoTextureMap: B28,
        ImageTextureMap: O34,
        domEvents: this.plugin.domEvents
      });
      this.plugin.domEvents.addAutoBindEventListener(
        i65,
        "click",
        (l63) => {
          var s60;
          !((s60 = i65.videoInstance) != null && s60.paused) && i65.videoInstance.muted === false && this.plugin.hooks.emit("playStateChange", { event: l63, state: "playing", tag: this, mediaInstance: i65.videoInstance });
        }
      ), i65.onVideoReady = (l63) => {
        l63.addEventListener("play", (s60) => {
          this.plugin.mediaStore.set({ currentMediaElement: i65.videoInstance }), this.plugin.hooks.emit("playStateChange", { event: s60, state: "playing", tag: this, mediaInstance: i65.videoInstance });
        }), l63.addEventListener("pause", (s60) => {
          this.plugin.hooks.emit("playStateChange", { event: s60, state: "paused", tag: this, mediaInstance: i65.videoInstance });
        }), l63.addEventListener("ended", (s60) => {
          this.plugin.hooks.emit("playStateChange", { event: s60, state: "paused", tag: this, mediaInstance: i65.videoInstance });
        });
      };
      const h66 = (l63) => (this.five.on("renderFrame", l63), () => this.five.off("renderFrame", l63));
      i65.initialRenderHooks(h66), this.mediaPlane = i65, this.play = () => i65.play(), this.pause = () => i65.pause(), this.plugin.imagePlaneGroup.add(this.mediaPlane);
    }
    this.five.needsRender = true;
  }
  renderImagePlane() {
    const e48 = this.data.mediaData[0];
    if (!e48)
      return;
    const { url: t43 } = e48;
    if (!t43)
      return;
    const m66 = this.position.map(a2), a62 = this.currentVisible, n72 = (() => !!(this.mediaPlane && !a62))(), r66 = (() => !!(!this.mediaPlane && a62))(), o71 = (() => !!(this.mediaPlane && this.mediaPlane.src !== t43))();
    (n72 || o71) && this.mediaPlane && (this.plugin.imagePlaneGroup.remove(this.mediaPlane), this.mediaPlane.dispose(), this.mediaPlane.removeFromParent(), this.mediaPlane = void 0), (r66 || o71) && (this.mediaPlane = new z13(t43, m66, { objectFit: this.data.objectFit }), this.getConfig().clickable !== false && this.plugin.domEvents.addAutoBindEventListener(
      this.mediaPlane,
      "click",
      (p66) => {
        this.plugin.hooks.emit("click", { tag: this, target: "TagContent", event: p66.origDomEvent });
      },
      { noEmitWhenHide: true }
    ), this.plugin.imagePlaneGroup.add(this.mediaPlane)), this.five.needsRender = true;
  }
  computeNormal() {
    return i43(this.position);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Tag/AudioTag/AudioPoint.js
function I38(t43) {
  Qt2(t43, "svelte-cksy1a", ".audio-tag-point.svelte-cksy1a{position:relative;width:-moz-max-content;width:max-content;height:-moz-max-content;height:max-content;padding:0.25rem;border-radius:100%;border:0.0625rem solid rgba(255, 255, 255, 0.6);background:linear-gradient(to bottom, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.2));box-shadow:inset 0 0 0.25rem 0 rgba(255, 255, 255, 0.3);display:flex;align-items:center;justify-content:center}");
}
function z22(t43) {
  let e48, a62, n72, o71, l63;
  return a62 = new X20({
    props: { playing: (
      /*playing*/
      t43[0]
    ), width: 24 }
  }), {
    c() {
      e48 = K4("div"), Ae(a62.$$.fragment), te2(e48, "class", "audio-tag-point svelte-cksy1a");
    },
    m(r66, s60) {
      Nt(r66, e48, s60), Dt(a62, e48, null), n72 = true, o71 || (l63 = [
        lt(e48, "click", function() {
          L5(
            /*handlePointClick*/
            t43[2]
          ) && t43[2].apply(this, arguments);
        }),
        lt(e48, "mouseenter", function() {
          L5(
            /*handleMouseEnter*/
            t43[3]
          ) && t43[3].apply(this, arguments);
        }),
        lt(e48, "mouseleave", function() {
          L5(
            /*handleMouseLeave*/
            t43[4]
          ) && t43[4].apply(this, arguments);
        })
      ], o71 = true);
    },
    p(r66, s60) {
      t43 = r66;
      const u72 = {};
      s60 & /*playing*/
      1 && (u72.playing = /*playing*/
      t43[0]), a62.$set(u72);
    },
    i(r66) {
      n72 || (ot(a62.$$.fragment, r66), n72 = true);
    },
    o(r66) {
      $t(a62.$$.fragment, r66), n72 = false;
    },
    d(r66) {
      r66 && J4(e48), Rt(a62), o71 = false, M8(l63);
    }
  };
}
function U25(t43) {
  let e48, a62;
  return e48 = new Z13({
    props: {
      url: (
        /*tag*/
        t43[1].data.audioUrl
      ),
      enable: (
        /*tag*/
        t43[1].state.visible
      ),
      style: "width: max-content; height: max-content;",
      hooksInfo: { tag: (
        /*tag*/
        t43[1]
      ) },
      $$slots: { default: [z22] },
      $$scope: { ctx: t43 }
    }
  }), e48.$on(
    "play",
    /*audioEventHandlers*/
    t43[5].play
  ), e48.$on(
    "pause",
    /*audioEventHandlers*/
    t43[5].pause
  ), e48.$on(
    "error",
    /*audioEventHandlers*/
    t43[5].error
  ), e48.$on(
    "timeupdate",
    /*audioEventHandlers*/
    t43[5].timeupdate
  ), e48.$on(
    "duration",
    /*audioEventHandlers*/
    t43[5].duration
  ), e48.$on(
    "audioRef",
    /*audioEventHandlers*/
    t43[5].audioRef
  ), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(n72, o71) {
      Dt(e48, n72, o71), a62 = true;
    },
    p(n72, [o71]) {
      const l63 = {};
      o71 & /*tag*/
      2 && (l63.url = /*tag*/
      n72[1].data.audioUrl), o71 & /*tag*/
      2 && (l63.enable = /*tag*/
      n72[1].state.visible), o71 & /*tag*/
      2 && (l63.hooksInfo = { tag: (
        /*tag*/
        n72[1]
      ) }), o71 & /*$$scope, handlePointClick, handleMouseEnter, handleMouseLeave, playing*/
      157 && (l63.$$scope = { dirty: o71, ctx: n72 }), e48.$set(l63);
    },
    i(n72) {
      a62 || (ot(e48.$$.fragment, n72), a62 = true);
    },
    o(n72) {
      $t(e48.$$.fragment, n72), a62 = false;
    },
    d(n72) {
      Rt(e48, n72);
    }
  };
}
function j23(t43, e48, a62) {
  let { playing: n72 = false } = e48, { tag: o71 } = e48, { handlePointClick: l63 = () => {
  } } = e48, { handleMouseEnter: r66 = () => {
  } } = e48, { handleMouseLeave: s60 = () => {
  } } = e48;
  const u72 = fe2(), y51 = {
    audioRef: (i65) => u72("audioRef", i65.detail),
    play: () => {
      a62(0, n72 = true), u72("play");
    },
    pause: () => {
      a62(0, n72 = false), u72("pause");
    },
    error: () => {
      a62(0, n72 = false), u72("pause");
    },
    timeupdate: (i65) => u72("timeupdate", i65.detail),
    duration: (i65) => u72("duration", i65.detail)
  };
  return t43.$$set = (i65) => {
    "playing" in i65 && a62(0, n72 = i65.playing), "tag" in i65 && a62(1, o71 = i65.tag), "handlePointClick" in i65 && a62(2, l63 = i65.handlePointClick), "handleMouseEnter" in i65 && a62(3, r66 = i65.handleMouseEnter), "handleMouseLeave" in i65 && a62(4, s60 = i65.handleMouseLeave);
  }, [
    n72,
    o71,
    l63,
    r66,
    s60,
    y51
  ];
}
var O35 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      j23,
      U25,
      Ft,
      {
        playing: 0,
        tag: 1,
        handlePointClick: 2,
        handleMouseEnter: 3,
        handleMouseLeave: 4
      },
      I38
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/TagPoint.js
function Pe3(t43) {
  Qt2(t43, "svelte-dorxu0", '@charset "UTF-8";.tag-point-click-helper.svelte-dorxu0.svelte-dorxu0{position:absolute;pointer-events:auto;cursor:pointer;width:141%;height:141%;left:50%;top:50%;transform:translate(-50%, -50%);z-index:1000000}.audio-tag-point-click-helper.svelte-dorxu0.svelte-dorxu0{position:absolute;width:100%;height:100%;pointer-events:none;z-index:1}.tag-point-wrapper.svelte-dorxu0.svelte-dorxu0{pointer-events:none;position:absolute;left:50%;top:50%;transform:translate(-50%, -50%);cursor:pointer;z-index:1040}.tag-folded-point.svelte-dorxu0.svelte-dorxu0,.tag-unfolded-point.svelte-dorxu0.svelte-dorxu0{transition:all 0.5s}.tag-point-wrapper.svelte-dorxu0 .tag-unfolded-point.svelte-dorxu0{display:flex;justify-content:center;align-items:center;position:absolute;width:100%;height:100%;border-radius:50%}.tag-point-wrapper.svelte-dorxu0 .tag-unfolded-point.svelte-dorxu0:after{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);width:0.3125rem;height:0.3125rem;border-radius:50%;background-color:white}.tag-point-wrapper.svelte-dorxu0 .tag-unfolded-point.svelte-dorxu0:before{content:"";position:absolute;width:0.875rem;height:0.875rem;border-radius:50%;background-color:rgba(0, 0, 0, 0.2)}.tag-point-wrapper.folded.svelte-dorxu0 .tag-folded-point.svelte-dorxu0{opacity:1;scale:1}.tag-point-wrapper.folded.svelte-dorxu0 .tag-unfolded-point.svelte-dorxu0{opacity:0;scale:1}.tag-point-wrapper.unfolded.svelte-dorxu0 .tag-folded-point.svelte-dorxu0{opacity:0;scale:0.2}.tag-point-wrapper.unfolded.svelte-dorxu0 .tag-unfolded-point.svelte-dorxu0{opacity:1;scale:1}.tag-point-wrapper.disable-unfold.svelte-dorxu0 .tag-folded-point.svelte-dorxu0{opacity:1 !important;scale:1 !important}.tag-point-wrapper.disable-unfold.svelte-dorxu0 .tag-unfolded-point.svelte-dorxu0{opacity:0 !important;scale:1 !important}');
}
function Ce3(t43) {
  let e48;
  return {
    c() {
      e48 = K4("div"), te2(e48, "class", "audio-tag-point-click-helper svelte-dorxu0");
    },
    m(n72, i65) {
      Nt(n72, e48, i65), t43[18](e48);
    },
    p: N4,
    d(n72) {
      n72 && J4(e48), t43[18](null);
    }
  };
}
function Me2(t43) {
  let e48, n72, i65;
  return {
    c() {
      e48 = K4("div"), te2(e48, "class", "tag-point-click-helper svelte-dorxu0");
    },
    m(l63, s60) {
      Nt(l63, e48, s60), t43[17](e48), n72 || (i65 = [
        lt(
          e48,
          "click",
          /*click_handler*/
          t43[15]
        ),
        lt(
          e48,
          "mouseenter",
          /*mouseenter_handler*/
          t43[16]
        ),
        lt(e48, "mouseleave", function() {
          L5(
            /*handleMouseLeave*/
            t43[3]
          ) && t43[3].apply(this, arguments);
        })
      ], n72 = true);
    },
    p(l63, s60) {
      t43 = l63;
    },
    d(l63) {
      l63 && J4(e48), t43[17](null), n72 = false, M8(i65);
    }
  };
}
function Te4(t43) {
  let e48, n72;
  return e48 = new Ee3({
    props: {
      icon: (
        /*url*/
        t43[8]
      ),
      width: (
        /*width*/
        t43[7]
      )
    }
  }), e48.$on(
    "iconLoaded",
    /*iconLoaded_handler*/
    t43[21]
  ), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(i65, l63) {
      Dt(e48, i65, l63), n72 = true;
    },
    p(i65, l63) {
      const s60 = {};
      l63 & /*url*/
      256 && (s60.icon = /*url*/
      i65[8]), l63 & /*width*/
      128 && (s60.width = /*width*/
      i65[7]), e48.$set(s60);
    },
    i(i65) {
      n72 || (ot(e48.$$.fragment, i65), n72 = true);
    },
    o(i65) {
      $t(e48.$$.fragment, i65), n72 = false;
    },
    d(i65) {
      Rt(e48, i65);
    }
  };
}
function Le(t43) {
  let e48, n72;
  return e48 = new O35({
    props: {
      tag: e37(
        /*tag*/
        t43[1]
      ),
      handlePointClick: (
        /*func*/
        t43[19]
      ),
      handleMouseEnter: (
        /*func_1*/
        t43[20]
      ),
      handleMouseLeave: (
        /*handleMouseLeave*/
        t43[3]
      )
    }
  }), e48.$on(
    "audioRef",
    /*audioEventHandlers*/
    t43[13].audioRef
  ), e48.$on(
    "play",
    /*audioEventHandlers*/
    t43[13].play
  ), e48.$on(
    "pause",
    /*audioEventHandlers*/
    t43[13].pause
  ), e48.$on(
    "timeupdate",
    /*audioEventHandlers*/
    t43[13].timeupdate
  ), e48.$on(
    "duration",
    /*audioEventHandlers*/
    t43[13].duration
  ), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(i65, l63) {
      Dt(e48, i65, l63), n72 = true;
    },
    p(i65, l63) {
      const s60 = {};
      l63 & /*tag*/
      2 && (s60.tag = e37(
        /*tag*/
        i65[1]
      )), l63 & /*handleTagPointClick*/
      16 && (s60.handlePointClick = /*func*/
      i65[19]), l63 & /*tag, handleMouseEnter*/
      6 && (s60.handleMouseEnter = /*func_1*/
      i65[20]), l63 & /*handleMouseLeave*/
      8 && (s60.handleMouseLeave = /*handleMouseLeave*/
      i65[3]), e48.$set(s60);
    },
    i(i65) {
      n72 || (ot(e48.$$.fragment, i65), n72 = true);
    },
    o(i65) {
      $t(e48.$$.fragment, i65), n72 = false;
    },
    d(i65) {
      Rt(e48, i65);
    }
  };
}
function Ee4(t43) {
  let e48, n72, i65, l63, s60, P55, f80, p66, d73, a62;
  function v58(r66, u72) {
    return (
      /*isAudioTag*/
      r66[6] ? Ce3 : Me2
    );
  }
  let h66 = v58(t43), m66 = h66(t43);
  i65 = new T22({
    props: {
      center: true,
      blurRadius: 15,
      spreadRadius: 5,
      opacity: 0.3
    }
  });
  const b55 = [Le, Te4], c85 = [];
  function g67(r66, u72) {
    return (
      /*isAudioTag*/
      r66[6] ? 0 : 1
    );
  }
  return p66 = g67(t43), d73 = c85[p66] = b55[p66](t43), {
    c() {
      e48 = K4("div"), m66.c(), n72 = Xt(), Ae(i65.$$.fragment), l63 = Xt(), s60 = K4("div"), P55 = Xt(), f80 = K4("div"), d73.c(), te2(s60, "class", "tag-unfolded-point svelte-dorxu0"), ne2(
        s60,
        "transition-delay",
        /*folded*/
        (t43[9] ? (
          /*foldDelay*/
          t43[11]
        ) : 0) + "ms"
      ), te2(f80, "class", "tag-folded-point svelte-dorxu0"), ne2(
        f80,
        "transition-delay",
        /*folded*/
        (t43[9] ? (
          /*foldDelay*/
          t43[11]
        ) : 0) + "ms"
      ), te2(e48, "class", "tag-point-wrapper svelte-dorxu0"), re2(
        e48,
        "unfolded",
        /*unfolded*/
        t43[5]
      ), re2(
        e48,
        "folded",
        /*folded*/
        t43[9]
      ), re2(
        e48,
        "disable-unfold",
        /*tag*/
        t43[1].isPopoverConfigEnabled()
      );
    },
    m(r66, u72) {
      Nt(r66, e48, u72), m66.m(e48, null), pt(e48, n72), Dt(i65, e48, null), pt(e48, l63), pt(e48, s60), pt(e48, P55), pt(e48, f80), c85[p66].m(f80, null), a62 = true;
    },
    p(r66, [u72]) {
      h66 === (h66 = v58(r66)) && m66 ? m66.p(r66, u72) : (m66.d(1), m66 = h66(r66), m66 && (m66.c(), m66.m(e48, n72))), u72 & /*folded*/
      512 && ne2(
        s60,
        "transition-delay",
        /*folded*/
        (r66[9] ? (
          /*foldDelay*/
          r66[11]
        ) : 0) + "ms"
      );
      let _32 = p66;
      p66 = g67(r66), p66 === _32 ? c85[p66].p(r66, u72) : (Lt(), $t(c85[_32], 1, 1, () => {
        c85[_32] = null;
      }), Ot(), d73 = c85[p66], d73 ? d73.p(r66, u72) : (d73 = c85[p66] = b55[p66](r66), d73.c()), ot(d73, 1), d73.m(f80, null)), u72 & /*folded*/
      512 && ne2(
        f80,
        "transition-delay",
        /*folded*/
        (r66[9] ? (
          /*foldDelay*/
          r66[11]
        ) : 0) + "ms"
      ), (!a62 || u72 & /*unfolded*/
      32) && re2(
        e48,
        "unfolded",
        /*unfolded*/
        r66[5]
      ), (!a62 || u72 & /*folded*/
      512) && re2(
        e48,
        "folded",
        /*folded*/
        r66[9]
      ), (!a62 || u72 & /*tag*/
      2) && re2(
        e48,
        "disable-unfold",
        /*tag*/
        r66[1].isPopoverConfigEnabled()
      );
    },
    i(r66) {
      a62 || (ot(i65.$$.fragment, r66), ot(d73), a62 = true);
    },
    o(r66) {
      $t(i65.$$.fragment, r66), $t(d73), a62 = false;
    },
    d(r66) {
      r66 && J4(e48), m66.d(), Rt(i65), c85[p66].d();
    }
  };
}
function He2(t43, e48, n72) {
  var U33, j37;
  let i65, l63, s60, P55, f80;
  const p66 = de("hooks"), d73 = fe2();
  let { tag: a62 } = e48, v58, h66 = false;
  const m66 = () => {
    v58 !== void 0 && clearTimeout(v58), h66 = true, v58 = setTimeout(
      () => {
        h66 = false;
      },
      800
    );
  }, b55 = (o71) => {
    h66 || (a62.entryFromModel && o40(a62.five.state.mode) ? a62.find({ targetMode: "Panorama" }).then(() => a62.unfoldAndFoldOthers()) : p66.emit("click", { event: o71, target: "TagPoint", tag: a62 }));
  }, c85 = (() => a62.contentType === "Text" && a62.data.appearance === "plane" ? 500 : 800)();
  let { tagPointClickHelper: g67 = null } = e48, { handleMouseEnter: r66 = () => {
  } } = e48, { handleMouseLeave: u72 = () => {
  } } = e48, { handleTagPointClick: _32 = () => {
  } } = e48;
  const Y23 = () => true, x49 = (j37 = (U33 = a62.config.popoverConfig) == null ? void 0 : U33.beforeOpen) != null ? j37 : Y23;
  let { audioInstance: H39 = null } = e48;
  const Z18 = {
    audioRef: (o71) => {
      n72(14, H39 = o71.detail), d73("audioInstanceReady", H39);
    },
    play: () => d73("audioPlay"),
    pause: () => d73("audioPause"),
    timeupdate: (o71) => d73("audioTimeUpdate", o71.detail),
    duration: (o71) => d73("audioDuration", o71.detail)
  }, $23 = (o71) => {
    _32(o71), b55(o71);
  }, ee10 = (o71) => {
    x49(a62) && r66(o71);
  };
  function te10(o71) {
    ft[o71 ? "unshift" : "push"](() => {
      g67 = o71, n72(0, g67);
    });
  }
  function oe11(o71) {
    ft[o71 ? "unshift" : "push"](() => {
      g67 = o71, n72(0, g67);
    });
  }
  const ie10 = (o71) => {
    _32(o71), b55(o71);
  }, ne14 = (o71) => {
    x49(a62) && r66(o71);
  };
  function re7(o71) {
    he.call(this, t43, o71);
  }
  return t43.$$set = (o71) => {
    "tag" in o71 && n72(1, a62 = o71.tag), "tagPointClickHelper" in o71 && n72(0, g67 = o71.tagPointClickHelper), "handleMouseEnter" in o71 && n72(2, r66 = o71.handleMouseEnter), "handleMouseLeave" in o71 && n72(3, u72 = o71.handleMouseLeave), "handleTagPointClick" in o71 && n72(4, _32 = o71.handleTagPointClick), "audioInstance" in o71 && n72(14, H39 = o71.audioInstance);
  }, t43.$$.update = () => {
    var o71, q38, B42, W25;
    t43.$$.dirty & /*tag*/
    2 && n72(5, i65 = (o71 = a62.state) == null ? void 0 : o71.unfolded), t43.$$.dirty & /*unfolded*/
    32 && n72(9, l63 = !i65), t43.$$.dirty & /*tag*/
    2 && n72(8, s60 = (B42 = (q38 = a62.style) == null ? void 0 : q38.point) != null && B42.url ? (W25 = a62.style) == null ? void 0 : W25.point : { url: U16 }), t43.$$.dirty & /*tag*/
    2 && n72(7, P55 = (() => {
      var G31, J33, K32, N33;
      const X24 = (J33 = (G31 = a62.style) == null ? void 0 : G31.point) == null ? void 0 : J33.width;
      if (typeof X24 == "number")
        return X24;
      const k47 = (N33 = (K32 = a62.style) == null ? void 0 : K32.point) == null ? void 0 : N33.size;
      if (typeof k47 == "number")
        return k47;
      if (k47 === "S")
        return 18;
      if (k47 === "M")
        return 20;
      if (k47 === "L")
        return 24;
      if (k47 === "XL")
        return 28;
    })()), t43.$$.dirty & /*tag*/
    2 && n72(6, f80 = a62.contentType === "Audio" && a62.data.appearance === "plane");
  }, m66(), [
    g67,
    a62,
    r66,
    u72,
    _32,
    i65,
    f80,
    P55,
    s60,
    l63,
    b55,
    c85,
    x49,
    Z18,
    H39,
    $23,
    ee10,
    te10,
    oe11,
    ie10,
    ne14,
    re7
  ];
}
var oo = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      He2,
      Ee4,
      Ft,
      {
        tag: 1,
        tagPointClickHelper: 0,
        handleMouseEnter: 2,
        handleMouseLeave: 3,
        handleTagPointClick: 4,
        audioInstance: 14
      },
      Pe3
    );
  }
  get tag() {
    return this.$$.ctx[1];
  }
  set tag(e48) {
    this.$$set({ tag: e48 }), rt();
  }
  get tagPointClickHelper() {
    return this.$$.ctx[0];
  }
  set tagPointClickHelper(e48) {
    this.$$set({ tagPointClickHelper: e48 }), rt();
  }
  get handleMouseEnter() {
    return this.$$.ctx[2];
  }
  set handleMouseEnter(e48) {
    this.$$set({ handleMouseEnter: e48 }), rt();
  }
  get handleMouseLeave() {
    return this.$$.ctx[3];
  }
  set handleMouseLeave(e48) {
    this.$$set({ handleMouseLeave: e48 }), rt();
  }
  get handleTagPointClick() {
    return this.$$.ctx[4];
  }
  set handleTagPointClick(e48) {
    this.$$set({ handleTagPointClick: e48 }), rt();
  }
  get audioInstance() {
    return this.$$.ctx[14];
  }
  set audioInstance(e48) {
    this.$$set({ audioInstance: e48 }), rt();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/Icon/tag-popover-arrow-base64.js
var A47 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAeCAYAAABqpJ3BAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAHgAAAAC3G9N3AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAACfklEQVRYCe2Yu2tVQRCHb1QQFQRBKzEkooJoISL+ATYW/kXBSrBKLxZaidaKhSCxs1Asg4qgRhHBB6IkKr4f3yd3vCfHezfnsTGnuD/4ZWf3zO7M7M4+biZ6vd5muBsehydg1/EdB6/3uTBR8vYg9dPQoLqILzg1A++Gc+tD6JevKR/AY/BXB3kSn+bhX5QD8MNLuAnugz87xMv4cg0uw7AAVDDKo3Ar7MJKPMWPWeiELsOoAFS8D00l98laBvEN+6fgO/gPRgWg4iL8Ct3Ya5lKl7B/Bw7FhqGtg8ariAZwYND0X6V7WNOHkVg38svgw1nED/2qyykDIRfLsmy93Falvza1nUQqhaLjZ4Q38HA0UOqQ+0LExoqy2PaDipNkGfp+r9L/PHqPVE6hSgD2fw63w51QR7wN3dw6EqVOhhylQSmL0K3S/zb6ydT5MyJ/qgagvhfcEbjRCogZjzLVFjqWRbnYJ+S3CGegAa+IOgE44DPo/RCOrEZp3r+ClVAnAAd0djy5puBqOD/HuLdgZdQNwIEfQ4/WLdB8zsUXjHUBRoohrowmAWhgAbofRI6VMD3PwSUHrIMmATi+Z7S39B6YYwV8pHlp1UbTADTkhp6GPvjarMIT+l+BjdAmAA1q/FDfsmOZCuVgUu3v0b8IvSwboW0AGvaVuDdh3YCGwXYvK1eyMdoGoGF/xW2D3tTl2U/V59G/CVvBMz0HbjDILujRWgUfUbJPa+RYAZ0w970998Mqp5I/D30gtkauAHTEH0BuyimYSp05vj+EWZAzAB1yP/jc2AFNz2Ign6ibNj4KsyGeutkGLAw0iewdIfx/jkeuz/AxxjMwnoGMM/AbzDbNM/bhiRQAAAAASUVORK5CYII=";
var g39 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAeCAMAAABdem3zAAAAb1BMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABt6r1GAAAAJXRSTlMApb6gupm3s7CprZWRfoeOg4qdenZzLG9ka04KJR4EET04MBlfDzTkzgAAAMpJREFUOMvd0dsSgiAQBuA1o7KMTJRUEE+9/zOGjhmjIHvdtyizM1zAv/C3lOS8BjxZlNpbAhJ/zTig1PkCdS1RZotSgF/FDBXiAXcT8z6jyZLp5PfPGthXJCsF7GrpRgs7BvrcoAM4qexhkSl3orGVM1t5c5COEVPiQIU9UZISvXRNi6S/3pptF87S8dNl9p1lxCQIw2CsadfMnmwHzoJdbJNo5LHKto6uHlENBhVfvGJlJnpGMLLtTyg9zPj5iHLhoAmeHw9YORcf/XMbuOSlzkgAAAAASUVORK5CYII=";
var B29 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAwCAYAAAAGlsrkAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHqADAAQAAAABAAAAMAAAAACmbYh+AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAACtUlEQVRYCcWXzUtWQRSHb1ZWL1FYIH2AkSaEBbkMsTYFQVCbdkVQ7Vr3L/RXRQURIrVopxAuBEmIwCBqkfZBz2/0yLV35oz39X4c+HnHuXPOM2c+ztWi6MZ6Q91wi/GuwLe6SPgy0NdtZzwN9LmyPaAfLZg4j9A9tB+1Ah6D8wyNC2jWdMZ3AT1Ahwxoz6bAIwCeoisoyoh22qwGfF7F7zE66vnXCe4Buo9m0UEPqnd1gSeJ9QSNKij2C7nwvYLlfxupElWKVWkwwct2ml8eorOlzt9b7cOlvmhzUPA1oinT/6+J4oUCEaWVOquCdU1UfSZQDKCM1V/rHqu4qyAcQSmzRNyDJWcbmAqkfl2Tm0jg3PjaMladvYOOb0GzmTBOlh3nZaAMdU3Ke5nbO4uXG1ekvseTAG+gqmbXKeuXAs9kPeMDLOPsUsfA2le3wMeZodcy1lK7FgMfcz3yL//khxTJPU755pZQS10+jKk4UfB6cvRmRXJeh1cDZ7yMuwf3wFZAcisTzVjOb7zozjs71QMdLsVdQq8cwJ5feQfhC9FX0Xmk76vdAPmoHdNf+vch+1zGxoQ+D4x/8Q0tIN3rU8j2LhXQTrXFTY0bsgHETJr26yNaQ+eQskkFVMaC6+mtzK7AxAimpV9EZ9AJFIMLqv7cylQCE6/4iT6gDXQBGcgm0UjGcLZthZayn0AqsQamGSZTe8YKbPaDxjukrJW94LYCte4xcftMAB083fuLSAdPcFlth2szXPznV7rn0Uk0hhpdauLvMF07HbzP6BIaRrb3fc/d3GP8K9knRs8h3XkVnT6o+poAEzdcu7c8de3sz+IdE2gKLLhMB+89mkL6L2Qb3jQYVqj3L3nqPxBNIMDbAMMKtVsHTx+c60gHr3XTnr9oK+NydvrYjHYB1iS+l2fSZrv3D/+KTyvCdHWgAAAAAElFTkSuQmCC";
var R35 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAwCAYAAAAGlsrkAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHqADAAQAAAABAAAAMAAAAACmbYh+AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAACpklEQVRYCcWYPYwOURSGP38Rv4lEsZoVkq0oNEQjEopNFCQSlUIkJCqFUiLR0ah1SIROgWQLQSNBKUIhGwUNUZD4K/w/b3wnmZ1v7tx3xsw4ybsz994z57nn3J9lR6PRaCUa3BZD3Dw4FaDAs/8DLOYdtHVouDJeis6hbUPClwA7gjSBPWgFeop+oV5NwKIdoHEBTRc7+3iPjJXhb6TnWqTsv6EXqBcrZxwQrfthdBqti84unylwMLbwch7tjI6unjmwOKvRCXQMdXbLOeDvAGXb0Rk0o8a/WtXm0iaLjabNJskWoeVoB9IeeIlijNdm5mS8bBzyRyH0Xt5PoQ2FvkavDjhKXQ48RcdJtKs84LQdcGSs8pZNS7UPaeM1OnYOODIulro8gY10HEf2LxsHXJdxcQJraBxE+1H22DlgBf+J6jKWT1RGWR9F0+pMmQNWQK1l1Rqn4q5i4BBKlt4Bp4I7/Tp2M1WODjjWOFfqqvjq240mquWAVWqt8cTH9Dmm225T2dEB6xutcc6iMlV+gi8wF9xkVy8ApBou2Mk4xVD/x/KgA44Stl3jz0BftwHHxdB2Vz8sQ9V2Mo7v2mR8j4/nI0Dx6QRTqZV1LuPwU/wv6DaaKLEGZQ44Sv33i/TPmNwzXO6ir2lXDxyZaJJ1WWvsFhI4a00yroO+gnQDfcgSxw4OuC5jXSxz6IELDD8HLN+qm+st/VfRGzk0NQesTRM3V5Rbx0SZRrsp19rVxaDvaVxC88XONu9OxrHGjwBcR7XHxJ2EA9Zdexk9doM6fjnwc4JcRPYxcaDySYG1aa4hXQi9WBVYl4H+HJG8Z7uYSRl8k6BXUOtj4k4qwNqpZ9ET98Mu/O4TJPkP7y4AVTF0I61HKvGgJvAn9G5Q6hiW/Z9dH5P6A8K2bfEUA9VoAAAAAElFTkSuQmCC";
var I39 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAeCAYAAABqpJ3BAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAHgAAAAC3G9N3AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAACfElEQVRYCe2XP2sVQRTFd0VsIgmpTAqx1EAStLAIpowgFmohFkEQ0+UbBEEJCpJvkE4REguVoBY2EaysLJSkSCzFQq1EMQg2z9+Jc2EyziSzb/eZJ7wLlzv37v1zzuy82aRstVr9RVGModfQGfR/kHuAfICulz5ayJzBf4oe9uNdtP4BlktlWb42TDsIKAiJs5gnltBl9jLgV31MfxHQQ0jcxsz6iV2wXgT8rRBHisAhEl+gI2HBPvkbzD0PgV/h/CgBJfEWjmOeoyKznyLQFwD/PgYiSUDJkLiOmYsV/sPYAuDvp+btSkBFkFDx6VSDDsffAF6bmJQcAkNUP0J1tbZcJ6uTr7VZPba1nxuLhblhT12ZVyDwWYkpsaLU8+04b0FX651dk5p/eBPwO67M2IiDsWAYUyNITBCfCp91yH+ZA16zs96AEiGgPzkW0SPyOyhf6D0Lge85M7IJqBkkxjELOY1r5MwBfi23PusIWTM1hsRj/IsWa9g+qwJesysRcGCXsaPoUec3ZT7SSL0rSaUjZJ15C8dYz6NNfaX1tZ1n9z9gK0lbBDQBErpapytNSyc/BPyeV2asvJ0jtN1HAyGho3QC9T9Util+TDVhXDHJZrvgVWxNta4sENDVegPtq1z8p2ALcxcCWVdmbEYtAmoIiVOYq7HmGbElwL/NyEumtH2ErKMAQEJ/ep+0WKZ9Vxe85tQm4MCuYIfRQefvZb6SoJracqB2Bxqwk7oGBUg2R1dcDen1pPZvwB/PURrHP+fHIuvVJo6O9W2UgJq638Mky34b4uxP7CvAR/81DHKz3cYJ2GSI6Gs94Pxv2E9NHRub0bO9HejtQFH8BvWooa9jGY/wAAAAAElFTkSuQmCC";
var C43 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAeCAMAAABdem3zAAAAgVBMVEUAAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////9d3yJTAAAAK3RSTlMA/Pfx6+XZ39TIwry2sJ+qpY3Ok4jNgpl8dnEGmEUfDi5hOycxmn5YGGhjcHcwqwAAAMZJREFUOMvd0e0OgiAUgGEqs9IiLdNCRQS/6v4vMGrNofJxfvfIzuZ2fugL+ls5ZYwiOPEk0ktA95vHD4Pt0/uIgr6fpCOSI7c+UfSAH4gnGtd+lVwnkgrZkSzLCnmK75QPse+XeKG0FsXRAqaWovFZIza3rU9atWmfHQ2YoWgUGkT6tl1g1GmLHiw0bYfgcrvI8xlyyqG+BwOaw3srvCjqO8zaCn/n4IvJFYdbp1C98NQDSJWiG5CxLffWIB5HUsXbFVjLqzcmgh9KFWWqZgAAAABJRU5ErkJggg==";
var m49 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAwCAYAAAAGlsrkAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHqADAAQAAAABAAAAMAAAAACmbYh+AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAACiElEQVRYCcWYsUscQRSH74LaBE60MU2wsBALBQsbTSuEFCkCKmghYmUjdmohiIUpU6WxSZEQQrqkjZA/IEXESksREbEQBRFEOL+nOzK3O7NvvNudG/g5s29m3je/mbnz2EqlDaVer9detIEryOF2geejG2abJ9BdVDDASXQeDQyoC22hS3SDyncMZBDtInH6BC71cgFa4Cx/o6H0mXakA0U8A3xFno9oHHW5chbuGOgkoJ9ozAU0scIcA6yRdAW9Q06XBip1IWCgI+RaRa8lKaX+WPn/tgQGKM7m0BRSXdrLaBoMtJ9Ey2jATpi0q45YQ6gpMFC5QLPoZUO2Zzw8CwxQLtAikjPN29rizhjoKLAZ1IO00vpWAxRnH5B8LqWtugkZk7vVQOUCCbQPmaK6YaA6xgsGKuf4HqXPMsSxWaS3dn5lAh1kxlvPLNUN89TFOcFMfOOBhobVxWXAybnKx8ZXVDdMVMdkwEzq9hGTuOpGmf/Q7QJr81Q3JFAX5wJfauSAfnVxLvApiW9ykqtumKuOyYCr1eotE//mgEO6mnJcAX5I9j8egprUM68hnHFseoH/p/0VXZhYUqvbyDh1jBcsEOBHVJ/RnjwXWXLBApIzRz9ofkPXEgso6nGoYANJtn6b5wMTy6lb2+p0YuBX6BPx70huv68U59gmAJcbv4mO7bjVLtaxldhcvHViv+x4aDv4jF0JcS4X7wt9a+jMGlPOVluAhybwfRpLaDfpU7daHZAkCq74fy6/uTdQL+pE8tMprc6WtpqEmZJcvGk6/mU6YwVwv4AO0QlqeCNQ+hoAOl9FlA4WAPD4L19sZywg7uumFDz+CzazAJzvmHbUGvBEVKCBAa7dA6h+CDnUpjBPAAAAAElFTkSuQmCC";
var E37 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAwCAYAAAAGlsrkAAAAAXNSR0IArs4c6QAAAFBlWElmTU0AKgAAAAgAAgESAAMAAAABAAEAAIdpAAQAAAABAAAAJgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAHqADAAQAAAABAAAAMAAAAACmbYh+AAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAACXElEQVRYCcWYQSgFQRjHdyUlRU5ykCMOxMHJSXlnV4nk7OTISRw8N7koJSeKg+Ig5R3l4kBOHF8u5KD3IoVa/692XtPXzOz3Ztfu1jQz35v5ft//2++1uxNEUdQZFHC1gDlcADcg8EIR4ACp/kWbyB0eg9/Ql3KFx+Av9DW0dbS2XAJgYFJeQRv4bzgVF7+GYDgHfJH/kOU8JMVw+IP2bWg3sK2EYfiCPtPLpFgHjGNyguAyL7wkxXomLhDENtTX9ch8x0mKyW8UO59Cvwv1I/E8VScBhxqhB+MyFR5aqr+dBKxxG8NpjDYB729YmhxIwCrV3HUfDGuAexWeBKynmsMp3bOAL6M19XiVgG2K9SAGMVkFfEw3usYSsEux7rsDkznAZ9ASC08C1p1LxqNYtAS4s/AkYEmq+ZpuwOddqZeAJSptt6MEuPFJJwHbnEoCojWTpnsuAfM0moCuNe3Y0Ms3ScBpFROzywfsUqP8NR2cRLFy7uqTgqvxzRKwRI1rTR3P8KoPOEkN98nn19xA86wU24K7hNonE7jVZPSw8VS/w8epKcXKtwRsU6N8UK+vucecoPTWar0kYK7G5IzWfKIdA3hnWsBtErCuhu9X80cM9gEVv4FKwC7FlM4jAK9UBNJeArb5esYPO4BWbQtcdgnYlOozOD0E1FlAacH6/ldMtgB80I0+Y4lidY8rAGT2CSMBfwC44VNArkwkgW+x+V8+U21gKpoyVB64ok71G96H6NRHnYHkdhShjpsUOPfDl8KOmwo5YNtLVSS+m1FY+aulYAFu6rvWVyDf9wc6+wpavsNbLQAAAABJRU5ErkJggg==";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/TagPopover/TagPopoverArrow.js
function T26(a62) {
  Qt2(a62, "svelte-16evpcg", ".tag-popover-arrow-wrapper.svelte-16evpcg{position:absolute;transform-origin:center;background-position:center;background-repeat:no-repeat;background-size:100% 100%}.tag-popover-arrow-top.svelte-16evpcg{width:1rem;height:0.625rem;top:0.5rem;left:50%;transform:translateX(-50%)}.tag-popover-arrow-bottom.svelte-16evpcg{width:1rem;height:0.625rem;bottom:0.5rem;left:50%;transform:translateX(-50%)}.tag-popover-arrow-left.svelte-16evpcg{width:0.625rem;height:1rem;top:50%;left:0.5rem;transform:translateY(-50%)}.tag-popover-arrow-right.svelte-16evpcg{width:0.625rem;height:1rem;top:50%;right:0.5rem;transform:translateY(-50%)}");
}
function l39(a62) {
  let t43, e48, r66;
  return {
    c() {
      t43 = K4("div"), te2(t43, "class", e48 = "tag-popover-arrow-wrapper tag-popover-arrow-" + /*direction*/
      a62[0] + " theme-" + /*theme*/
      a62[2] + " svelte-16evpcg"), te2(t43, "style", r66 = `background-image: url(${/*arrowImage*/
      a62[3]})`);
    },
    m(o71, i65) {
      Nt(o71, t43, i65);
    },
    p(o71, i65) {
      i65 & /*direction, theme*/
      5 && e48 !== (e48 = "tag-popover-arrow-wrapper tag-popover-arrow-" + /*direction*/
      o71[0] + " theme-" + /*theme*/
      o71[2] + " svelte-16evpcg") && te2(t43, "class", e48), i65 & /*arrowImage*/
      8 && r66 !== (r66 = `background-image: url(${/*arrowImage*/
      o71[3]})`) && te2(t43, "style", r66);
    },
    d(o71) {
      o71 && J4(t43);
    }
  };
}
function B30(a62) {
  let t43, e48 = (
    /*show*/
    a62[1] && l39(a62)
  );
  return {
    c() {
      e48 && e48.c(), t43 = Yt();
    },
    m(r66, o71) {
      e48 && e48.m(r66, o71), Nt(r66, t43, o71);
    },
    p(r66, [o71]) {
      r66[1] ? e48 ? e48.p(r66, o71) : (e48 = l39(r66), e48.c(), e48.m(t43.parentNode, t43)) : e48 && (e48.d(1), e48 = null);
    },
    i: N4,
    o: N4,
    d(r66) {
      e48 && e48.d(r66), r66 && J4(t43);
    }
  };
}
function R36(a62, t43, e48) {
  let r66, { direction: o71 = "bottom" } = t43, { show: i65 = true } = t43, { theme: p66 = "dark" } = t43;
  return a62.$$set = (n72) => {
    "direction" in n72 && e48(0, o71 = n72.direction), "show" in n72 && e48(1, i65 = n72.show), "theme" in n72 && e48(2, p66 = n72.theme);
  }, a62.$$.update = () => {
    a62.$$.dirty & /*theme, direction*/
    5 && e48(3, r66 = (() => {
      switch (p66) {
        case "dark":
          switch (o71) {
            case "top":
              return g39;
            case "bottom":
              return A47;
            case "left":
              return B29;
            case "right":
              return R35;
          }
        case "light":
          switch (o71) {
            case "top":
              return C43;
            case "bottom":
              return I39;
            case "left":
              return m49;
            case "right":
              return E37;
          }
      }
    })());
  }, [o71, i65, p66, r66];
}
var q29 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, R36, B30, Ft, { direction: 0, show: 1, theme: 2 }, T26);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/VideoIcon.js
function k34(l63) {
  Qt2(l63, "svelte-1d6rvbz", ".icon-container.svelte-1d6rvbz{width:3.25rem;height:3.25rem;background-color:var(--bg-color);border-radius:100%;display:flex;align-items:center;justify-content:center;z-index:2}");
}
function L30(l63) {
  let t43, o71, g67, n72, c85, i65, s60, h66, v58, p66;
  return {
    c() {
      t43 = K4("div"), o71 = Mt("svg"), g67 = Mt("defs"), n72 = Mt("linearGradient"), c85 = Mt("stop"), i65 = Mt("stop"), s60 = Mt("linearGradient"), h66 = Mt("stop"), v58 = Mt("stop"), p66 = Mt("path"), te2(
        c85,
        "stop-color",
        /*color*/
        l63[1]
      ), te2(c85, "offset", "0%"), te2(
        i65,
        "stop-color",
        /*color*/
        l63[1]
      ), te2(i65, "stop-opacity", ".5"), te2(i65, "offset", "100%"), te2(n72, "x1", "53.2804066%"), te2(n72, "y1", "100%"), te2(n72, "x2", "64.4764442%"), te2(n72, "y2", "2.52981206%"), te2(n72, "id", "video-icon-gradient-a"), te2(
        h66,
        "stop-color",
        /*color*/
        l63[1]
      ), te2(h66, "offset", "0%"), te2(
        v58,
        "stop-color",
        /*color*/
        l63[1]
      ), te2(v58, "stop-opacity", "0"), te2(v58, "offset", "100%"), te2(s60, "x1", "50%"), te2(s60, "y1", "-5.89066117%"), te2(s60, "x2", "60.3018289%"), te2(s60, "y2", "32.0415872%"), te2(s60, "id", "video-icon-gradient-b"), te2(p66, "d", "M8.0883645,5.35 C8.27319183,5.35 8.45426937,5.40368245 8.61098984,5.50477659 L20.4341152,13.1314044 C20.6662958,13.2811749 20.8173539,13.5140616 20.8743923,13.7691613 C20.9300733,14.0181899 20.8962437,14.2885953 20.7601668,14.5243865 L8.61098984,22.4950731 C8.38014238,22.6439836 8.11267156,22.6823641 7.86680489,22.6238045 C7.62023287,22.5650769 7.39563144,22.408984 7.25097187,22.1700998 C7.15226844,22.0071054 7.1,21.8187509 7.1,21.6265526 L7.1,6.37329702 C7.1,6.09035119 7.2108925,5.83405961 7.39059316,5.64859123 C7.56916841,5.46428435 7.81578724,5.35 8.0883645,5.35 Z"), te2(p66, "fill", "url(#video-icon-gradient-a)"), te2(p66, "fill-rule", "nonzero"), te2(p66, "stroke", "url(#video-icon-gradient-b)"), te2(p66, "stroke-width", ".2"), te2(o71, "xmlns", "http://www.w3.org/2000/svg"), te2(o71, "viewBox", "0 0 28 28"), te2(
        o71,
        "width",
        /*size*/
        l63[0]
      ), te2(
        o71,
        "height",
        /*size*/
        l63[0]
      ), te2(t43, "class", "icon-container svelte-1d6rvbz"), ne2(
        t43,
        "--bg-color",
        /*bgColor*/
        l63[2]
      );
    },
    m(r66, f80) {
      Nt(r66, t43, f80), pt(t43, o71), pt(o71, g67), pt(g67, n72), pt(n72, c85), pt(n72, i65), pt(g67, s60), pt(s60, h66), pt(s60, v58), pt(o71, p66);
    },
    p(r66, [f80]) {
      f80 & /*color*/
      2 && te2(
        c85,
        "stop-color",
        /*color*/
        r66[1]
      ), f80 & /*color*/
      2 && te2(
        i65,
        "stop-color",
        /*color*/
        r66[1]
      ), f80 & /*color*/
      2 && te2(
        h66,
        "stop-color",
        /*color*/
        r66[1]
      ), f80 & /*color*/
      2 && te2(
        v58,
        "stop-color",
        /*color*/
        r66[1]
      ), f80 & /*size*/
      1 && te2(
        o71,
        "width",
        /*size*/
        r66[0]
      ), f80 & /*size*/
      1 && te2(
        o71,
        "height",
        /*size*/
        r66[0]
      ), f80 & /*bgColor*/
      4 && ne2(
        t43,
        "--bg-color",
        /*bgColor*/
        r66[2]
      );
    },
    i: N4,
    o: N4,
    d(r66) {
      r66 && J4(t43);
    }
  };
}
function j24(l63, t43, o71) {
  let { size: g67 = "28" } = t43, { color: n72 = "#ffffff" } = t43, { bgColor: c85 = "#0000004d" } = t43;
  return l63.$$set = (i65) => {
    "size" in i65 && o71(0, g67 = i65.size), "color" in i65 && o71(1, n72 = i65.color), "bgColor" in i65 && o71(2, c85 = i65.bgColor);
  }, [g67, n72, c85];
}
var B31 = class extends Ce {
  constructor(t43) {
    super(), Te(this, t43, j24, L30, Ft, { size: 0, color: 1, bgColor: 2 }, k34);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/TagPopover/PanoramaIcon.js
function j25(r66) {
  Qt2(r66, "svelte-1d6rvbz", ".icon-container.svelte-1d6rvbz{width:3.25rem;height:3.25rem;background-color:var(--bg-color);border-radius:100%;display:flex;align-items:center;justify-content:center;z-index:2}");
}
function q30(r66) {
  let L40, o71, a62, l63, f80, s60, i65, _32, d73, n72, x49, M48, c85, Z18, m66, g67;
  return {
    c() {
      L40 = K4("div"), o71 = Mt("svg"), a62 = Mt("defs"), l63 = Mt("linearGradient"), f80 = Mt("stop"), s60 = Mt("stop"), i65 = Mt("linearGradient"), _32 = Mt("stop"), d73 = Mt("stop"), n72 = Mt("linearGradient"), x49 = Mt("stop"), M48 = Mt("stop"), c85 = Mt("g"), Z18 = Mt("path"), m66 = Mt("path"), g67 = Mt("path"), te2(f80, "stop-color", "#FFF"), te2(f80, "offset", "0%"), te2(s60, "stop-color", "#FFF"), te2(s60, "stop-opacity", ".5"), te2(s60, "offset", "100%"), te2(l63, "x1", "54.417371%"), te2(l63, "y1", "106.742364%"), te2(l63, "x2", "72.619444%"), te2(l63, "y2", "8.15444328%"), te2(l63, "id", "xmfpi7cnc__sgsykm5x9a"), te2(_32, "stop-color", "#FFF"), te2(_32, "offset", "0%"), te2(d73, "stop-color", "#FFF"), te2(d73, "stop-opacity", "0"), te2(d73, "offset", "100%"), te2(i65, "x1", "50%"), te2(i65, "y1", ".73169217%"), te2(i65, "x2", "66.0966077%"), te2(i65, "y2", "34.1694374%"), te2(i65, "id", "xmfpi7cnc__tjqs3iy6kb"), te2(x49, "stop-color", "#FFF"), te2(x49, "offset", "0%"), te2(M48, "stop-color", "#FFF"), te2(M48, "stop-opacity", ".5"), te2(M48, "offset", "100%"), te2(n72, "x1", "55.1256353%"), te2(n72, "y1", "273.650936%"), te2(n72, "x2", "55.1256353%"), te2(n72, "y2", "81.7206937%"), te2(n72, "id", "xmfpi7cnc__rs5hxavsyc"), te2(Z18, "d", "M18,5.4 L18,13.4 C18,15.3329966 13.9705627,16.9 9,16.9 C4.02943725,16.9 0,15.3329966 0,13.4 L0,5.4 C0,7.33299662 4.02943725,8.9 9,8.9 C13.8670094,8.9 17.8316983,7.39760831 17.9947813,5.52032488 L18,5.4 Z M4.9603418,4.9 C5.2193418,4.9 5.4643418,4.837 5.6883418,4.704 C6.1293418,4.445 6.4093418,3.976 6.4093418,3.444 C6.4093418,3.003 6.2203418,2.611 5.9053418,2.359 C6.1643418,2.1 6.3393418,1.729 6.3393418,1.337 C6.3393418,1.092 6.2763418,0.861 6.1573418,0.658 C5.9053418,0.245 5.4643418,0 4.9603418,0 C4.7223418,0 4.4983418,0.056 4.2953418,0.175 C3.8753418,0.413 3.6163418,0.84 3.6163418,1.337 L3.6163418,1.372 L4.3373418,1.372 L4.3373418,1.337 C4.3373418,1.022 4.6313418,0.721 4.9603418,0.721 C5.3173418,0.721 5.6113418,1.008 5.6113418,1.337 C5.6113418,1.708 5.3243418,1.995 4.9603418,1.995 L4.8203418,1.995 L4.8203418,2.723 L4.9603418,2.723 C5.3593418,2.723 5.6883418,3.045 5.6883418,3.444 C5.6883418,3.843 5.3593418,4.179 4.9603418,4.179 C4.5613418,4.179 4.2323418,3.843 4.2323418,3.444 L4.2323418,3.339 L3.5043418,3.339 L3.5043418,3.444 C3.5043418,3.71 3.5673418,3.955 3.7003418,4.172 C3.9593418,4.62 4.4283418,4.9 4.9603418,4.9 Z M8.6073418,4.9 C8.8803418,4.9 9.1253418,4.83 9.3563418,4.697 C9.8043418,4.424 10.0983418,3.934 10.0983418,3.395 C10.0983418,3.122 10.0283418,2.877 9.8953418,2.646 C9.6223418,2.198 9.1463418,1.904 8.6073418,1.904 C8.5303418,1.904 8.4743418,1.904 8.4393418,1.911 L9.3143418,0 L8.5093418,0 L7.2353418,2.793 C7.1443418,2.982 7.1023418,3.185 7.1023418,3.395 C7.1023418,3.668 7.1723418,3.92 7.3053418,4.151 C7.5783418,4.606 8.0543418,4.9 8.6073418,4.9 Z M8.6073418,4.158 C8.1803418,4.158 7.8443418,3.822 7.8443418,3.395 C7.8443418,2.975 8.1873418,2.625 8.6073418,2.625 C9.0273418,2.625 9.3773418,2.975 9.3773418,3.395 C9.3773418,3.815 9.0273418,4.158 8.6073418,4.158 Z M12.2613418,4.907 C12.7653418,4.907 13.2133418,4.634 13.4653418,4.207 C13.5913418,3.997 13.6543418,3.766 13.6543418,3.514 L13.6543418,3.514 L13.6543418,1.428 C13.6543418,0.917 13.3813418,0.448 12.9613418,0.189 C12.7443418,0.063 12.5133418,0 12.2613418,0 C11.7503418,0 11.2813418,0.273 11.0293418,0.714 C10.8963418,0.931 10.8333418,1.169 10.8333418,1.428 L10.8333418,1.428 L10.8333418,3.514 C10.8333418,4.018 11.1063418,4.466 11.5473418,4.718 C11.7643418,4.844 12.0023418,4.907 12.2613418,4.907 Z M12.2613418,4.186 C11.8903418,4.186 11.5683418,3.885 11.5683418,3.514 L11.5683418,3.514 L11.5683418,1.428 C11.5683418,1.029 11.8763418,0.735 12.2613418,0.735 C12.6323418,0.735 12.9123418,1.029 12.9123418,1.428 L12.9123418,1.428 L12.9123418,3.514 C12.9123418,3.899 12.6323418,4.186 12.2613418,4.186 Z M15.4753809,2.07333984 C15.7488184,2.07333984 15.9886458,1.97478841 16.1948633,1.77768555 C16.4010807,1.58058268 16.5041895,1.33391927 16.5041895,1.03769531 C16.5041895,0.750585938 16.4050684,0.507340495 16.2068262,0.307958984 C16.008584,0.108577474 15.7647689,0.00888671875 15.4753809,0.00888671875 C15.1928288,0.00888671875 14.9495833,0.109147135 14.7456445,0.309667969 C14.5417057,0.510188802 14.4397363,0.756282552 14.4397363,1.04794922 C14.4397363,1.32138672 14.5365788,1.56064453 14.7302637,1.76572266 C14.9239486,1.97080078 15.172321,2.07333984 15.4753809,2.07333984 Z M15.4753809,1.70078125 C15.2930892,1.70078125 15.137002,1.63583984 15.0071191,1.50595703 C14.8772363,1.37607422 14.8122949,1.22226563 14.8122949,1.04453125 C14.8122949,0.859960938 14.877806,0.703304036 15.0088281,0.574560547 C15.1398503,0.445817057 15.2953678,0.381445313 15.4753809,0.381445313 C15.6553939,0.381445313 15.8097721,0.446386719 15.9385156,0.576269531 C16.0672591,0.706152344 16.1316309,0.859960938 16.1316309,1.03769531 C16.1316309,1.22226563 16.0661198,1.37892253 15.9350977,1.50766602 C15.8040755,1.63640951 15.6508366,1.70078125 15.4753809,1.70078125 Z"), te2(Z18, "fill", "url(#xmfpi7cnc__sgsykm5x9a)"), te2(Z18, "transform", "translate(3 3.1)"), te2(m66, "d", "M18,5.4 L18,13.4 C18,15.3329966 13.9705627,16.9 9,16.9 C4.02943725,16.9 0,15.3329966 0,13.4 L0,5.4 C0,7.33299662 4.02943725,8.9 9,8.9 C13.8670094,8.9 17.8316983,7.39760831 17.9947813,5.52032488 L18,5.4 Z M17.8,6.499 L17.7806846,6.52607583 C16.6077599,8.0452893 13.108676,9.1 9,9.1 C4.87821133,9.1 1.38089175,8.04047836 0.214303539,6.51942435 L0.2,6.5 L0.2,13.4 C0.2,15.1332693 3.96631253,16.6348245 8.69056715,16.6979358 L9,16.7 C13.8681548,16.7 17.8,15.1709491 17.8,13.4 L17.8,6.499 Z M12.2613418,0 C12.5133418,0 12.7443418,0.063 12.9613418,0.189 C13.3813418,0.448 13.6543418,0.917 13.6543418,1.428 L13.6543418,3.514 L13.6467818,3.66268 C13.6266218,3.85756 13.5661418,4.039 13.4653418,4.207 C13.2133418,4.634 12.7653418,4.907 12.2613418,4.907 C12.0023418,4.907 11.7643418,4.844 11.5473418,4.718 C11.1063418,4.466 10.8333418,4.018 10.8333418,3.514 L10.8333418,1.428 L10.8409578,1.27512 C10.8613418,1.07464 10.9229418,0.8876 11.0293418,0.714 C11.2813418,0.273 11.7503418,0 12.2613418,0 Z M9.3143418,0 L8.4393418,1.911 C8.4743418,1.904 8.5303418,1.904 8.6073418,1.904 C9.1463418,1.904 9.6223418,2.198 9.8953418,2.646 C10.0283418,2.877 10.0983418,3.122 10.0983418,3.395 C10.0983418,3.934 9.8043418,4.424 9.3563418,4.697 C9.1253418,4.83 8.8803418,4.9 8.6073418,4.9 C8.0543418,4.9 7.5783418,4.606 7.3053418,4.151 C7.1723418,3.92 7.1023418,3.668 7.1023418,3.395 C7.1023418,3.185 7.1443418,2.982 7.2353418,2.793 L8.5093418,0 L9.3143418,0 Z M4.9603418,0 C5.4643418,0 5.9053418,0.245 6.1573418,0.658 C6.2763418,0.861 6.3393418,1.092 6.3393418,1.337 C6.3393418,1.729 6.1643418,2.1 5.9053418,2.359 C6.2203418,2.611 6.4093418,3.003 6.4093418,3.444 C6.4093418,3.976 6.1293418,4.445 5.6883418,4.704 C5.4643418,4.837 5.2193418,4.9 4.9603418,4.9 C4.4283418,4.9 3.9593418,4.62 3.7003418,4.172 C3.5673418,3.955 3.5043418,3.71 3.5043418,3.444 L3.5043418,3.339 L4.2323418,3.339 L4.2323418,3.444 C4.2323418,3.843 4.5613418,4.179 4.9603418,4.179 C5.3593418,4.179 5.6883418,3.843 5.6883418,3.444 C5.6883418,3.045 5.3593418,2.723 4.9603418,2.723 L4.8203418,2.723 L4.8203418,1.995 L4.9603418,1.995 C5.3243418,1.995 5.6113418,1.708 5.6113418,1.337 C5.6113418,1.008 5.3173418,0.721 4.9603418,0.721 C4.6313418,0.721 4.3373418,1.022 4.3373418,1.337 L4.3373418,1.372 L3.6163418,1.372 L3.6163418,1.337 C3.6163418,0.84 3.8753418,0.413 4.2953418,0.175 C4.4983418,0.056 4.7223418,0 4.9603418,0 Z M12.2613418,0.2 C11.8228535,0.2 11.4197491,0.433900098 11.199862,0.818512412 C11.0880596,1.00092699 11.0333418,1.20205175 11.0333418,1.428 L11.0333418,3.514 C11.0333418,3.94076817 11.2630074,4.32517296 11.6477689,4.54504221 C11.8340054,4.65317955 12.0373271,4.707 12.2613418,4.707 C12.685768,4.707 13.0724302,4.4792625 13.2938432,4.10410085 C13.4010506,3.92542185 13.4543418,3.73002084 13.4543418,3.514 L13.4543418,1.428 C13.4543418,0.993663172 13.2236099,0.585702454 12.8609147,0.361957789 C12.673578,0.253181671 12.4771013,0.2 12.2613418,0.2 Z M4.9603418,0.2 C4.75293536,0.2 4.56476024,0.248895899 4.39394431,0.349004437 C4.11167513,0.508956972 3.91907748,0.764507622 3.84741774,1.06716925 L3.829,1.171 L4.157,1.171 L4.1635929,1.14325273 C4.24904453,0.829489942 4.53273472,0.571946496 4.86075855,0.527713496 L4.9603418,0.521 C5.42264158,0.521 5.8113418,0.89242465 5.8113418,1.337 C5.8113418,1.78012728 5.4916909,2.13625035 5.06824166,2.18841646 L5.02,2.191 L5.02,2.526 L5.06813812,2.52919506 C5.49271718,2.57829524 5.83232975,2.91371045 5.88206553,3.33657664 L5.8883418,3.444 C5.8883418,3.95419336 5.46908818,4.379 4.9603418,4.379 C4.48793444,4.379 4.09269177,4.01271264 4.03863877,3.55189651 L4.037,3.539 L3.709,3.539 L3.71100539,3.58140766 C3.72435814,3.71571552 3.75785509,3.84083114 3.8121867,3.95771875 L3.87348876,4.07189941 C4.09978468,4.46333019 4.50573915,4.7 4.9603418,4.7 C5.18808795,4.7 5.39698916,4.6443932 5.58705743,4.53154283 C5.97364119,4.30450157 6.2093418,3.89738234 6.2093418,3.444 C6.2093418,3.06849319 6.05147644,2.73203269 5.78040279,2.51517376 L5.60591531,2.37558378 L5.76392044,2.21757864 C5.99772857,1.98377051 6.1393418,1.65985061 6.1393418,1.337 C6.1393418,1.12891147 6.08649325,0.932616859 5.98661394,0.762172929 C5.77036899,0.407771483 5.39348118,0.2 4.9603418,0.2 Z M9.002,0.2 L8.638,0.2 L7.41554213,2.87976312 C7.3587619,2.9976913 7.32347683,3.1241874 7.30938306,3.25833536 L7.3023418,3.395 C7.3023418,3.62951354 7.36137928,3.8474981 7.47684038,4.04810085 C7.72111603,4.45522692 8.1383802,4.7 8.6073418,4.7 C8.83989632,4.7 9.05100342,4.64201988 9.25226776,4.52621184 C9.649754,4.28399367 9.8983418,3.85400396 9.8983418,3.395 C9.8983418,3.16244548 9.84036168,2.95133838 9.72455364,2.75007403 C9.48026964,2.34919774 9.06277079,2.104 8.6073418,2.104 L8.51445661,2.10475811 C8.49442789,2.10527049 8.48389809,2.10604952 8.47856502,2.10711614 L8.0943966,2.18394982 L8.25749731,1.82773787 L9.002,0.2 Z M12.2613418,0.535 C12.7468356,0.535 13.1123418,0.922491584 13.1123418,1.428 L13.1123418,3.514 C13.1123418,4.00744192 12.7448365,4.386 12.2613418,4.386 C11.7777279,4.386 11.3683418,3.99355405 11.3683418,3.514 L11.3683418,1.428 C11.3683418,0.922753743 11.7615956,0.535 12.2613418,0.535 Z M8.6073418,2.425 C9.13779875,2.425 9.5773418,2.86454305 9.5773418,3.395 C9.5773418,3.92471151 9.13856864,4.358 8.6073418,4.358 C8.06988485,4.358 7.6443418,3.93245695 7.6443418,3.395 C7.6443418,2.86377316 8.07763029,2.425 8.6073418,2.425 Z M12.2613418,0.735 C11.8763418,0.735 11.5683418,1.029 11.5683418,1.428 L11.5683418,3.514 L11.5761202,3.61327273 C11.6272922,3.93723967 11.9240691,4.186 12.2613418,4.186 C12.6323418,4.186 12.9123418,3.899 12.9123418,3.514 L12.9123418,1.428 L12.9055416,1.32192712 C12.8606806,0.977975207 12.5986145,0.735 12.2613418,0.735 Z M8.6073418,2.625 C8.1873418,2.625 7.8443418,2.975 7.8443418,3.395 C7.8443418,3.822 8.1803418,4.158 8.6073418,4.158 C9.0273418,4.158 9.3773418,3.815 9.3773418,3.395 C9.3773418,2.975 9.0273418,2.625 8.6073418,2.625 Z M15.4753809,0.00888671875 C15.7647689,0.00888671875 16.008584,0.108577474 16.2068262,0.307958984 C16.4050684,0.507340495 16.5041895,0.750585938 16.5041895,1.03769531 C16.5041895,1.33391927 16.4010807,1.58058268 16.1948633,1.77768555 C15.9886458,1.97478841 15.7488184,2.07333984 15.4753809,2.07333984 C15.172321,2.07333984 14.9239486,1.97080078 14.7302637,1.76572266 C14.5365788,1.56064453 14.4397363,1.32138672 14.4397363,1.04794922 C14.4397363,0.756282552 14.5417057,0.510188802 14.7456445,0.309667969 C14.9495833,0.109147135 15.1928288,0.00888671875 15.4753809,0.00888671875 Z M15.4753809,0.381445313 C15.2953678,0.381445313 15.1398503,0.445817057 15.0088281,0.574560547 C14.877806,0.703304036 14.8122949,0.859960938 14.8122949,1.04453125 C14.8122949,1.22226563 14.8772363,1.37607422 15.0071191,1.50595703 C15.137002,1.63583984 15.2930892,1.70078125 15.4753809,1.70078125 C15.6508366,1.70078125 15.8040755,1.63640951 15.9350977,1.50766602 C16.0661198,1.37892253 16.1316309,1.22226563 16.1316309,1.03769531 C16.1316309,0.859960938 16.0672591,0.706152344 15.9385156,0.576269531 C15.8097721,0.446386719 15.6553939,0.381445313 15.4753809,0.381445313 Z"), te2(m66, "fill", "url(#xmfpi7cnc__tjqs3iy6kb)"), te2(m66, "transform", "translate(3 3.1)"), te2(g67, "d", "M3.00030998,2.79110119 L3.00030998,8.00889881 C1.15888197,7.36802147 0,6.43664128 0,5.4 C0,4.36335872 1.15888197,3.43197853 3.00030998,2.79110119 Z M15.0006975,2.79145187 C16.8415407,3.43231826 18,4.36354778 18,5.4 C18,6.43645222 16.8415407,7.36768174 15.0006975,8.00854813 Z"), te2(g67, "fill", "url(#xmfpi7cnc__rs5hxavsyc)"), te2(g67, "transform", "translate(3 3.1)"), te2(c85, "fill-rule", "nonzero"), te2(c85, "fill", "none"), te2(o71, "xmlns", "http://www.w3.org/2000/svg"), te2(o71, "viewBox", "0 0 24 24"), te2(
        o71,
        "width",
        /*size*/
        r66[0]
      ), te2(
        o71,
        "height",
        /*size*/
        r66[0]
      ), te2(L40, "class", "icon-container svelte-1d6rvbz"), ne2(
        L40,
        "--bg-color",
        /*bgColor*/
        r66[1]
      );
    },
    m(p66, h66) {
      Nt(p66, L40, h66), pt(L40, o71), pt(o71, a62), pt(a62, l63), pt(l63, f80), pt(l63, s60), pt(a62, i65), pt(i65, _32), pt(i65, d73), pt(a62, n72), pt(n72, x49), pt(n72, M48), pt(o71, c85), pt(c85, Z18), pt(c85, m66), pt(c85, g67);
    },
    p(p66, [h66]) {
      h66 & /*size*/
      1 && te2(
        o71,
        "width",
        /*size*/
        p66[0]
      ), h66 & /*size*/
      1 && te2(
        o71,
        "height",
        /*size*/
        p66[0]
      ), h66 & /*bgColor*/
      2 && ne2(
        L40,
        "--bg-color",
        /*bgColor*/
        p66[1]
      );
    },
    i: N4,
    o: N4,
    d(p66) {
      p66 && J4(L40);
    }
  };
}
function B32(r66, L40, o71) {
  let { size: a62 = "28" } = L40, { color: l63 = "#ffffff" } = L40, { bgColor: f80 = "#0000004d" } = L40;
  return r66.$$set = (s60) => {
    "size" in s60 && o71(0, a62 = s60.size), "color" in s60 && o71(2, l63 = s60.color), "bgColor" in s60 && o71(1, f80 = s60.bgColor);
  }, [a62, f80, l63];
}
var P38 = class extends Ce {
  constructor(L40) {
    super(), Te(this, L40, B32, q30, Ft, { size: 0, color: 2, bgColor: 1 }, j25);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/videoHelper.js
function u43(t43) {
  if (!t43)
    return null;
  try {
    if (t43.includes("youtu.be"))
      return new URL(t43).pathname.substring(1);
    if (t43.includes("youtube.com")) {
      const r66 = new URL(t43), a62 = new URLSearchParams(r66.search).get("v");
      if (a62)
        return a62;
      if (r66.pathname.includes("/embed/"))
        return r66.pathname.split("/embed/")[1];
      if (r66.pathname.includes("/shorts/"))
        return r66.pathname.split("/shorts/")[1];
      if (r66.pathname.includes("/live/"))
        return r66.pathname.split("/live/")[1];
    }
  } catch (r66) {
  }
  const e48 = /^.*(?:(?:youtu\.be\/|v\/|vi\/|u\/\w\/|embed\/|shorts\/|live\/)|(?:(?:watch)?\?v(?:i)?=|\&v(?:i)?=))([^#\&\?]*).*/, n72 = t43.match(e48);
  return n72 && n72[1] ? n72[1] : null;
}
function i48(t43) {
  if (!t43)
    return null;
  try {
    if (t43.includes("vimeo.com")) {
      const s60 = new URL(t43).pathname.split("/").filter(Boolean);
      if (s60.length > 0) {
        const a62 = s60[0];
        if (/^\d+$/.test(a62) && a62.length >= 5)
          return a62;
      }
    }
  } catch (r66) {
  }
  const e48 = /^.*vimeo\.com\/[A-Za-z\/]*(\d+)/, n72 = t43.match(e48);
  return n72 && n72[1] && n72[1].length >= 5 ? n72[1] : null;
}
function o57(t43) {
  return t43 ? /^(http(s)?:\/\/)?((w){3}.)?youtu(be|.be)?(\.com)?\/.+/.test(t43) : false;
}
function m50(t43) {
  return t43 ? /^(http(s)?:\/\/)?((w){3}.)?vimeo\.com\/(.+)/.test(t43) : false;
}
function l40(t43, e48) {
  if (o57(t43)) {
    const n72 = u43(t43);
    if (!n72)
      return "";
    const r66 = new URL(`https://www.youtube.com/embed/${n72}`);
    return (e48 == null ? void 0 : e48.start) !== void 0 && r66.searchParams.set("start", e48.start.toString()), (e48 == null ? void 0 : e48.autoplay) !== void 0 && r66.searchParams.set("autoplay", e48.autoplay.toString()), r66.toString();
  }
  if (m50(t43)) {
    const n72 = i48(t43);
    if (!n72)
      return "";
    const r66 = new URL(`https://player.vimeo.com/video/${n72}`);
    return (e48 == null ? void 0 : e48.autoplay) !== void 0 && r66.searchParams.set("autoplay", e48.autoplay.toString()), r66.toString();
  }
  return t43;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/AudioPlayer.js
function H27(i65) {
  Qt2(i65, "svelte-16y5k2u", ".pano-tag-audio-popup-inline-player-wrapper.svelte-16y5k2u{width:100%;height:1.75rem;background-color:rgba(255, 255, 255, 0.06);border-radius:0.125rem;display:flex;align-items:center;cursor:pointer}.pano-tag-audio-popup-inline-player-icon.svelte-16y5k2u{width:1.5rem;height:1.5rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.pano-tag-audio-popup-inline-player-progress.svelte-16y5k2u{flex-grow:1;display:flex;position:relative;height:100%;align-items:center}.pano-tag-audio-popup-inline-player-progress-bar.svelte-16y5k2u{width:0;height:100%;background:linear-gradient(to right, rgba(238, 238, 238, 0) 0, rgba(216, 216, 216, 0.3) 100%);position:absolute;top:0;left:0;z-index:0}.pano-tag-audio-popup-inline-player-elapsed-time.svelte-16y5k2u{position:absolute;z-index:1;font-weight:500;font-size:0.875rem;color:#ffffff;line-height:1.25rem;padding-left:0.25rem}");
}
function J29(i65) {
  let e48, a62, n72, u72, o71, p66, t43, c85, m66, s60, y51, h66;
  return n72 = new X20({
    props: { playing: (
      /*playing*/
      i65[0]
    ), width: 24 }
  }), {
    c() {
      e48 = K4("div"), a62 = K4("div"), Ae(n72.$$.fragment), u72 = Xt(), o71 = K4("div"), p66 = K4("div"), t43 = Xt(), c85 = K4("div"), m66 = gt(
        /*elapsedTime*/
        i65[1]
      ), te2(a62, "class", "pano-tag-audio-popup-inline-player-icon svelte-16y5k2u"), te2(p66, "class", "pano-tag-audio-popup-inline-player-progress-bar svelte-16y5k2u"), ne2(
        p66,
        "width",
        /*progress*/
        i65[2] + "%"
      ), te2(c85, "class", "pano-tag-audio-popup-inline-player-elapsed-time svelte-16y5k2u"), te2(o71, "class", "pano-tag-audio-popup-inline-player-progress svelte-16y5k2u"), te2(e48, "class", "pano-tag-audio-popup-inline-player-wrapper svelte-16y5k2u");
    },
    m(l63, d73) {
      Nt(l63, e48, d73), pt(e48, a62), Dt(n72, a62, null), pt(e48, u72), pt(e48, o71), pt(o71, p66), pt(o71, t43), pt(o71, c85), pt(c85, m66), s60 = true, y51 || (h66 = lt(e48, "click", Zt(function() {
        L5(
          /*onClick*/
          i65[3]
        ) && i65[3].apply(this, arguments);
      })), y51 = true);
    },
    p(l63, [d73]) {
      i65 = l63;
      const v58 = {};
      d73 & /*playing*/
      1 && (v58.playing = /*playing*/
      i65[0]), n72.$set(v58), (!s60 || d73 & /*progress*/
      4) && ne2(
        p66,
        "width",
        /*progress*/
        i65[2] + "%"
      ), (!s60 || d73 & /*elapsedTime*/
      2) && ee2(
        m66,
        /*elapsedTime*/
        i65[1]
      );
    },
    i(l63) {
      s60 || (ot(n72.$$.fragment, l63), s60 = true);
    },
    o(l63) {
      $t(n72.$$.fragment, l63), s60 = false;
    },
    d(l63) {
      l63 && J4(e48), Rt(n72), y51 = false, h66();
    }
  };
}
function K29(i65, e48, a62) {
  let { playing: n72 = false } = e48, { elapsedTime: u72 = "00:00" } = e48, { progress: o71 = 0 } = e48, { onClick: p66 = () => {
  } } = e48;
  return i65.$$set = (t43) => {
    "playing" in t43 && a62(0, n72 = t43.playing), "elapsedTime" in t43 && a62(1, u72 = t43.elapsedTime), "progress" in t43 && a62(2, o71 = t43.progress), "onClick" in t43 && a62(3, p66 = t43.onClick);
  }, [n72, u72, o71, p66];
}
var U26 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      K29,
      J29,
      Ft,
      {
        playing: 0,
        elapsedTime: 1,
        progress: 2,
        onClick: 3
      },
      H27
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/TagPopover/TagPopup.js
function fe6(l63) {
  Qt2(l63, "svelte-tc67u7", '@charset "UTF-8";.tag-popup.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{position:absolute;pointer-events:auto;padding:0.625rem 0.625rem 0.625rem 1.125rem;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;transform-origin:center}.tag-popup-top.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(-50%, -100%);left:50%}.tag-popup-bottom.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(-50%, 0);left:50%}.tag-popup-left.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(-100%, -50%);top:50%}.tag-popup-right.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(0, -50%);top:50%}.tag-popup-top-left.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(calc(2.625rem - 100%), -100%)}.tag-popup-top-right.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(-2.625rem, -100%)}.tag-popup-bottom-left.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(calc(2.625rem - 100%), 0)}.tag-popup-bottom-right.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(-2.625rem, 0)}.tag-popup-left-top.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(-100%, -2.625rem)}.tag-popup-left-bottom.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(-100%, calc(2.625rem - 100%))}.tag-popup-right-top.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(0, -2.625rem)}.tag-popup-right-bottom.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{transform:translate(0, calc(2.625rem - 100%))}.tag-popup-content.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{position:relative;pointer-events:auto;cursor:pointer;padding:1.25rem;border-radius:0.375rem;max-width:17.5rem;width:17.5rem;background:rgba(0, 0, 0, 0.7490196078)}.tag-popup-top.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7,.tag-popup-top-left.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7,.tag-popup-top-right.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7{box-shadow:0.03125rem 0 0 0 rgba(255, 255, 255, 0.3), -0.03125rem 0 0 0 rgba(255, 255, 255, 0.3)}.tag-popup-bottom.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7,.tag-popup-bottom-left.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7,.tag-popup-bottom-right.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7{box-shadow:0.03125rem 0 0 0 rgba(255, 255, 255, 0.3), -0.03125rem 0 0 0 rgba(255, 255, 255, 0.3)}.tag-popup-left.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7,.tag-popup-left-top.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7,.tag-popup-left-bottom.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7{box-shadow:0 0.03125rem 0 0 rgba(255, 255, 255, 0.3), 0 -0.03125rem 0 0 rgba(255, 255, 255, 0.3)}.tag-popup-right.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7,.tag-popup-right-top.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7,.tag-popup-right-bottom.svelte-tc67u7 .tag-popup-content.svelte-tc67u7.svelte-tc67u7{box-shadow:0 0.03125rem 0 0 rgba(255, 255, 255, 0.3), 0 -0.03125rem 0 0 rgba(255, 255, 255, 0.3)}.light.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{background:#ffffff}.tag-popup-title.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{margin:0;font-size:1rem;font-weight:600;line-height:1.375rem;letter-spacing:0;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;color:#ffffff}.light.svelte-tc67u7 .tag-popup-title.svelte-tc67u7.svelte-tc67u7{color:rgba(0, 0, 0, 0.8509803922)}.tag-popup-description.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{margin:0;font-size:0.875rem;font-weight:400;color:#ffffff;line-height:1.25rem;max-height:5rem;overflow:hidden;word-wrap:break-word;word-break:break-word;white-space:pre-wrap}.light.svelte-tc67u7 .tag-popup-description.svelte-tc67u7.svelte-tc67u7{color:rgba(0, 0, 0, 0.8509803922)}.tag-popup-tags.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{display:flex;align-items:center;margin:0;margin-bottom:0}.tag-popup-tags.svelte-tc67u7 .tag-popup-tag.svelte-tc67u7+.tag-popup-tag.svelte-tc67u7{margin-left:0.25rem}.tag-popup-tag.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{padding:0.125rem 0.25rem;display:flex;align-items:center;justify-content:center;border-radius:0.25rem;font-size:0.75rem;line-height:1.125rem;letter-spacing:0;border-radius:0.125rem;max-width:7.5rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.tag-popup-tag-primary.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{color:#ffffff;background-image:linear-gradient(90deg, #ead09a 0%, #e0cca3 100%)}.light.svelte-tc67u7 .tag-popup-tag-primary.svelte-tc67u7.svelte-tc67u7{color:#946700;background-image:linear-gradient(90deg, #ead09a 0%, #e0cca3 100%)}.tag-popup-tag-secondary.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{color:#ffffff;background:rgba(255, 255, 255, 0.1490196078)}.light.svelte-tc67u7 .tag-popup-tag-secondary.svelte-tc67u7.svelte-tc67u7{color:rgba(0, 0, 0, 0.5019607843);background:rgba(0, 0, 0, 0.0588235294)}.tag-popup-price.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{font-family:DINAlternate-Bold;font-weight:700;font-size:1.25rem;color:#ae7900;letter-spacing:0;text-align:center;display:flex;justify-content:flex-start;align-items:center;width:100%;margin:0}.tag-popup-media.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{width:15rem;height:10rem;margin:0 auto;overflow:hidden;border-radius:0.25rem;display:flex;align-items:center;justify-content:center;position:relative}.tag-popup-media.svelte-tc67u7 img.svelte-tc67u7.svelte-tc67u7{width:100%;height:100%;-o-object-fit:cover;object-fit:cover;display:block}.tag-popup-media-type.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);z-index:2}.tag-popup-media-index.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{position:absolute;right:0.375rem;bottom:0.375rem;padding:0.0625rem 0.25rem;background:rgba(0, 0, 0, 0.5);border-radius:0.125rem;font-weight:bold;font-size:0.75rem;color:#ffffff;letter-spacing:0;line-height:1.125rem}.iframe-overlay.svelte-tc67u7.svelte-tc67u7.svelte-tc67u7{position:absolute;top:0;left:0;width:100%;height:100%;background:transparent;z-index:10}.tag-popup-content.svelte-tc67u7>.svelte-tc67u7+.svelte-tc67u7{margin-top:0.5rem}.tag-popup-content.svelte-tc67u7>.svelte-tc67u7.svelte-tc67u7:first-child{margin-top:0 !important}');
}
var de8 = (l63) => ({});
var qt3 = (l63) => ({});
var me6 = (l63) => ({});
var Bt3 = (l63) => ({});
function Lt2(l63, e48, t43) {
  const a62 = l63.slice();
  return a62[2] = e48[t43], a62;
}
function Yt2(l63, e48, t43) {
  const a62 = l63.slice();
  return a62[2] = e48[t43], a62;
}
function Et2(l63) {
  let e48, t43;
  return {
    c() {
      e48 = K4("h3"), t43 = gt(
        /*finalTitle*/
        l63[5]
      ), te2(e48, "class", "tag-popup-title svelte-tc67u7");
    },
    m(a62, i65) {
      Nt(a62, e48, i65), pt(e48, t43);
    },
    p(a62, i65) {
      i65[0] & /*finalTitle*/
      32 && ee2(
        t43,
        /*finalTitle*/
        a62[5]
      );
    },
    d(a62) {
      a62 && J4(e48);
    }
  };
}
function Nt2(l63) {
  let e48, t43, a62 = (
    /*primaryTags*/
    l63[4]
  ), i65 = [];
  for (let u72 = 0; u72 < a62.length; u72 += 1)
    i65[u72] = Gt3(Yt2(l63, a62, u72));
  let o71 = (
    /*secondaryTags*/
    l63[13]
  ), r66 = [];
  for (let u72 = 0; u72 < o71.length; u72 += 1)
    r66[u72] = Ht2(Lt2(l63, o71, u72));
  return {
    c() {
      e48 = K4("div");
      for (let u72 = 0; u72 < i65.length; u72 += 1)
        i65[u72].c();
      t43 = Xt();
      for (let u72 = 0; u72 < r66.length; u72 += 1)
        r66[u72].c();
      te2(e48, "class", "tag-popup-tags svelte-tc67u7");
    },
    m(u72, d73) {
      Nt(u72, e48, d73);
      for (let n72 = 0; n72 < i65.length; n72 += 1)
        i65[n72] && i65[n72].m(e48, null);
      pt(e48, t43);
      for (let n72 = 0; n72 < r66.length; n72 += 1)
        r66[n72] && r66[n72].m(e48, null);
    },
    p(u72, d73) {
      if (d73[0] & /*primaryTags*/
      16) {
        a62 = /*primaryTags*/
        u72[4];
        let n72;
        for (n72 = 0; n72 < a62.length; n72 += 1) {
          const g67 = Yt2(u72, a62, n72);
          i65[n72] ? i65[n72].p(g67, d73) : (i65[n72] = Gt3(g67), i65[n72].c(), i65[n72].m(e48, t43));
        }
        for (; n72 < i65.length; n72 += 1)
          i65[n72].d(1);
        i65.length = a62.length;
      }
      if (d73[0] & /*secondaryTags*/
      8192) {
        o71 = /*secondaryTags*/
        u72[13];
        let n72;
        for (n72 = 0; n72 < o71.length; n72 += 1) {
          const g67 = Lt2(u72, o71, n72);
          r66[n72] ? r66[n72].p(g67, d73) : (r66[n72] = Ht2(g67), r66[n72].c(), r66[n72].m(e48, null));
        }
        for (; n72 < r66.length; n72 += 1)
          r66[n72].d(1);
        r66.length = o71.length;
      }
    },
    d(u72) {
      u72 && J4(e48), Vt(i65, u72), Vt(r66, u72);
    }
  };
}
function Gt3(l63) {
  let e48, t43 = (
    /*tag*/
    l63[2] + ""
  ), a62;
  return {
    c() {
      e48 = K4("div"), a62 = gt(t43), te2(e48, "class", "tag-popup-tag tag-popup-tag-primary svelte-tc67u7");
    },
    m(i65, o71) {
      Nt(i65, e48, o71), pt(e48, a62);
    },
    p(i65, o71) {
      o71[0] & /*primaryTags*/
      16 && t43 !== (t43 = /*tag*/
      i65[2] + "") && ee2(a62, t43);
    },
    d(i65) {
      i65 && J4(e48);
    }
  };
}
function Ht2(l63) {
  let e48, t43 = (
    /*tag*/
    l63[2] + ""
  ), a62;
  return {
    c() {
      e48 = K4("div"), a62 = gt(t43), te2(e48, "class", "tag-popup-tag tag-popup-tag-secondary svelte-tc67u7");
    },
    m(i65, o71) {
      Nt(i65, e48, o71), pt(e48, a62);
    },
    p(i65, o71) {
      o71[0] & /*secondaryTags*/
      8192 && t43 !== (t43 = /*tag*/
      i65[2] + "") && ee2(a62, t43);
    },
    d(i65) {
      i65 && J4(e48);
    }
  };
}
function ge8(l63) {
  let e48, t43, a62, i65, o71, r66, u72, d73;
  r66 = new B31({});
  let n72 = (
    /*mediaCount*/
    l63[15] > 1 && Jt3(l63)
  );
  return {
    c() {
      e48 = K4("div"), t43 = K4("video"), i65 = Xt(), o71 = K4("div"), Ae(r66.$$.fragment), u72 = Xt(), n72 && n72.c(), Wt(t43.src, a62 = /*tag*/
      l63[2].data.mediaData[0].url) || te2(t43, "src", a62), te2(t43, "class", "tag-popup-video-fallback"), t43.controls = false, t43.autoplay = false, t43.muted = true, t43.loop = true, te2(t43, "preload", "metadata"), te2(t43, "disablepictureinpicture", ""), t43.playsInline = true, ne2(t43, "width", "100%"), ne2(t43, "height", "100%"), ne2(t43, "object-fit", "cover"), te2(o71, "class", "tag-popup-media-type svelte-tc67u7"), te2(e48, "class", "tag-popup-media svelte-tc67u7");
    },
    m(g67, v58) {
      Nt(g67, e48, v58), pt(e48, t43), pt(e48, i65), pt(e48, o71), Dt(r66, o71, null), pt(e48, u72), n72 && n72.m(e48, null), d73 = true;
    },
    p(g67, v58) {
      (!d73 || v58[0] & /*tag*/
      4 && !Wt(t43.src, a62 = /*tag*/
      g67[2].data.mediaData[0].url)) && te2(t43, "src", a62), /*mediaCount*/
      g67[15] > 1 ? n72 ? n72.p(g67, v58) : (n72 = Jt3(g67), n72.c(), n72.m(e48, null)) : n72 && (n72.d(1), n72 = null);
    },
    i(g67) {
      d73 || (ot(r66.$$.fragment, g67), d73 = true);
    },
    o(g67) {
      $t(r66.$$.fragment, g67), d73 = false;
    },
    d(g67) {
      g67 && J4(e48), Rt(r66), n72 && n72.d();
    }
  };
}
function ve4(l63) {
  let e48, t43, a62, i65, o71, r66, u72, d73, n72;
  const g67 = [be5, he5], v58 = [];
  function q38(m66, _32) {
    return (
      /*isVideoMedia*/
      m66[7] ? 0 : (
        /*isPanoramaMedia*/
        m66[18] ? 1 : -1
      )
    );
  }
  ~(r66 = q38(l63)) && (u72 = v58[r66] = g67[r66](l63));
  let h66 = (
    /*mediaCount*/
    l63[15] > 1 && Kt3(l63)
  );
  return {
    c() {
      e48 = K4("div"), t43 = K4("img"), o71 = Xt(), u72 && u72.c(), d73 = Xt(), h66 && h66.c(), Wt(t43.src, a62 = /*mediaUrl*/
      l63[19]) || te2(t43, "src", a62), te2(t43, "alt", i65 = /*finalTitle*/
      l63[5] || ""), te2(t43, "draggable", "false"), te2(t43, "class", "svelte-tc67u7"), te2(e48, "class", "tag-popup-media svelte-tc67u7");
    },
    m(m66, _32) {
      Nt(m66, e48, _32), pt(e48, t43), pt(e48, o71), ~r66 && v58[r66].m(e48, null), pt(e48, d73), h66 && h66.m(e48, null), n72 = true;
    },
    p(m66, _32) {
      (!n72 || _32[0] & /*mediaUrl*/
      524288 && !Wt(t43.src, a62 = /*mediaUrl*/
      m66[19])) && te2(t43, "src", a62), (!n72 || _32[0] & /*finalTitle*/
      32 && i65 !== (i65 = /*finalTitle*/
      m66[5] || "")) && te2(t43, "alt", i65);
      let k47 = r66;
      r66 = q38(m66), r66 !== k47 && (u72 && (Lt(), $t(v58[k47], 1, 1, () => {
        v58[k47] = null;
      }), Ot()), ~r66 ? (u72 = v58[r66], u72 || (u72 = v58[r66] = g67[r66](m66), u72.c()), ot(u72, 1), u72.m(e48, d73)) : u72 = null), /*mediaCount*/
      m66[15] > 1 ? h66 ? h66.p(m66, _32) : (h66 = Kt3(m66), h66.c(), h66.m(e48, null)) : h66 && (h66.d(1), h66 = null);
    },
    i(m66) {
      n72 || (ot(u72), n72 = true);
    },
    o(m66) {
      $t(u72), n72 = false;
    },
    d(m66) {
      m66 && J4(e48), ~r66 && v58[r66].d(), h66 && h66.d();
    }
  };
}
function _e7(l63) {
  let e48, t43, a62, i65, o71, r66, u72 = (
    /*mediaCount*/
    l63[15] > 1 && Ot3(l63)
  );
  return {
    c() {
      e48 = K4("div"), t43 = K4("iframe"), i65 = Xt(), o71 = K4("div"), r66 = Xt(), u72 && u72.c(), te2(
        t43,
        "title",
        /*videoPlayerTitle*/
        l63[16]
      ), Wt(t43.src, a62 = /*formattedVideoUrl*/
      l63[17]) || te2(t43, "src", a62), te2(t43, "class", "tag-popup-video-iframe"), te2(t43, "frameborder", "0"), te2(t43, "allow", "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"), te2(t43, "referrerpolicy", "strict-origin-when-cross-origin"), t43.allowFullscreen = true, ne2(t43, "width", "100%"), ne2(t43, "height", "100%"), ne2(t43, "position", "absolute"), ne2(t43, "top", "0"), ne2(t43, "left", "0"), te2(o71, "class", "iframe-overlay svelte-tc67u7"), te2(e48, "class", "tag-popup-media svelte-tc67u7");
    },
    m(d73, n72) {
      Nt(d73, e48, n72), pt(e48, t43), pt(e48, i65), pt(e48, o71), pt(e48, r66), u72 && u72.m(e48, null);
    },
    p(d73, n72) {
      n72[0] & /*videoPlayerTitle*/
      65536 && te2(
        t43,
        "title",
        /*videoPlayerTitle*/
        d73[16]
      ), n72[0] & /*formattedVideoUrl*/
      131072 && !Wt(t43.src, a62 = /*formattedVideoUrl*/
      d73[17]) && te2(t43, "src", a62), /*mediaCount*/
      d73[15] > 1 ? u72 ? u72.p(d73, n72) : (u72 = Ot3(d73), u72.c(), u72.m(e48, null)) : u72 && (u72.d(1), u72 = null);
    },
    i: N4,
    o: N4,
    d(d73) {
      d73 && J4(e48), u72 && u72.d();
    }
  };
}
function Jt3(l63) {
  let e48, t43, a62, i65;
  return {
    c() {
      e48 = K4("div"), t43 = gt(
        /*currentMediaIndex*/
        l63[14]
      ), a62 = gt("/"), i65 = gt(
        /*mediaCount*/
        l63[15]
      ), te2(e48, "class", "tag-popup-media-index svelte-tc67u7");
    },
    m(o71, r66) {
      Nt(o71, e48, r66), pt(e48, t43), pt(e48, a62), pt(e48, i65);
    },
    p(o71, r66) {
      r66[0] & /*currentMediaIndex*/
      16384 && ee2(
        t43,
        /*currentMediaIndex*/
        o71[14]
      ), r66[0] & /*mediaCount*/
      32768 && ee2(
        i65,
        /*mediaCount*/
        o71[15]
      );
    },
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function he5(l63) {
  let e48, t43, a62;
  return t43 = new P38({}), {
    c() {
      e48 = K4("div"), Ae(t43.$$.fragment), te2(e48, "class", "tag-popup-media-type svelte-tc67u7");
    },
    m(i65, o71) {
      Nt(i65, e48, o71), Dt(t43, e48, null), a62 = true;
    },
    i(i65) {
      a62 || (ot(t43.$$.fragment, i65), a62 = true);
    },
    o(i65) {
      $t(t43.$$.fragment, i65), a62 = false;
    },
    d(i65) {
      i65 && J4(e48), Rt(t43);
    }
  };
}
function be5(l63) {
  let e48, t43, a62;
  return t43 = new B31({}), {
    c() {
      e48 = K4("div"), Ae(t43.$$.fragment), te2(e48, "class", "tag-popup-media-type svelte-tc67u7");
    },
    m(i65, o71) {
      Nt(i65, e48, o71), Dt(t43, e48, null), a62 = true;
    },
    i(i65) {
      a62 || (ot(t43.$$.fragment, i65), a62 = true);
    },
    o(i65) {
      $t(t43.$$.fragment, i65), a62 = false;
    },
    d(i65) {
      i65 && J4(e48), Rt(t43);
    }
  };
}
function Kt3(l63) {
  let e48, t43, a62, i65;
  return {
    c() {
      e48 = K4("div"), t43 = gt(
        /*currentMediaIndex*/
        l63[14]
      ), a62 = gt("/"), i65 = gt(
        /*mediaCount*/
        l63[15]
      ), te2(e48, "class", "tag-popup-media-index svelte-tc67u7");
    },
    m(o71, r66) {
      Nt(o71, e48, r66), pt(e48, t43), pt(e48, a62), pt(e48, i65);
    },
    p(o71, r66) {
      r66[0] & /*currentMediaIndex*/
      16384 && ee2(
        t43,
        /*currentMediaIndex*/
        o71[14]
      ), r66[0] & /*mediaCount*/
      32768 && ee2(
        i65,
        /*mediaCount*/
        o71[15]
      );
    },
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function Ot3(l63) {
  let e48, t43, a62, i65;
  return {
    c() {
      e48 = K4("div"), t43 = gt(
        /*currentMediaIndex*/
        l63[14]
      ), a62 = gt("/"), i65 = gt(
        /*mediaCount*/
        l63[15]
      ), te2(e48, "class", "tag-popup-media-index svelte-tc67u7");
    },
    m(o71, r66) {
      Nt(o71, e48, r66), pt(e48, t43), pt(e48, a62), pt(e48, i65);
    },
    p(o71, r66) {
      r66[0] & /*currentMediaIndex*/
      16384 && ee2(
        t43,
        /*currentMediaIndex*/
        o71[14]
      ), r66[0] & /*mediaCount*/
      32768 && ee2(
        i65,
        /*mediaCount*/
        o71[15]
      );
    },
    d(o71) {
      o71 && J4(e48);
    }
  };
}
function Qt3(l63) {
  let e48, t43;
  return {
    c() {
      e48 = K4("div"), t43 = gt(
        /*finalDescription*/
        l63[20]
      ), te2(e48, "class", "tag-popup-description svelte-tc67u7");
    },
    m(a62, i65) {
      Nt(a62, e48, i65), pt(e48, t43);
    },
    p(a62, i65) {
      i65[0] & /*finalDescription*/
      1048576 && ee2(
        t43,
        /*finalDescription*/
        a62[20]
      );
    },
    d(a62) {
      a62 && J4(e48);
    }
  };
}
function Wt2(l63) {
  let e48, t43, a62;
  return t43 = new U26({
    props: {
      playing: (
        /*audioPlaying*/
        l63[1]
      ),
      progress: (
        /*audioProgress*/
        l63[9]
      ),
      elapsedTime: (
        /*audioElapsedTime*/
        l63[10]
      ),
      onClick: (
        /*handleAudioPlayerClick*/
        l63[22]
      )
    }
  }), {
    c() {
      e48 = K4("div"), Ae(t43.$$.fragment), te2(e48, "class", "tag-popup-audio-player-wrapper svelte-tc67u7");
    },
    m(i65, o71) {
      Nt(i65, e48, o71), Dt(t43, e48, null), a62 = true;
    },
    p(i65, o71) {
      const r66 = {};
      o71[0] & /*audioPlaying*/
      2 && (r66.playing = /*audioPlaying*/
      i65[1]), o71[0] & /*audioProgress*/
      512 && (r66.progress = /*audioProgress*/
      i65[9]), o71[0] & /*audioElapsedTime*/
      1024 && (r66.elapsedTime = /*audioElapsedTime*/
      i65[10]), t43.$set(r66);
    },
    i(i65) {
      a62 || (ot(t43.$$.fragment, i65), a62 = true);
    },
    o(i65) {
      $t(t43.$$.fragment, i65), a62 = false;
    },
    d(i65) {
      i65 && J4(e48), Rt(t43);
    }
  };
}
function Xt3(l63) {
  let e48, t43, a62, i65, o71 = (
    /*marketingPriceUnit*/
    l63[11] && Zt2(l63)
  );
  return {
    c() {
      e48 = K4("div"), o71 && o71.c(), t43 = Xt(), a62 = K4("span"), i65 = gt(
        /*marketingPrice*/
        l63[12]
      ), te2(a62, "class", "tag-popup-price-value"), te2(e48, "class", "tag-popup-price svelte-tc67u7");
    },
    m(r66, u72) {
      Nt(r66, e48, u72), o71 && o71.m(e48, null), pt(e48, t43), pt(e48, a62), pt(a62, i65);
    },
    p(r66, u72) {
      r66[11] ? o71 ? o71.p(r66, u72) : (o71 = Zt2(r66), o71.c(), o71.m(e48, t43)) : o71 && (o71.d(1), o71 = null), u72[0] & /*marketingPrice*/
      4096 && ee2(
        i65,
        /*marketingPrice*/
        r66[12]
      );
    },
    d(r66) {
      r66 && J4(e48), o71 && o71.d();
    }
  };
}
function Zt2(l63) {
  let e48, t43;
  return {
    c() {
      e48 = K4("span"), t43 = gt(
        /*marketingPriceUnit*/
        l63[11]
      ), te2(e48, "class", "tag-popup-price-unit");
    },
    m(a62, i65) {
      Nt(a62, e48, i65), pt(e48, t43);
    },
    p(a62, i65) {
      i65[0] & /*marketingPriceUnit*/
      2048 && ee2(
        t43,
        /*marketingPriceUnit*/
        a62[11]
      );
    },
    d(a62) {
      a62 && J4(e48);
    }
  };
}
function ye4(l63) {
  let e48, t43, a62, i65, o71, r66, u72, d73, n72, g67, v58, q38, h66, m66, _32 = (
    /*finalTitle*/
    l63[5] && Et2(l63)
  ), k47 = (
    /*isMarketingTag*/
    l63[3] && /*primaryTags*/
    (l63[4].length > 0 || /*secondaryTags*/
    l63[13].length > 0) && Nt2(l63)
  );
  const J33 = [_e7, ve4, ge8], F45 = [];
  function X24(s60, T38) {
    var N33;
    return (
      /*isExternalVideo*/
      s60[6] && /*formattedVideoUrl*/
      s60[17] ? 0 : (
        /*mediaUrl*/
        s60[19] ? 1 : (
          /*isVideoMedia*/
          s60[7] && /*tag*/
          s60[2].data.mediaData && /*tag*/
          ((N33 = s60[2].data.mediaData[0]) != null && N33.url) ? 2 : -1
        )
      )
    );
  }
  ~(o71 = X24(l63)) && (r66 = F45[o71] = J33[o71](l63));
  let P55 = (
    /*finalDescription*/
    l63[20] && Qt3(l63)
  ), w49 = (
    /*isAudioTag*/
    l63[8] && Wt2(l63)
  ), D52 = (
    /*marketingPrice*/
    l63[12] && Xt3(l63)
  );
  const H39 = (
    /*#slots*/
    l63[38].toolbar
  ), U33 = Bt(
    H39,
    l63,
    /*$$scope*/
    l63[37],
    Bt3
  ), E53 = (
    /*#slots*/
    l63[38].arrow
  ), j37 = Bt(
    E53,
    l63,
    /*$$scope*/
    l63[37],
    qt3
  );
  return {
    c() {
      e48 = K4("div"), t43 = K4("div"), _32 && _32.c(), a62 = Xt(), k47 && k47.c(), i65 = Xt(), r66 && r66.c(), u72 = Xt(), P55 && P55.c(), d73 = Xt(), w49 && w49.c(), n72 = Xt(), D52 && D52.c(), g67 = Xt(), U33 && U33.c(), v58 = Xt(), j37 && j37.c(), te2(t43, "class", q38 = "tag-popup-content " + /*effectiveTheme*/
      l63[21] + " svelte-tc67u7"), te2(e48, "class", h66 = "tag-popup tag-popup-" + /*placement*/
      l63[0] + " svelte-tc67u7");
    },
    m(s60, T38) {
      Nt(s60, e48, T38), pt(e48, t43), _32 && _32.m(t43, null), pt(t43, a62), k47 && k47.m(t43, null), pt(t43, i65), ~o71 && F45[o71].m(t43, null), pt(t43, u72), P55 && P55.m(t43, null), pt(t43, d73), w49 && w49.m(t43, null), pt(t43, n72), D52 && D52.m(t43, null), pt(t43, g67), U33 && U33.m(t43, null), pt(t43, v58), j37 && j37.m(t43, null), m66 = true;
    },
    p(s60, T38) {
      s60[5] ? _32 ? _32.p(s60, T38) : (_32 = Et2(s60), _32.c(), _32.m(t43, a62)) : _32 && (_32.d(1), _32 = null), /*isMarketingTag*/
      s60[3] && /*primaryTags*/
      (s60[4].length > 0 || /*secondaryTags*/
      s60[13].length > 0) ? k47 ? k47.p(s60, T38) : (k47 = Nt2(s60), k47.c(), k47.m(t43, i65)) : k47 && (k47.d(1), k47 = null);
      let N33 = o71;
      o71 = X24(s60), o71 === N33 ? ~o71 && F45[o71].p(s60, T38) : (r66 && (Lt(), $t(F45[N33], 1, 1, () => {
        F45[N33] = null;
      }), Ot()), ~o71 ? (r66 = F45[o71], r66 ? r66.p(s60, T38) : (r66 = F45[o71] = J33[o71](s60), r66.c()), ot(r66, 1), r66.m(t43, u72)) : r66 = null), /*finalDescription*/
      s60[20] ? P55 ? P55.p(s60, T38) : (P55 = Qt3(s60), P55.c(), P55.m(t43, d73)) : P55 && (P55.d(1), P55 = null), /*isAudioTag*/
      s60[8] ? w49 ? (w49.p(s60, T38), T38[0] & /*isAudioTag*/
      256 && ot(w49, 1)) : (w49 = Wt2(s60), w49.c(), ot(w49, 1), w49.m(t43, n72)) : w49 && (Lt(), $t(w49, 1, 1, () => {
        w49 = null;
      }), Ot()), /*marketingPrice*/
      s60[12] ? D52 ? D52.p(s60, T38) : (D52 = Xt3(s60), D52.c(), D52.m(t43, g67)) : D52 && (D52.d(1), D52 = null), U33 && U33.p && (!m66 || T38[1] & /*$$scope*/
      64) && It(
        U33,
        H39,
        s60,
        /*$$scope*/
        s60[37],
        m66 ? Ht(
          H39,
          /*$$scope*/
          s60[37],
          T38,
          me6
        ) : Ut(
          /*$$scope*/
          s60[37]
        ),
        Bt3
      ), j37 && j37.p && (!m66 || T38[1] & /*$$scope*/
      64) && It(
        j37,
        E53,
        s60,
        /*$$scope*/
        s60[37],
        m66 ? Ht(
          E53,
          /*$$scope*/
          s60[37],
          T38,
          de8
        ) : Ut(
          /*$$scope*/
          s60[37]
        ),
        qt3
      ), (!m66 || T38[0] & /*effectiveTheme*/
      2097152 && q38 !== (q38 = "tag-popup-content " + /*effectiveTheme*/
      s60[21] + " svelte-tc67u7")) && te2(t43, "class", q38), (!m66 || T38[0] & /*placement*/
      1 && h66 !== (h66 = "tag-popup tag-popup-" + /*placement*/
      s60[0] + " svelte-tc67u7")) && te2(e48, "class", h66);
    },
    i(s60) {
      m66 || (ot(r66), ot(w49), ot(U33, s60), ot(j37, s60), m66 = true);
    },
    o(s60) {
      $t(r66), $t(w49), $t(U33, s60), $t(j37, s60), m66 = false;
    },
    d(s60) {
      s60 && J4(e48), _32 && _32.d(), k47 && k47.d(), ~o71 && F45[o71].d(), P55 && P55.d(), w49 && w49.d(), D52 && D52.d(), U33 && U33.d(s60), j37 && j37.d(s60);
    }
  };
}
function ke4(l63) {
  const e48 = Math.floor(l63 / 60), t43 = Math.floor(l63 % 60);
  return `${e48.toString().padStart(2, "0")}:${t43.toString().padStart(2, "0")}`;
}
function we3(l63, e48, t43) {
  let a62, i65, o71, r66, u72, d73, n72, g67, v58, q38, h66, m66, _32, k47, J33, F45, X24, P55, w49, D52, H39, U33, E53, j37, s60, T38, { $$slots: N33 = {}, $$scope: ft4 } = e48, { tag: p66 } = e48, { config: K32 = {} } = e48, { theme: Z18 = void 0 } = e48, { placement: dt4 = "right-top" } = e48, { audioInstance: O40 = null } = e48, { audioPlaying: R43 = false } = e48, { audioCurrentTime: tt5 = 0 } = e48, { audioDuration: B42 = 0 } = e48, ut6 = 0, nt7 = "00:00", L40 = null, mt3 = 0, Q29 = 0;
  function xt3() {
    return B42 > 0 ? tt5 / B42 * 100 : 0;
  }
  function gt6() {
    if (!R43 || B42 <= 0) {
      L40 = null;
      return;
    }
    const et4 = (Date.now() - mt3) / 1e3, lt5 = tt5 + et4, x49 = Math.min(lt5 / B42 * 100, 100) - Q29;
    Math.abs(x49) > 0.05 && (Q29 += x49 * 0.2), L40 = requestAnimationFrame(gt6);
  }
  function $t2() {
    if (!i65)
      return;
    const b55 = xt3();
    B42 > 0 ? (R43 || (Q29 = b55), t43(9, ut6 = Q29), t43(10, nt7 = ke4(Q29 / 100 * B42)), mt3 = Date.now()) : (Q29 = 0, t43(9, ut6 = 0), t43(10, nt7 = "00:00"));
  }
  function te10() {
    R43 && B42 > 0 ? L40 || gt6() : L40 && (cancelAnimationFrame(L40), L40 = null);
  }
  function ee10() {
    O40 && (O40.paused ? O40.play() : O40.pause());
  }
  return le(() => {
    L40 && (cancelAnimationFrame(L40), L40 = null);
  }), l63.$$set = (b55) => {
    "tag" in b55 && t43(2, p66 = b55.tag), "config" in b55 && t43(23, K32 = b55.config), "theme" in b55 && t43(24, Z18 = b55.theme), "placement" in b55 && t43(0, dt4 = b55.placement), "audioInstance" in b55 && t43(25, O40 = b55.audioInstance), "audioPlaying" in b55 && t43(1, R43 = b55.audioPlaying), "audioCurrentTime" in b55 && t43(26, tt5 = b55.audioCurrentTime), "audioDuration" in b55 && t43(27, B42 = b55.audioDuration), "$$scope" in b55 && t43(37, ft4 = b55.$$scope);
  }, l63.$$.update = () => {
    var b55, et4, lt5, st6, x49, vt3;
    l63.$$.dirty[0] & /*tag*/
    4 && t43(3, a62 = p66.contentType === "Marketing"), l63.$$.dirty[0] & /*tag*/
    4 && t43(8, i65 = p66.contentType === "Audio"), l63.$$.dirty[0] & /*isMarketingTag*/
    8 && t43(36, o71 = a62 ? "light" : "dark"), l63.$$.dirty[0] & /*tag, theme*/
    16777220 | l63.$$.dirty[1] & /*defaultTheme*/
    32 && t43(21, r66 = p66.data.theme !== void 0 && p66.data.theme !== null ? p66.data.theme : Z18 != null ? Z18 : o71), l63.$$.dirty[0] & /*tag*/
    4 && t43(35, u72 = p66.data.title || p66.data.name || ""), l63.$$.dirty[0] & /*tag*/
    4 && t43(34, d73 = p66.data.description || p66.data.tooltip || ""), l63.$$.dirty[1] & /*title*/
    16 && t43(5, n72 = u72 || ""), l63.$$.dirty[1] & /*description*/
    8 && t43(20, g67 = d73 || ""), l63.$$.dirty[0] & /*audioCurrentTime, audioDuration, audioPlaying*/
    201326594 && $t2(), l63.$$.dirty[0] & /*audioPlaying, audioDuration*/
    134217730 && te10(), l63.$$.dirty[0] & /*isAudioTag, isMarketingTag, tag*/
    268 && t43(33, v58 = (() => {
      var _t3, ht4, bt4, yt3, kt3, wt3, Tt3, Dt3, Pt2, It2, Ct4;
      if (i65 || a62)
        return null;
      if (p66.data.mediaData && p66.data.mediaData.length > 0) {
        const Y23 = p66.data.mediaData[0];
        if (Y23.type === "Video") {
          if (Y23.videoCoverUrl)
            return Y23.videoCoverUrl;
          if (Y23.url) {
            const it8 = Y23.url.toLowerCase();
            if (o57(it8)) {
              const $23 = u43(it8);
              if ($23)
                return `https://img.youtube.com/vi/${$23}/hqdefault.jpg`;
            }
            if (m50(it8)) {
              const $23 = i48(it8);
              if ($23)
                return `https://vumbnail.com/${$23}.jpg`;
            }
            return;
          }
        }
        if (p66.contentType === "Panorama")
          return (Ct4 = (Tt3 = (bt4 = (ht4 = (_t3 = p66.data.mediaData) == null ? void 0 : _t3[0]) == null ? void 0 : ht4.cube) == null ? void 0 : bt4.front) != null ? Tt3 : (wt3 = (kt3 = (yt3 = p66.data.mediaData) == null ? void 0 : yt3[0]) == null ? void 0 : kt3.thumbnail) == null ? void 0 : wt3.split("?")[0]) != null ? Ct4 : (It2 = (Pt2 = (Dt3 = p66.data.mediaData) == null ? void 0 : Dt3[0]) == null ? void 0 : Pt2.url) == null ? void 0 : It2.split("?")[0];
        if (Y23.url || Y23.thumbnail)
          return Y23.url || Y23.thumbnail;
      }
      return p66.data.imageUrl;
    })()), l63.$$.dirty[0] & /*config, tag*/
    8388612 | l63.$$.dirty[1] & /*mediaRawUrl*/
    4 && t43(19, q38 = K32 != null && K32.imageURLTransform && (v58 != null && v58.includes("realsee-cdn") || v58 != null && v58.includes("ljcdn.com")) ? K32.imageURLTransform(v58, { width: 280, height: 280 }) : v58 || p66.data.mediaUrl || ""), l63.$$.dirty[0] & /*tag*/
    4 && t43(7, h66 = p66.contentType === "Video" || p66.data.mediaType === "video"), l63.$$.dirty[0] & /*tag*/
    4 && t43(18, m66 = p66.contentType === "Panorama" || p66.data.mediaType === "panorama"), l63.$$.dirty[0] & /*isVideoMedia, tag*/
    132 && t43(32, _32 = h66 && p66.data.mediaData && ((b55 = p66.data.mediaData[0]) == null ? void 0 : b55.url) && o57(p66.data.mediaData[0].url)), l63.$$.dirty[0] & /*isVideoMedia, tag*/
    132 && t43(31, k47 = h66 && p66.data.mediaData && ((et4 = p66.data.mediaData[0]) == null ? void 0 : et4.url) && m50(p66.data.mediaData[0].url)), l63.$$.dirty[1] & /*isYouTubeVideo, isVimeoVideo*/
    3 && t43(6, J33 = _32 || k47), l63.$$.dirty[0] & /*isExternalVideo, tag*/
    68 && t43(17, F45 = J33 && p66.data.mediaData && ((lt5 = p66.data.mediaData[0]) != null && lt5.url) ? l40(p66.data.mediaData[0].url, { autoplay: 0 }) : ""), l63.$$.dirty[0] & /*finalTitle*/
    32 | l63.$$.dirty[1] & /*isYouTubeVideo, isVimeoVideo*/
    3 && t43(16, X24 = _32 ? "YouTube video player" : k47 ? "Vimeo video player" : n72), l63.$$.dirty[0] & /*tag*/
    4 && t43(15, P55 = ((st6 = p66.data.mediaData) == null ? void 0 : st6.length) || 0), l63.$$.dirty[0] & /*isMarketingTag, tag*/
    12 && t43(30, D52 = a62 ? p66.data.brandTags || [] : []), l63.$$.dirty[0] & /*isMarketingTag, tag*/
    12 && t43(29, H39 = a62 ? p66.data.tags || [] : []), l63.$$.dirty[0] & /*marketingBrandTags*/
    1073741824 && t43(4, U33 = D52.filter(Boolean).slice(0, 2)), l63.$$.dirty[0] & /*primaryTags*/
    16 && t43(28, E53 = Math.max(0, 2 - U33.length)), l63.$$.dirty[0] & /*remainingCount, marketingTags*/
    805306368 && t43(13, j37 = E53 > 0 ? H39.filter(Boolean).slice(0, E53) : []), l63.$$.dirty[0] & /*isMarketingTag, tag*/
    12 && t43(12, s60 = a62 && ((x49 = p66.data.price) == null ? void 0 : x49.value) || ""), l63.$$.dirty[0] & /*isMarketingTag, tag*/
    12 && t43(11, T38 = a62 && ((vt3 = p66.data.price) == null ? void 0 : vt3.unit) || "");
  }, t43(14, w49 = 1), [
    dt4,
    R43,
    p66,
    a62,
    U33,
    n72,
    J33,
    h66,
    i65,
    ut6,
    nt7,
    T38,
    s60,
    j37,
    w49,
    P55,
    X24,
    F45,
    m66,
    q38,
    g67,
    r66,
    ee10,
    K32,
    Z18,
    O40,
    tt5,
    B42,
    E53,
    H39,
    D52,
    k47,
    _32,
    v58,
    d73,
    u72,
    o71,
    ft4,
    N33
  ];
}
var Ae3 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      we3,
      ye4,
      Ft,
      {
        tag: 2,
        config: 23,
        theme: 24,
        placement: 0,
        audioInstance: 25,
        audioPlaying: 1,
        audioCurrentTime: 26,
        audioDuration: 27
      },
      fe6,
      [-1, -1]
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/TagPopover/ArrowRightIcon.js
function q31(i65) {
  let e48, h66, r66, g67, s60, n72, a62, w49, u72, d73, f80, _32, C52;
  return {
    c() {
      e48 = Mt("svg"), h66 = Mt("defs"), r66 = Mt("linearGradient"), g67 = Mt("stop"), s60 = Mt("stop"), a62 = Mt("linearGradient"), w49 = Mt("stop"), u72 = Mt("stop"), f80 = Mt("path"), te2(
        g67,
        "stop-color",
        /*color*/
        i65[1]
      ), te2(g67, "offset", "0%"), te2(
        s60,
        "stop-color",
        /*color*/
        i65[1]
      ), te2(s60, "stop-opacity", ".5"), te2(s60, "offset", "100%"), te2(r66, "id", n72 = "arrow-right-icon-gradient-" + /*color*/
      i65[1]), te2(r66, "x1", "96.2%"), te2(r66, "y1", "50%"), te2(r66, "x2", "0%"), te2(r66, "y2", "50%"), te2(
        w49,
        "stop-color",
        /*color*/
        i65[1]
      ), te2(w49, "offset", "0%"), te2(
        u72,
        "stop-color",
        /*color*/
        i65[1]
      ), te2(u72, "stop-opacity", "0"), te2(u72, "offset", "100%"), te2(a62, "id", d73 = "arrow-right-icon-stroke-" + /*color*/
      i65[1]), te2(a62, "x1", "50%"), te2(a62, "y1", "9.83%"), te2(a62, "x2", "41.99%"), te2(a62, "y2", "24.46%"), te2(f80, "d", "M4.84572153,2.14166669 C4.94036186,2.14170036 5.03490004,2.17870347 5.10676798,2.25203341 L9.39516942,6.66308361 C9.48635681,6.75687897 9.53195051,6.87843949 9.53195051,7 C9.53195051,7.12156051 9.48635681,7.24312103 9.39516942,7.33691639 L5.11673708,11.7390017 C5.02118573,11.813978 4.92122439,11.8514005 4.82705048,11.851434 C4.73517505,11.8514667 4.65029153,11.8150862 4.59276829,11.7576692 C4.51856427,11.6593496 4.48179951,11.5564146 4.48176638,11.4595899 C4.48173399,11.3649536 4.51747117,11.2773335 4.58937836,11.2035272 L7.74273899,7.43877755 C7.84906128,7.31184097 7.90222243,7.15592048 7.90222243,7 C7.90222243,6.84407952 7.84906128,6.68815903 7.74273449,6.56121708 L4.54804918,2.74803934 C4.65338339,2.20863952 4.74441906,2.14163065 4.84572153,2.14166669 Z"), te2(f80, "fill", _32 = `url(#arrow-right-icon-gradient-${/*color*/
      i65[1]})`), te2(f80, "fill-rule", "nonzero"), te2(f80, "stroke", C52 = `url(#arrow-right-icon-stroke-${/*color*/
      i65[1]})`), te2(f80, "stroke-width", ".2"), te2(e48, "xmlns", "http://www.w3.org/2000/svg"), te2(e48, "viewBox", "0 0 14 14"), te2(
        e48,
        "width",
        /*size*/
        i65[0]
      ), te2(
        e48,
        "height",
        /*size*/
        i65[0]
      ), ne2(
        e48,
        "opacity",
        /*opacity*/
        i65[2]
      );
    },
    m(t43, l63) {
      Nt(t43, e48, l63), pt(e48, h66), pt(h66, r66), pt(r66, g67), pt(r66, s60), pt(h66, a62), pt(a62, w49), pt(a62, u72), pt(e48, f80);
    },
    p(t43, [l63]) {
      l63 & /*color*/
      2 && te2(
        g67,
        "stop-color",
        /*color*/
        t43[1]
      ), l63 & /*color*/
      2 && te2(
        s60,
        "stop-color",
        /*color*/
        t43[1]
      ), l63 & /*color*/
      2 && n72 !== (n72 = "arrow-right-icon-gradient-" + /*color*/
      t43[1]) && te2(r66, "id", n72), l63 & /*color*/
      2 && te2(
        w49,
        "stop-color",
        /*color*/
        t43[1]
      ), l63 & /*color*/
      2 && te2(
        u72,
        "stop-color",
        /*color*/
        t43[1]
      ), l63 & /*color*/
      2 && d73 !== (d73 = "arrow-right-icon-stroke-" + /*color*/
      t43[1]) && te2(a62, "id", d73), l63 & /*color*/
      2 && _32 !== (_32 = `url(#arrow-right-icon-gradient-${/*color*/
      t43[1]})`) && te2(f80, "fill", _32), l63 & /*color*/
      2 && C52 !== (C52 = `url(#arrow-right-icon-stroke-${/*color*/
      t43[1]})`) && te2(f80, "stroke", C52), l63 & /*size*/
      1 && te2(
        e48,
        "width",
        /*size*/
        t43[0]
      ), l63 & /*size*/
      1 && te2(
        e48,
        "height",
        /*size*/
        t43[0]
      ), l63 & /*opacity*/
      4 && ne2(
        e48,
        "opacity",
        /*opacity*/
        t43[2]
      );
    },
    i: N4,
    o: N4,
    d(t43) {
      t43 && J4(e48);
    }
  };
}
function A48(i65, e48, h66) {
  let { size: r66 = "14" } = e48, { color: g67 = "#ffffff" } = e48, { opacity: s60 = 1 } = e48;
  return i65.$$set = (n72) => {
    "size" in n72 && h66(0, r66 = n72.size), "color" in n72 && h66(1, g67 = n72.color), "opacity" in n72 && h66(2, s60 = n72.opacity);
  }, [r66, g67, s60];
}
var I40 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, A48, q31, Ft, { size: 0, color: 1, opacity: 2 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/TagPopover/ShareIcon.js
function S39(i65) {
  let o71, p66, l63, h66, n72, r66, a62, d73, u72, _32, f80, g67, k47;
  return {
    c() {
      o71 = Mt("svg"), p66 = Mt("defs"), l63 = Mt("linearGradient"), h66 = Mt("stop"), n72 = Mt("stop"), a62 = Mt("linearGradient"), d73 = Mt("stop"), u72 = Mt("stop"), f80 = Mt("path"), te2(
        h66,
        "stop-color",
        /*color*/
        i65[1]
      ), te2(h66, "offset", "0%"), te2(
        n72,
        "stop-color",
        /*color*/
        i65[1]
      ), te2(n72, "stop-opacity", ".5"), te2(n72, "offset", "100%"), te2(l63, "id", r66 = "share-icon-gradient-" + /*color*/
      i65[1]), te2(l63, "x1", "41.65%"), te2(l63, "y1", "59.05%"), te2(l63, "x2", "66.13%"), te2(l63, "y2", "9.07%"), te2(
        d73,
        "stop-color",
        /*color*/
        i65[1]
      ), te2(d73, "offset", "0%"), te2(
        u72,
        "stop-color",
        /*color*/
        i65[1]
      ), te2(u72, "stop-opacity", "0"), te2(u72, "offset", "100%"), te2(a62, "id", _32 = "share-icon-stroke-" + /*color*/
      i65[1]), te2(a62, "x1", "55.68%"), te2(a62, "y1", "2.48%"), te2(a62, "x2", "60.83%"), te2(a62, "y2", "14.28%"), te2(f80, "d", "M12.4937515,2.60140991 L12.6834904,2.60248871 C13.307774,2.63121157 13.9222065,2.90874077 14.3642696,3.436433 C14.7794904,3.93278385 14.923342,4.60854408 14.8265514,5.24548738 C14.7279361,5.89144103 14.4428997,6.3527969 14.063774,6.65956953 C13.6079793,7.02837949 13.0189069,7.17403325 12.4632035,7.15562178 C11.7380729,7.13162078 11.0390809,7.42803145 10.5261758,7.9357119 C9.96083448,8.49643643 9.67596892,9.19792997 9.69443632,9.91942004 C9.66449732,10.8859455 9.96309104,11.5807243 10.4796578,12.092029 C11.0239965,12.6296813 11.7402488,12.9101676 12.4817091,12.8884813 C13.0940469,12.8705618 13.7481304,13.0495781 14.2150699,13.5117611 C14.6987029,13.9904677 14.9268415,14.6256711 14.8974895,15.2508921 C14.8684928,15.868544 14.5880857,16.4761837 14.055365,16.9134138 C13.5533941,17.3248246 12.8689122,17.4672624 12.2258037,17.3713572 C11.5727886,17.2736846 11.1063284,16.991503 10.7961882,16.6159844 C10.4239402,16.1652655 10.2768519,15.5827583 10.2954352,15.0332376 C10.3197006,14.3149783 10.0202124,13.6224897 9.50703789,13.1145427 C8.94671715,12.5587885 8.2455275,12.2800717 7.51547371,12.2927077 C7.23521908,12.3053648 6.95603622,12.2673623 6.69423123,12.1827116 C6.1605306,11.9588888 5.9529663,11.8380114 5.77703284,11.66387 C5.40155143,11.2922134 5.1829777,10.8272392 5.11950899,10.3459077 C5.05433663,9.85165608 5.15259721,9.34024891 5.41443015,8.89062791 C5.61688125,8.49864777 5.91421421,8.21950306 6.25529625,8.03627882 C6.64911257,7.8247265 7.1008248,7.74055154 7.53306889,7.75691992 L7.73219905,7.75624362 C8.39290266,7.7280909 9.01896921,7.44343917 9.49037385,6.97683639 C10.0339806,6.43762468 10.3173723,5.72806794 10.2954528,4.99382841 C10.2784266,4.38712951 10.4592448,3.74020534 10.9258673,3.27833603 C11.4093877,2.79921041 12.051472,2.57340998 12.6834904,2.60248871 Z"), te2(f80, "fill", g67 = `url(#share-icon-gradient-${/*color*/
      i65[1]})`), te2(f80, "fill-rule", "nonzero"), te2(f80, "stroke", k47 = `url(#share-icon-stroke-${/*color*/
      i65[1]})`), te2(f80, "stroke-width", ".2"), te2(o71, "xmlns", "http://www.w3.org/2000/svg"), te2(o71, "viewBox", "0 0 20 20"), te2(
        o71,
        "width",
        /*size*/
        i65[0]
      ), te2(
        o71,
        "height",
        /*size*/
        i65[0]
      ), ne2(
        o71,
        "opacity",
        /*opacity*/
        i65[2]
      );
    },
    m(t43, s60) {
      Nt(t43, o71, s60), pt(o71, p66), pt(p66, l63), pt(l63, h66), pt(l63, n72), pt(p66, a62), pt(a62, d73), pt(a62, u72), pt(o71, f80);
    },
    p(t43, [s60]) {
      s60 & /*color*/
      2 && te2(
        h66,
        "stop-color",
        /*color*/
        t43[1]
      ), s60 & /*color*/
      2 && te2(
        n72,
        "stop-color",
        /*color*/
        t43[1]
      ), s60 & /*color*/
      2 && r66 !== (r66 = "share-icon-gradient-" + /*color*/
      t43[1]) && te2(l63, "id", r66), s60 & /*color*/
      2 && te2(
        d73,
        "stop-color",
        /*color*/
        t43[1]
      ), s60 & /*color*/
      2 && te2(
        u72,
        "stop-color",
        /*color*/
        t43[1]
      ), s60 & /*color*/
      2 && _32 !== (_32 = "share-icon-stroke-" + /*color*/
      t43[1]) && te2(a62, "id", _32), s60 & /*color*/
      2 && g67 !== (g67 = `url(#share-icon-gradient-${/*color*/
      t43[1]})`) && te2(f80, "fill", g67), s60 & /*color*/
      2 && k47 !== (k47 = `url(#share-icon-stroke-${/*color*/
      t43[1]})`) && te2(f80, "stroke", k47), s60 & /*size*/
      1 && te2(
        o71,
        "width",
        /*size*/
        t43[0]
      ), s60 & /*size*/
      1 && te2(
        o71,
        "height",
        /*size*/
        t43[0]
      ), s60 & /*opacity*/
      4 && ne2(
        o71,
        "opacity",
        /*opacity*/
        t43[2]
      );
    },
    i: N4,
    o: N4,
    d(t43) {
      t43 && J4(o71);
    }
  };
}
function q32(i65, o71, p66) {
  let { size: l63 = "20" } = o71, { color: h66 = "#ffffff" } = o71, { opacity: n72 = 1 } = o71;
  return i65.$$set = (r66) => {
    "size" in r66 && p66(0, l63 = r66.size), "color" in r66 && p66(1, h66 = r66.color), "opacity" in r66 && p66(2, n72 = r66.opacity);
  }, [l63, h66, n72];
}
var I41 = class extends Ce {
  constructor(o71) {
    super(), Te(this, o71, q32, S39, Ft, { size: 0, color: 1, opacity: 2 });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/TagPopover/TagPopoverToolBar.js
function G26(n72) {
  Qt2(n72, "svelte-18owx9v", ".tag-popover-toolbar.svelte-18owx9v.svelte-18owx9v{display:flex;align-items:center;margin-top:0.75rem;padding-top:0;border-top:none}.tag-popover-toolbar.both-buttons.svelte-18owx9v.svelte-18owx9v{justify-content:space-between}.tag-popover-toolbar.single-button.svelte-18owx9v.svelte-18owx9v{justify-content:flex-end}.tag-popover-toolbar-dark.svelte-18owx9v .tag-popover-btn.svelte-18owx9v{color:#ffffff}.tag-popover-toolbar-light.svelte-18owx9v .tag-popover-btn.svelte-18owx9v{color:rgba(0, 0, 0, 0.85)}.tag-popover-btn.view-more.svelte-18owx9v.svelte-18owx9v{display:flex;align-items:center;justify-content:center;font-weight:500;font-size:0.875rem;letter-spacing:0;line-height:1.25rem}.tag-popover-btn.share.svelte-18owx9v.svelte-18owx9v{display:flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem}");
}
function M35(n72) {
  let t43, p66, r66, i65, o71 = (
    /*toolbar*/
    n72[0].showMore && S40(n72)
  ), e48 = (
    /*toolbar*/
    n72[0].showShare && T27(n72)
  );
  return {
    c() {
      t43 = K4("div"), o71 && o71.c(), p66 = Xt(), e48 && e48.c(), te2(t43, "class", r66 = "tag-popover-toolbar tag-popover-toolbar-" + /*theme*/
      n72[1] + " " + /*toolbar*/
      (n72[0].showMore && /*toolbar*/
      n72[0].showShare ? "both-buttons" : "single-button") + " svelte-18owx9v");
    },
    m(f80, l63) {
      Nt(f80, t43, l63), o71 && o71.m(t43, null), pt(t43, p66), e48 && e48.m(t43, null), i65 = true;
    },
    p(f80, l63) {
      f80[0].showMore ? o71 ? (o71.p(f80, l63), l63 & /*toolbar*/
      1 && ot(o71, 1)) : (o71 = S40(f80), o71.c(), ot(o71, 1), o71.m(t43, p66)) : o71 && (Lt(), $t(o71, 1, 1, () => {
        o71 = null;
      }), Ot()), /*toolbar*/
      f80[0].showShare ? e48 ? (e48.p(f80, l63), l63 & /*toolbar*/
      1 && ot(e48, 1)) : (e48 = T27(f80), e48.c(), ot(e48, 1), e48.m(t43, null)) : e48 && (Lt(), $t(e48, 1, 1, () => {
        e48 = null;
      }), Ot()), (!i65 || l63 & /*theme, toolbar*/
      3 && r66 !== (r66 = "tag-popover-toolbar tag-popover-toolbar-" + /*theme*/
      f80[1] + " " + /*toolbar*/
      (f80[0].showMore && /*toolbar*/
      f80[0].showShare ? "both-buttons" : "single-button") + " svelte-18owx9v")) && te2(t43, "class", r66);
    },
    i(f80) {
      i65 || (ot(o71), ot(e48), i65 = true);
    },
    o(f80) {
      $t(o71), $t(e48), i65 = false;
    },
    d(f80) {
      f80 && J4(t43), o71 && o71.d(), e48 && e48.d();
    }
  };
}
function S40(n72) {
  let t43, p66, r66, i65, o71, e48, f80;
  return i65 = new I40({
    props: {
      size: "14",
      color: (
        /*theme*/
        n72[1] === "light" ? "#000000" : "#ffffff"
      ),
      opacity: (
        /*theme*/
        n72[1] === "light" ? 0.8 : 1
      )
    }
  }), {
    c() {
      t43 = K4("div"), p66 = gt(
        /*viewMoreText*/
        n72[2]
      ), r66 = Xt(), Ae(i65.$$.fragment), te2(t43, "class", "tag-popover-btn view-more svelte-18owx9v");
    },
    m(l63, c85) {
      Nt(l63, t43, c85), pt(t43, p66), pt(t43, r66), Dt(i65, t43, null), o71 = true, e48 || (f80 = lt(
        t43,
        "click",
        /*handleViewMore*/
        n72[3]
      ), e48 = true);
    },
    p(l63, c85) {
      (!o71 || c85 & /*viewMoreText*/
      4) && ee2(
        p66,
        /*viewMoreText*/
        l63[2]
      );
      const v58 = {};
      c85 & /*theme*/
      2 && (v58.color = /*theme*/
      l63[1] === "light" ? "#000000" : "#ffffff"), c85 & /*theme*/
      2 && (v58.opacity = /*theme*/
      l63[1] === "light" ? 0.8 : 1), i65.$set(v58);
    },
    i(l63) {
      o71 || (ot(i65.$$.fragment, l63), o71 = true);
    },
    o(l63) {
      $t(i65.$$.fragment, l63), o71 = false;
    },
    d(l63) {
      l63 && J4(t43), Rt(i65), e48 = false, f80();
    }
  };
}
function T27(n72) {
  let t43, p66, r66, i65, o71;
  return p66 = new I41({
    props: {
      size: "20",
      color: (
        /*theme*/
        n72[1] === "light" ? "#000000" : "#ffffff"
      ),
      opacity: (
        /*theme*/
        n72[1] === "light" ? 0.8 : 1
      )
    }
  }), {
    c() {
      t43 = K4("div"), Ae(p66.$$.fragment), te2(t43, "class", "tag-popover-btn share svelte-18owx9v");
    },
    m(e48, f80) {
      Nt(e48, t43, f80), Dt(p66, t43, null), r66 = true, i65 || (o71 = lt(
        t43,
        "click",
        /*handleShare*/
        n72[4]
      ), i65 = true);
    },
    p(e48, f80) {
      const l63 = {};
      f80 & /*theme*/
      2 && (l63.color = /*theme*/
      e48[1] === "light" ? "#000000" : "#ffffff"), f80 & /*theme*/
      2 && (l63.opacity = /*theme*/
      e48[1] === "light" ? 0.8 : 1), p66.$set(l63);
    },
    i(e48) {
      r66 || (ot(p66.$$.fragment, e48), r66 = true);
    },
    o(e48) {
      $t(p66.$$.fragment, e48), r66 = false;
    },
    d(e48) {
      e48 && J4(t43), Rt(p66), i65 = false, o71();
    }
  };
}
function H28(n72) {
  let t43, p66, r66 = (
    /*toolbar*/
    (n72[0].showMore || /*toolbar*/
    n72[0].showShare) && M35(n72)
  );
  return {
    c() {
      r66 && r66.c(), t43 = Yt();
    },
    m(i65, o71) {
      r66 && r66.m(i65, o71), Nt(i65, t43, o71), p66 = true;
    },
    p(i65, [o71]) {
      i65[0].showMore || /*toolbar*/
      i65[0].showShare ? r66 ? (r66.p(i65, o71), o71 & /*toolbar*/
      1 && ot(r66, 1)) : (r66 = M35(i65), r66.c(), ot(r66, 1), r66.m(t43.parentNode, t43)) : r66 && (Lt(), $t(r66, 1, 1, () => {
        r66 = null;
      }), Ot());
    },
    i(i65) {
      p66 || (ot(r66), p66 = true);
    },
    o(i65) {
      $t(r66), p66 = false;
    },
    d(i65) {
      r66 && r66.d(i65), i65 && J4(t43);
    }
  };
}
function J30(n72, t43, p66) {
  let r66;
  const i65 = de("hooks");
  fe2();
  let { tag: o71 } = t43, { toolbar: e48 = { showMore: true, showShare: true } } = t43, { theme: f80 = "dark" } = t43, { closePopover: l63 = void 0 } = t43;
  function c85(a62) {
    a62.stopPropagation(), typeof l63 == "function" && l63(), i65.emit("click", { event: a62, target: "TagPopoverViewMore", tag: o71 });
  }
  function v58(a62) {
    a62.stopPropagation(), typeof l63 == "function" && l63(), i65.emit("click", { event: a62, target: "TagPopoverShare", tag: o71 });
  }
  return n72.$$set = (a62) => {
    "tag" in a62 && p66(5, o71 = a62.tag), "toolbar" in a62 && p66(0, e48 = a62.toolbar), "theme" in a62 && p66(1, f80 = a62.theme), "closePopover" in a62 && p66(6, l63 = a62.closePopover);
  }, n72.$$.update = () => {
    n72.$$.dirty & /*tag*/
    32 && p66(2, r66 = (() => i7(o71.data.highlightText) && o71.data.highlightText.trim() !== "" ? o71.data.highlightText : i7(o71.config.popoverConfig.viewMoreText) && o71.config.popoverConfig.viewMoreText.trim() !== "" ? o71.config.popoverConfig.viewMoreText : "查看更多")());
  }, [e48, f80, r66, c85, v58, o71, l63];
}
var it5 = class extends Ce {
  constructor(t43) {
    super(), Te(
      this,
      t43,
      J30,
      H28,
      Ft,
      {
        tag: 5,
        toolbar: 0,
        theme: 1,
        closePopover: 6
      },
      G26
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/TagPopover/PopoverContent.js
function k35(r66) {
  let e48, m66;
  return e48 = new it5({
    props: {
      toolbar: {
        showMore: (
          /*toolbar*/
          r66[7].showMore === void 0 ? true : (
            /*toolbar*/
            r66[7].showMore
          )
        ),
        showShare: (
          /*toolbar*/
          r66[7].showShare === void 0 ? true : (
            /*toolbar*/
            r66[7].showShare
          )
        )
      },
      theme: (
        /*effectiveTheme*/
        r66[2]
      ),
      tag: (
        /*tag*/
        r66[4]
      ),
      closePopover: (
        /*closePopover*/
        r66[8]
      )
    }
  }), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(t43, a62) {
      Dt(e48, t43, a62), m66 = true;
    },
    p(t43, a62) {
      const o71 = {};
      a62 & /*toolbar*/
      128 && (o71.toolbar = {
        showMore: (
          /*toolbar*/
          t43[7].showMore === void 0 ? true : (
            /*toolbar*/
            t43[7].showMore
          )
        ),
        showShare: (
          /*toolbar*/
          t43[7].showShare === void 0 ? true : (
            /*toolbar*/
            t43[7].showShare
          )
        )
      }), a62 & /*effectiveTheme*/
      4 && (o71.theme = /*effectiveTheme*/
      t43[2]), a62 & /*tag*/
      16 && (o71.tag = /*tag*/
      t43[4]), a62 & /*closePopover*/
      256 && (o71.closePopover = /*closePopover*/
      t43[8]), e48.$set(o71);
    },
    i(t43) {
      m66 || (ot(e48.$$.fragment, t43), m66 = true);
    },
    o(t43) {
      $t(e48.$$.fragment, t43), m66 = false;
    },
    d(t43) {
      Rt(e48, t43);
    }
  };
}
function E38(r66) {
  let e48, m66, t43, a62;
  return e48 = new q29({
    props: {
      show: (
        /*showArrow*/
        r66[0]
      ),
      direction: (
        /*arrowDirection*/
        r66[1]
      ),
      theme: (
        /*effectiveTheme*/
        r66[2]
      )
    }
  }), t43 = new Ae3({
    props: {
      placement: (
        /*adjustedPlacement*/
        r66[3]
      ),
      tag: (
        /*tag*/
        r66[4]
      ),
      config: (
        /*config*/
        r66[5]
      ),
      theme: (
        /*theme*/
        r66[6]
      ),
      audioInstance: (
        /*audioInstance*/
        r66[9]
      ),
      audioPlaying: (
        /*audioPlaying*/
        r66[10]
      ),
      audioCurrentTime: (
        /*audioCurrentTime*/
        r66[11]
      ),
      audioDuration: (
        /*audioDuration*/
        r66[12]
      ),
      $$slots: { toolbar: [k35] },
      $$scope: { ctx: r66 }
    }
  }), t43.$on(
    "resize",
    /*resize_handler*/
    r66[13]
  ), {
    c() {
      Ae(e48.$$.fragment), m66 = Xt(), Ae(t43.$$.fragment);
    },
    m(o71, n72) {
      Dt(e48, o71, n72), Nt(o71, m66, n72), Dt(t43, o71, n72), a62 = true;
    },
    p(o71, [n72]) {
      const f80 = {};
      n72 & /*showArrow*/
      1 && (f80.show = /*showArrow*/
      o71[0]), n72 & /*arrowDirection*/
      2 && (f80.direction = /*arrowDirection*/
      o71[1]), n72 & /*effectiveTheme*/
      4 && (f80.theme = /*effectiveTheme*/
      o71[2]), e48.$set(f80);
      const u72 = {};
      n72 & /*adjustedPlacement*/
      8 && (u72.placement = /*adjustedPlacement*/
      o71[3]), n72 & /*tag*/
      16 && (u72.tag = /*tag*/
      o71[4]), n72 & /*config*/
      32 && (u72.config = /*config*/
      o71[5]), n72 & /*theme*/
      64 && (u72.theme = /*theme*/
      o71[6]), n72 & /*audioInstance*/
      512 && (u72.audioInstance = /*audioInstance*/
      o71[9]), n72 & /*audioPlaying*/
      1024 && (u72.audioPlaying = /*audioPlaying*/
      o71[10]), n72 & /*audioCurrentTime*/
      2048 && (u72.audioCurrentTime = /*audioCurrentTime*/
      o71[11]), n72 & /*audioDuration*/
      4096 && (u72.audioDuration = /*audioDuration*/
      o71[12]), n72 & /*$$scope, toolbar, effectiveTheme, tag, closePopover*/
      16788 && (u72.$$scope = { dirty: n72, ctx: o71 }), t43.$set(u72);
    },
    i(o71) {
      a62 || (ot(e48.$$.fragment, o71), ot(t43.$$.fragment, o71), a62 = true);
    },
    o(o71) {
      $t(e48.$$.fragment, o71), $t(t43.$$.fragment, o71), a62 = false;
    },
    d(o71) {
      Rt(e48, o71), o71 && J4(m66), Rt(t43, o71);
    }
  };
}
function F33(r66, e48, m66) {
  let { showArrow: t43 } = e48, { arrowDirection: a62 } = e48, { effectiveTheme: o71 } = e48, { adjustedPlacement: n72 } = e48, { tag: f80 } = e48, { config: u72 } = e48, { theme: w49 } = e48, { toolbar: c85 } = e48, { closePopover: d73 } = e48, { audioInstance: P55 = null } = e48, { audioPlaying: T38 = false } = e48, { audioCurrentTime: _32 = 0 } = e48, { audioDuration: b55 = 0 } = e48;
  function D52(i65) {
    he.call(this, r66, i65);
  }
  return r66.$$set = (i65) => {
    "showArrow" in i65 && m66(0, t43 = i65.showArrow), "arrowDirection" in i65 && m66(1, a62 = i65.arrowDirection), "effectiveTheme" in i65 && m66(2, o71 = i65.effectiveTheme), "adjustedPlacement" in i65 && m66(3, n72 = i65.adjustedPlacement), "tag" in i65 && m66(4, f80 = i65.tag), "config" in i65 && m66(5, u72 = i65.config), "theme" in i65 && m66(6, w49 = i65.theme), "toolbar" in i65 && m66(7, c85 = i65.toolbar), "closePopover" in i65 && m66(8, d73 = i65.closePopover), "audioInstance" in i65 && m66(9, P55 = i65.audioInstance), "audioPlaying" in i65 && m66(10, T38 = i65.audioPlaying), "audioCurrentTime" in i65 && m66(11, _32 = i65.audioCurrentTime), "audioDuration" in i65 && m66(12, b55 = i65.audioDuration);
  }, [
    t43,
    a62,
    o71,
    n72,
    f80,
    u72,
    w49,
    c85,
    d73,
    P55,
    T38,
    _32,
    b55,
    D52
  ];
}
var fe7 = class extends Ce {
  constructor(e48) {
    super(), Te(this, e48, F33, E38, Ft, {
      showArrow: 0,
      arrowDirection: 1,
      effectiveTheme: 2,
      adjustedPlacement: 3,
      tag: 4,
      config: 5,
      theme: 6,
      toolbar: 7,
      closePopover: 8,
      audioInstance: 9,
      audioPlaying: 10,
      audioCurrentTime: 11,
      audioDuration: 12
    });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/Common/TagPopover/index.js
function Ht3(t43) {
  Qt2(t43, "svelte-11cjg3j", '@charset "UTF-8";.tag-popover.svelte-11cjg3j{position:absolute;z-index:1000010;pointer-events:auto;width:auto;height:auto;padding:0;margin:0;visibility:visible;opacity:1}.tag-popover-content.svelte-11cjg3j{cursor:pointer;pointer-events:auto}.tag-popover-content.audio-tag-popover.svelte-11cjg3j{cursor:default}');
}
function it6(t43) {
  let i65, o71, r66, n72, f80, w49, h66, _32, j37;
  return r66 = new fe7({
    props: {
      showArrow: (
        /*showArrow*/
        t43[13]
      ),
      arrowDirection: (
        /*arrowDirection*/
        t43[12]
      ),
      effectiveTheme: (
        /*effectiveTheme*/
        t43[18]
      ),
      adjustedPlacement: (
        /*adjustedPlacement*/
        t43[8]
      ),
      tag: (
        /*tag*/
        t43[0]
      ),
      config: (
        /*config*/
        t43[1]
      ),
      theme: (
        /*theme*/
        t43[2]
      ),
      toolbar: (
        /*toolbar*/
        t43[16]
      ),
      audioInstance: (
        /*audioInstance*/
        t43[4]
      ),
      audioPlaying: (
        /*audioPlaying*/
        t43[5]
      ),
      audioCurrentTime: (
        /*audioCurrentTime*/
        t43[6]
      ),
      audioDuration: (
        /*audioDuration*/
        t43[7]
      ),
      closePopover: (
        /*closePopoverInternal*/
        t43[24]
      )
    }
  }), r66.$on(
    "viewMore",
    /*handleViewMore*/
    t43[20]
  ), r66.$on(
    "share",
    /*handleShare*/
    t43[21]
  ), r66.$on(
    "resize",
    /*handleContentResize*/
    t43[22]
  ), {
    c() {
      i65 = K4("div"), o71 = K4("div"), Ae(r66.$$.fragment), te2(o71, "class", "tag-popover-content svelte-11cjg3j"), re2(
        o71,
        "audio-tag-popover",
        /*isAudioTag*/
        t43[11]
      ), te2(i65, "class", f80 = "tag-popover tag-popover-" + /*effectiveTheme*/
      t43[18] + " tag-popover-" + /*adjustedPlacement*/
      t43[8] + " svelte-11cjg3j"), te2(i65, "data-tag-id", w49 = /*tag*/
      t43[0].id), ne2(
        i65,
        "z-index",
        /*zIndex*/
        t43[17]
      ), ne2(
        i65,
        "left",
        /*finalPosition*/
        t43[14].x + "px"
      ), ne2(
        i65,
        "top",
        /*finalPosition*/
        t43[14].y + "px"
      );
    },
    m(d73, l63) {
      Nt(d73, i65, l63), pt(i65, o71), Dt(r66, o71, null), t43[35](o71), t43[36](i65), h66 = true, _32 || (j37 = [
        lt(
          o71,
          "mouseenter",
          /*mouseenter_handler*/
          t43[33]
        ),
        lt(
          o71,
          "mouseleave",
          /*mouseleave_handler*/
          t43[34]
        ),
        lt(
          o71,
          "click",
          /*handleClick*/
          t43[23]
        )
      ], _32 = true);
    },
    p(d73, l63) {
      t43 = d73;
      const p66 = {};
      l63[0] & /*showArrow*/
      8192 && (p66.showArrow = /*showArrow*/
      t43[13]), l63[0] & /*arrowDirection*/
      4096 && (p66.arrowDirection = /*arrowDirection*/
      t43[12]), l63[0] & /*effectiveTheme*/
      262144 && (p66.effectiveTheme = /*effectiveTheme*/
      t43[18]), l63[0] & /*adjustedPlacement*/
      256 && (p66.adjustedPlacement = /*adjustedPlacement*/
      t43[8]), l63[0] & /*tag*/
      1 && (p66.tag = /*tag*/
      t43[0]), l63[0] & /*config*/
      2 && (p66.config = /*config*/
      t43[1]), l63[0] & /*theme*/
      4 && (p66.theme = /*theme*/
      t43[2]), l63[0] & /*toolbar*/
      65536 && (p66.toolbar = /*toolbar*/
      t43[16]), l63[0] & /*audioInstance*/
      16 && (p66.audioInstance = /*audioInstance*/
      t43[4]), l63[0] & /*audioPlaying*/
      32 && (p66.audioPlaying = /*audioPlaying*/
      t43[5]), l63[0] & /*audioCurrentTime*/
      64 && (p66.audioCurrentTime = /*audioCurrentTime*/
      t43[6]), l63[0] & /*audioDuration*/
      128 && (p66.audioDuration = /*audioDuration*/
      t43[7]), r66.$set(p66), (!h66 || l63[0] & /*isAudioTag*/
      2048) && re2(
        o71,
        "audio-tag-popover",
        /*isAudioTag*/
        t43[11]
      ), (!h66 || l63[0] & /*effectiveTheme, adjustedPlacement*/
      262400 && f80 !== (f80 = "tag-popover tag-popover-" + /*effectiveTheme*/
      t43[18] + " tag-popover-" + /*adjustedPlacement*/
      t43[8] + " svelte-11cjg3j")) && te2(i65, "class", f80), (!h66 || l63[0] & /*tag*/
      1 && w49 !== (w49 = /*tag*/
      t43[0].id)) && te2(i65, "data-tag-id", w49), (!h66 || l63[0] & /*zIndex*/
      131072) && ne2(
        i65,
        "z-index",
        /*zIndex*/
        t43[17]
      ), (!h66 || l63[0] & /*finalPosition*/
      16384) && ne2(
        i65,
        "left",
        /*finalPosition*/
        t43[14].x + "px"
      ), (!h66 || l63[0] & /*finalPosition*/
      16384) && ne2(
        i65,
        "top",
        /*finalPosition*/
        t43[14].y + "px"
      );
    },
    i(d73) {
      h66 || (ot(r66.$$.fragment, d73), z2(() => {
        h66 && (n72 || (n72 = ye(
          o71,
          /*fadeAndFly*/
          t43[19],
          {
            duration: (
              /*transitionDuration*/
              t43[15]
            ),
            easing: o18,
            y: (
              /*arrowDirection*/
              t43[12] === "top" ? -8 : (
                /*arrowDirection*/
                t43[12] === "bottom" ? 8 : 0
              )
            ),
            x: (
              /*arrowDirection*/
              t43[12] === "left" ? -8 : (
                /*arrowDirection*/
                t43[12] === "right" ? 8 : 0
              )
            )
          },
          true
        )), n72.run(1));
      }), h66 = true);
    },
    o(d73) {
      $t(r66.$$.fragment, d73), n72 || (n72 = ye(
        o71,
        /*fadeAndFly*/
        t43[19],
        {
          duration: (
            /*transitionDuration*/
            t43[15]
          ),
          easing: o18,
          y: (
            /*arrowDirection*/
            t43[12] === "top" ? -8 : (
              /*arrowDirection*/
              t43[12] === "bottom" ? 8 : 0
            )
          ),
          x: (
            /*arrowDirection*/
            t43[12] === "left" ? -8 : (
              /*arrowDirection*/
              t43[12] === "right" ? 8 : 0
            )
          )
        },
        false
      )), n72.run(0), h66 = false;
    },
    d(d73) {
      d73 && J4(i65), Rt(r66), t43[35](null), d73 && n72 && n72.end(), t43[36](null), _32 = false, M8(j37);
    }
  };
}
function Wt3(t43) {
  let i65, o71, r66 = (
    /*visible*/
    t43[3] && /*finalPosition*/
    t43[14] && it6(t43)
  );
  return {
    c() {
      r66 && r66.c(), i65 = Yt();
    },
    m(n72, f80) {
      r66 && r66.m(n72, f80), Nt(n72, i65, f80), o71 = true;
    },
    p(n72, f80) {
      n72[3] && /*finalPosition*/
      n72[14] ? r66 ? (r66.p(n72, f80), f80[0] & /*visible, finalPosition*/
      16392 && ot(r66, 1)) : (r66 = it6(n72), r66.c(), ot(r66, 1), r66.m(i65.parentNode, i65)) : r66 && (Lt(), $t(r66, 1, 1, () => {
        r66 = null;
      }), Ot());
    },
    i(n72) {
      o71 || (ot(r66), o71 = true);
    },
    o(n72) {
      $t(r66), o71 = false;
    },
    d(n72) {
      r66 && r66.d(n72), n72 && J4(i65);
    }
  };
}
function Ft2(t43, i65, o71) {
  let r66, n72, f80, w49, h66, _32, j37, d73, l63, p66;
  const k47 = de("hooks");
  let { tag: u72 } = i65, { config: m66 = {} } = i65, { triggerElement: y51 } = i65, { wrapperElement: s60 = document.body } = i65, { popoverContainer: D52 = null } = i65, { theme: S52 = void 0 } = i65, { visible: J33 = true } = i65, { closePopover: A62 = void 0 } = i65, { audioInstance: K32 = null } = i65, { audioPlaying: L40 = false } = i65, { audioCurrentTime: Q29 = 0 } = i65, { audioDuration: X24 = 0 } = i65;
  const at6 = fe2();
  let W25, v58 = { width: 0, height: 0 }, F45 = null, b55 = n72;
  function lt5(e48, { duration: a62 = 400, easing: E53 = o18, x: O40 = 0, y: U33 = 0 }) {
    return {
      duration: a62,
      css: (I49, c85) => `
          opacity: ${I49};
          transform: translate(${c85 * O40}px, ${c85 * U33}px);
        `
    };
  }
  const z28 = () => {
    if (!u72.screenPosition || !y51 || !s60)
      return n72;
    const e48 = (m66 == null ? void 0 : m66.autoPlacementBaseSpace) || {
      top: 0.2,
      // 顶部区域占比20%
      bottom: 0.2,
      // 底部区域占比20%
      right: 0.15
      // 右侧区域占比15%
    }, a62 = s60.clientWidth, E53 = s60.clientHeight, O40 = E53 * e48.top, U33 = E53 * (1 - e48.bottom), I49 = a62 * (1 - e48.right), c85 = u72.screenPosition.leftPx, P55 = u72.screenPosition.topPx, C52 = v58.width || 280, N33 = v58.height || 200;
    return P55 <= O40 ? c85 <= I49 ? c85 + C52 <= a62 && P55 + N33 <= E53 ? "right-top" : "bottom-left" : c85 - C52 >= 0 && P55 + N33 <= E53 ? "left-top" : "bottom-right" : P55 >= U33 ? c85 <= I49 ? c85 + C52 <= a62 && P55 - N33 >= 0 ? "right-bottom" : "top-left" : c85 - C52 >= 0 && P55 - N33 >= 0 ? "left-bottom" : "top-right" : c85 <= I49 ? c85 + C52 <= a62 ? "right-top" : "left-top" : c85 - C52 >= 0 ? "left-top" : "right-top";
  }, mt3 = (e48, a62) => {
    switch (e48) {
      case "top":
      case "top-left":
      case "top-right":
        return {
          x: a62.left + a62.width / 2,
          y: a62.top
        };
      case "bottom":
      case "bottom-left":
      case "bottom-right":
        return {
          x: a62.left + a62.width / 2,
          y: a62.top + a62.height
        };
      case "left":
      case "left-top":
      case "left-bottom":
        return {
          x: a62.left,
          y: a62.top + a62.height / 2
        };
      case "right":
      case "right-top":
      case "right-bottom":
        return {
          x: a62.left + a62.width,
          y: a62.top + a62.height / 2
        };
      default:
        return {
          x: a62.left + a62.width / 2,
          y: a62.top
        };
    }
  }, pt3 = (e48) => {
    B42(), k47 && k47.emit("click", {
      event: e48.detail.event,
      target: "TagPopoverViewMore",
      tag: u72
    });
  }, ut6 = (e48) => {
    B42(), k47 && k47.emit("click", {
      event: e48.detail.event,
      target: "TagPopoverShare",
      tag: u72
    });
  }, ft4 = (e48) => {
    o71(29, v58 = e48.detail), v58.width > 0 && v58.height > 0 && o71(8, b55 = z28());
  }, st6 = (e48) => {
    p66 || B42(), e48.stopPropagation(), k47.emit("click", { event: e48, target: "TagPopoverContent", tag: u72 });
  };
  let g67 = null, Y23 = false;
  function Z18() {
    D52 && g67 && g67.parentNode !== D52 && D52.appendChild(g67);
  }
  ce(() => {
    (!s60 || s60 === document.body) && console.warn("TagPopover 组件警告：禁止使用 document.body 作为 wrapperElement，请传入自定义容器元素。"), Y23 = true, Z18(), s60 && s60 !== document.body && o71(25, s60.style.overflow = "hidden", s60);
  }), ue2(() => {
    Y23 && Z18();
  }), le(() => {
    g67 && g67.parentNode && g67.parentNode.removeChild(g67), s60 && s60 !== document.body && o71(25, s60.style.overflow = "", s60);
  });
  function B42() {
    typeof A62 == "function" && A62(), at6("close");
  }
  function ht4(e48) {
    he.call(this, t43, e48);
  }
  function dt4(e48) {
    he.call(this, t43, e48);
  }
  function ct5(e48) {
    ft[e48 ? "unshift" : "push"](() => {
      W25 = e48, o71(9, W25);
    });
  }
  function gt6(e48) {
    ft[e48 ? "unshift" : "push"](() => {
      g67 = e48, o71(10, g67);
    });
  }
  return t43.$$set = (e48) => {
    "tag" in e48 && o71(0, u72 = e48.tag), "config" in e48 && o71(1, m66 = e48.config), "triggerElement" in e48 && o71(26, y51 = e48.triggerElement), "wrapperElement" in e48 && o71(25, s60 = e48.wrapperElement), "popoverContainer" in e48 && o71(27, D52 = e48.popoverContainer), "theme" in e48 && o71(2, S52 = e48.theme), "visible" in e48 && o71(3, J33 = e48.visible), "closePopover" in e48 && o71(28, A62 = e48.closePopover), "audioInstance" in e48 && o71(4, K32 = e48.audioInstance), "audioPlaying" in e48 && o71(5, L40 = e48.audioPlaying), "audioCurrentTime" in e48 && o71(6, Q29 = e48.audioCurrentTime), "audioDuration" in e48 && o71(7, X24 = e48.audioDuration);
  }, t43.$$.update = () => {
    if (t43.$$.dirty[0] & /*theme, tag*/
    5 && o71(18, r66 = (() => i7(S52) ? S52 : i7(u72.data.theme) && ["light", "dark"].includes(u72.data.theme) ? u72.data.theme : u72.contentType === "Marketing" ? "light" : "dark")()), t43.$$.dirty[0] & /*config*/
    2 && o71(32, n72 = (m66 == null ? void 0 : m66.placement) || "right-top"), t43.$$.dirty[0] & /*config*/
    2 && o71(16, h66 = (() => typeof (m66 == null ? void 0 : m66.toolbar) == "boolean" ? m66.toolbar ? { showMore: true, showShare: true } : { showMore: false, showShare: false } : (m66 == null ? void 0 : m66.toolbar) || { showMore: true, showShare: true })()), t43.$$.dirty[1] & /*placement*/
    2 && (n72 === "auto" ? o71(8, b55 = z28()) : o71(8, b55 = n72)), t43.$$.dirty[0] & /*config*/
    2 && o71(15, _32 = (m66 == null ? void 0 : m66.transitionDuration) || 350), t43.$$.dirty[0] & /*tag, triggerElement*/
    67108865 && u72.screenPosition && y51 && o71(8, b55 = z28()), t43.$$.dirty[0] & /*popoverContentElementRect*/
    536870912 && v58.width > 0 && v58.height > 0 && o71(8, b55 = z28()), t43.$$.dirty[0] & /*tag, adjustedPlacement, triggerElement*/
    67109121 && u72.screenPosition && b55 && y51) {
      const e48 = y51.getBoundingClientRect();
      e48.width > 0 && e48.height > 0 && o71(30, F45 = mt3(b55, e48));
    }
    t43.$$.dirty[0] & /*anchorPosition*/
    1073741824 && o71(14, j37 = F45), t43.$$.dirty[1] & /*arrow*/
    1 && o71(13, d73 = typeof f80 == "boolean" ? f80 : true), t43.$$.dirty[0] & /*adjustedPlacement*/
    256 && o71(12, l63 = (() => {
      switch (b55) {
        case "top":
        case "top-left":
        case "top-right":
          return "bottom";
        case "bottom":
        case "bottom-left":
        case "bottom-right":
          return "top";
        case "left":
        case "left-top":
        case "left-bottom":
          return "right";
        case "right":
        case "right-top":
        case "right-bottom":
          return "left";
        default:
          return "bottom";
      }
    })()), t43.$$.dirty[0] & /*tag*/
    1 && o71(11, p66 = u72.contentType === "Audio" && u72.data.appearance === "plane");
  }, o71(31, f80 = true), o71(17, w49 = 1060), [
    u72,
    m66,
    S52,
    J33,
    K32,
    L40,
    Q29,
    X24,
    b55,
    W25,
    g67,
    p66,
    l63,
    d73,
    j37,
    _32,
    h66,
    w49,
    r66,
    lt5,
    pt3,
    ut6,
    ft4,
    st6,
    B42,
    s60,
    y51,
    D52,
    A62,
    v58,
    F45,
    f80,
    n72,
    ht4,
    dt4,
    ct5,
    gt6
  ];
}
var so = class extends Ce {
  constructor(i65) {
    super(), Te(
      this,
      i65,
      Ft2,
      Wt3,
      Ft,
      {
        tag: 0,
        config: 1,
        triggerElement: 26,
        wrapperElement: 25,
        popoverContainer: 27,
        theme: 2,
        visible: 3,
        closePopover: 28,
        audioInstance: 4,
        audioPlaying: 5,
        audioCurrentTime: 6,
        audioDuration: 7
      },
      Ht3,
      [-1, -1]
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/TagItem.js
function Le2(t43) {
  Qt2(t43, "svelte-2g2g8a", ".tag.svelte-2g2g8a{position:absolute;width:0rem;height:0rem;overflow:visible;pointer-events:auto;will-change:opacity;transition:opacity 0.2s linear}.tag.enableZIndex.svelte-2g2g8a{position:absolute}.tag.hide.svelte-2g2g8a{opacity:0;pointer-events:none}.tag.hide.svelte-2g2g8a *{pointer-events:none !important}.tag.unClickable.svelte-2g2g8a{pointer-events:none !important}.tag.unClickable.svelte-2g2g8a *{pointer-events:none !important}");
}
function re5(t43) {
  let e48, i65, a62, m66, r66, n72, u72, l63, g67, d73;
  const L40 = [ze4, Ue], v58 = [];
  function U33(f80, s60) {
    return (
      /*havePoint*/
      f80[10] ? 0 : 1
    );
  }
  i65 = U33(t43), a62 = v58[i65] = L40[i65](t43);
  const o71 = [Re3, Ae4], C52 = [];
  function S52(f80, s60) {
    return (
      /*haveContent*/
      f80[25] ? 0 : 1
    );
  }
  return r66 = S52(t43), n72 = C52[r66] = o71[r66](t43), {
    c() {
      e48 = K4("div"), a62.c(), m66 = Xt(), n72.c(), te2(e48, "class", "tag svelte-2g2g8a"), te2(
        e48,
        "data-tag-id",
        /*id*/
        t43[23]
      ), te2(
        e48,
        "data-tag-unfolded",
        /*unfolded*/
        t43[8]
      ), te2(e48, "data-content-type", u72 = /*tag*/
      t43[0].contentType), te2(e48, "data-popover-enabled", l63 = /*tag*/
      t43[0].isPopoverConfigEnabled()), te2(e48, "id", g67 = `tag-${/*id*/
      t43[23]}`), re2(
        e48,
        "unClickable",
        /*tag*/
        t43[0].config.clickable === false
      ), re2(
        e48,
        "hide",
        /*hide*/
        t43[21]
      ), re2(
        e48,
        "enableZIndex",
        /*zIndex*/
        t43[18]
      ), ne2(
        e48,
        "z-index",
        /*zIndex*/
        t43[18]
      ), ne2(e48, "transform", `translate3d(${/*left*/
      t43[20]}, ${/*top*/
      t43[19]}, 0) scale(${/*screenPosition*/
      t43[9].scale})`);
    },
    m(f80, s60) {
      Nt(f80, e48, s60), v58[i65].m(e48, null), pt(e48, m66), C52[r66].m(e48, null), t43[36](e48), d73 = true;
    },
    p(f80, s60) {
      let w49 = i65;
      i65 = U33(f80), i65 === w49 ? v58[i65].p(f80, s60) : (Lt(), $t(v58[w49], 1, 1, () => {
        v58[w49] = null;
      }), Ot(), a62 = v58[i65], a62 ? a62.p(f80, s60) : (a62 = v58[i65] = L40[i65](f80), a62.c()), ot(a62, 1), a62.m(e48, m66));
      let D52 = r66;
      r66 = S52(f80), r66 === D52 ? C52[r66].p(f80, s60) : (Lt(), $t(C52[D52], 1, 1, () => {
        C52[D52] = null;
      }), Ot(), n72 = C52[r66], n72 ? n72.p(f80, s60) : (n72 = C52[r66] = o71[r66](f80), n72.c()), ot(n72, 1), n72.m(e48, null)), (!d73 || s60[0] & /*id*/
      8388608) && te2(
        e48,
        "data-tag-id",
        /*id*/
        f80[23]
      ), (!d73 || s60[0] & /*unfolded*/
      256) && te2(
        e48,
        "data-tag-unfolded",
        /*unfolded*/
        f80[8]
      ), (!d73 || s60[0] & /*tag*/
      1 && u72 !== (u72 = /*tag*/
      f80[0].contentType)) && te2(e48, "data-content-type", u72), (!d73 || s60[0] & /*tag*/
      1 && l63 !== (l63 = /*tag*/
      f80[0].isPopoverConfigEnabled())) && te2(e48, "data-popover-enabled", l63), (!d73 || s60[0] & /*id*/
      8388608 && g67 !== (g67 = `tag-${/*id*/
      f80[23]}`)) && te2(e48, "id", g67), (!d73 || s60[0] & /*tag*/
      1) && re2(
        e48,
        "unClickable",
        /*tag*/
        f80[0].config.clickable === false
      ), (!d73 || s60[0] & /*hide*/
      2097152) && re2(
        e48,
        "hide",
        /*hide*/
        f80[21]
      ), (!d73 || s60[0] & /*zIndex*/
      262144) && re2(
        e48,
        "enableZIndex",
        /*zIndex*/
        f80[18]
      ), s60[0] & /*zIndex*/
      262144 && ne2(
        e48,
        "z-index",
        /*zIndex*/
        f80[18]
      ), s60[0] & /*left, top, screenPosition*/
      1573376 && ne2(e48, "transform", `translate3d(${/*left*/
      f80[20]}, ${/*top*/
      f80[19]}, 0) scale(${/*screenPosition*/
      f80[9].scale})`);
    },
    i(f80) {
      d73 || (ot(a62), ot(n72), d73 = true);
    },
    o(f80) {
      $t(a62), $t(n72), d73 = false;
    },
    d(f80) {
      f80 && J4(e48), v58[i65].d(), C52[r66].d(), t43[36](null);
    }
  };
}
function Ue(t43) {
  let e48;
  return {
    c() {
      e48 = K4("div"), te2(e48, "data-info", "tag point is disable");
    },
    m(i65, a62) {
      Nt(i65, e48, a62);
    },
    p: N4,
    i: N4,
    o: N4,
    d(i65) {
      i65 && J4(e48);
    }
  };
}
function ze4(t43) {
  let e48, i65, a62;
  function m66(n72) {
    t43[34](n72);
  }
  let r66 = {
    tag: (
      /*tag*/
      t43[0]
    ),
    handleMouseEnter: (
      /*handleMouseEnter*/
      t43[30]
    ),
    handleMouseLeave: (
      /*handleMouseLeave*/
      t43[31]
    ),
    handleTagPointClick: (
      /*handleTagPointClick*/
      t43[32]
    )
  };
  return (
    /*tagPointClickHelper*/
    t43[12] !== void 0 && (r66.tagPointClickHelper = /*tagPointClickHelper*/
    t43[12]), e48 = new oo({ props: r66 }), ft.push(() => Me(e48, "tagPointClickHelper", m66)), t43[35](e48), e48.$on(
      "audioInstanceReady",
      /*audioEventHandlers*/
      t43[27].audioInstanceReady
    ), e48.$on(
      "audioPlay",
      /*audioEventHandlers*/
      t43[27].audioPlay
    ), e48.$on(
      "audioPause",
      /*audioEventHandlers*/
      t43[27].audioPause
    ), e48.$on(
      "audioTimeUpdate",
      /*audioEventHandlers*/
      t43[27].audioTimeUpdate
    ), e48.$on(
      "audioDuration",
      /*audioEventHandlers*/
      t43[27].audioDuration
    ), {
      c() {
        Ae(e48.$$.fragment);
      },
      m(n72, u72) {
        Dt(e48, n72, u72), a62 = true;
      },
      p(n72, u72) {
        const l63 = {};
        u72[0] & /*tag*/
        1 && (l63.tag = /*tag*/
        n72[0]), !i65 && u72[0] & /*tagPointClickHelper*/
        4096 && (i65 = true, l63.tagPointClickHelper = /*tagPointClickHelper*/
        n72[12], pe(() => i65 = false)), e48.$set(l63);
      },
      i(n72) {
        a62 || (ot(e48.$$.fragment, n72), a62 = true);
      },
      o(n72) {
        $t(e48.$$.fragment, n72), a62 = false;
      },
      d(n72) {
        t43[35](null), Rt(e48, n72);
      }
    }
  );
}
function Ae4(t43) {
  let e48;
  return {
    c() {
      e48 = K4("div"), te2(e48, "data-info", "tag content is disable");
    },
    m(i65, a62) {
      Nt(i65, e48, a62);
    },
    p: N4,
    i: N4,
    o: N4,
    d(i65) {
      i65 && J4(e48);
    }
  };
}
function Re3(t43) {
  let e48, i65;
  return e48 = new Fi({
    props: {
      mediaStore: (
        /*mediaStore*/
        t43[1]
      ),
      tag: e37(
        /*tag*/
        t43[0]
      ),
      hooks: (
        /*hooks*/
        t43[26]
      ),
      state: (
        /*state*/
        t43[4]
      ),
      temporaryState: (
        /*temporaryState*/
        t43[5]
      ),
      rendererMap: (
        /*rendererMap*/
        t43[2]
      ),
      contentTypeMap: (
        /*contentTypeMap*/
        t43[3]
      )
    }
  }), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(a62, m66) {
      Dt(e48, a62, m66), i65 = true;
    },
    p(a62, m66) {
      const r66 = {};
      m66[0] & /*mediaStore*/
      2 && (r66.mediaStore = /*mediaStore*/
      a62[1]), m66[0] & /*tag*/
      1 && (r66.tag = e37(
        /*tag*/
        a62[0]
      )), m66[0] & /*state*/
      16 && (r66.state = /*state*/
      a62[4]), m66[0] & /*temporaryState*/
      32 && (r66.temporaryState = /*temporaryState*/
      a62[5]), m66[0] & /*rendererMap*/
      4 && (r66.rendererMap = /*rendererMap*/
      a62[2]), m66[0] & /*contentTypeMap*/
      8 && (r66.contentTypeMap = /*contentTypeMap*/
      a62[3]), e48.$set(r66);
    },
    i(a62) {
      i65 || (ot(e48.$$.fragment, a62), i65 = true);
    },
    o(a62) {
      $t(e48.$$.fragment, a62), i65 = false;
    },
    d(a62) {
      Rt(e48, a62);
    }
  };
}
function ne10(t43) {
  var a62;
  let e48, i65;
  return e48 = new so({
    props: {
      tag: (
        /*tag*/
        t43[0]
      ),
      config: (
        /*tag*/
        t43[0].config.popoverConfig
      ),
      theme: (
        /*tag*/
        (a62 = t43[0].config.popoverConfig) == null ? void 0 : a62.theme
      ),
      wrapperElement: (
        /*wrapperElement*/
        t43[6]
      ),
      triggerElement: (
        /*tagPointClickHelper*/
        t43[12]
      ),
      popoverContainer: (
        /*popoverContainer*/
        t43[7]
      ),
      visible: true,
      closePopover: (
        /*closePopover*/
        t43[33]
      ),
      audioInstance: (
        /*audioInstance*/
        t43[14]
      ),
      audioPlaying: (
        /*audioPlaying*/
        t43[15]
      ),
      audioCurrentTime: (
        /*audioCurrentTime*/
        t43[16]
      ),
      audioDuration: (
        /*audioDuration*/
        t43[17]
      )
    }
  }), e48.$on(
    "mouseenter",
    /*handlePopoverMouseEnter*/
    t43[28]
  ), e48.$on(
    "mouseleave",
    /*handlePopoverMouseLeave*/
    t43[29]
  ), e48.$on(
    "close",
    /*closePopover*/
    t43[33]
  ), {
    c() {
      Ae(e48.$$.fragment);
    },
    m(m66, r66) {
      Dt(e48, m66, r66), i65 = true;
    },
    p(m66, r66) {
      var u72;
      const n72 = {};
      r66[0] & /*tag*/
      1 && (n72.tag = /*tag*/
      m66[0]), r66[0] & /*tag*/
      1 && (n72.config = /*tag*/
      m66[0].config.popoverConfig), r66[0] & /*tag*/
      1 && (n72.theme = /*tag*/
      (u72 = m66[0].config.popoverConfig) == null ? void 0 : u72.theme), r66[0] & /*wrapperElement*/
      64 && (n72.wrapperElement = /*wrapperElement*/
      m66[6]), r66[0] & /*tagPointClickHelper*/
      4096 && (n72.triggerElement = /*tagPointClickHelper*/
      m66[12]), r66[0] & /*popoverContainer*/
      128 && (n72.popoverContainer = /*popoverContainer*/
      m66[7]), r66[0] & /*audioInstance*/
      16384 && (n72.audioInstance = /*audioInstance*/
      m66[14]), r66[0] & /*audioPlaying*/
      32768 && (n72.audioPlaying = /*audioPlaying*/
      m66[15]), r66[0] & /*audioCurrentTime*/
      65536 && (n72.audioCurrentTime = /*audioCurrentTime*/
      m66[16]), r66[0] & /*audioDuration*/
      131072 && (n72.audioDuration = /*audioDuration*/
      m66[17]), e48.$set(n72);
    },
    i(m66) {
      i65 || (ot(e48.$$.fragment, m66), i65 = true);
    },
    o(m66) {
      $t(e48.$$.fragment, m66), i65 = false;
    },
    d(m66) {
      Rt(e48, m66);
    }
  };
}
function Ze(t43) {
  var u72;
  let e48, i65 = (
    /*tag*/
    t43[0].isPopoverConfigEnabled() && /*hasPopoverContent*/
    t43[24] && /*isHovering*/
    (t43[11] || /*tag*/
    ((u72 = t43[0].config.popoverConfig) == null ? void 0 : u72.debug))
  ), a62, m66, r66 = (
    /*screenPosition*/
    t43[9] && (!/*disable*/
    t43[22] || /*isHovering*/
    t43[11]) && re5(t43)
  ), n72 = i65 && ne10(t43);
  return {
    c() {
      r66 && r66.c(), e48 = Xt(), n72 && n72.c(), a62 = Yt();
    },
    m(l63, g67) {
      r66 && r66.m(l63, g67), Nt(l63, e48, g67), n72 && n72.m(l63, g67), Nt(l63, a62, g67), m66 = true;
    },
    p(l63, g67) {
      var d73;
      l63[9] && (!/*disable*/
      l63[22] || /*isHovering*/
      l63[11]) ? r66 ? (r66.p(l63, g67), g67[0] & /*screenPosition, disable, isHovering*/
      4196864 && ot(r66, 1)) : (r66 = re5(l63), r66.c(), ot(r66, 1), r66.m(e48.parentNode, e48)) : r66 && (Lt(), $t(r66, 1, 1, () => {
        r66 = null;
      }), Ot()), g67[0] & /*tag, hasPopoverContent, isHovering*/
      16779265 && (i65 = /*tag*/
      l63[0].isPopoverConfigEnabled() && /*hasPopoverContent*/
      l63[24] && /*isHovering*/
      (l63[11] || /*tag*/
      ((d73 = l63[0].config.popoverConfig) == null ? void 0 : d73.debug))), i65 ? n72 ? (n72.p(l63, g67), g67[0] & /*tag, hasPopoverContent, isHovering*/
      16779265 && ot(n72, 1)) : (n72 = ne10(l63), n72.c(), ot(n72, 1), n72.m(a62.parentNode, a62)) : n72 && (Lt(), $t(n72, 1, 1, () => {
        n72 = null;
      }), Ot());
    },
    i(l63) {
      m66 || (ot(r66), ot(n72), m66 = true);
    },
    o(l63) {
      $t(r66), $t(n72), m66 = false;
    },
    d(l63) {
      r66 && r66.d(l63), l63 && J4(e48), n72 && n72.d(l63), l63 && J4(a62);
    }
  };
}
function Ne3(t43, e48, i65) {
  let a62, m66, r66, n72, u72, l63, g67, d73, L40, v58, U33, { tag: o71 } = e48, { mediaStore: C52 } = e48, { rendererMap: S52 = /* @__PURE__ */ new Map() } = e48, { contentTypeMap: f80 = /* @__PURE__ */ new Map() } = e48, { state: s60 } = e48, { temporaryState: w49 } = e48, { wrapperElement: D52 = null } = e48, { popoverContainer: ee10 = null } = e48;
  const pe7 = de("hooks");
  let T38 = false, y51, P55, B42 = null, G31 = false, J33 = false, K32 = null, Q29 = null, N33 = false, te10 = 0, oe11 = 0;
  const me7 = {
    audioInstanceReady: (p66) => {
      i65(14, Q29 = p66.detail), i65(15, N33 = !Q29.paused);
    },
    audioPlay: () => {
      i65(15, N33 = true);
    },
    audioPause: () => {
      i65(15, N33 = false);
    },
    audioTimeUpdate: (p66) => {
      i65(16, te10 = p66.detail);
    },
    audioDuration: (p66) => {
      i65(17, oe11 = p66.detail);
    }
  };
  let O40 = false;
  const q38 = (p66) => {
    if (P55 && clearTimeout(P55), p66 === true && !O40) {
      O40 = true, i65(11, T38 = true);
      return;
    }
    P55 = setTimeout(
      () => {
        var c85;
        !G31 && !J33 && !((c85 = o71.config.popoverConfig) != null && c85.debug) && (O40 = false, i65(11, T38 = false));
      },
      300
    );
  }, le5 = () => {
    G31 = true, P55 && clearTimeout(P55);
  }, fe10 = () => {
    G31 = false, q38(false);
  }, ue8 = (p66) => {
    var c85, k47, E53, M48, z28, A62;
    if (J33 = true, o71.isPopoverConfigEnabled() && o71.isHoverEnabled() && ((k47 = (c85 = o71.currentConfig) == null ? void 0 : c85.popoverConfig) == null ? void 0 : k47.trigger) === "hover") {
      if (P55 && clearTimeout(P55), y51 !== void 0)
        return;
      ((M48 = (E53 = o71.currentConfig) == null ? void 0 : E53.popoverConfig) == null ? void 0 : M48.triggerDelay) > 0 ? y51 = setTimeout(
        () => {
          q38(true), o71.hooks.emit("hover", { event: p66, tag: o71 }), y51 = void 0;
        },
        (A62 = (z28 = o71.currentConfig) == null ? void 0 : z28.popoverConfig) == null ? void 0 : A62.triggerDelay
      ) : (q38(true), o71.hooks.emit("hover", { event: p66, tag: o71 }));
    }
  }, se6 = (p66) => {
    var c85, k47;
    J33 = false, o71.isHoverEnabled() && o71.isPopoverConfigEnabled() && ((k47 = (c85 = o71.currentConfig) == null ? void 0 : c85.popoverConfig) == null ? void 0 : k47.trigger) === "hover" && (y51 !== void 0 && (clearTimeout(y51), y51 = void 0), q38(false));
  }, de9 = (p66) => {
    var k47, E53;
    const c85 = o71.contentType === "Audio" && o71.data.appearance === "plane";
    o71.isPopoverConfigEnabled() && o71.isHoverEnabled() && ((E53 = (k47 = o71.currentConfig) == null ? void 0 : k47.popoverConfig) == null ? void 0 : E53.trigger) === "click" && (c85 ? T38 || (i65(11, T38 = true), o71.hooks.emit("hover", { event: p66, tag: o71 })) : (i65(11, T38 = !T38), T38 && o71.hooks.emit("hover", { event: p66, tag: o71 })));
  };
  function ge10() {
    O40 = false, i65(11, T38 = false);
  }
  ce(() => () => {
    y51 && clearTimeout(y51), P55 && clearTimeout(P55);
  });
  function ce6(p66) {
    B42 = p66, i65(12, B42);
  }
  function _e8(p66) {
    ft[p66 ? "unshift" : "push"](() => {
      K32 = p66, i65(13, K32);
    });
  }
  function be6(p66) {
    ft[p66 ? "unshift" : "push"](() => {
      o71.dom = p66, i65(0, o71);
    });
  }
  return t43.$$set = (p66) => {
    "tag" in p66 && i65(0, o71 = p66.tag), "mediaStore" in p66 && i65(1, C52 = p66.mediaStore), "rendererMap" in p66 && i65(2, S52 = p66.rendererMap), "contentTypeMap" in p66 && i65(3, f80 = p66.contentTypeMap), "state" in p66 && i65(4, s60 = p66.state), "temporaryState" in p66 && i65(5, w49 = p66.temporaryState), "wrapperElement" in p66 && i65(6, D52 = p66.wrapperElement), "popoverContainer" in p66 && i65(7, ee10 = p66.popoverContainer);
  }, t43.$$.update = () => {
    var p66, c85, k47, E53;
    t43.$$.dirty[0] & /*tag, rendererMap*/
    5 && i65(10, a62 = (() => {
      var M48, z28, A62;
      return ((z28 = (M48 = o71.style) == null ? void 0 : M48.point) == null ? void 0 : z28.enabled) === false || ((A62 = S52.get(o71.contentType)) == null ? void 0 : A62.usePoint) === false || o71.contentType === "Sticker" || o71.contentType === "Link" || o71.contentType === "VRLink" || o71.contentType === "PanoLink" ? false : o71.contentType === "Panorama" ? true : o71.contentType === "Audio" && o71.data.appearance === "plane" ? o71.isPopoverConfigEnabled() : true;
    })()), t43.$$.dirty[0] & /*tag, havePoint*/
    1025 && i65(25, m66 = (() => !(o71.isPopoverConfigEnabled() && o71.contentType === "Panorama" || o71.isPopoverConfigEnabled() && o71.contentType === "ImageText" || o71.isPopoverConfigEnabled() && o71.contentType === "Text" || o71.isPopoverConfigEnabled() && o71.contentType === "Audio" || o71.stickType !== "2DPoint" || o71.entryFromModel && o40(o71.five.state.mode) && a62))()), t43.$$.dirty[0] & /*tag*/
    1 && i65(24, r66 = (() => {
      var M48;
      return o71.contentType === "Marketing" ? !!(o71.data.title || o71.data.name || o71.data.description || o71.data.tooltip || (M48 = o71.data.price) != null && M48.value || o71.data.brandTags && o71.data.brandTags.length > 0 || o71.data.tags && o71.data.tags.length > 0 || o71.data.imageUrl || o71.data.mediaUrl || o71.data.mediaData && o71.data.mediaData.length > 0) : !!(o71.data.title || o71.data.name || o71.data.text || o71.data.description || o71.data.tooltip || o71.data.imageUrl || o71.data.mediaUrl || o71.data.mediaData && o71.data.mediaData.length > 0);
    })()), t43.$$.dirty[0] & /*tag*/
    1 && i65(23, n72 = o71.id), t43.$$.dirty[0] & /*tag*/
    1 && i65(9, u72 = o71.screenPosition), t43.$$.dirty[0] & /*tag*/
    1 && i65(22, l63 = o71.enabled === false || !o71.state), t43.$$.dirty[0] & /*tag, screenPosition*/
    513 && i65(21, g67 = !((p66 = o71.state) != null && p66.visible) || ((c85 = o71.temporaryState) == null ? void 0 : c85.visible) === false || !u72), t43.$$.dirty[0] & /*tag*/
    1 && i65(8, d73 = ((k47 = o71.state) == null ? void 0 : k47.unfolded) && !o71.isPopoverConfigEnabled()), t43.$$.dirty[0] & /*screenPosition*/
    512 && i65(20, L40 = (u72 == null ? void 0 : u72.leftPx) + "px"), t43.$$.dirty[0] & /*screenPosition*/
    512 && i65(19, v58 = (u72 == null ? void 0 : u72.topPx) + "px"), t43.$$.dirty[0] & /*unfolded, tag*/
    257 && i65(18, U33 = d73 ? ((E53 = o71.zIndex) != null ? E53 : 0) + (d73 ? 1e6 : 0) : void 0);
  }, [
    o71,
    C52,
    S52,
    f80,
    s60,
    w49,
    D52,
    ee10,
    d73,
    u72,
    a62,
    T38,
    B42,
    K32,
    Q29,
    N33,
    te10,
    oe11,
    U33,
    v58,
    L40,
    g67,
    l63,
    n72,
    r66,
    m66,
    pe7,
    me7,
    le5,
    fe10,
    ue8,
    se6,
    de9,
    ge10,
    ce6,
    _e8,
    be6
  ];
}
var fr = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      Ne3,
      Ze,
      Ft,
      {
        tag: 0,
        mediaStore: 1,
        rendererMap: 2,
        contentTypeMap: 3,
        state: 4,
        temporaryState: 5,
        wrapperElement: 6,
        popoverContainer: 7
      },
      Le2,
      [-1, -1]
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/utils/popoverContainer.js
var e38 = null;
function n46(t43 = 2e6) {
  return e38 && document.body.contains(e38) ? (e38.style.zIndex = String(t43), e38) : (e38 = document.createElement("div"), e38.className = "tag-popover-container", Object.assign(e38.style, {
    position: "absolute",
    left: "0",
    top: "0",
    width: "100%",
    height: "100%",
    zIndex: String(t43),
    pointerEvents: "none",
    overflow: "hidden"
  }), document.body.appendChild(e38), e38);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Components/TagContainer.js
function X21(n72) {
  Qt2(n72, "svelte-9ehqs9", ".tag--container.svelte-9ehqs9{box-sizing:border-box;position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;opacity:1;-webkit-user-select:none;-moz-user-select:none;user-select:none;transform:translate3d(0, 0, 0);transition:opacity 0.2s linear;overflow:hidden}.tag--container.hide.svelte-9ehqs9{opacity:0 !important;pointer-events:none}.tag--container.hide.svelte-9ehqs9 *{pointer-events:none !important}");
}
function w29(n72, t43, o71) {
  const i65 = n72.slice();
  return i65[12] = t43[o71], i65;
}
function T28(n72) {
  let t43, o71 = [], i65 = /* @__PURE__ */ new Map(), m66, p66, l63, f80 = (
    /*tags*/
    n72[0]
  );
  const u72 = (e48) => (
    /*tag*/
    e48[12].id
  );
  for (let e48 = 0; e48 < f80.length; e48 += 1) {
    let r66 = w29(n72, f80, e48), s60 = u72(r66);
    i65.set(s60, o71[e48] = I42(s60, r66));
  }
  return {
    c() {
      var e48;
      t43 = K4("div");
      for (let r66 = 0; r66 < o71.length; r66 += 1)
        o71[r66].c();
      te2(t43, "class", "tag--container svelte-9ehqs9"), te2(t43, "data-infive", m66 = !/*state*/
      n72[4].visible || !/*temporaryState*/
      n72[5].visible ? "1" : "0"), re2(t43, "hide", !/*state*/
      n72[4].visible || !/*temporaryState*/
      n72[5].visible), ne2(
        t43,
        "z-index",
        /*zIndex*/
        (e48 = n72[6]) != null ? e48 : ""
      );
    },
    m(e48, r66) {
      Nt(e48, t43, r66);
      for (let s60 = 0; s60 < o71.length; s60 += 1)
        o71[s60] && o71[s60].m(t43, null);
      n72[10](t43), l63 = true;
    },
    p(e48, r66) {
      var s60;
      r66 & /*state, temporaryState, tags, mediaStore, rendererMap, contentTypeMap, wrapperElement, popoverContainerEl*/
      447 && (f80 = /*tags*/
      e48[0], Lt(), o71 = Ee(o71, r66, u72, 1, e48, f80, i65, t43, xe, I42, null, w29), Ot()), (!l63 || r66 & /*state, temporaryState*/
      48 && m66 !== (m66 = !/*state*/
      e48[4].visible || !/*temporaryState*/
      e48[5].visible ? "1" : "0")) && te2(t43, "data-infive", m66), (!l63 || r66 & /*state, temporaryState*/
      48) && re2(t43, "hide", !/*state*/
      e48[4].visible || !/*temporaryState*/
      e48[5].visible), r66 & /*zIndex*/
      64 && ne2(
        t43,
        "z-index",
        /*zIndex*/
        (s60 = e48[6]) != null ? s60 : ""
      );
    },
    i(e48) {
      if (!l63) {
        for (let r66 = 0; r66 < f80.length; r66 += 1)
          ot(o71[r66]);
        p66 || z2(() => {
          p66 = me2(t43, C13, {}), p66.start();
        }), l63 = true;
      }
    },
    o(e48) {
      for (let r66 = 0; r66 < o71.length; r66 += 1)
        $t(o71[r66]);
      l63 = false;
    },
    d(e48) {
      e48 && J4(t43);
      for (let r66 = 0; r66 < o71.length; r66 += 1)
        o71[r66].d();
      n72[10](null);
    }
  };
}
function I42(n72, t43) {
  let o71, i65, m66;
  return i65 = new fr({
    props: {
      state: (
        /*state*/
        t43[4]
      ),
      temporaryState: (
        /*temporaryState*/
        t43[5]
      ),
      tag: (
        /*tag*/
        t43[12]
      ),
      mediaStore: (
        /*mediaStore*/
        t43[1]
      ),
      rendererMap: (
        /*rendererMap*/
        t43[2]
      ),
      contentTypeMap: (
        /*contentTypeMap*/
        t43[3]
      ),
      wrapperElement: (
        /*wrapperElement*/
        t43[7]
      ),
      popoverContainer: (
        /*popoverContainerEl*/
        t43[8]
      )
    }
  }), {
    key: n72,
    first: null,
    c() {
      o71 = Yt(), Ae(i65.$$.fragment), this.first = o71;
    },
    m(p66, l63) {
      Nt(p66, o71, l63), Dt(i65, p66, l63), m66 = true;
    },
    p(p66, l63) {
      t43 = p66;
      const f80 = {};
      l63 & /*state*/
      16 && (f80.state = /*state*/
      t43[4]), l63 & /*temporaryState*/
      32 && (f80.temporaryState = /*temporaryState*/
      t43[5]), l63 & /*tags*/
      1 && (f80.tag = /*tag*/
      t43[12]), l63 & /*mediaStore*/
      2 && (f80.mediaStore = /*mediaStore*/
      t43[1]), l63 & /*rendererMap*/
      4 && (f80.rendererMap = /*rendererMap*/
      t43[2]), l63 & /*contentTypeMap*/
      8 && (f80.contentTypeMap = /*contentTypeMap*/
      t43[3]), l63 & /*wrapperElement*/
      128 && (f80.wrapperElement = /*wrapperElement*/
      t43[7]), l63 & /*popoverContainerEl*/
      256 && (f80.popoverContainer = /*popoverContainerEl*/
      t43[8]), i65.$set(f80);
    },
    i(p66) {
      m66 || (ot(i65.$$.fragment, p66), m66 = true);
    },
    o(p66) {
      $t(i65.$$.fragment, p66), m66 = false;
    },
    d(p66) {
      p66 && J4(o71), Rt(i65, p66);
    }
  };
}
function Y21(n72) {
  let t43, o71, i65 = (
    /*state*/
    n72[4].enabled && T28(n72)
  );
  return {
    c() {
      i65 && i65.c(), t43 = Yt();
    },
    m(m66, p66) {
      i65 && i65.m(m66, p66), Nt(m66, t43, p66), o71 = true;
    },
    p(m66, [p66]) {
      m66[4].enabled ? i65 ? (i65.p(m66, p66), p66 & /*state*/
      16 && ot(i65, 1)) : (i65 = T28(m66), i65.c(), ot(i65, 1), i65.m(t43.parentNode, t43)) : i65 && (Lt(), $t(i65, 1, 1, () => {
        i65 = null;
      }), Ot());
    },
    i(m66) {
      o71 || (ot(i65), o71 = true);
    },
    o(m66) {
      $t(i65), o71 = false;
    },
    d(m66) {
      i65 && i65.d(m66), m66 && J4(t43);
    }
  };
}
function x32(n72, t43, o71) {
  let { tags: i65 = [] } = t43, { hooks: m66 } = t43, { mediaStore: p66 } = t43, { rendererMap: l63 } = t43, { contentTypeMap: f80 } = t43, { state: u72 } = t43, { temporaryState: e48 } = t43, { zIndex: r66 = void 0 } = t43, s60 = null, b55 = null, v58 = 2e3;
  ae2("hooks", m66), ae2("mediaStore", p66), ce(() => {
    o71(8, b55 = n46(v58));
  });
  function O40(a62) {
    ft[a62 ? "unshift" : "push"](() => {
      s60 = a62, o71(7, s60);
    });
  }
  return n72.$$set = (a62) => {
    "tags" in a62 && o71(0, i65 = a62.tags), "hooks" in a62 && o71(9, m66 = a62.hooks), "mediaStore" in a62 && o71(1, p66 = a62.mediaStore), "rendererMap" in a62 && o71(2, l63 = a62.rendererMap), "contentTypeMap" in a62 && o71(3, f80 = a62.contentTypeMap), "state" in a62 && o71(4, u72 = a62.state), "temporaryState" in a62 && o71(5, e48 = a62.temporaryState), "zIndex" in a62 && o71(6, r66 = a62.zIndex);
  }, n72.$$.update = () => {
    var a62, k47, M48, S52;
    n72.$$.dirty & /*tags*/
    1 && i65 && i65.length > 0 && (v58 = (S52 = (M48 = (k47 = (a62 = i65[0]) == null ? void 0 : a62.config) == null ? void 0 : k47.popoverConfig) == null ? void 0 : M48.zIndex) != null ? S52 : 2e6);
  }, [
    i65,
    p66,
    l63,
    f80,
    u72,
    e48,
    r66,
    s60,
    b55,
    m66,
    O40
  ];
}
var wr2 = class extends Ce {
  constructor(t43) {
    super(), Te(
      this,
      t43,
      x32,
      Y21,
      Ft,
      {
        tags: 0,
        hooks: 9,
        mediaStore: 1,
        rendererMap: 2,
        contentTypeMap: 3,
        state: 4,
        temporaryState: 5,
        zIndex: 6
      },
      X21
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/controller/index.js
var P39 = Object.defineProperty;
var E39 = Object.defineProperties;
var U27 = Object.getOwnPropertyDescriptors;
var v37 = Object.getOwnPropertySymbols;
var A49 = Object.prototype.hasOwnProperty;
var k36 = Object.prototype.propertyIsEnumerable;
var g40 = (d73, a62, e48) => a62 in d73 ? P39(d73, a62, { enumerable: true, configurable: true, writable: true, value: e48 }) : d73[a62] = e48;
var f48 = (d73, a62) => {
  for (var e48 in a62 || (a62 = {}))
    A49.call(a62, e48) && g40(d73, e48, a62[e48]);
  if (v37)
    for (var e48 of v37(a62))
      k36.call(a62, e48) && g40(d73, e48, a62[e48]);
  return d73;
};
var c53 = (d73, a62) => E39(d73, U27(a62));
var p32 = (d73, a62, e48) => (g40(d73, typeof a62 != "symbol" ? a62 + "" : a62, e48), e48);
var l41 = (d73, a62, e48) => new Promise((t43, i65) => {
  var o71 = (r66) => {
    try {
      n72(e48.next(r66));
    } catch (h66) {
      i65(h66);
    }
  }, s60 = (r66) => {
    try {
      n72(e48.throw(r66));
    } catch (h66) {
      i65(h66);
    }
  }, n72 = (r66) => r66.done ? t43(r66.value) : Promise.resolve(r66.value).then(o71, s60);
  n72((e48 = e48.apply(d73, a62)).next());
});
var S41 = "Dnalogel-PanoTagPlugin";
var Ro = (d73) => `${S41}--${d73}`;
var No = class extends Xt2 {
  constructor(e48, t43) {
    super(e48);
    p32(this, "state", { enabled: true, visible: true });
    p32(this, "debug");
    p32(this, "debugUtil", new h36(this));
    p32(this, "globalHoverEnabled", true);
    p32(this, "changeTagModel", (e49, t44) => l41(this, null, function* () {
      var i65;
      e49.data = a21({}, e49.data, t44), yield (i65 = e49.loadModel) == null ? void 0 : i65.call(e49);
    }));
    p32(this, "handleFiveModeChange", (e49) => {
      const t44 = () => {
        this.filter2DPointTag.forEach((i65) => {
          i65.state.visible = false, i65.applyVisible();
        }), this.five.ready().then(() => {
          this.tagsDo(this.tags, (i65) => {
            i65.updateVisible(), o42(i65) && e49 !== "Panorama" && this.changeTagMode(i65, "behind");
          });
        });
      };
      this.tags.length < 500 ? t44() : this.five.ready().then(() => t44());
    });
    p32(this, "handleFiveWantsMoveToPano", (e49) => {
      if (this.tags.length > 500) {
        this.temporaryState.visible = false, this.addRenderQueue({ type: "TagContainerSvelte", keys: ["temporaryState"] });
        return;
      } else
        this.temporaryState.visible = true, this.tags.forEach((t44) => {
          t44.temporaryState.visible = true;
        }), this.addRenderQueue({ type: "TagContainerSvelte", keys: ["tags"] }), this.tags.forEach((t44) => t44.applyVisible());
    });
    p32(this, "clickhandler", (e49) => {
      e49.tag.onClick(e49);
    });
    p32(this, "handleFiveCameraUpdate", () => {
      this.filterPointTag.forEach((e49) => e49.updateScreenPosition());
    });
    p32(this, "handleFiveCameraFovUpdate", () => {
      this.handleFiveCameraUpdate(), this.five.off("render.prepare", this.handleFiveCameraUpdate), this.five.on("render.prepare", this.handleFiveCameraUpdate), setTimeout(() => {
        this.five.off("render.prepare", this.handleFiveCameraUpdate);
      }, 1e3);
    });
    p32(this, "handleFivePanoArrived", () => l41(this, null, function* () {
      this.filter2DPointTag.forEach((e49) => {
        e49.state.visible = false, e49.applyVisible();
      }), this.tagsDo(this.tags, (e49) => {
        e49.updateVisible();
      }), this.temporaryState.visible = true, this.addRenderQueue({ type: "TagContainerSvelte", keys: ["temporaryState"] }), yield this.setUnfolded(), this.tags.filter(c43).filter((e49) => {
        var t44;
        return (t44 = e49.getConfig().modelConfig) == null ? void 0 : t44.autoLookAtEnabled;
      }).forEach((e49) => {
        var h66;
        const t44 = new Mesh(new BoxGeometry(), new MeshBasicMaterial()), i65 = (h66 = e49.model) == null ? void 0 : h66.object;
        if (!i65)
          return;
        t44.position.copy(i65.position), t44.quaternion.copy(i65.quaternion);
        const o71 = this.five.camera.position;
        t44.lookAt(o71.clone().setY(t44.position.y));
        const s60 = i65.quaternion.clone(), n72 = t44.quaternion.clone(), r66 = F14();
        r66.onUpdate(({ progress: D52 }) => {
          i65.quaternion.copy(s60.clone().slerp(n72, D52));
        }), r66.play();
      });
    }));
    p32(this, "handleFiveModelShownFloorChange", () => {
      this.tagsDo(this.tags, (e49) => e49.updateVisible());
    });
    p32(this, "onFiveRefined", i37(() => {
      o40(this.five.getCurrentState().mode) ? this.setUnfoldedByCamera() : this.tags.forEach((e49) => e49.cache.clear()), this.tagsDo(this.tags, (e49) => e49.updateVisible());
    }));
    p32(this, "onFiveEveryReady", () => {
      this.setUnfoldedByCamera(), o40(this.five.getCurrentState().mode) && this.tagsDo(this.tags, (e49) => e49.updateVisible());
    });
    p32(this, "render", () => {
      this.renderQueue.forEach((e49, t44) => {
        const { keys: i65 } = e49;
        if (t44 === "TagContainerSvelte") {
          const s60 = this.filterPointTag.filter((r66) => r66.screenPosition), n72 = {
            hooks: this.hooks,
            tags: s60,
            state: this.state,
            temporaryState: this.temporaryState,
            mediaStore: this.mediaStore,
            rendererMap: this.rendererMap,
            contentTypeMap: this.contentTypeMap,
            zIndex: this.params.containerZIndex
          };
          if (this.TagContainerSvelte) {
            let r66 = {};
            if (i65.length === 0)
              r66 = n72;
            else
              for (const h66 of i65)
                r66[h66] = n72[h66];
            this.TagContainerSvelte.$set(r66);
          } else {
            if (!this.container)
              return console.error("updateRenderPlaneTag: tag2DContainer not found");
            this.TagContainerSvelte = new wr2({
              target: this.container,
              props: c53(f48({}, n72), { state: c53(f48({}, this.state), { enabled: false }) })
            }), T13(() => {
              var r66;
              (r66 = this.TagContainerSvelte) == null || r66.$set({ state: this.state });
            });
          }
        }
      }), this.renderQueue.clear();
    });
    this.params = a21({}, { debug: false, config: this.config }, f48({}, t43)), this.debug = this.params.debug, this.config = this.params.config, this.debug && this.debugUtil.bindLog(), a32(1, { namespace: d36.PlayAudio });
    try {
      Array.isArray(window.__PANOTAGPLUGIN_DEBUG_LIST__) || (window.__PANOTAGPLUGIN_DEBUG_LIST__ = []), this.NAME = S41 + "-" + window.__PANOTAGPLUGIN_DEBUG_LIST__.length, window.__PANOTAGPLUGIN_DEBUG_LIST__.push(this), window.__PANOTAGPLUGIN_DEBUG__ || Object.defineProperty(window, "__PANOTAGPLUGIN_DEBUG__", {
        get: function() {
          return window.__PANOTAGPLUGIN_DEBUG_LIST__.sort((i65, o71) => o71.tags.length - i65.tags.length)[0];
        }
      });
    } catch (i65) {
    }
  }
  appendTo(e48) {
    var i65, o71, s60;
    this.container = e48;
    const t43 = (o71 = (i65 = this.TagContainerSvelte) == null ? void 0 : i65.$$) == null ? void 0 : o71.root;
    t43 && t43 !== this.container && ((s60 = this.TagContainerSvelte) == null || s60.$destroy(), this.TagContainerSvelte = void 0);
  }
  /**
   * @description 加载数据
   */
  load(e48) {
    return l41(this, null, function* () {
      var i65, o71;
      this.clearTags();
      try {
        console.debug(this.NAME, " load:", { data: JSON.parse(JSON.stringify(e48)) });
      } catch (s60) {
      }
      this.config = a21({}, this.config, {
        globalConfig: (i65 = e48.globalConfig) != null ? i65 : {},
        contentTypeConfig: (o71 = e48.contentTypeConfig) != null ? o71 : {}
      });
      const t43 = yield this.addTag(e48.tagList);
      return this.hooks.emit("loaded"), t43;
    });
  }
  /**
   * @description 添加标签
   */
  addTag(e48) {
    return l41(this, null, function* () {
      const i65 = (Array.isArray(e48) ? e48 : [e48]).filter((o71) => o71.position).map((o71) => {
        const s60 = o43(o71);
        if (s60 === "2DPoint" || s60 === "3DPoint")
          return new Jt2(this, o71);
        if (s60 === "Model")
          return new Qo(this, o71);
        if (s60 === "Plane")
          return new Qi(this, o71);
      });
      return i65.forEach(p26), this.tags.push(...i65), this.tagsLengthWillUpdate = true, M2(this.five).then(() => l41(this, null, function* () {
        var o71, s60;
        this.store.eventListenerDisposer && ((s60 = (o71 = this.store).eventListenerDisposer) == null || s60.call(o71)), this.state.enabled && this.handleEnable(), this.addResizeListener(), this.clearUnusedPanelTag(), this.tagsDo(i65, (n72) => {
          this.tags.includes(n72) && (n72.updateVisible(), n72.updateZIndex());
        }), this.setUnfolded(), this.addRenderQueue({ type: "TagContainerSvelte" }), this.hooks.emit("tagsLengthChange");
      }));
    });
  }
  /**
   * @description 改变配置
   */
  changeConfig(e48, t43 = true) {
    t43 ? this.config = a21({}, this.config, e48) : this.config = e48, this.tags.forEach((i65) => {
      i65.updateConfig();
    }), this.tagsDo(this.tags, (i65) => i65.updateVisible());
  }
  /**
   * @description 改变全局配置
   */
  changeGlobalConfig(e48, t43 = true) {
    t43 ? this.config.globalConfig = a21({}, this.config.globalConfig, e48) : this.config.globalConfig = e48, this.tags.forEach((i65) => {
      i65.updateConfig();
    }), this.tagsDo(this.tags, (i65) => {
      i65.updateVisible();
    });
  }
  /**
   * @description 改变类型配置
   */
  changeContentTypeConfig(e48, t43, i65 = true) {
    this.config.contentTypeConfig || (this.config.contentTypeConfig = {}), i65 ? this.config.contentTypeConfig[e48] = a21({}, this.config.contentTypeConfig[e48], t43) : this.config.contentTypeConfig[e48] = t43, this.tags.forEach((o71) => {
      o71.updateConfig();
    }), this.tagsDo(this.tags, (o71) => {
      o71.updateVisible();
    });
  }
  show(e48) {
    return l41(this, null, function* () {
      if (this.checkDisposed())
        return;
      const { userAction: t43 = true } = e48 != null ? e48 : {};
      this.setState({ visible: true }, { userAction: t43 }), this.hooks.emit("show", { userAction: t43 });
    });
  }
  hide(e48) {
    return l41(this, null, function* () {
      if (this.checkDisposed())
        return;
      const { userAction: t43 = true } = e48 != null ? e48 : {};
      this.setState({ visible: false }, { userAction: t43 }), this.hooks.emit("hide", { userAction: t43 });
    });
  }
  enable(e48) {
    if (this.checkDisposed())
      return;
    const { userAction: t43 = true } = e48 != null ? e48 : {};
    this.setState({ enabled: true }, { userAction: t43 }), this.hooks.emit("enable", { userAction: t43 });
  }
  disable(e48) {
    if (this.checkDisposed())
      return;
    const { userAction: t43 = true } = e48 != null ? e48 : {};
    this.setState({ enabled: false }, { userAction: t43 }), this.hooks.emit("disable", { userAction: t43 });
  }
  setState(e48, t43) {
    if (this.checkDisposed())
      return;
    const { userAction: i65 = true } = t43 != null ? t43 : {}, o71 = f48({}, this.state);
    this.state = Object.assign(this.state, e48), o71.visible !== this.state.visible && (e48.visible ? this.handleShow() : this.handleHide()), o71.enabled !== this.state.enabled && (e48.enabled ? this.handleEnable() : this.handleDisable()), this.hooks.emit("stateChange", { state: this.state, prevState: o71, userAction: i65 });
  }
  /**
   * @description 销毁
   */
  dispose() {
    var e48, t43, i65, o71, s60, n72;
    this.pauseCurrentMedia(), this.disposeAllCSS3DContainer(), (e48 = this.TagContainerSvelte) == null || e48.$destroy(), this.filterCSS3DTag.forEach((r66) => {
      var h66;
      return (h66 = r66.tag3DContentSvelte) == null ? void 0 : h66.svelteApp.$destroy();
    }), this.tags.forEach((r66) => r66.cache.clear()), this.tags = [], this.tagsLengthWillUpdate = true, this.hooks.emit("tagsLengthChange"), (t43 = this.store.disposers) == null || t43.forEach((r66) => r66 == null ? void 0 : r66()), this.store.disposers = [], (o71 = (i65 = this.store).eventListenerDisposer) == null || o71.call(i65), this.store.eventListenerDisposer = void 0, (n72 = (s60 = this.store).resizeObserverDisposer) == null || n72.call(s60), this.store.resizeObserverDisposer = void 0, this.store.resizeObserverDisposerAdding = false, this.five.scene.remove(this.group), this.group.remove(...this.group.children), this.gltfObjectGroup.remove(...this.gltfObjectGroup.children), this.imagePlaneGroup.remove(...this.imagePlaneGroup.children), this.five.needsRender = true, this.store.disposed = true, this.hooks.emit("dispose");
  }
  /**
   * @description 闪烁标签
   * @param {TagId} id
   * @param {Partial<anime.AnimeParams>} animeConfig
   */
  blinkTagById(e48, t43) {
    return l41(this, null, function* () {
      var i65;
      return (i65 = this.getTagById(e48)) == null ? void 0 : i65.blink(t43);
    });
  }
  /**
   * @description 展开/收起指定id的标签
   * @param {TagId} id
   * @param {boolean} unfolded
   */
  changeUnfoldedById(e48, t43) {
    const i65 = this.getTagById(e48);
    t43 ? i65 == null || i65.unfold() : i65 == null || i65.fold();
  }
  /**
   * @description 启用/停用指定id的标签
   * @param {TagId} id
   * @param {boolean} enabled
   */
  changeEnabledById(e48, t43) {
    var o71;
    const i65 = this.getTagById(e48);
    i65 && (i65.enabled = t43, (o71 = i65.hooks) == null || o71.emit(t43 ? "enable" : "disable"));
  }
  /**
   * @description 修改3D标签normal
   * @param {TagId} id
   * @param {ArrayPosition} normal
   */
  changeTagNormalById(e48, t43) {
    const i65 = this.getTagById(e48);
    i65 && i65.tag3DContentSvelte && (i65.tag3DContentSvelte.currentNormal = a2(t43));
  }
  /**
   * @description 改变data
   */
  changePositionById(e48, t43) {
    const i65 = this.getTagById(e48);
    i65 && i65.setPosition(t43);
  }
  /**
   * @description 改变data
   */
  changeDataById(e48, t43, i65 = true) {
    const o71 = this.getTagById(e48);
    o71 && (o71.setData(t43, i65), this.clearUnusedPanelTag(), o71.hooks.emit("dataChanged", o71.data));
  }
  /**
   * @description 改变tag的stickType
   */
  changeStickTypeById(e48, t43, i65 = true) {
    this.changeTagById(e48, t43, i65);
  }
  /**
   * @description 改变tag任意属性
   */
  changeTagById(e48, t43, i65 = true) {
    const o71 = this.getTagById(e48);
    o71 && (o71.set(t43), o71.updateVisible(), this.clearUnusedPanelTag(), o71.hooks.emit("dataChanged", o71.data));
  }
  /**
   * @description 销毁tag
   */
  destroyTagById(e48) {
    (Array.isArray(e48) ? e48 : [e48]).forEach((i65) => {
      var o71;
      return (o71 = this.getTagById(i65)) == null ? void 0 : o71.destroy();
    });
  }
  /**
   * @deprecated
   */
  updateRenderAllTags() {
    this.tagsDo(this.tags, (e48) => e48.updateVisible()), this.five.needsRender = true;
  }
  /**
   * @description 清除所有标签
   */
  clearTags() {
    var e48;
    this.tags.length && (this.tags.forEach((t43) => {
      var i65, o71, s60, n72, r66, h66;
      (i65 = t43.tag3DContentSvelte) == null || i65.dispose(), (s60 = (o71 = t43.mediaPlane) == null ? void 0 : o71.parent) == null || s60.remove(t43.mediaPlane), (h66 = (r66 = (n72 = t43.model) == null ? void 0 : n72.object) == null ? void 0 : r66.parent) == null || h66.remove(t43.model.object);
    }), this.tags = [], this.tagsLengthWillUpdate = true, this.hooks.emit("tagsLengthChange"), (e48 = this.TagContainerSvelte) == null || e48.$destroy(), this.TagContainerSvelte = void 0, this.disposeAllCSS3DContainer()), this.enabledModelTagSet.clear(), this.cache.clear();
  }
  /**
   * @description 设置 unfolded
   */
  setUnfolded() {
    return l41(this, null, function* () {
      return new Promise((e48) => {
        setTimeout(() => {
          this.setUnfoldedByCamera(), e48();
        }, 100);
      });
    });
  }
  handleShow() {
    this.state.visible = true, this.group.visible = true, this.addRenderQueue({ type: "TagContainerSvelte", keys: ["state"] }), this.updateRenderAllTags(), this.five.needsRender = true;
  }
  handleHide() {
    this.pauseCurrentMedia(), this.state.visible = false, this.group.visible = false, this.addRenderQueue({ type: "TagContainerSvelte", keys: ["state"] }), this.five.needsRender = true;
  }
  handleEnable() {
    this.state.enabled = true, this.store.eventListenerDisposer = this.addEventListener(), this.five.scene.children.includes(this.group) || this.five.scene.add(this.group), this.five.needsRender = true;
  }
  handleDisable() {
    var e48, t43, i65;
    this.pauseCurrentMedia(), this.state.enabled = false, (t43 = (e48 = this.store).eventListenerDisposer) == null || t43.call(e48), this.five.scene.remove(this.group), (i65 = this.TagContainerSvelte) == null || i65.$set({ tags: [] }), this.five.needsRender = true;
  }
  addResizeListener() {
    if (!this.store.resizeObserverDisposer && !this.store.resizeObserverDisposerAdding) {
      const e48 = this.addResizeObserver();
      this.store.resizeObserverDisposerAdding = true, setTimeout(() => {
        this.store.resizeObserverDisposer = e48, this.store.resizeObserverDisposerAdding = false;
      }, 200);
    }
  }
  addResizeObserver() {
    if (this.store.disposed)
      return;
    const e48 = this.five.getElement(), t43 = () => {
      this.state.enabled && (this.filterPointTag.forEach((h66) => h66.updateScreenPosition({ force: true })), this.temporaryState.visible = true, this.addRenderQueue({ type: "TagContainerSvelte", keys: ["temporaryState"] }));
    }, i65 = () => {
      this.state.enabled && (this.temporaryState.visible = false, this.addRenderQueue({ type: "TagContainerSvelte", keys: ["temporaryState"] }));
    }, { observe: o71, unobserve: s60 } = o5(
      i38(() => {
        this.store.resizeObserverDisposer && i65();
      }, 500),
      e48
    ), { observe: n72, unobserve: r66 } = o5(
      i37(() => t43(), 400),
      e48
    );
    return o71(), n72(), () => {
      s60(), r66();
    };
  }
  setUnfoldedByCamera() {
    let e48 = false;
    this.filterPointTag.forEach((t43) => {
      const i65 = t43.getUnfoldedByCamera();
      if (t43.state && i65 !== void 0) {
        if (i65 === true && t43.screenPosition) {
          const o71 = t43.getConfig().unfoldedConfig;
          r27(o71).keep !== "unfolded" && (e48 = true);
        }
        t43.state.unfolded = i65;
      }
    }), e48 && this.filterPointTag.forEach((t43) => {
      const i65 = t43.getConfig().unfoldedConfig;
      typeof i65 == "object" && (i65.autoUnfold || i65.autoUnfold === false || r27(i65.autoUnfold).enable === false || i65.keep) || t43.state && (t43.state.unfolded = false);
    });
  }
  changeTagMode(e48, t43) {
    var i65;
    (i65 = e48.tag3DContentSvelte) != null && i65.css3DInstance && (e48.tag3DContentSvelte.css3DInstance.mode = t43);
  }
  /**
   * @description 添加 cameraUpdate, panoArrived 等事件监听
   */
  addEventListener() {
    const { five: e48, hooks: t43 } = this, i65 = i6(this.five, this.onFiveEveryReady);
    return this.handleFivePanoArrived(), e48.on("wantsMoveToPano", this.handleFiveWantsMoveToPano), e48.on("models.refined", this.onFiveRefined), e48.on("modeChange", this.handleFiveModeChange), e48.on("modelShownFloorChange", this.handleFiveModelShownFloorChange), e48.on("cameraUpdate", this.handleFiveCameraUpdate), e48.on("cameraFovUpdate", this.handleFiveCameraFovUpdate), e48.on("panoArrived", this.handleFivePanoArrived), e48.on("panoArrived", this.loadVideoFirstFrame), e48.on("render.prepare", this.render), t43.on("click", this.clickhandler), () => {
      i65(), e48.off("wantsMoveToPano", this.handleFiveWantsMoveToPano), e48.off("models.refined", this.onFiveRefined), e48.off("modeChange", this.handleFiveModeChange), e48.off("modelShownFloorChange", this.handleFiveModelShownFloorChange), e48.off("cameraUpdate", this.handleFiveCameraUpdate), e48.off("cameraFovUpdate", this.handleFiveCameraFovUpdate), e48.off("panoArrived", this.handleFivePanoArrived), e48.off("panoArrived", this.loadVideoFirstFrame), e48.off("render.prepare", this.render), t43.off("click", this.clickhandler), this.store.eventListenerDisposer = void 0;
    };
  }
  /**
   * @description 设置标签 hover 启用状态
   */
  setTagHoverEnabled(e48, t43) {
    const i65 = this.getTagById(e48);
    i65 && (i65.hoverEnabled = t43);
  }
  /**
   * @description 获取标签 hover 启用状态
   */
  getTagHoverEnabled(e48) {
    const t43 = this.getTagById(e48);
    return t43 == null ? void 0 : t43.hoverEnabled;
  }
  /**
   * 设置全局 hover 启用状态
   */
  setGlobalHoverEnabled(e48) {
    this.globalHoverEnabled = e48;
  }
  /**
   * 获取全局 hover 启用状态
   */
  getGlobalHoverEnabled() {
    return this.globalHoverEnabled;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/GuideLinePlugin/Components/Tag.js
function P40(i65) {
  Qt2(i65, "svelte-4qjwer", ".guide-line__tag.svelte-4qjwer.svelte-4qjwer{position:relative}.text-with-distance.svelte-4qjwer.svelte-4qjwer{display:flex;flex-direction:column;position:relative;padding:0.125rem 0.25rem;border-radius:0.125rem;background:linear-gradient(to top, rgba(147, 147, 147, 0.3), rgba(74, 74, 74, 0.3));box-shadow:0 0.125rem 0.5rem 0 rgba(0, 0, 0, 0.2)}.text-with-distance.svelte-4qjwer .border.svelte-4qjwer{position:absolute;top:-50%;right:-50%;bottom:-50%;left:-50%;padding:0.0625rem;border-radius:0.25rem;background:linear-gradient(to right, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.7), rgba(255, 255, 255, 0.2));-webkit-mask:linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);mask:linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);mask-composite:exclude;-webkit-mask-composite:xor;transform:scale(0.5)}.distance-and-name.svelte-4qjwer.svelte-4qjwer{display:flex;gap:0.1875rem}.distance.svelte-4qjwer.svelte-4qjwer{white-space:nowrap;font-size:0.625rem;line-height:0.875rem;color:#66afff}.name.svelte-4qjwer.svelte-4qjwer{opacity:0.6;font-size:0.625rem;line-height:0.875rem;white-space:nowrap;color:#ffffff}.line-name.svelte-4qjwer.svelte-4qjwer{color:#fff;white-space:nowrap;font-size:0.625rem;line-height:0.875rem}.guide-line__tag-point.svelte-4qjwer.svelte-4qjwer{position:absolute;left:50%;bottom:0.0625rem;width:0.4375rem;height:0.125rem;transform:translateX(-50%);background:#fff;border-radius:50%;opacity:0.5}.guide-line__tag-line.svelte-4qjwer.svelte-4qjwer{position:absolute;left:50%;bottom:0.0625rem;width:0.0625rem;height:1.875rem;transform:translateX(-50%);background:linear-gradient(to top, #fff, rgba(255, 255, 255, 0))}.guide-line__tag-content.svelte-4qjwer.svelte-4qjwer{position:absolute;left:-0.9375rem;bottom:1.9375rem;display:flex}.guide-line__tag-icon.svelte-4qjwer.svelte-4qjwer{width:1.875rem;height:1.875rem;background-size:100%}.guide-line__tag-text.svelte-4qjwer.svelte-4qjwer{box-sizing:content-box;height:0.875rem;width:-moz-max-content;width:max-content;margin-top:0.3125rem;transform:translateX(-0.1875rem);white-space:nowrap;font-size:0.625rem;line-height:0.875rem;border:solid transparent;border-width:0.125rem 0.5rem 0.125rem 0.375rem;border-image-slice:6 25 6 18 fill;color:#fff}");
}
function E40(i65) {
  let e48, r66;
  return {
    c() {
      e48 = K4("div"), r66 = gt(
        /*text*/
        i65[0]
      ), te2(e48, "class", "guide-line__tag-text svelte-4qjwer"), ne2(e48, "border-image-source", `url(${/*text_background_url*/
      i65[6]})`);
    },
    m(l63, n72) {
      Nt(l63, e48, n72), pt(e48, r66);
    },
    p(l63, n72) {
      n72 & /*text*/
      1 && ee2(
        r66,
        /*text*/
        l63[0]
      );
    },
    d(l63) {
      l63 && J4(e48);
    }
  };
}
function I43(i65) {
  let e48, r66, l63, n72, v58 = (
    /*i18n*/
    i65[5]("全程") + ""
  ), o71, d73, q38 = (
    /*i18n*/
    i65[5]("米") + ""
  ), b55, t43, s60, f80, w49, N33, m66 = (
    /*name*/
    i65[4] && _23(i65)
  );
  return {
    c() {
      e48 = K4("div"), m66 && m66.c(), r66 = Xt(), l63 = K4("div"), n72 = K4("span"), o71 = gt(v58), d73 = gt(
        /*distance*/
        i65[2]
      ), b55 = gt(q38), t43 = Xt(), s60 = K4("span"), f80 = gt(
        /*text*/
        i65[0]
      ), w49 = Xt(), N33 = K4("div"), te2(n72, "class", "distance svelte-4qjwer"), te2(s60, "class", "name svelte-4qjwer"), te2(l63, "class", "distance-and-name svelte-4qjwer"), te2(N33, "class", "border svelte-4qjwer"), te2(e48, "class", "text-with-distance svelte-4qjwer");
    },
    m(g67, A62) {
      Nt(g67, e48, A62), m66 && m66.m(e48, null), pt(e48, r66), pt(e48, l63), pt(l63, n72), pt(n72, o71), pt(n72, d73), pt(n72, b55), pt(l63, t43), pt(l63, s60), pt(s60, f80), pt(e48, w49), pt(e48, N33);
    },
    p(g67, A62) {
      g67[4] ? m66 ? m66.p(g67, A62) : (m66 = _23(g67), m66.c(), m66.m(e48, r66)) : m66 && (m66.d(1), m66 = null), A62 & /*i18n*/
      32 && v58 !== (v58 = /*i18n*/
      g67[5]("全程") + "") && ee2(o71, v58), A62 & /*distance*/
      4 && ee2(
        d73,
        /*distance*/
        g67[2]
      ), A62 & /*i18n*/
      32 && q38 !== (q38 = /*i18n*/
      g67[5]("米") + "") && ee2(b55, q38), A62 & /*text*/
      1 && ee2(
        f80,
        /*text*/
        g67[0]
      );
    },
    d(g67) {
      g67 && J4(e48), m66 && m66.d();
    }
  };
}
function _23(i65) {
  let e48, r66;
  return {
    c() {
      e48 = K4("span"), r66 = gt(
        /*name*/
        i65[4]
      ), te2(e48, "class", "line-name svelte-4qjwer");
    },
    m(l63, n72) {
      Nt(l63, e48, n72), pt(e48, r66);
    },
    p(l63, n72) {
      n72 & /*name*/
      16 && ee2(
        r66,
        /*name*/
        l63[4]
      );
    },
    d(l63) {
      l63 && J4(e48);
    }
  };
}
function Z15(i65) {
  let e48, r66, l63, n72, v58, o71, d73, q38, b55, t43 = (
    /*text*/
    i65[0] && !/*distance*/
    i65[2] && E40(i65)
  ), s60 = (
    /*distance*/
    i65[2] && I43(i65)
  );
  return {
    c() {
      e48 = K4("div"), r66 = K4("div"), l63 = Xt(), n72 = K4("div"), v58 = Xt(), o71 = K4("div"), d73 = K4("div"), q38 = Xt(), t43 && t43.c(), b55 = Xt(), s60 && s60.c(), te2(r66, "class", "guide-line__tag-point svelte-4qjwer"), te2(n72, "class", "guide-line__tag-line svelte-4qjwer"), te2(d73, "class", "guide-line__tag-icon svelte-4qjwer"), ne2(d73, "background-image", `url(${/*icon_url*/
      i65[1]})`), te2(o71, "class", "guide-line__tag-content svelte-4qjwer"), te2(e48, "class", "guide-line__tag svelte-4qjwer"), ne2(
        e48,
        "opacity",
        /*opacity*/
        i65[3]
      );
    },
    m(f80, w49) {
      Nt(f80, e48, w49), pt(e48, r66), pt(e48, l63), pt(e48, n72), pt(e48, v58), pt(e48, o71), pt(o71, d73), pt(o71, q38), t43 && t43.m(o71, null), pt(o71, b55), s60 && s60.m(o71, null);
    },
    p(f80, [w49]) {
      w49 & /*icon_url*/
      2 && ne2(d73, "background-image", `url(${/*icon_url*/
      f80[1]})`), /*text*/
      f80[0] && !/*distance*/
      f80[2] ? t43 ? t43.p(f80, w49) : (t43 = E40(f80), t43.c(), t43.m(o71, b55)) : t43 && (t43.d(1), t43 = null), /*distance*/
      f80[2] ? s60 ? s60.p(f80, w49) : (s60 = I43(f80), s60.c(), s60.m(o71, null)) : s60 && (s60.d(1), s60 = null), w49 & /*opacity*/
      8 && ne2(
        e48,
        "opacity",
        /*opacity*/
        f80[3]
      );
    },
    i: N4,
    o: N4,
    d(f80) {
      f80 && J4(e48), t43 && t43.d(), s60 && s60.d();
    }
  };
}
function K30(i65, e48, r66) {
  let { text: l63 = "" } = e48, { icon_url: n72 = "" } = e48, { distance: v58 = 0 } = e48, { opacity: o71 = 1 } = e48, { name: d73 = "" } = e48, { i18n: q38 = (t43) => t43 } = e48;
  const b55 = "data:image/png;base64,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";
  return i65.$$set = (t43) => {
    "text" in t43 && r66(0, l63 = t43.text), "icon_url" in t43 && r66(1, n72 = t43.icon_url), "distance" in t43 && r66(2, v58 = t43.distance), "opacity" in t43 && r66(3, o71 = t43.opacity), "name" in t43 && r66(4, d73 = t43.name), "i18n" in t43 && r66(5, q38 = t43.i18n);
  }, [l63, n72, v58, o71, d73, q38, b55];
}
var F34 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      K30,
      Z15,
      Ft,
      {
        text: 0,
        icon_url: 1,
        distance: 2,
        opacity: 3,
        name: 4,
        i18n: 5
      },
      P40
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/GuideLinePlugin/utils/index.js
function i49(t43) {
  return t43.length === 0 ? [] : t43.filter((e48, n72) => e48 !== t43[n72 - 1]);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/GuideLinePlugin/utils/createPath.js
var b33 = Object.defineProperty;
var d47 = Object.defineProperties;
var H29 = Object.getOwnPropertyDescriptors;
var E41 = Object.getOwnPropertySymbols;
var T29 = Object.prototype.hasOwnProperty;
var V18 = Object.prototype.propertyIsEnumerable;
var P41 = (e48, t43, r66) => t43 in e48 ? b33(e48, t43, { enumerable: true, configurable: true, writable: true, value: r66 }) : e48[t43] = r66;
var $20 = (e48, t43) => {
  for (var r66 in t43 || (t43 = {}))
    T29.call(t43, r66) && P41(e48, r66, t43[r66]);
  if (E41)
    for (var r66 of E41(t43))
      V18.call(t43, r66) && P41(e48, r66, t43[r66]);
  return e48;
};
var g41 = (e48, t43) => d47(e48, H29(t43));
function B33(e48, t43, r66) {
  if (e48.length < 2)
    return [];
  const c85 = [];
  e48.forEach((a62, C52) => {
    var i65, u72, _32, o71, l63, n72, h66, y51;
    let f80 = (i65 = r66 == null ? void 0 : r66.route_standing_positions) == null ? void 0 : i65[a62];
    if (f80 || (f80 = (_32 = (u72 = t43.observers[a62]) == null ? void 0 : u72.standingPosition) == null ? void 0 : _32.toArray()), !f80)
      return;
    const m66 = e48[C52 - 1], s60 = (y51 = (l63 = (o71 = r66 == null ? void 0 : r66.node_pair_to_route_points) == null ? void 0 : o71[`${m66}:${a62}`]) == null ? void 0 : l63.slice()) != null ? y51 : (h66 = (n72 = r66 == null ? void 0 : r66.node_pair_to_route_points) == null ? void 0 : n72[`${a62}:${m66}`]) == null ? void 0 : h66.slice().reverse();
    s60 == null || s60.forEach((R43) => {
      c85.push(R43);
    }), c85.push(f80);
  });
  const v58 = t43.transform, A62 = c85.map((a62) => c4(new Vector3().fromArray(a62), v58).toArray());
  return [g41($20({}, r66), { type: "CatmullRomCurve3", points: A62 })];
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/GuideLinePlugin/GuideLineModeItem/index.js
var w30 = Object.defineProperty;
var V19 = Object.defineProperties;
var P42 = Object.getOwnPropertyDescriptors;
var y35 = Object.getOwnPropertySymbols;
var x33 = Object.prototype.hasOwnProperty;
var S42 = Object.prototype.propertyIsEnumerable;
var b34 = (h66, e48, t43) => e48 in h66 ? w30(h66, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : h66[e48] = t43;
var f49 = (h66, e48) => {
  for (var t43 in e48 || (e48 = {}))
    x33.call(e48, t43) && b34(h66, t43, e48[t43]);
  if (y35)
    for (var t43 of y35(e48))
      S42.call(e48, t43) && b34(h66, t43, e48[t43]);
  return h66;
};
var C44 = (h66, e48) => V19(h66, P42(e48));
var i50 = (h66, e48, t43) => (b34(h66, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var I44 = (
  /* glsl */
  `
  varying vec2 vUv;
  varying float ignoreAnimationMap;
  attribute float animationWillError;

  void main() {
    vUv = uv;
    ignoreAnimationMap = animationWillError;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`
);
var R37 = (
  /* glsl */
  `
  precision highp float;
  precision mediump int;
  // 是否使用颜色
  uniform int useMapColor;
  // 贴图
  uniform sampler2D map;
  // 贴图颜色
  uniform vec3 mapColor;
  // 贴图透明度
  uniform float mapOpacity;
  // 背景颜色
  uniform vec3 backgroundColor;
  // 边框颜色
  uniform vec3 borderColor;
  // 边框透明度
  uniform float borderOpacity;
  // 边框宽度
  uniform float borderWidth;
  // 背景透明度
  uniform float backgroundOpacity;
  // @link https://developer.mozilla.org/en-US/docs/Web/CSS/background-clip
  uniform int backgroundClip;
  // 整体透明度
  uniform float opacity;
  // 最大 U 值
  uniform float maxV;
  // v offset
  uniform float vOffset;
  // 闪烁动画值
  uniform float flicker;
  // 纹理坐标
  varying vec2 vUv;
  varying float ignoreAnimationMap;

  // 获取纹理颜色
  vec4 getImage() {
    vec2 uv = vUv;
    uv.y = uv.y - vOffset;

    if (ignoreAnimationMap == 1.0) {
      return vec4(0.0, 0.0, 0.0, 0.0);
    }

    // 原始贴图颜色
    vec4 image = texture2D(map, uv);
    // 如果使用颜色
    if (useMapColor == 1) {
      // 混合颜色
      image = mix(image, vec4(mapColor, image.a), image.a);
    }
    image.a = image.a * mapOpacity;
    return image;
  }

  // 获取线性渐变的透明度
  float linearGradientOpacity() {
    // 当前的 v 值
    float v = vUv.y;
    float gradientLength = 1.0;
    if (v <= gradientLength) {
      return v / gradientLength; // 在 [0, gradientLength] 范围内，透明度为 [0, 1]
    } else if (v <= maxV - gradientLength) {
      return 1.0; // 在 (gradientLength, maxV - gradientLength) 范围内，透明度为 1
    } else {
      return (maxV - v) / gradientLength; // 在 [maxV - gradientLength, maxV] 范围内，透明度为 [1, 0]
    }
  }

  // 获取边框颜色
  vec4 getBorder() {
    float u = vUv.x;
    if (u <= borderWidth || u >= 1.0 - borderWidth) {
      return vec4(borderColor, borderOpacity);
    }
    return vec4(0.0, 0.0, 0.0, 0.0);
  }

  // 获取背景色
  vec4 getBackground() {
    // border-box
    if (backgroundClip == 0) {
      return vec4(backgroundColor, backgroundOpacity);
    } else {
    // padding-box
      float u = vUv.x;
      if (u > borderWidth && u < 1.0 - borderWidth) {
        return vec4(backgroundColor, backgroundOpacity);
      }
      return vec4(0.0, 0.0, 0.0, 0.0);
    }
  }

  // 根据摄像机位置计算透明度
  float distanceOpacity() {
    return 1.0;
  }

  void main() {
    float v = vUv.y;
    vec4 image = getImage();
    vec4 border = getBorder();
    vec4 background = getBackground();
    // 设置背景颜色
    gl_FragColor = background;
    // 混合颜色和背景
    gl_FragColor = mix(background, vec4(image.rgb, image.a * 0.4 + 0.6), image.a); //  image.a * 0.4 + 0.6 先这么写，但是不是最优解
    // 混合边框
    gl_FragColor = mix(gl_FragColor, border, border.a);
    // 设置整体透明度
    gl_FragColor.a = gl_FragColor.a * opacity;
    gl_FragColor.a = gl_FragColor.a * linearGradientOpacity();
    gl_FragColor.a = gl_FragColor.a * distanceOpacity();
    gl_FragColor.a = gl_FragColor.a * flicker;
  }
`
);
var N27 = class {
  constructor(e48, t43) {
    i50(this, "name", "");
    i50(this, "startTagContainer");
    i50(this, "endTagContainer");
    i50(this, "path", []);
    i50(this, "geometryStyle", {});
    i50(this, "materialStyle", {});
    i50(this, "meshStyle", {});
    i50(this, "group", new Group());
    i50(this, "mesh");
    i50(this, "visible", null);
    i50(this, "five");
    i50(this, "mode");
    i50(this, "_curvePath", null);
    i50(this, "_curvePoints", null);
    i50(this, "_panoGroup", []);
    i50(this, "skippedPositions", null);
    i50(this, "textureUrl", "");
    i50(this, "scale", 1);
    i50(this, "width", 0.5);
    i50(this, "unitLength", 0.5);
    i50(this, "_visibleFloorIndexes", null);
    i50(this, "modeVisible", false);
    i50(this, "floorVisible", true);
    i50(this, "defaultVisible", false);
    i50(this, "inWalkAnimation", false);
    i50(this, "customVisible", null);
    i50(this, "parent");
    i50(this, "plugin");
    i50(this, "textureHasLoaded", false);
    i50(this, "disposed", false);
    i50(this, "flowAnime", new d18({ progress: 0 }).to({ progress: 1 }).duration(1500).repeat(1 / 0));
    i50(this, "cacheLengths", []);
    i50(this, "heightOffset", 0);
    i50(this, "dispose", () => {
      var e49, t44;
      this.disposed || (this.disposed = true, this.parent.hooks.off("show", this.updateVisible), this.parent.hooks.off("hide", this.updateVisible), this.plugin.hooks.off("show", this.updateVisible), this.plugin.hooks.off("hide", this.updateVisible), this.plugin.hooks.off("enable", this.updateVisible), this.plugin.hooks.off("disable", this.updateVisible), this.five.off("modeChange", this.onFiveModeChange), this.five.off("modelShownFloorChange", this.onFiveModelShownFloorChange), this.doHide(), (e49 = this.startTagContainer) == null || e49.plugin.dispose(), (t44 = this.endTagContainer) == null || t44.plugin.dispose());
    });
    i50(this, "onWalkAnimationStart", () => {
      this.inWalkAnimation = true, this.updateVisible();
    });
    i50(this, "onWalkAnimationEnd", () => {
      this.inWalkAnimation = false, this.updateVisible();
    });
    i50(this, "onFiveModeChange", (e49) => {
      this.modeVisible = this.mode === "panorama" ? n37(e49) : o40(e49), this.updateVisible();
    });
    i50(this, "onFiveModelShownFloorChange", (e49) => {
      this.floorVisible = e49 === null || this.visibleFloorIndexes === null || this.visibleFloorIndexes.includes(e49), this.updateVisible();
    });
    i50(this, "updateVisible", () => {
      const e49 = (() => !this.parent.visible || !this.plugin.state.enabled || !this.plugin.state.visible ? false : this.customVisible !== null ? this.customVisible : this.inWalkAnimation ? true : this.modeVisible && this.defaultVisible && this.floorVisible)();
      this.visible = e49, e49 && this.textureHasLoaded ? this.doShow() : this.doHide();
    });
    i50(this, "onFlowAnimeUpdate", (e49) => {
      const { progress: t44 } = e49;
      this.mesh.material.uniforms.vOffset.value = t44, this.mesh.material.uniformsNeedUpdate = true, this.five.needsRender = true;
    });
    i50(this, "logError", (e49) => n34("GuideLineModeItem: ", e49));
    var a62, o71;
    this.five = e48, this.mode = t43.mode, this.plugin = t43.plugin, this.parent = t43.parent, this.group.name = "GuideLineModeItem";
    const s60 = new BufferGeometry(), r66 = new ShaderMaterial({
      vertexShader: I44,
      fragmentShader: R37,
      transparent: true,
      uniforms: {
        map: { value: null },
        useMapColor: { value: 0 },
        mapColor: { value: new Color() },
        mapOpacity: { value: 1 },
        backgroundColor: { value: new Color() },
        backgroundOpacity: { value: 0 },
        borderColor: { value: new Color() },
        borderOpacity: { value: 0 },
        backgroundClip: { value: 0 },
        borderWidth: { value: 0.05 },
        opacity: { value: 1 },
        flicker: { value: 1 },
        maxV: { value: 0 },
        vOffset: { value: 0 }
      }
    });
    this.mesh = new Mesh(s60, r66), this.mesh.name = "GuideLineModeItem", this.group.add(this.mesh), this.mode === "panorama" && (this.parent.hooks.on("walkStart", this.onWalkAnimationStart), this.parent.hooks.on("walkEnded", this.onWalkAnimationEnd)), this.updateVisible(), this.onFiveModeChange(this.five.getCurrentState().mode), this.onFiveModelShownFloorChange((o71 = (a62 = this.five.model) == null ? void 0 : a62.shownFloor) != null ? o71 : null), this.flowAnime.onUpdate(this.onFlowAnimeUpdate), this.parent.hooks.on("show", this.updateVisible), this.parent.hooks.on("hide", this.updateVisible), this.plugin.hooks.on("show", this.updateVisible), this.plugin.hooks.on("hide", this.updateVisible), this.plugin.hooks.on("enable", this.updateVisible), this.plugin.hooks.on("disable", this.updateVisible), this.plugin.hooks.on("dispose", this.dispose), this.five.on("modeChange", this.onFiveModeChange), this.five.on("modelShownFloorChange", this.onFiveModelShownFloorChange), this.five.needsRender = true;
  }
  get panoGroup() {
    return this._panoGroup;
  }
  /** 可展示的楼层 */
  get visibleFloorIndexes() {
    return this._visibleFloorIndexes;
  }
  /** THREE Curve 路径 */
  get curvePath() {
    return this._curvePath;
  }
  /** THREE Curve 路径上的点 */
  get curvePoints() {
    return this._curvePoints;
  }
  /** 自定义展示 */
  setCustomVisible(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.customVisible !== e48 && (this.customVisible = e48, this.updateVisible());
  }
  /** 设置默认展示 */
  setDefaultVisible(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.defaultVisible !== e48 && (this.defaultVisible = e48, this.updateVisible());
  }
  /** 基础宽、长 */
  setUnitSize(e48, t43) {
    if (this.disposed)
      return this.logError("disposed");
    this.width = e48, this.unitLength = t43, this.setGeometryByPath(this.path, { width: e48, unit_length: t43 });
  }
  /** 设置缩放 */
  setScale(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.scale = e48, this.setGeometryByPath(this.path, { scale: e48 });
  }
  /** 通过点位设置线条形状 */
  setGeometryByPanoGroup(e48, t43) {
    if (this.disposed)
      return this.logError("disposed");
    if (!this.five.work)
      return this.logError("setPathByPanoGroup: work is not ready");
    const s60 = i49(e48);
    if (this._panoGroup = s60, (t43 == null ? void 0 : t43.skipPanoGroup) !== void 0) {
      const l63 = t43.skipPanoGroup ? s60.map((g67) => this.plugin.workUtil.getObserverStandingPosition(g67)).filter(i7) : null;
      this.skippedPositions = l63;
    }
    const r66 = this.five.getCurrentState(), a62 = this.five.works.getWork(r66.workCode), o71 = B33(s60, a62, t43);
    this.path = o71, this.setGeometryByPath(o71, t43);
  }
  /** 通过路径设置线条形状 */
  setGeometryByPath(e48, t43) {
    var u72, m66, d73;
    if (this.disposed)
      return this.logError("disposed");
    const s60 = (u72 = t43 == null ? void 0 : t43.scale) != null ? u72 : this.scale, r66 = (m66 = t43 == null ? void 0 : t43.width) != null ? m66 : this.width, a62 = (d73 = t43 == null ? void 0 : t43.unit_length) != null ? d73 : this.unitLength;
    this.scale = s60, this.width = r66, this.unitLength = a62;
    const { geometry: o71, maxV: l63, curvePath: g67, curvePoints: c85 } = Rt2({
      path: e48,
      width: r66 * s60,
      unitLength: a62 * s60,
      skipPositions: this.skippedPositions
    });
    this._curvePath = g67, this._curvePoints = c85, this.mesh.geometry.copy(o71), this.mesh.material.needsUpdate = true, this.mesh.material.uniforms.maxV.value = l63, this.five.needsRender = true, this.path = e48, this.geometryStyle = f49(f49({}, this.geometryStyle), t43);
  }
  /** 设置线条材质 */
  setMartial(e48) {
    var s60, r66, a62, o71, l63;
    if (this.disposed)
      return this.logError("disposed");
    this.setDefaultVisible((s60 = e48 == null ? void 0 : e48.visible) != null ? s60 : false), this.setColor((r66 = e48 == null ? void 0 : e48.color) != null ? r66 : "#ffffff"), this.setOpacity((a62 = e48 == null ? void 0 : e48.opacity) != null ? a62 : 0.5), this.setTextureUrl((l63 = (o71 = e48 == null ? void 0 : e48.texture) == null ? void 0 : o71.url) != null ? l63 : "https://vr-image-4.realsee-cdn.cn/release/web/arrow1.ebe7d0ff.png"), (e48 == null ? void 0 : e48.background_color) !== void 0 && this.setBackgroundColor(e48.background_color), (e48 == null ? void 0 : e48.background_opacity) !== void 0 && this.setBackgroundOpacity(e48.background_opacity), (e48 == null ? void 0 : e48.border_color) !== void 0 && this.setBorderColor(e48.border_color), (e48 == null ? void 0 : e48.border_opacity) !== void 0 && this.setBorderOpacity(e48.border_opacity), (e48 == null ? void 0 : e48.border_width) !== void 0 && this.setBorderWidth(e48.border_width), (e48 == null ? void 0 : e48.background_clip) !== void 0 && this.setBackgroundClip(e48.background_clip);
    const t43 = f49(f49({}, this.materialStyle), e48);
    this.materialStyle = t43;
  }
  /** 设置模型状态 */
  setMeshStyle(e48) {
    if (e48 != null && e48.translate) {
      const r66 = new Vector3(), a62 = new Vector3().fromArray(e48.translate);
      a62.y += this.heightOffset, r66.add(a62), this.group.position.copy(r66), s60(this.startTagContainer, a62), s60(this.endTagContainer, a62);
    }
    const t43 = f49(f49({}, this.meshStyle), e48);
    this.meshStyle = t43;
    function s60(r66, a62) {
      if (!(r66 != null && r66.tag))
        return;
      const o71 = new Vector3().fromArray(r66.tag.position);
      o71.add(a62);
      const l63 = o71.toArray();
      r66.plugin.changeTagById(r66.tag.id, { position: l63 });
    }
  }
  /** 设置 Y 轴上的偏移量，为了让多条路线在高度上错开，每个路线都需要有个额外的 offset */
  setHeightOffset(e48) {
    const t43 = new Vector3();
    this.meshStyle.translate && t43.add(new Vector3().fromArray(this.meshStyle.translate)), t43.setY(t43.y + e48), this.group.position.copy(t43), this.heightOffset = e48, this.five.needsRender = true;
  }
  /** 设置贴图颜色 */
  setColor(e48) {
    if (this.disposed)
      return this.logError("disposed");
    e48 && (this.mesh.material.uniforms.mapColor.value = new Color().set(e48)), this.mesh.material.uniforms.useMapColor.value = e48 ? 1 : 0, this.mesh.material.uniformsNeedUpdate = true, this.five.needsRender = true;
  }
  /** 设置边框 */
  setBorderColor(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.mesh.material.uniforms.borderColor.value = new Color().set(e48), this.five.needsRender = true;
  }
  /** 设置边框透明度 */
  setBorderOpacity(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.mesh.material.uniforms.borderOpacity.value = e48, this.mesh.material.uniformsNeedUpdate = true, this.five.needsRender = true;
  }
  setBackgroundClip(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.mesh.material.uniforms.backgroundClip.value = e48 === "border-box" ? 0 : 1, this.mesh.material.uniformsNeedUpdate = true, this.five.needsRender = true;
  }
  /**
   * @description: 设置边框宽度
   */
  setBorderWidth(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.mesh.material.uniforms.borderWidth.value = e48, this.mesh.material.uniformsNeedUpdate = true, this.five.needsRender = true;
  }
  /** 设置背景颜色 */
  setBackgroundColor(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.mesh.material.uniforms.backgroundColor.value = new Color().set(e48), this.mesh.material.uniformsNeedUpdate = true, this.five.needsRender = true;
  }
  /** 设置背景透明度 */
  setBackgroundOpacity(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.mesh.material.uniforms.backgroundOpacity.value = e48, this.mesh.material.uniformsNeedUpdate = true, this.five.needsRender = true;
  }
  /** 设置整体透明度 */
  setOpacity(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.mesh.material.uniforms.opacity.value = e48, this.mesh.material.uniformsNeedUpdate = true, this.five.needsRender = true;
  }
  /** 设置贴图透明度 */
  setMapOpacity(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.mesh.material.uniforms.mapOpacity.value = e48, this.mesh.material.uniformsNeedUpdate = true, this.five.needsRender = true;
  }
  /** 设置贴图 */
  setTextureUrl(e48) {
    if (this.disposed)
      return this.logError("disposed");
    this.textureUrl = e48, p15(e48).then((t43) => {
      this.disposed || this.textureUrl === e48 && (t43.wrapT = RepeatWrapping, this.textureHasLoaded = true, this.mesh.material.uniforms.map.value = t43, this.mesh.material.uniformsNeedUpdate = true, this.mesh.material.needsUpdate = true, this.five.needsRender = true, this.updateVisible());
    });
  }
  setVisibleFloorIndexes(e48) {
    var t43, s60;
    if (this.disposed)
      return this.logError("disposed");
    this._visibleFloorIndexes = e48, this.onFiveModelShownFloorChange((s60 = (t43 = this.five.model) == null ? void 0 : t43.shownFloor) != null ? s60 : null);
  }
  setStartTag(e48) {
    this.setTag("start", e48);
  }
  setEndTag(e48) {
    this.setTag("end", e48);
  }
  /** 闪烁 */
  flicker() {
    var e48, t43, s60, r66, a62, o71;
    if (this.disposed)
      return this.logError("disposed");
    k23([this.group, (s60 = (t43 = (e48 = this.startTagContainer) == null ? void 0 : e48.plugin) == null ? void 0 : t43.tags[0]) == null ? void 0 : s60.dom, (o71 = (a62 = (r66 = this.endTagContainer) == null ? void 0 : r66.plugin) == null ? void 0 : a62.tags[0]) == null ? void 0 : o71.dom], {
      loop: 6,
      updateRender: () => {
        this.five.needsRender = true;
      }
    });
  }
  /** 求起点到 panoIndex 曲线长度
   * @param index panoIndex 在 panoGroup 中的索引
   *
   * @description 为什么不使用 panoIndex 作为参数？
   * - panoIndex 在一个曲线中可能出现多次，无法确定是哪一个。
   */
  getLengthByPanoGroupIndex(e48) {
    return this.disposed ? this.logError("disposed") : this.cacheLengths.length !== 0 ? this.cacheLengths[e48] : (this.cacheLengths = this.getPanoGroupLengths(), this.cacheLengths[e48]);
  }
  getPanoGroupLengths() {
    var g67, c85, u72, m66;
    if (!this.curvePoints || !this.curvePath)
      return [];
    const e48 = this.curvePoints.length, t43 = (c85 = (g67 = this.curvePath) == null ? void 0 : g67.getLength()) != null ? c85 : 0, s60 = e48 - 1, r66 = t43 / s60, a62 = (m66 = (u72 = this.curvePath) == null ? void 0 : u72.getLengths(s60)) != null ? m66 : [], o71 = [];
    let l63 = 0;
    for (let d73 = 0; d73 < e48; d73++) {
      const v58 = this.curvePoints[d73], p66 = this.plugin.workUtil.getObserverStandingPosition(l63);
      if (!p66)
        break;
      p66.clone().setY(0).distanceTo(v58.clone().setY(0)) < r66 && (o71.push(a62[d73]), l63 += 1);
    }
    return o71;
  }
  setTag(e48, t43) {
    var g67, c85;
    const s60 = this.curvePath;
    if (!(t43 != null && t43.data))
      return;
    const r66 = e48 === "start" ? (g67 = this.startTagContainer) != null ? g67 : (() => (this.startTagContainer = { tag: null, plugin: new No(this.five, { containerZIndex: 10 }) }, this.startTagContainer))() : (c85 = this.endTagContainer) != null ? c85 : (() => (this.endTagContainer = { tag: null, plugin: new No(this.five, { containerZIndex: 10 }) }, this.endTagContainer))(), o71 = a21({}, {
      contentType: "Custom",
      stickType: "2DPoint",
      config: { visibleConfig: { visibleFiveMode: ["Floorplan", "Mapview"], followModelVisibility: false } },
      style: { point: { enabled: false } },
      data: {}
    }, t43);
    r66.tag = o71, H30(o71) && (r66.tag.element = (u72) => {
      var v58, p66;
      (v58 = r66.app) == null || v58.$destroy();
      const m66 = e48 === "start" ? C44(f49({}, o71.data), { name: this.name, distance: Math.round((p66 = s60 == null ? void 0 : s60.getLength()) != null ? p66 : 0), i18n: this.plugin.config.i18n }) : o71.data, d73 = new F34({ target: u72, intro: true, props: m66 });
      return r66.app = d73, () => d73.$destroy();
    }), r66.plugin.load({ tagList: [r66.tag] });
    const l63 = this.meshStyle.translate;
    if (l63 && o71.position) {
      const u72 = new Vector3().fromArray(o71.position), m66 = new Vector3().fromArray(l63);
      u72.add(m66), u72.y += this.heightOffset;
      const d73 = u72.toArray();
      r66.plugin.changeTagById(r66.tag.id, { position: d73 });
    }
  }
  doShow() {
    var e48, t43;
    this.mode === "model" && !this.flowAnime.isPlaying() && this.flowAnime.play(), this.five.scene.add(this.group), (e48 = this.startTagContainer) == null || e48.plugin.show(), (t43 = this.endTagContainer) == null || t43.plugin.show(), this.five.needsRender = true;
  }
  doHide() {
    var e48, t43;
    this.mode === "model" && this.flowAnime.stop(), this.five.scene.remove(this.group), (e48 = this.startTagContainer) == null || e48.plugin.hide(), (t43 = this.endTagContainer) == null || t43.plugin.hide(), this.five.needsRender = true;
  }
};
function H30(h66) {
  return h66.contentType === "Custom";
}
var fe8 = Object.freeze(Object.defineProperty({
  __proto__: null,
  GuideLineModeItem: N27
}, Symbol.toStringTag, { value: "Module" }));

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/BaseController.js
var c54 = Object.defineProperty;
var u44 = Object.getOwnPropertySymbols;
var v38 = Object.prototype.hasOwnProperty;
var S43 = Object.prototype.propertyIsEnumerable;
var n47 = (a62, s60, e48) => s60 in a62 ? c54(a62, s60, { enumerable: true, configurable: true, writable: true, value: e48 }) : a62[s60] = e48;
var f50 = (a62, s60) => {
  for (var e48 in s60 || (s60 = {}))
    v38.call(s60, e48) && n47(a62, e48, s60[e48]);
  if (u44)
    for (var e48 of u44(s60))
      S43.call(s60, e48) && n47(a62, e48, s60[e48]);
  return a62;
};
var o58 = (a62, s60, e48) => (n47(a62, typeof s60 != "symbol" ? s60 + "" : s60, e48), e48);
var m51 = (a62, s60, e48) => new Promise((t43, i65) => {
  var r66 = (d73) => {
    try {
      h66(e48.next(d73));
    } catch (l63) {
      i65(l63);
    }
  }, b55 = (d73) => {
    try {
      h66(e48.throw(d73));
    } catch (l63) {
      i65(l63);
    }
  }, h66 = (d73) => d73.done ? t43(d73.value) : Promise.resolve(d73.value).then(r66, b55);
  h66((e48 = e48.apply(a62, s60)).next());
});
var g42 = "CruisePlugin";
var p33 = `${g42}`;
var qe5 = class extends F9 {
  constructor(e48, t43) {
    super(e48, t43);
    o58(this, "state", {
      visible: true,
      enabled: true,
      disposed: false,
      playing: false,
      speed: 1
    });
    o58(this, "data");
    o58(this, "config");
    o58(this, "pauseDataMap", /* @__PURE__ */ new Map());
    o58(this, "privateState", {
      playing: false,
      broke: false,
      modeChanging: false
    });
    o58(this, "GuideLine");
    o58(this, "disposedErrorLog", () => {
      console.error(`${p33} is disposed`);
    });
    o58(this, "disableWarnLog", () => {
      console.warn(`${p33} is disabled`);
    });
    o58(this, "disableErrorLog", () => {
      console.error(`${p33} is disabled`);
    });
    this.config = t43, Object.assign(window, { [`__${g42}_DEBUG__`]: this });
  }
  /**
   * @description Play | Continue play. if have been paused, continue play from the pause position; if playing, do nothing
   */
  play(e48) {
    this.setState({ playing: true }, e48);
  }
  /**
   * @description Pause
   */
  pause(e48) {
    this.setState({ playing: false }, e48);
  }
  /**
   * @description Show guide line
   */
  show(e48) {
    return m51(this, null, function* () {
      this.setState({ visible: true }, e48);
    });
  }
  /**
   * @description Hide guide line
   */
  hide(e48) {
    return m51(this, null, function* () {
      this.setState({ visible: false }, e48);
    });
  }
  /**
   * @description Enable
   */
  enable(e48) {
    this.setState({ enabled: true }, e48);
  }
  /**
   * @description Disable
   */
  disable(e48) {
    this.setState({ enabled: false }, e48);
  }
  /**
   * @description Dispose
   */
  dispose() {
    this.setState({ disposed: true });
  }
  /**
   * @description Set state
   */
  setState(e48, t43) {
    var r66;
    if (this.state.disposed)
      return this.disposedErrorLog();
    if (!this.state.enabled && e48.enabled !== true && e48.disposed !== true)
      return this.disableErrorLog();
    const i65 = f50({}, this.state);
    this.state = a21({}, this.state, e48), e48.disposed !== void 0 && e48.disposed !== i65.disposed && e48.disposed && this.handleDispose(), e48.visible !== void 0 && e48.visible !== i65.visible && this.handleVisible(e48.visible, t43 == null ? void 0 : t43.userAction), e48.enabled !== void 0 && e48.enabled !== i65.enabled && this.handleEnable(e48.enabled, t43 == null ? void 0 : t43.userAction), e48.playing !== void 0 && e48.playing !== i65.playing && this.changePlayState(e48.playing, t43), e48.speed !== void 0 && e48.speed !== i65.speed && this.changeSpeed(e48.speed), b6(i65, this.state, { deep: true }) || this.hooks.emit("stateChange", { state: this.state, prevState: i65, userAction: (r66 = t43 == null ? void 0 : t43.userAction) != null ? r66 : true });
  }
  /**
   * @description Clear pause data
   */
  clearPauseData() {
    var e48, t43;
    if ((e48 = this.data) != null && e48.id)
      return this.pauseDataMap.delete((t43 = this.data) == null ? void 0 : t43.id);
  }
  changePlayState(e48, t43) {
    this.actionIfStateIsEnabled(
      () => {
        var i65;
        return this.hooks.emit("playStateChange", e48 ? "playing" : "pause", { userAction: (i65 = t43 == null ? void 0 : t43.userAction) != null ? i65 : true });
      }
    ), e48 ? this.handlePlay(t43) : this.handlePause(t43), this.state.playing = e48;
  }
  handleEnable(e48, t43 = true) {
    var i65, r66;
    e48 ? ((i65 = this.GuideLine) == null || i65.enable(), this.hooks.emit("enable", { userAction: t43 })) : ((r66 = this.GuideLine) == null || r66.disable(), this.changePlayState(false, { userAction: t43 }), this.hooks.emit("disable", { userAction: t43 })), this.state.enabled = e48;
  }
  handleVisible(e48, t43 = true) {
    var i65, r66;
    e48 ? ((i65 = this.GuideLine) == null || i65.show(), this.actionIfStateIsEnabled(() => this.hooks.emit("show", { userAction: t43 }))) : ((r66 = this.GuideLine) == null || r66.hide(), this.actionIfStateIsEnabled(() => this.hooks.emit("hide", { userAction: t43 }))), this.state.visible = e48;
  }
  /**
   * @description: listen interupted by five gesture
   */
  addInterruptListener(e48) {
    const t43 = () => {
      this.privateState.modeChanging || e48();
    }, i65 = (r66) => {
      r66 !== "mouseMove" && (e48(), this.five.off("gesture", i65));
    };
    return this.five.on("gesture", i65), this.five.once("wantsChangeMode", t43), () => {
      this.five.off("gesture", i65), this.five.off("wantsChangeMode", t43);
    };
  }
  /**
   * @description Get duration by speed
   */
  getSpeededDuration(e48) {
    return e48 / this.state.speed;
  }
  /**
   * @description Force interupt five updateCamera
   */
  forceInteruptUpdateCamera() {
    this.five.updateCamera({}, 0);
  }
  getPauseData() {
    var e48;
    if ((e48 = this.data) != null && e48.id)
      return this.pauseDataMap.get(this.data.id);
  }
  /**
   * @description Set pause data
   */
  setPauseData() {
    var t43;
    const e48 = (t43 = this.data) == null ? void 0 : t43.id;
    if (e48)
      return this.pauseDataMap.set(e48, {
        fiveState: this.five.getCurrentState(),
        playedProgress: this.getProgress()
      });
  }
  /**
   * @description: Restore state that before loaded
   */
  clear() {
    this.clearPauseData();
  }
  // TODO
  handleDispose() {
    var e48;
    this.setState({ playing: false }), this.clearPauseData(), this.clear(), (e48 = this.GuideLine) == null || e48.dispose(), this.GuideLine = void 0;
  }
  /**
   * @description Action function if plugin is enable
   */
  actionIfStateIsEnabled(e48, t43) {
    if (this.state.enabled)
      return e48();
    t43 != null && t43.warnLog && this.disableWarnLog();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/utils/getFiveStateOnCurve.js
function A50(o71, n72, t43) {
  var e48, i65, r66;
  const a62 = new Vector3().fromArray([(e48 = t43.x) != null ? e48 : 0, (i65 = t43.y) != null ? i65 : 0, (r66 = t43.z) != null ? r66 : 0]), c85 = o71.getPointAt(n72).clone().add(a62), d73 = o71.getTangentAt(n72), { longitude: m66, latitude: s60 } = n42(d73);
  return { offset: c85.clone(), longitude: m66, latitude: s60, distance: 0 };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/utils/coordinatesToVector.js
function n48(t43) {
  const a62 = Math.abs(Math.cos(t43.latitude));
  return new Vector3(
    /* x */
    -Math.sin(t43.longitude) * a62,
    /* y */
    -Math.sin(t43.latitude),
    /* z */
    -Math.cos(t43.longitude) * a62
  );
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/utils/coordinatesAngle.js
function s46(t43, n72) {
  const e48 = n48(t43), r66 = n48(n72);
  return e48.angleTo(r66);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/utils/safeCall.js
var l42 = (a62, n72, t43) => new Promise((o71, s60) => {
  var r66 = (c85) => {
    try {
      e48(t43.next(c85));
    } catch (h66) {
      s60(h66);
    }
  }, y51 = (c85) => {
    try {
      e48(t43.throw(c85));
    } catch (h66) {
      s60(h66);
    }
  }, e48 = (c85) => c85.done ? o71(c85.value) : Promise.resolve(c85.value).then(r66, y51);
  e48((t43 = t43.apply(a62, n72)).next());
});
var p34 = (a62) => l42(void 0, null, function* () {
  try {
    a62().then(() => {
    }, () => {
    }).catch(() => {
    });
  } catch (n72) {
  }
});

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/utils/sleep.js
function n49(e48) {
  return new Promise((t43) => {
    setTimeout(() => {
      t43();
    }, e48);
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/fiveLoaded.js
var i51 = (e48, o71, r66) => new Promise((c85, d73) => {
  var u72 = (n72) => {
    try {
      t43(r66.next(n72));
    } catch (a62) {
      d73(a62);
    }
  }, w49 = (n72) => {
    try {
      t43(r66.throw(n72));
    } catch (a62) {
      d73(a62);
    }
  }, t43 = (n72) => n72.done ? c85(n72.value) : Promise.resolve(n72.value).then(u72, w49);
  t43((r66 = r66.apply(e48, o71)).next());
});
function k37(e48) {
  return i51(this, null, function* () {
    return new Promise((o71) => {
      if (e48.work) {
        o71();
        return;
      }
      e48.once("loaded", () => o71());
    });
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/Work.js
var b35 = Object.defineProperty;
var F35 = Object.defineProperties;
var E42 = Object.getOwnPropertyDescriptors;
var w31 = Object.getOwnPropertySymbols;
var D40 = Object.prototype.hasOwnProperty;
var C45 = Object.prototype.propertyIsEnumerable;
var I45 = (h66, l63, t43) => l63 in h66 ? b35(h66, l63, { enumerable: true, configurable: true, writable: true, value: t43 }) : h66[l63] = t43;
var g43 = (h66, l63) => {
  for (var t43 in l63 || (l63 = {}))
    D40.call(l63, t43) && I45(h66, t43, l63[t43]);
  if (w31)
    for (var t43 of w31(l63))
      C45.call(l63, t43) && I45(h66, t43, l63[t43]);
  return h66;
};
var x34 = (h66, l63) => F35(h66, E42(l63));
var k38 = (h66, l63, t43) => (I45(h66, typeof l63 != "symbol" ? l63 + "" : l63, t43), t43);
var y36 = (h66, l63, t43) => new Promise((e48, r66) => {
  var i65 = (n72) => {
    try {
      p66(t43.next(n72));
    } catch (a62) {
      r66(a62);
    }
  }, m66 = (n72) => {
    try {
      p66(t43.throw(n72));
    } catch (a62) {
      r66(a62);
    }
  }, p66 = (n72) => n72.done ? e48(n72.value) : Promise.resolve(n72.value).then(i65, m66);
  p66((t43 = t43.apply(h66, l63)).next());
});
var so2 = class extends qe5 {
  constructor(t43, e48) {
    super(t43, e48);
    k38(this, "state", {
      visible: true,
      enabled: true,
      disposed: false,
      playing: false,
      speed: 1,
      config: {
        speedConfig: {
          rotateSpeed: 1e-3,
          rotateSpeedUnit: "rad/ms",
          moveSpeed: 2e-3,
          moveSpeedUnit: "m/ms"
        }
      }
    });
    k38(this, "privateState", {
      playing: false,
      currentPlayQueue: [],
      currentPlayKeyframe: null,
      broke: false,
      modeChanging: false
    });
    this.config = e48, Object.assign(window, { __WalkPlugin_DEBUG__: this });
  }
  /**
   * @description Load Data and State
   */
  load(t43, e48, r66) {
    return y36(this, null, function* () {
      var o71, s60;
      this.clear();
      const i65 = this.data ? JSON.parse(JSON.stringify(this.data)) : void 0, m66 = yield this.formatData(t43);
      this.data = g43({ id: m66.keyframesId }, m66), this.hooks.emit("dataChange", m66, i65);
      let p66 = [], n72;
      const a62 = this.data.keyframes.filter((f80) => f80.data.panoIndex !== void 0);
      a62.filter((f80, d73) => {
        var u72;
        return f80.data.panoIndex !== ((u72 = a62[d73 - 1]) == null ? void 0 : u72.data.panoIndex);
      }).map((f80) => f80.data.panoIndex).forEach((f80) => {
        var u72, v58;
        const d73 = (u72 = this.workUtil.getObserver(f80)) == null ? void 0 : u72.floorIndex;
        if (d73 !== void 0)
          if (n72 === d73) {
            const c85 = p66.length - 1;
            p66[c85] = [...(v58 = p66[c85]) != null ? v58 : [], f80];
          } else {
            n72 = d73;
            const c85 = p66.length;
            p66[c85] = [f80];
          }
      }), !this.GuideLine && ((o71 = this.config) == null ? void 0 : o71.useGuideLine) !== false && m66.useGuildLine !== false && (this.GuideLine = r44(this.five, this.config)), (s60 = this.GuideLine) == null || s60.load({ routes: p66.map((f80) => ({ panoIndexList: f80 })), config: m66.guildPluginOptions }), e48 ? this.setState(e48, { userAction: r66 }) : (this.setState({ playing: false }, { userAction: false }), this.handleVisible(this.state.visible), this.handleEnable(this.state.enabled), this.changePlayState(this.state.playing, { userAction: false }), this.changeSpeed(this.state.speed)), this.clearPauseData(), console.debug("WORKPLUGIN loaded", m66), this.hooks.emit("dataLoaded", m66);
    });
  }
  /**
   * @description If playing, first pause, then play from keyframes index/id
   * @param {number} options.index play from keyframes index
   * @param {string} options.id play from keyframes id
   */
  playFrom(t43) {
    const { index: e48, id: r66, userAction: i65 } = t43;
    this.state.playing && this.setState({ playing: false }, { userAction: i65 }), this.setState({ playing: true }, { userAction: i65, playFromIndex: e48, playFromId: r66 });
  }
  /**
   * @description Play from first keyframe
   */
  playFromStart(t43) {
    return this.playFrom(x34(g43({}, t43), { index: 0 }));
  }
  /**
   * @description Format data
   */
  formatData(t43) {
    return y36(this, null, function* () {
      this.five.work || (yield k37(this.five));
      const e48 = (() => {
        const r66 = t43;
        return typeof r66 == "object" && r66 !== null && i7(r66.version) && r66.data ? r66.data : r66;
      })();
      if (e48.keyframes)
        return {
          keyframesId: r2(),
          keyframes: e48.keyframes.map((r66, i65) => {
            var n72;
            const m66 = e48.keyframes[i65 + 1], p66 = (() => !m66 || m66.start === void 0 || r66.end === void 0 ? 0 : m66.start - r66.end)();
            return x34(g43({ id: (n72 = r66.uuid) != null ? n72 : r2(), moveIndex: i65, stay: p66, index: i65 }, r66), { guildPluginOptions: e48.guildPluginOptions });
          })
        };
      if (e48.panoIndexList) {
        let r66 = [];
        const { moveEffect: i65, moveToFirstPanoEffect: m66, moveToFirstPanoDuration: p66 } = e48;
        return this.privateState.moveToFirstPanoEffect = m66, this.privateState.moveToFirstPanoDuration = p66, e48.panoIndexList.forEach((n72, a62) => {
          const o71 = (() => {
            var v58, c85;
            const s60 = e48.panoIndexList.slice(a62).find((P55) => P55 !== n72);
            if (s60 === void 0)
              return;
            const f80 = this.workUtil.getObserverPosition(n72), d73 = this.workUtil.getObserverPosition(s60);
            if (!d73 || !f80 || ((v58 = this.workUtil.getObserver(n72)) == null ? void 0 : v58.floorIndex) !== ((c85 = this.workUtil.getObserver(s60)) == null ? void 0 : c85.floorIndex))
              return;
            const u72 = new Vector3().subVectors(d73, f80);
            return n42(u72.normalize());
          })();
          e48.moveType === void 0 || e48.moveType === "justMove" ? r66.push({
            moveIndex: a62,
            stay: e48.stay,
            data: g43({ effect: "Move", panoIndex: n72, moveEffect: i65 }, o71 != null ? o71 : {})
          }) : e48.moveType === "moveAndRotate" && (r66.push({ moveIndex: a62, stay: e48.stay, data: { effect: "Move", panoIndex: n72, moveEffect: i65 } }), o71 && r66.push({ moveIndex: a62, stay: e48.stay, data: g43({ effect: "Rotate", panoIndex: n72 }, o71) }));
        }), {
          keyframesId: r2(),
          keyframes: r66.map((n72, a62) => g43({ id: r2(), index: a62 }, n72)),
          guildPluginOptions: e48.guildPluginOptions,
          useGuildLine: e48.useGuildLine
        };
      } else
        throw new Error("format error: data no keyframes or no panoIndexList");
    });
  }
  /**
   * @description Play | Continue play. if have been paused, continue play from the pause position; if playing, do nothing
   * @param {number} options.playFromIndex play from keyframes index
   * @param {string} options.playFromId play from keyframes id
   */
  // eslint-disable-next-line complexity
  handlePlay(t43) {
    return y36(this, null, function* () {
      var d73;
      const { data: e48, state: r66, privateState: i65, hooks: m66 } = this;
      if (i65.playing || !(e48 != null && e48.keyframes) || (e48 == null ? void 0 : e48.keyframes.length) === 0)
        return;
      const p66 = r2();
      i65.playId = p66, i65.playing = true, i65.broke = false;
      const n72 = e48.keyframes, a62 = this.getPauseData();
      (t43 == null ? void 0 : t43.notEmitEvent) !== true && m66.emit("play", { userAction: (d73 = t43 == null ? void 0 : t43.userAction) != null ? d73 : true });
      let o71 = false;
      const f80 = yield (() => y36(this, null, function* () {
        var u72, v58;
        if ((t43 == null ? void 0 : t43.playFromIndex) !== void 0)
          return t43.playFromIndex;
        if ((t43 == null ? void 0 : t43.playFromId) !== void 0)
          return (u72 = this.data) == null ? void 0 : u72.keyframes.findIndex((c85) => c85.id === t43.playFromId);
        if (a62 != null && a62.id) {
          const c85 = (v58 = this.data) == null ? void 0 : v58.keyframes.find((P55) => P55.id === a62.id);
          if (a62 != null && a62.fiveState && (yield this.move(a62.fiveState, {
            moveEffect: i65.moveToFirstPanoEffect,
            duration: i65.moveToFirstPanoDuration
          })), c85) {
            if (c85.data.effect === "Move")
              return c85.index;
            if (c85.data.effect === "Rotate") {
              const P55 = a62.duration !== void 0 ? a62.duration * (1 - a62.playedProgress) : void 0;
              return yield this.playKeyframe(c85, { duration: P55 }), o71 = true, c85.index + 1;
            }
          }
        }
      }))();
      this.clearPauseData();
      for (const u72 of n72) {
        if (i65.broke || !r66.playing || !i65.playing || p66 !== i65.playId)
          return;
        if (!(f80 !== void 0 && u72.index < f80))
          try {
            m66.emit("playIndexChange", u72.index, u72), yield this.playKeyframe(u72, {
              moveEffect: o71 === false ? i65.moveToFirstPanoEffect : void 0,
              duration: o71 === false && typeof i65.moveToFirstPanoDuration == "number" ? i65.moveToFirstPanoDuration : void 0
            }), u72.stay && (yield n49(u72.stay)), o71 === false && (o71 = true);
          } catch (v58) {
            return Promise.resolve("broke");
          }
      }
      r66.playing && p66 === i65.playId && (this.setState({ playing: false }, { userAction: false }), m66.emit("end"), this.clearPauseData());
    });
  }
  /**
   * @description: Pause and record pause state
   */
  handlePause(t43) {
    var m66;
    const { state: e48, privateState: r66, hooks: i65 } = this;
    e48.playing = false, r66.playing !== false && (r66.playing = false, (t43 == null ? void 0 : t43.userAction) !== false && this.setPauseData(), r66.broke || this.forceInteruptUpdateCamera(), (t43 == null ? void 0 : t43.notEmitEvent) !== true && i65.emit("pause", { userAction: (m66 = t43 == null ? void 0 : t43.userAction) != null ? m66 : true }));
  }
  /**
   * @description: Change play speed
   */
  changeSpeed(t43, e48 = true) {
    var n72;
    const { state: r66, privateState: i65, hooks: m66 } = this, { currentPlayKeyframe: p66 } = i65;
    if (m66.emit("speedChange", t43, { userAction: e48 }), r66.playing && p66)
      try {
        const a62 = p66.originDuration !== void 0 ? p66.originDuration * (1 - this.getProgress()) : void 0, o71 = p66.keyframe, { privateState: s60 } = this;
        ((n72 = this.privateState.currentPlayKeyframe) == null ? void 0 : n72.keyframe.id) !== o71.id && (this.privateState.currentPlayKeyframe = { keyframe: o71 }), s60.currentPlayQueue.push(this.getPlayPromise(o71, { duration: a62 }));
      } catch (a62) {
        console.error(a62);
      }
  }
  /**
   * @description Get ratate progress
   */
  getProgress() {
    return this.five.controller.cameraMotion.progress;
  }
  /**
   * @description Set pause data
   */
  setPauseData() {
    var t43, e48, r66;
    if ((t43 = this.data) != null && t43.id)
      return this.pauseDataMap.set(this.data.id, {
        id: (e48 = this.privateState.currentPlayKeyframe) == null ? void 0 : e48.keyframe.id,
        fiveState: this.five.getCurrentState(),
        duration: (r66 = this.privateState.currentPlayKeyframe) == null ? void 0 : r66.originDuration,
        playedProgress: this.getProgress()
      });
  }
  /**
   * @description: Restore state that before loaded
   */
  clear() {
    this.clearPauseData(), this.privateState.currentPlayKeyframe = null;
  }
  /**
   * @description Play single keyframe
   */
  playKeyframe(t43, e48) {
    return y36(this, null, function* () {
      var i65;
      const { privateState: r66 } = this;
      return ((i65 = this.privateState.currentPlayKeyframe) == null ? void 0 : i65.keyframe.id) !== t43.id && (this.privateState.currentPlayKeyframe = { keyframe: t43 }), r66.currentPlayQueue.push(this.getPlayPromise(t43, e48)), this.actionPromiseQueue();
    });
  }
  /**
   * @description: getPlayPromise
   */
  getPlayPromise(r66) {
    return y36(this, arguments, function* (t43, e48 = {}) {
      var m66;
      const i65 = t43.data;
      if (e48.duration = (m66 = e48.duration) != null ? m66 : t43.start !== void 0 && t43.end !== void 0 ? t43.end - t43.start : void 0, !!i65)
        return new Promise((p66, n72) => {
          let a62 = false;
          this.addInterruptListener(() => {
            if (!a62)
              return this.hooks.emit("broke"), this.privateState.broke = true, this.setState({ playing: false }), a62 = true, n72(new Error("play is interupted"));
          });
          try {
            if (a62)
              return;
            const o71 = () => {
              p66(), a62 = true;
            };
            switch (i65.effect) {
              case "Move":
                this.move(i65, e48).then(o71);
                break;
              case "Rotate":
                this.rotate(i65, e48).then(o71);
                break;
              default:
                this.rotate(i65, e48).then(o71);
            }
          } catch (o71) {
          }
        });
    });
  }
  /**
   * @description Action promise queue in sequence
   */
  actionPromiseQueue() {
    return y36(this, null, function* () {
      const { privateState: t43 } = this;
      return new Promise((e48, r66) => {
        if (t43.currentPlayQueue.length === 0) {
          e48();
          return;
        }
        const i65 = t43.currentPlayQueue.shift();
        if (!i65) {
          e48();
          return;
        }
        i65.then(e48, r66);
      }).then(() => t43.currentPlayQueue.length === 0 ? Promise.resolve() : this.actionPromiseQueue());
    });
  }
  /**
   * @description Action move keyframe
   */
  move(t43, e48) {
    return y36(this, null, function* () {
      if (t43.mode && t43.mode !== this.five.currentMode)
        yield this.changeMode(t43);
      else if (t43.panoIndex !== this.five.panoIndex)
        yield this.changePano(t43, e48);
      else
        return Promise.resolve();
    });
  }
  /**
   * @description Action rotate keyframe
   */
  rotate(t43, e48) {
    return y36(this, null, function* () {
      if (t43.mode && t43.mode !== this.five.currentMode)
        yield this.changeMode({ mode: t43.mode, panoIndex: t43.panoIndex });
      else if (t43.panoIndex && t43.panoIndex !== this.five.panoIndex)
        return yield this.changePano(t43, e48);
      yield this.updateCamera(t43, e48);
    });
  }
  /**
   * @description Update five camera
   */
  updateCamera(r66) {
    return y36(this, arguments, function* (t43, e48 = {}) {
      const { five: i65, privateState: m66, state: p66 } = this, n72 = (() => {
        var d73, u72;
        const s60 = (d73 = p66.config) == null ? void 0 : d73.speedConfig, f80 = (u72 = t43.rotateSpeed) != null ? u72 : s60 == null ? void 0 : s60.rotateSpeed;
        if ((s60 == null ? void 0 : s60.rotateSpeedUnit) === void 0)
          return f80;
        if (f80 !== void 0)
          return s60.rotateSpeedUnit === "rad/ms" ? f80 : f80 / 1e3;
      })(), a62 = (() => {
        if (e48.duration)
          return e48.duration;
        if (n72) {
          const s60 = this.five.getCurrentState();
          return s46(s60, t43) / n72;
        }
        return 800;
      })();
      m66.currentPlayKeyframe && (m66.currentPlayKeyframe.originDuration = a62);
      const o71 = this.getSpeededDuration(a62);
      return new Promise((s60) => {
        p34(() => i65.updateCamera(t43, o71)), setTimeout(() => s60(), o71);
      });
    });
  }
  /**
   * @description: Change five pano
   */
  changePano(t43, e48) {
    return y36(this, null, function* () {
      const { five: r66, privateState: i65, state: m66 } = this;
      if (typeof t43.panoIndex != "number" || t43.panoIndex === r66.panoIndex)
        return;
      const p66 = r66.getCurrentState().mode !== "Panorama";
      p66 && (this.privateState.modeChanging = true);
      const n72 = (() => {
        var f80, d73;
        const o71 = (f80 = m66.config) == null ? void 0 : f80.speedConfig, s60 = (d73 = t43.moveSpeed) != null ? d73 : o71 == null ? void 0 : o71.moveSpeed;
        if ((o71 == null ? void 0 : o71.moveSpeedUnit) === void 0)
          return s60;
        if (s60 !== void 0)
          return o71.moveSpeedUnit === "m/ms" ? s60 : s60 / 1e3;
      })(), a62 = (() => {
        if (e48 != null && e48.duration)
          return e48.duration;
        if (n72 && typeof r66.panoIndex == "number" && typeof t43.panoIndex == "number") {
          const o71 = this.workUtil.getObserverPosition(r66.panoIndex), s60 = this.workUtil.getObserverPosition(t43.panoIndex);
          return o71 && s60 ? o71.distanceTo(s60) / n72 : 800;
        }
        return 800;
      })();
      i65.currentPlayKeyframe && (i65.currentPlayKeyframe.originDuration = a62), yield new Promise((o71) => {
        var f80, d73, u72;
        const s60 = this.fiveUtil.moveToPano(t43.panoIndex, {
          latitude: t43.latitude,
          longitude: t43.longitude,
          fov: t43.fov,
          duration: this.getSpeededDuration(a62),
          effect: (u72 = (d73 = e48 == null ? void 0 : e48.moveEffect) != null ? d73 : (f80 = this.state.config) == null ? void 0 : f80.moveEffect) != null ? u72 : t43.moveEffect,
          moveCancelCallback: () => o71(),
          moveEndCallback: () => o71()
        });
        s60 instanceof Promise && s60.then(() => o71()), p66 && r66.once("panoArrived", () => o71());
      }), p66 && (this.privateState.modeChanging = false);
    });
  }
  /**
   * @description Change five mode
   */
  changeMode(t43, e48) {
    return y36(this, null, function* () {
      t43.mode && t43.mode !== this.five.currentMode && (this.privateState.modeChanging = true, yield this.five.changeMode(t43.mode, t43, e48), this.privateState.modeChanging = false);
    });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/Move.js
var T30 = Object.defineProperty;
var x35 = Object.defineProperties;
var D41 = Object.getOwnPropertyDescriptors;
var k39 = Object.getOwnPropertySymbols;
var E43 = Object.prototype.hasOwnProperty;
var F36 = Object.prototype.propertyIsEnumerable;
var d48 = (e48, i65, t43) => i65 in e48 ? T30(e48, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : e48[i65] = t43;
var u45 = (e48, i65) => {
  for (var t43 in i65 || (i65 = {}))
    E43.call(i65, t43) && d48(e48, t43, i65[t43]);
  if (k39)
    for (var t43 of k39(i65))
      F36.call(i65, t43) && d48(e48, t43, i65[t43]);
  return e48;
};
var c55 = (e48, i65) => x35(e48, D41(i65));
var n50 = (e48, i65, t43) => (d48(e48, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var w32 = (e48, i65, t43) => new Promise((r66, m66) => {
  var p66 = (o71) => {
    try {
      a62(t43.next(o71));
    } catch (s60) {
      m66(s60);
    }
  }, h66 = (o71) => {
    try {
      a62(t43.throw(o71));
    } catch (s60) {
      m66(s60);
    }
  }, a62 = (o71) => o71.done ? r66(o71.value) : Promise.resolve(o71.value).then(p66, h66);
  a62((t43 = t43.apply(e48, i65)).next());
});
var pe6 = class extends qe5 {
  constructor(t43, r66) {
    var h66;
    super(t43, r66);
    n50(this, "curve");
    n50(this, "baseCurveOffset");
    n50(this, "curveOffset");
    n50(this, "playStartedTime", performance.now());
    n50(this, "duration");
    n50(this, "changeSpeed", (t44, r67 = true) => {
      this.state.speed = t44, this.hooks.emit("speedChange", t44, { userAction: r67 });
    });
    n50(this, "moveToStart", () => {
      this.five.setState(c55(u45({}, A50(this.curve, 0, this.curveOffset)), { mode: "Model" }));
    });
    n50(this, "playFromStart", () => {
      this.clearPauseData(), this.setState({ playing: true });
    });
    n50(this, "getDuration", () => this.getSpeededDuration(this.duration));
    n50(this, "getProgress", () => {
      var o71;
      const t44 = this.getPauseData();
      let r67 = (o71 = t44 == null ? void 0 : t44.playedProgress) != null ? o71 : 0;
      (r67 < 0 || r67 >= 1) && (r67 = 0);
      const m67 = 1 - r67, p67 = this.getDuration(), a62 = (performance.now() - this.playStartedTime) / p67;
      return 1 - m67 + a62;
    });
    const m66 = {
      config: {
        speedConfig: {
          moveSpeed: 2,
          moveSpeedUnit: "m/s"
        }
      }
    }, p66 = {
      allowBroke: true
    };
    this.state = a21({}, m66, this.state), this.config = a21({}, p66, this.config), this.baseCurveOffset = a21({ x: 0, y: 0, z: 0 }, { y: 2 }, (h66 = this.config) == null ? void 0 : h66.offset);
  }
  load(t43, r66) {
    var a62, o71, s60, f80, y51, S52, C52, P55, b55;
    this.handlePause(), this.clear(), this.data = u45({ id: r2() }, t43);
    const m66 = (() => {
      if (this.data.path instanceof Curve)
        return this.data.path.curves[0];
      {
        if (this.data.path.length < 2)
          return null;
        const l63 = this.data.path.map(t2);
        return new CatmullRomCurve3(l63, void 0, "catmullrom", 0.5);
      }
    })();
    if (!m66)
      return;
    if (this.curve = m66, this.curveOffset = {
      x: this.baseCurveOffset.x + ((o71 = (a62 = this.data.offset) == null ? void 0 : a62.x) != null ? o71 : 0),
      y: this.baseCurveOffset.y + ((f80 = (s60 = this.data.offset) == null ? void 0 : s60.y) != null ? f80 : 0),
      z: this.baseCurveOffset.z + ((S52 = (y51 = this.data.offset) == null ? void 0 : y51.z) != null ? S52 : 0)
    }, !this.curve)
      throw new Error("curve is not defined");
    const p66 = this.curve.getLength(), h66 = this.state.config.speedConfig.moveSpeedUnit === "m/ms" ? 1 : 1e3;
    if (this.duration = p66 / (this.state.config.speedConfig.moveSpeed / h66), Array.isArray(this.data.path)) {
      const l63 = this.data.path.map(t2).map((G31) => G31.toArray());
      !this.GuideLine && (((C52 = this.config) == null ? void 0 : C52.useGuideLine) !== false && t43.useGuildLine || (P55 = this.config) != null && P55.useGuideLine && t43.useGuildLine !== false) && (this.GuideLine = hr2(this.five, this.config)), (b55 = this.GuideLine) == null || b55.load({
        lines: [
          {
            id: r2(),
            path: [{ type: "CatmullRomCurve3", points: l63 }],
            model_style: { visible: true }
          }
        ]
      });
    }
    return r66 ? this.setState(r66) : (this.setState({ playing: false }), this.handleVisible(this.state.visible), this.handleEnable(this.state.enabled), this.changePlayState(this.state.playing), this.changeSpeed(this.state.speed)), Promise.resolve();
  }
  handlePlay() {
    return new Promise((t43, r66) => w32(this, null, function* () {
      var o71;
      this.hooks.emit("play", { userAction: true });
      const m66 = this.getPauseData();
      let p66 = (o71 = m66 == null ? void 0 : m66.playedProgress) != null ? o71 : 0;
      (p66 < 0 || p66 >= 1) && (p66 = 0);
      const h66 = A50(this.curve, p66, this.curveOffset);
      if (this.hooks.emit("progressChange", p66), this.five.setState(c55(u45({}, h66), { mode: "Model" })), yield this.five.ready(), this.playStartedTime = performance.now(), this.config.allowBroke) {
        const s60 = this.addInterruptListener(() => {
          this.state.playing && (this.hooks.emit("broke"), this.handlePause(), s60(), r66(new Error("broke")));
        });
      }
      const a62 = () => {
        const s60 = this.getProgress();
        if (s60 >= 1)
          this.five.off("renderFrame", a62), this.setState({ playing: false }, { userAction: false }), this.hooks.emit("end"), this.hooks.emit("progressChange", 1), t43("end");
        else if (this.state.playing === false)
          this.five.off("renderFrame", a62);
        else if (s60 >= 0) {
          const f80 = A50(this.curve, s60, this.curveOffset);
          this.hooks.emit("progressChange", s60), this.five.setState(f80, true);
        }
      };
      this.five.on("renderFrame", a62);
    }));
  }
  handlePause(t43) {
    var r66;
    this.state.playing = false, this.hooks.emit("pause", { userAction: (r66 = t43 == null ? void 0 : t43.userAction) != null ? r66 : true }), this.setPauseData();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/GuideLinePlugin/GuideLineItem/index.js
var k40 = Object.defineProperty;
var b36 = Object.defineProperties;
var x36 = Object.getOwnPropertyDescriptors;
var w33 = Object.getOwnPropertySymbols;
var G27 = Object.prototype.hasOwnProperty;
var L31 = Object.prototype.propertyIsEnumerable;
var g44 = (o71, e48, t43) => e48 in o71 ? k40(o71, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[e48] = t43;
var h46 = (o71, e48) => {
  for (var t43 in e48 || (e48 = {}))
    G27.call(e48, t43) && g44(o71, t43, e48[t43]);
  if (w33)
    for (var t43 of w33(e48))
      L31.call(e48, t43) && g44(o71, t43, e48[t43]);
  return o71;
};
var v39 = (o71, e48) => b36(o71, x36(e48));
var s47 = (o71, e48, t43) => (g44(o71, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var c56 = (o71, e48, t43) => new Promise((n72, i65) => {
  var u72 = (r66) => {
    try {
      a62(t43.next(r66));
    } catch (m66) {
      i65(m66);
    }
  }, l63 = (r66) => {
    try {
      a62(t43.throw(r66));
    } catch (m66) {
      i65(m66);
    }
  }, a62 = (r66) => r66.done ? n72(r66.value) : Promise.resolve(r66.value).then(u72, l63);
  a62((t43 = t43.apply(o71, e48)).next());
});
var D42 = class {
  constructor(e48) {
    s47(this, "id");
    s47(this, "renderID");
    s47(this, "isGuideLine", true);
    s47(this, "panoramaItem");
    s47(this, "modelItem");
    s47(this, "hooks", new E3());
    s47(this, "_visible", true);
    s47(this, "plugin");
    s47(this, "five");
    s47(this, "logError", (e49) => n34("GuideLineItem: ", e49));
    this.id = e48.id, this.five = e48.five, this.plugin = e48.plugin, this.panoramaItem = new N27(this.five, { mode: "panorama", plugin: this.plugin, parent: this }), this.modelItem = new N27(this.five, { mode: "model", plugin: this.plugin, parent: this });
  }
  get visible() {
    return this._visible;
  }
  setData(e48) {
    this.setDataByMode("panorama", e48), this.setDataByMode("model", e48);
  }
  setDataByMode(e48, t43) {
    var m66;
    const n72 = e48 === "panorama" ? this.panoramaItem : this.modelItem, i65 = e48 === "panorama" ? t43.panorama_style : t43.model_style, u72 = t43.path, l63 = i65, a62 = i65, r66 = i65;
    if (t43.pano_group) {
      const d73 = e48 === "panorama" && t43.panorama_style.skip_group === true;
      n72.setGeometryByPanoGroup(t43.pano_group, h46(v39(h46({}, t43), { skipPanoGroup: d73 }), l63));
    } else
      t43.path && n72.setGeometryByPath(u72, h46({}, l63));
    n72.name = t43.name, n72.setMeshStyle(r66), n72.setMartial(a62), n72.setVisibleFloorIndexes((m66 = t43.visible_floor_indexes) != null ? m66 : null), n72.setStartTag(i65 == null ? void 0 : i65.start_tag), n72.setEndTag(i65 == null ? void 0 : i65.end_tag);
  }
  show() {
    this._visible = true, this.hooks.emit("show", { userAction: true });
  }
  hide() {
    this._visible = false, this.hooks.emit("hide", { userAction: true });
  }
  dispose() {
    this.panoramaItem.dispose(), this.modelItem.dispose();
  }
  walk(e48) {
    return c56(this, null, function* () {
      if (this.hooks.emit("walkStart", { userAction: true }), this.panoramaItem.panoGroup.length) {
        const t43 = h46({ panoIndexList: this.panoramaItem.panoGroup }, e48), [n72] = yield d11(F37(this.five, t43));
        if (n72)
          return this.logError(n72.message);
      } else {
        const t43 = { path: this.panoramaItem.curvePath }, [n72] = yield d11(B34(this.five, t43));
        if (n72)
          return this.logError(n72.message);
      }
      this.hooks.emit("walkEnded", { userAction: true });
    });
  }
};
function B34(o71, e48) {
  return c56(this, null, function* () {
    const t43 = new pe6(o71);
    yield t43.load(e48), t43.playFromStart();
  });
}
function F37(o71, e48) {
  return c56(this, null, function* () {
    if (e48.panoIndexList.length === 0)
      return;
    const t43 = o71.getCurrentState();
    t43.mode !== "Panorama" && (yield j5(o71, ["Panorama", { longitude: t43.longitude, latitude: 0, panoIndex: e48.panoIndexList[0] }]));
    const n72 = new so2(o71);
    yield n72.load(e48), yield new Promise((i65, u72) => {
      const l63 = o71.getCurrentState();
      let a62 = e48.panoIndexList.slice();
      l63.panoIndex === a62[0] && m66(l63.panoIndex), n72.playFromStart();
      function r66(p66) {
        if (p66 !== "Panorama")
          return f80(new Error("mode not match"));
      }
      function m66(p66) {
        const I49 = a62[0];
        if (a62 = a62.slice(1), p66 !== I49)
          return f80(new Error("panoIndex not match, wanted: " + I49 + ", got: " + p66));
        if (a62.length === 0)
          return S52();
      }
      function d73() {
        o71.off("modeChange", r66), o71.off("panoArrived", m66);
      }
      function f80(p66) {
        d73(), u72(p66);
      }
      function S52() {
        d73(), i65();
      }
      o71.on("modeChange", r66), o71.on("panoArrived", m66);
    });
  });
}
var q33 = Object.freeze(Object.defineProperty({
  __proto__: null,
  GuideLineItem: D42
}, Symbol.toStringTag, { value: "Module" }));

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/GuideLinePlugin/Controller.js
var T31 = Object.defineProperty;
var k41 = Object.defineProperties;
var N28 = Object.getOwnPropertyDescriptors;
var G28 = Object.getOwnPropertySymbols;
var P43 = Object.prototype.hasOwnProperty;
var $21 = Object.prototype.propertyIsEnumerable;
var c57 = (p66, e48, t43) => e48 in p66 ? T31(p66, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : p66[e48] = t43;
var u46 = (p66, e48) => {
  for (var t43 in e48 || (e48 = {}))
    P43.call(e48, t43) && c57(p66, t43, e48[t43]);
  if (G28)
    for (var t43 of G28(e48))
      $21.call(e48, t43) && c57(p66, t43, e48[t43]);
  return p66;
};
var S44 = (p66, e48) => k41(p66, N28(e48));
var h47 = (p66, e48, t43) => (c57(p66, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var f51 = (p66, e48, t43) => new Promise((i65, a62) => {
  var s60 = (m66) => {
    try {
      r66(t43.next(m66));
    } catch (n72) {
      a62(n72);
    }
  }, o71 = (m66) => {
    try {
      r66(t43.throw(m66));
    } catch (n72) {
      a62(n72);
    }
  }, r66 = (m66) => m66.done ? i65(m66.value) : Promise.resolve(m66.value).then(s60, o71);
  r66((t43 = t43.apply(p66, e48)).next());
});
var b37 = "GuideLinePlugin";
var g45 = `${b37}`;
var ce5 = class extends e9 {
  constructor(t43, i65) {
    super(t43, i65);
    h47(this, "name", b37);
    h47(this, "cruisePlugin");
    h47(this, "itemMap", /* @__PURE__ */ new Map());
    h47(this, "state", {
      visible: false,
      enabled: true
    });
    h47(this, "data");
    h47(this, "heightOffset", 0);
    h47(this, "_config");
    h47(this, "_disposed", false);
    h47(this, "disposedErrorLog", () => {
      console.error(`${g45} is disposed`);
    });
    this._config = i65 != null ? i65 : {}, this.cruisePlugin = new so2(t43), Object.assign(window, { [`__${b37}_DEBUG__`]: this });
  }
  get config() {
    return this._config;
  }
  get disposed() {
    return this._disposed;
  }
  load(t43, i65, a62 = true) {
    return f51(this, null, function* () {
      var v58, w49, I49, E53, y51, _32, L40, D52;
      const s60 = this.data ? JSON.parse(JSON.stringify(this.data)) : void 0, o71 = yield this.formatData(t43);
      this.hooks.emit("dataChange", o71, s60), this.data = o71;
      const r66 = o71.config, m66 = !o71.lines && o71.routes, n72 = S44(u46({}, r66), {
        model_style: {
          texture: { url: (v58 = r66 == null ? void 0 : r66.arrowTextureUrl) != null ? v58 : this.staticPrefix + "/release/web/arrow-white.5c2c79a5.png" }
        },
        panorama_style: {
          visible: !!m66,
          unit_length: (w49 = r66 == null ? void 0 : r66.unitHeight) != null ? w49 : 0.4,
          width: (I49 = r66 == null ? void 0 : r66.unitWidth) != null ? I49 : 0.6,
          texture: { url: (E53 = r66 == null ? void 0 : r66.arrowTextureUrl) != null ? E53 : this.staticPrefix + "/release/web/arrow-white.5c2c79a5.png" }
        }
      }), d73 = (_32 = (y51 = o71.routes) == null ? void 0 : y51.map((l63) => {
        var A62;
        return a21({}, n72, { id: (A62 = l63.id) != null ? A62 : r2(), pano_group: l63.panoIndexList });
      })) != null ? _32 : [], O40 = (D52 = (L40 = o71.lines) == null ? void 0 : L40.map((l63) => a21({}, n72, l63))) != null ? D52 : [], V25 = [...d73, ...O40];
      yield M2(this.five), this.clear(), V25.forEach((l63) => {
        this.addGuideLineItem(l63);
      }), this.updateTagsEnable(), this.handleVisible(this.state.visible), this.handleEnable(this.state.enabled), i65 && this.setState(i65, { userAction: a62 }), this.hooks.emit("dataLoaded", o71), console.debug(`${g45} loaded`, o71);
    });
  }
  formatData(t43) {
    return f51(this, null, function* () {
      return this.getDataWithoutVersion(t43);
    });
  }
  /** 展示插件 */
  show(t43) {
    return f51(this, null, function* () {
      this.setState({ visible: true }, t43);
    });
  }
  /** 隐藏插件 */
  hide(t43) {
    return f51(this, null, function* () {
      this.setState({ visible: false }, t43);
    });
  }
  /** 开启插件 */
  enable(t43) {
    this.setState({ enabled: true }, t43);
  }
  /** 关闭插件 */
  disable(t43) {
    this.setState({ enabled: false }, t43);
  }
  /** 销毁插件 */
  dispose() {
    this.disposed || (this.clear(), this.hooks.emit("dispose"));
  }
  setState(t43, i65) {
    var s60;
    if (this.disposed)
      return this.disposedErrorLog();
    const a62 = u46({}, this.state);
    this.state = u46(u46({}, this.state), t43), t43.visible !== void 0 && t43.visible !== a62.visible && this.handleVisible(t43.visible, i65 == null ? void 0 : i65.userAction), t43.enabled !== void 0 && t43.enabled !== a62.enabled && this.handleEnable(t43.enabled, i65 == null ? void 0 : i65.userAction), b6(a62, this.state, { deep: true }) || (this.hooks.emit("stateChange", { state: this.state, prevState: a62, userAction: (s60 = i65 == null ? void 0 : i65.userAction) != null ? s60 : true }), this.five.needsRender = true);
  }
  /** 添加一个 GuideLineItem */
  addGuideLineItem(t43) {
    const i65 = t43.render_id || t43.id, a62 = this.itemMap.get(i65);
    a62 && this.removeGuideLineItem(a62);
    const s60 = new D42({ five: this.five, id: i65, plugin: this });
    return this.itemMap.set(i65, s60), t43 && s60.setData(t43), this.heightOffset += 1e-4, s60.modelItem.setHeightOffset(this.heightOffset), s60.panoramaItem.setHeightOffset(this.heightOffset), s60;
  }
  /** 获取 Plugin 内的 GuideLineItem */
  getGuideLineItemByID(t43) {
    return this.itemMap.get(t43);
  }
  /** 移除一个 GuideLineItem */
  removeGuideLineItem(t43) {
    this.itemMap.delete(t43.id), t43.panoramaItem.dispose(), t43.modelItem.dispose();
  }
  /** 全量更新 tag */
  updateTagsEnable() {
    const t43 = [];
    function i65(o71) {
      return Array.isArray(o71) && o71.every((r66) => typeof r66 == "number");
    }
    function a62(o71, r66) {
      return new Vector3().fromArray(o71).distanceTo(new Vector3().fromArray(r66)) < 0.01;
    }
    function s60(o71) {
      var m66;
      const r66 = (m66 = o71 == null ? void 0 : o71.tag) == null ? void 0 : m66.position;
      return i65(r66) ? t43.every((n72) => {
        var d73;
        return i65((d73 = n72.tag) == null ? void 0 : d73.position) ? !a62(r66, n72.tag.position) : true;
      }) : false;
    }
    this.itemMap.forEach((o71) => {
      const r66 = o71.modelItem.startTagContainer, m66 = o71.modelItem.endTagContainer, n72 = s60(r66);
      n72 && t43.push(r66), r66 == null || r66.plugin.setState({ enabled: n72 }, {});
      const d73 = s60(m66);
      d73 && t43.push(m66), m66 == null || m66.plugin.setState({ enabled: d73 }, {});
    });
  }
  /** 清空所有 GuideLineItem */
  clear() {
    this.heightOffset = 0, this.itemMap.forEach((t43) => {
      this.removeGuideLineItem(t43);
    });
  }
  handleEnable(t43, i65 = true) {
    this.hooks.emit(t43 ? "enable" : "disable", { userAction: i65 });
  }
  handleVisible(t43, i65 = true) {
    this.state.enabled && this.hooks.emit(t43 ? "show" : "hide", { userAction: i65 });
  }
  getDataWithoutVersion(t43) {
    return typeof t43 == "object" && t43 !== null && t43.data ? t43.data : t43;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/GuideLinePlugin/index.js
var r44 = (i65, o71) => new ce5(i65, o71);
var hr2 = r44;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/typing/index.js
var e39 = Object.freeze(Object.defineProperty({
  __proto__: null
}, Symbol.toStringTag, { value: "Module" }));

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CruisePlugin/index.js
var ji = (o71, r66) => new so2(o71, r66);
var qi = (o71, r66) => new pe6(o71, r66);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/Archive/deprecated.js
var i52 = ((a62) => (a62.PointTag = "PointTag", a62.PlaneTag = "PlaneTag", a62))(i52 || {});
var r45 = ((a62) => (a62.Audio = "Audio", a62.Text = "Text", a62.ImageText = "ImageText", a62.Image = "Image", a62.Video = "Video", a62.Link = "Link", a62.Sticker = "Sticker", a62.VRLink = "VRLink", a62.PanoLink = "PanoLink", a62.Marketing = "Marketing", a62.MediaPlane = "MediaPlane", a62.MediaModel = "MediaModel", a62.Model = "Model", a62.Panorama = "Panorama", a62.Custom = "Custom", a62.Unknown = "Unknown", a62))(r45 || {});
var d49 = ((a62) => (a62.Two = "2D", a62.Three = "3D", a62))(d49 || {});

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoTagPlugin/index.js
var Wr2 = (o71, t43) => new No(o71, t43);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/utils/setObjectQuaternion.js
function r46(n72, t43, o71) {
  if (o71) {
    const e48 = new Vector3().subVectors(n72.position, o71).applyQuaternion(n72.quaternion.clone().inverse()).applyQuaternion(t43).add(o71);
    n72.position.copy(e48);
  }
  n72.quaternion.copy(t43);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Base/BaseHelper.js
var x37 = Object.defineProperty;
var b38 = (o71, p66, t43) => p66 in o71 ? x37(o71, p66, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[p66] = t43;
var u47 = (o71, p66, t43) => (b38(o71, typeof p66 != "symbol" ? p66 + "" : p66, t43), t43);
var h48 = class extends c16 {
  constructor(t43, e48) {
    var s60, l63;
    super();
    u47(this, "originObject3D");
    u47(this, "onRender");
    u47(this, "positionFrom");
    this.originObject3D = t43, this.onRender = (s60 = e48 == null ? void 0 : e48.onRender) != null ? s60 : () => {
    }, this.positionFrom = (l63 = e48 == null ? void 0 : e48.positionFrom) != null ? l63 : "objectPosition";
  }
  get helperObject() {
    return this;
  }
  render() {
    this.onRender();
  }
  enable() {
    this.parent.children.includes(this) || this.parent.add(this);
  }
  disable() {
    this.removeFromParent();
  }
  show() {
    this.visible = true, this.render();
  }
  hide() {
    this.visible = false, this.render();
  }
  raycasterIntersectObject(t43, e48 = []) {
    return t43.intersectObject(this, true, e48);
  }
  initialPosition(t43) {
    var e48, s60;
    this.positionFrom === "objectPosition" ? this.position.copy(this.originObject3D.position) : this.positionFrom === "boundingBox" ? this.position.copy((e48 = R7(this.originObject3D)) == null ? void 0 : e48.getCenter(new Vector3()).applyMatrix4(this.originObject3D.matrixWorld)) : this.positionFrom === "boundingSphere" ? this.position.copy((s60 = T6(this.originObject3D)) == null ? void 0 : s60.center.clone().applyMatrix4(this.originObject3D.matrixWorld)) : this.positionFrom instanceof Vector3 ? this.position.copy(this.positionFrom) : this.positionFrom instanceof Function && this.position.copy(this.positionFrom(this.originObject3D)), t43 && this.position.add(t43);
  }
  setScaleByCamera(t43) {
  }
  initQuaternion(t43) {
    if (this.quaternion.copy(this.originObject3D.quaternion), t43 && (t43.xAxis || t43.yAxis || t43.zAxis)) {
      const e48 = t43.xAxis instanceof Function ? t43.xAxis() : t43.xAxis, s60 = t43.yAxis instanceof Function ? t43.yAxis() : t43.yAxis, l63 = t43.zAxis instanceof Function ? t43.zAxis() : t43.zAxis;
      let r66 = e48 == null ? void 0 : e48.clone(), i65 = s60 == null ? void 0 : s60.clone(), a62 = l63 == null ? void 0 : l63.clone();
      if (r66 && !i65 && !i65) {
        const c85 = new Quaternion().setFromUnitVectors(new Vector3(1, 0, 0), r66.normalize());
        this.applyQuaternion(c85);
      }
      if (i65 && !r66 && !a62) {
        const c85 = new Quaternion().setFromUnitVectors(new Vector3(0, 1, 0), i65.normalize());
        this.applyQuaternion(c85);
      }
      if (a62 && !r66 && !i65) {
        const c85 = new Quaternion().setFromUnitVectors(new Vector3(0, 0, 1), a62.normalize());
        this.applyQuaternion(c85);
      }
      if ([r66, i65, a62].filter(i7).length >= 2) {
        r66 || (r66 = new Vector3().crossVectors(i65, a62).normalize()), i65 || (i65 = new Vector3().crossVectors(r66, a62).normalize()), a62 || (a62 = new Vector3().crossVectors(r66, i65).normalize()), r66.applyQuaternion(this.quaternion), i65.applyQuaternion(this.quaternion), a62.applyQuaternion(this.quaternion);
        const c85 = new Matrix4().makeBasis(r66, i65, a62), d73 = new Quaternion().setFromRotationMatrix(c85);
        this.quaternion.copy(d73);
      }
    }
  }
  applyHelperScaleMatrix4(t43, e48) {
    this.scale.applyMatrix4(t43);
  }
  setHelperQuaternion(t43, e48) {
    this.initQuaternion(), r46(this, this.quaternion.clone().premultiply(t43), e48);
  }
  applyHelperQuaternion(t43, e48) {
    if (e48) {
      const s60 = new Vector3().subVectors(this.position, e48).applyQuaternion(t43).add(e48);
      this.position.copy(s60);
    }
    this.applyQuaternion(t43);
  }
  dispose() {
    this.removeFromParent();
  }
};
var z23 = class extends h48 {
};
var M36 = class extends h48 {
};
var R38 = class extends h48 {
};
var f52 = class extends h48 {
};
var B35 = class extends h48 {
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/utils/direction.js
var n51 = Object.defineProperty;
var d50 = (e48, r66, t43) => r66 in e48 ? n51(e48, r66, { enumerable: true, configurable: true, writable: true, value: t43 }) : e48[r66] = t43;
var i53 = (e48, r66, t43) => (d50(e48, typeof r66 != "symbol" ? r66 + "" : r66, t43), t43);
var u48 = class extends Group {
  constructor(t43) {
    super();
    i53(this, "direction");
    this.direction = t43 || "x";
  }
};
var x38 = class extends Mesh {
  constructor(t43, s60, c85) {
    super(t43, s60);
    i53(this, "direction");
    this.direction = c85 || "x";
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Helper/Objects/ArrowGroup.js
var y37 = Object.defineProperty;
var g46 = (i65, t43, e48) => t43 in i65 ? y37(i65, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : i65[t43] = e48;
var r47 = (i65, t43, e48) => (g46(i65, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var G29 = class extends u48 {
  constructor(e48) {
    var c85;
    super(e48.direction);
    r47(this, "line");
    r47(this, "arrow");
    r47(this, "lineHeight", 0.4);
    r47(this, "arrowHeight", 0.1);
    r47(this, "renderOrder", 50);
    r47(this, "name", "ArrowGroup");
    const w49 = new Color((c85 = e48.color) != null ? c85 : 16214315), n72 = new MeshBasicMaterial({
      color: w49,
      depthTest: false,
      depthWrite: false,
      transparent: true
    }), d73 = new ConeGeometry(0.04, 0.1, 32), s60 = new x38(d73, n72.clone(), e48.direction);
    s60.name = `arrow-${e48.direction}`, this.arrow = s60;
    const a62 = 4e-3, m66 = new CylinderGeometry(a62, a62, 0.4, 32), h66 = new x38(m66, n72.clone(), e48.direction);
    h66.name = `line-${e48.direction}`, this.line = h66, this.formatArrow(), this.formatLine(), this.add(this.arrow, this.line);
  }
  formatArrow() {
    this.arrow.geometry.translate(0, this.lineHeight + this.arrowHeight / 2, 0), this.direction === "x" ? (this.arrow.geometry.rotateX(Math.PI / 2), this.arrow.geometry.rotateY(Math.PI / 2)) : this.direction === "z" && this.arrow.geometry.rotateX(Math.PI / 2);
  }
  formatLine() {
    this.line.geometry.translate(0, this.lineHeight / 2, 0), this.direction === "x" ? (this.line.geometry.rotateX(Math.PI / 2), this.line.geometry.rotateY(Math.PI / 2)) : this.direction === "z" && this.line.geometry.rotateX(Math.PI / 2);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Constants/color.js
var o59 = {
  X: 15618642,
  Y: 4765519,
  Z: 4227839
};
var t37 = class {
  static get X() {
    return new Color(o59.X).convertSRGBToLinear().clone();
  }
  static get Y() {
    return new Color(o59.Y).convertSRGBToLinear().clone();
  }
  static get Z() {
    return new Color(o59.Z).convertSRGBToLinear().clone();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/utils/calculateScaleByCamera.js
function S45(e48, o71, a62) {
  const t43 = e48.position.distanceTo(o71), r66 = e48.fov, b55 = e48.distance || 3, D52 = t43 / 3, f80 = r66 / 90, u72 = b55 / 3, s60 = D52 * f80 * u72, c85 = (a62 == null ? void 0 : a62.min) || 0.6, n72 = a62 == null ? void 0 : a62.max;
  return c85 && s60 < c85 ? c85 : n72 && s60 > n72 ? n72 : s60;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/clamp.js
function f53(r66, t43, n72) {
  return r66 < t43 ? t43 : r66 > n72 ? n72 : r66;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/utils/getPoseFromCamera.js
function f54(o71) {
  let a62 = o71.pose.latitude, e48 = o71.pose.longitude;
  if (t7(a62) || t7(e48)) {
    const t43 = o71.matrix.elements;
    a62 = Math.asin(f53(t43[9], -1, 1)), Math.abs(t43[9]) < 0.9999999 ? e48 = o49(Math.atan2(t43[8], t43[10])) : e48 = o49(Math.atan2(-t43[2], t43[0]));
  }
  return { latitude: a62, longitude: e48 };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/utils/getOrthographicCameraDirection.js
function a40(t43) {
  const { latitude: r66, longitude: o71 } = t43, e48 = new Vector3();
  return i54 - r66 < 0.03 ? e48.set(0, 1, 0) : s48(0, o71) ? e48.set(0, 0, 1) : s48(Math.PI, o71) ? e48.set(0, 0, -1) : s48(i54, o71) ? e48.set(1, 0, 0) : e48.set(-1, 0, 0), e48;
}
var i54 = Number((Math.PI / 2).toFixed(5));
function s48(t43, r66) {
  return typeof t43 != "number" || typeof r66 != "number" ? false : Math.abs(t43 - r66) < 1e-3;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Helper/MoveHelper.js
var p35 = Object.defineProperty;
var c58 = (t43, i65, r66) => i65 in t43 ? p35(t43, i65, { enumerable: true, configurable: true, writable: true, value: r66 }) : t43[i65] = r66;
var a41 = (t43, i65, r66) => (c58(t43, typeof i65 != "symbol" ? i65 + "" : i65, r66), r66);
var D43 = class extends z23 {
  constructor(r66, o71) {
    super(r66, o71);
    a41(this, "name", "MoveHelper");
    a41(this, "xArrow");
    a41(this, "yArrow");
    a41(this, "zArrow");
    o71.xArrowEnable !== false && (this.xArrow = new G29({ direction: "x", color: t37.X })), o71.yArrowEnable !== false && (this.yArrow = new G29({ direction: "y", color: t37.Y })), o71.zArrowEnable !== false && (this.zArrow = new G29({ direction: "z", color: t37.Z })), this.add(...[this.xArrow, this.yArrow, this.zArrow].filter(Boolean));
  }
  update(r66) {
    if (this.xArrow && (this.xArrow.visible = true), this.yArrow && (this.yArrow.visible = true), this.zArrow && (this.zArrow.visible = true), r66.type === "OrthographicCamera") {
      const o71 = new Vector3(1, 0, 0).applyQuaternion(this.quaternion), n72 = new Vector3(0, 1, 0).applyQuaternion(this.quaternion), A62 = new Vector3(0, 0, 1).applyQuaternion(this.quaternion), f80 = f54(r66), e48 = a40(f80), s60 = 0.0872665;
      Math.abs(o71.angleTo(e48) - 0) < s60 || Math.abs(o71.angleTo(e48) - Math.PI) < s60 ? this.xArrow && (this.xArrow.visible = false) : Math.abs(n72.angleTo(e48) - 0) < s60 || Math.abs(n72.angleTo(e48) - Math.PI) < s60 ? this.yArrow && (this.yArrow.visible = false) : (Math.abs(A62.angleTo(e48) - 0) < s60 || Math.abs(A62.angleTo(e48) - Math.PI) < s60) && this.zArrow && (this.zArrow.visible = false);
    }
  }
  show() {
    super.show(), this.xArrow && this.add(this.xArrow), this.yArrow && this.add(this.yArrow), this.zArrow && this.add(this.zArrow);
  }
  setScaleByCamera(r66) {
    this.scale.setScalar(S45(r66, this.position));
  }
  showDraggingHelper(r66) {
    this.xArrow && (r66.includes("x") ? this.add(this.xArrow) : this.remove(this.xArrow)), this.yArrow && (r66.includes("y") ? this.add(this.yArrow) : this.remove(this.yArrow)), this.zArrow && (r66.includes("z") ? this.add(this.zArrow) : this.remove(this.zArrow));
  }
  dispose() {
    this.remove(...[this.xArrow, this.yArrow, this.zArrow].filter(Boolean)), super.dispose();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Helper/HTML/utils/createElement.js
function o60(r66, n72) {
  return i55(document.createElement(n72 != null ? n72 : "div"), r66);
}
function i55(r66, n72) {
  if (!n72)
    return r66;
  for (const c85 in n72)
    c85 && n72[c85] && (r66.style[c85] = n72[c85]);
  return r66;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Helper/HTML/tipsDom.js
var r48 = Object.defineProperty;
var n52 = Object.getOwnPropertySymbols;
var d51 = Object.prototype.hasOwnProperty;
var f55 = Object.prototype.propertyIsEnumerable;
var l43 = (o71, e48, t43) => e48 in o71 ? r48(o71, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[e48] = t43;
var p36 = (o71, e48) => {
  for (var t43 in e48 || (e48 = {}))
    d51.call(e48, t43) && l43(o71, t43, e48[t43]);
  if (n52)
    for (var t43 of n52(e48))
      f55.call(e48, t43) && l43(o71, t43, e48[t43]);
  return o71;
};
function x39(o71) {
  const e48 = o60(p36({
    position: "absolute",
    display: "block",
    borderRadius: "4px",
    paddingTop: "1px",
    paddingBottom: "1px",
    paddingLeft: "4px",
    paddingRight: "4px",
    pointerEvents: "none",
    userSelect: "none",
    zIndex: "99999",
    backgroundColor: "rgba(0,0,0,0.7)",
    fontSize: "12px",
    color: "#fff",
    letterSpacing: "0",
    lineHeight: "18px"
  }, o71)), t43 = () => {
    e48.style.display !== "block" && e48.style.top && e48.style.left && (e48.style.display = "block");
  };
  return { element: e48, show: t43, hide: () => {
    e48.style.display = "none", e48.style.top = "", e48.style.left = "";
  }, setLeftTop: (s60, i65) => {
    e48.style.left = s60, e48.style.top = i65, t43();
  } };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Helper/RotateHelper.js
var m52 = Object.defineProperty;
var w34 = (a62, s60, t43) => s60 in a62 ? m52(a62, s60, { enumerable: true, configurable: true, writable: true, value: t43 }) : a62[s60] = t43;
var i56 = (a62, s60, t43) => (w34(a62, typeof s60 != "symbol" ? s60 + "" : s60, t43), t43);
var D44 = class extends R38 {
  constructor(t43, e48) {
    super(t43, e48);
    i56(this, "name", "RotateHelper");
    i56(this, "xCircle");
    i56(this, "yCircle");
    i56(this, "zCircle");
    i56(this, "children", []);
    i56(this, "angleTips");
    i56(this, "container");
    (e48 == null ? void 0 : e48.yzCircleEnable) !== false && (this.xCircle = new n53({ direction: "x", color: t37.X })), (e48 == null ? void 0 : e48.xzCircleEnable) !== false && (this.yCircle = new n53({ direction: "y", color: t37.Y })), (e48 == null ? void 0 : e48.xyCircleEnable) !== false && (this.zCircle = new n53({ direction: "z", color: t37.Z })), e48 != null && e48.container && (e48 == null ? void 0 : e48.angleTipsEnable) !== false && (this.container = e48 == null ? void 0 : e48.container, this.angleTips = x39({ display: "none" }), this.container.appendChild(this.angleTips.element)), this.add(...[this.xCircle, this.yCircle, this.zCircle].filter(Boolean)), this.show();
  }
  hide() {
    this.children.forEach((t43) => t43.hide());
  }
  show() {
    var t43;
    this.children.forEach((e48) => e48.showCircle()), (t43 = this.angleTips) == null || t43.hide();
  }
  setScaleByCamera(t43) {
    this.scale.setScalar(S45(t43, this.position));
  }
  showDraggingHelper(t43) {
    var e48;
    this.hide(), this.children.filter((h66) => t43.includes(h66.direction)).forEach((h66) => h66.showRing()), (e48 = this.angleTips) == null || e48.show();
  }
  dispose() {
    var t43, e48;
    this.removeFromParent(), (e48 = (t43 = this.angleTips) == null ? void 0 : t43.element) == null || e48.remove();
  }
};
var n53 = class extends Group {
  constructor(t43) {
    super();
    i56(this, "direction");
    i56(this, "circle");
    i56(this, "ring");
    i56(this, "angleSector");
    this.direction = t43.direction, this.circle = new x40(t43), this.ring = new b39(t43), this.angleSector = new M37(t43), this.add(this.circle, this.ring, this.angleSector), this.direction === "y" ? this.rotateX(Math.PI / 2) : this.direction === "x" && this.rotateY(-Math.PI / 2);
  }
  showCircle() {
    this.add(this.circle), this.remove(this.ring, this.angleSector);
  }
  showRing() {
    this.add(this.ring, this.angleSector), this.remove(this.circle);
  }
  hide() {
    this.remove(this.ring, this.angleSector, this.circle);
  }
};
var x40 = class extends Mesh {
  constructor(t43) {
    var e48;
    super();
    i56(this, "direction");
    i56(this, "gapAngle", 0.02);
    i56(this, "geometry", new RingGeometry(0.25, 0.3, 20, 8, this.gapAngle, Math.PI / 2 - this.gapAngle * 2));
    this.material = new MeshBasicMaterial({
      opacity: 0.6,
      color: (e48 = t43.color) != null ? e48 : 16777215,
      transparent: true,
      side: DoubleSide,
      depthTest: false,
      depthWrite: false
    }), this.renderOrder = 50, this.direction = t43.direction, this.geometry.name = `RotateHelperCircleGeometry-${this.direction}`;
  }
};
var b39 = class extends Group {
  constructor(t43) {
    super();
    i56(this, "direction");
    this.direction = t43.direction;
    const e48 = 0.015, h66 = new Array(8).fill(null).map((R43, c85) => {
      const d73 = new RingGeometry(0.25, 0.3, 20, 8, Math.PI / 4 * c85 + e48, Math.PI / 4 - e48 * 2), p66 = new MeshBasicMaterial({
        opacity: 1,
        color: 16777215,
        depthTest: false,
        depthWrite: false,
        transparent: true,
        side: DoubleSide
      });
      this.renderOrder = 50;
      const o71 = new Mesh(d73, p66);
      return o71.name = `AxesDashedRing-${this.direction}-${c85}`, o71;
    });
    this.add(...h66);
  }
};
var M37 = class extends Mesh {
  constructor(t43) {
    var h66;
    super();
    i56(this, "direction");
    i56(this, "baseAxes");
    i56(this, "angleDirection");
    switch (t43.direction) {
      case "x":
        this.baseAxes = new Vector3(0, 0, 1);
        break;
      case "y":
        this.baseAxes = new Vector3(1, 0, 0);
        break;
      case "z":
        this.baseAxes = new Vector3(1, 0, 0);
        break;
    }
    const e48 = 0.3 + 5e-4;
    this.geometry = new CircleGeometry(e48, 48, 0, 1e-4), this.material = new MeshBasicMaterial({
      opacity: 0.4,
      color: (h66 = t43.color) != null ? h66 : 16777215,
      depthTest: false,
      depthWrite: false,
      transparent: true,
      side: DoubleSide
    }), this.renderOrder = 50, this.direction = t43.direction, this.angleDirection = this.direction === "z" ? 1 : -1;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Helper/HTML/rectangleScaleDom.js
var f56 = Object.defineProperty;
var g47 = Object.getOwnPropertySymbols;
var q34 = Object.prototype.hasOwnProperty;
var x41 = Object.prototype.propertyIsEnumerable;
var w35 = (t43, e48, r66) => e48 in t43 ? f56(t43, e48, { enumerable: true, configurable: true, writable: true, value: r66 }) : t43[e48] = r66;
var b40 = (t43, e48) => {
  for (var r66 in e48 || (e48 = {}))
    q34.call(e48, r66) && w35(t43, r66, e48[r66]);
  if (g47)
    for (var r66 of g47(e48))
      x41.call(e48, r66) && w35(t43, r66, e48[r66]);
  return t43;
};
function F38() {
  const t43 = o60({
    width: "100%",
    height: "100%",
    left: "0",
    top: "0",
    position: "absolute",
    pointerEvents: "none"
  }), e48 = o60({
    boxSizing: "border-box",
    width: "100%",
    height: "100%",
    left: "0",
    top: "0",
    position: "relative",
    display: "flex",
    alignItems: "center",
    justifyContent: "center"
  }), r66 = o60({
    boxSizing: "border-box",
    width: "100%",
    height: "100%",
    left: "0",
    top: "0",
    position: "absolute",
    border: "1px solid rgba(255,255,255,0.4)"
  });
  t43.appendChild(e48), e48.appendChild(r66);
  const n72 = "-4px", i65 = { direction: "nesw", element: o61({ cursor: "nesw-resize", left: n72, bottom: n72 }) }, a62 = { direction: "ns", element: o61({ cursor: "ns-resize", bottom: n72 }) }, c85 = { direction: "nwse", element: o61({ cursor: "nwse-resize", right: n72, bottom: n72 }) }, p66 = { direction: "ew", element: o61({ cursor: "ew-resize", right: n72 }) }, u72 = { direction: "nesw", element: o61({ cursor: "nesw-resize", right: n72, top: n72 }) }, d73 = { direction: "ns", element: o61({ cursor: "ns-resize", top: n72 }) }, l63 = { direction: "nwse", element: o61({ cursor: "nwse-resize", left: n72, top: n72 }) }, h66 = { direction: "ew", element: o61({ cursor: "ew-resize", left: n72 }) };
  return new Array(a62, p66, d73, h66, i65, c85, u72, l63).forEach((m66) => e48.appendChild(m66.element)), { container: t43, squares: [
    i65,
    a62,
    c85,
    p66,
    u72,
    d73,
    l63,
    h66
  ] };
}
function o61(t43) {
  const e48 = o60(b40({
    background: "#FFFFFF",
    width: "9px",
    height: "9px",
    position: "absolute",
    pointerEvents: "none"
  }, t43)), r66 = o60({
    width: "15px",
    height: "15px",
    position: "absolute",
    left: "50%",
    top: "50%",
    transform: "translate(-50%, -50%)",
    pointerEvents: "none"
  }), n72 = o60({
    width: "15px",
    height: "15px",
    cursor: t43 == null ? void 0 : t43.cursor,
    pointerEvents: "auto",
    // backgroundColor: 'red',
    background: "transparent"
  });
  return n72.draggable = true, r66.appendChild(n72), e48.appendChild(r66), e48;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Helper/CSS3DScaleHelper.js
var b41 = Object.defineProperty;
var D45 = (c85, n72, e48) => n72 in c85 ? b41(c85, n72, { enumerable: true, configurable: true, writable: true, value: e48 }) : c85[n72] = e48;
var i57 = (c85, n72, e48) => (D45(c85, typeof n72 != "symbol" ? n72 + "" : n72, e48), e48);
var v40 = class extends B35 {
  // eslint-disable-next-line max-params
  constructor(e48, t43, s60, o71) {
    super(e48);
    i57(this, "name", "CSS3DScaleHelper");
    i57(this, "points", []);
    i57(this, "cornerPositions", []);
    i57(this, "css3DInstance");
    i57(this, "plane");
    i57(this, "css3DRenderer", new y5());
    i57(this, "camera");
    i57(this, "scene");
    i57(this, "container");
    i57(this, "enabled", false);
    this.camera = s60, this.scene = o71, this.container = t43, this.initRectangleScaleHelper();
  }
  get helperObject() {
    var e48;
    if (!((e48 = this.css3DInstance) != null && e48.css3DObject))
      throw new Error("css3DInstance is not initialized");
    return this.css3DInstance.css3DObject;
  }
  initQuaternion() {
    this.quaternion.copy(this.originObject3D.quaternion);
  }
  applyMatrix4(e48) {
    var t43;
    super.applyMatrix4(e48), this.helperObject.applyMatrix4(e48), (t43 = this.plane) == null || t43.applyMatrix4(e48), this.cornerPositions.forEach((s60) => s60.applyMatrix4(e48));
  }
  showDraggingHelper() {
  }
  applyHelperScaleMatrix4(e48, t43) {
    var s60;
    (s60 = this.plane) == null || s60.scale.applyMatrix4(e48), this.helperObject.applyScaleMatrix4(e48);
  }
  updatePoints() {
    const e48 = this.calculatePointPosition(this.cornerPositions);
    this.points.forEach((t43, s60) => {
      t43.position.copy(e48[s60]);
    });
  }
  applyHelperQuaternion(e48, t43) {
    var o71;
    const s60 = (o71 = this.css3DInstance) == null ? void 0 : o71.css3DObject;
    if (s60) {
      const a62 = new Vector3().subVectors(s60.position, t43).applyQuaternion(e48).add(t43);
      s60.position.copy(a62), s60.applyQuaternion(e48);
    }
    if (this.plane) {
      const a62 = new Vector3().subVectors(this.plane.position, t43).applyQuaternion(e48).add(t43);
      this.plane.position.copy(a62), this.plane.applyQuaternion(e48);
    }
    this.cornerPositions.forEach((a62) => {
      const l63 = new Vector3().subVectors(a62, t43).applyQuaternion(e48).add(t43);
      a62.copy(l63);
    });
  }
  enable() {
    var e48;
    this.enabled || (this.enabled = true, (e48 = this.css3DInstance) == null || e48.enable(), this.plane && this.scene.add(this.plane));
  }
  disable() {
    var e48;
    this.enabled && (this.enabled = false, (e48 = this.css3DInstance) == null || e48.disable(), this.plane && this.scene.remove(this.plane));
  }
  show() {
    var e48;
    (e48 = this.css3DInstance) == null || e48.show(), this.plane && (this.plane.visible = true);
  }
  hide() {
    var e48;
    (e48 = this.css3DInstance) == null || e48.hide(), this.plane && (this.plane.visible = false);
  }
  dispose() {
    this.disable(), this.css3DRenderer.dispose();
  }
  initRectangleScaleHelper() {
    var l63, p66;
    const e48 = this.getCornerPositions();
    if (!e48)
      return;
    this.cornerPositions = e48;
    const t43 = this.css3DRenderer.create3DElement(this.camera, e48, { ratio: 3e-3 });
    if (!t43)
      return;
    this.css3DInstance = t43, t43.appendToElement(this.container);
    const s60 = t43.css3DObject.container, { container: o71, squares: a62 } = F38();
    this.points = a62.map((h66, d73) => ({
      direction: h66.direction,
      point: h66.element,
      position: this.calculatePointPosition(e48)[d73]
    })), s60.insertBefore(o71, (l63 = s60.children[0]) != null ? l63 : null), this.helperObject.position.copy(this.originObject3D.position), (p66 = this.plane) == null || p66.position.copy(this.originObject3D.position);
  }
  getCornerPositions() {
    const { originObject3D: e48 } = this;
    if (e48.isCSS3DObject && e48.cornerPoints)
      return e48.cornerPoints;
    console.error("当前物体暂时不支持 ScaleHelper");
  }
  calculatePointPosition(e48) {
    return [
      e48[0].clone(),
      e48[0].clone().add(e48[1]).divideScalar(2),
      e48[1].clone(),
      e48[1].clone().add(e48[2]).divideScalar(2),
      e48[2].clone(),
      e48[2].clone().add(e48[3]).divideScalar(2),
      e48[3].clone(),
      e48[3].clone().add(e48[0]).divideScalar(2)
    ];
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Helper/BoundingBoxHelper.js
var u49 = Object.defineProperty;
var c59 = (s60, n72, e48) => n72 in s60 ? u49(s60, n72, { enumerable: true, configurable: true, writable: true, value: e48 }) : s60[n72] = e48;
var r49 = (s60, n72, e48) => (c59(s60, typeof n72 != "symbol" ? n72 + "" : n72, e48), e48);
var d52 = class extends M36 {
  constructor(e48) {
    super(e48);
    r49(this, "name", "BoundingBoxHelper");
    r49(this, "box");
    r49(this, "outline");
    r49(this, "positionAttribute");
    this.positionAttribute = new BufferAttribute(new Float32Array(8 * 3), 3), this.box = this.createBox(), this.outline = this.createOutline(), this.add(this.box, this.outline), this.update();
  }
  initQuaternion() {
    this.quaternion.copy(this.originObject3D.quaternion);
  }
  setHelperQuaternion(e48, t43) {
    r46(this, e48, t43);
  }
  raycasterIntersectObject(e48, t43) {
    return e48.intersectObject(this, false, t43);
  }
  raycast(e48, t43) {
    this.box.raycast(e48, t43);
  }
  update() {
    const e48 = R7(this.originObject3D);
    if (!e48)
      return;
    const { min: t43, max: i65 } = e48;
    this.positionAttribute.setXYZ(0, i65.x, i65.y, i65.z), this.positionAttribute.setXYZ(1, t43.x, i65.y, i65.z), this.positionAttribute.setXYZ(2, t43.x, t43.y, i65.z), this.positionAttribute.setXYZ(3, i65.x, t43.y, i65.z), this.positionAttribute.setXYZ(4, i65.x, i65.y, t43.z), this.positionAttribute.setXYZ(5, t43.x, i65.y, t43.z), this.positionAttribute.setXYZ(6, t43.x, t43.y, t43.z), this.positionAttribute.setXYZ(7, i65.x, t43.y, t43.z), this.positionAttribute.needsUpdate = true;
  }
  createOutline() {
    const e48 = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]), t43 = new BufferGeometry();
    t43.setIndex(new BufferAttribute(e48, 1)), t43.setAttribute("position", this.positionAttribute);
    const i65 = new LineBasicMaterial({
      color: 64767,
      linewidth: 1,
      opacity: 1,
      toneMapped: false
    }), a62 = new LineSegments(t43, i65);
    return a62.matrixAutoUpdate = false, a62;
  }
  createBox() {
    const e48 = new Uint16Array([
      0,
      1,
      2,
      0,
      2,
      3,
      0,
      3,
      7,
      0,
      7,
      4,
      0,
      4,
      5,
      0,
      5,
      1,
      6,
      1,
      5,
      6,
      2,
      1,
      6,
      5,
      4,
      6,
      4,
      7,
      6,
      3,
      2,
      6,
      7,
      3
    ]), t43 = new BufferGeometry();
    t43.setIndex(new BufferAttribute(e48, 1)), t43.setAttribute("position", this.positionAttribute);
    const i65 = new MeshBasicMaterial({
      color: 64767,
      opacity: 0.1,
      depthTest: false,
      transparent: true
    });
    return new Mesh(t43, i65);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/utils/cameraHooks.js
var e40 = /* @__PURE__ */ new Map();
function l44(o71) {
  if (e40.has(o71))
    return e40.get(o71).hooks;
  const t43 = new E3();
  let n72 = null, r66;
  const i65 = () => {
    n72 = requestAnimationFrame(i65);
    const a62 = o71.projectionMatrix.toArray().join(",") + o71.matrixWorld.toArray().join(",");
    a62 !== r66 && (r66 = a62, t43.emit("cameraUpdate"));
  };
  i65();
  const s60 = () => {
    e40.delete(o71), cancelAnimationFrame(n72);
  };
  return e40.set(o71, {
    hooks: t43,
    dispose: s60
  }), t43;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Base/BaseController.js
var m53 = Object.defineProperty;
var H31 = (h66, e48, t43) => e48 in h66 ? m53(h66, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : h66[e48] = t43;
var o62 = (h66, e48, t43) => (H31(h66, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var B36 = class {
  constructor(e48, t43) {
    o62(this, "originObject3D");
    o62(this, "hooks");
    o62(this, "preventTapDefaultEvent", false);
    o62(this, "internalHooks");
    o62(this, "disposers", []);
    o62(this, "helperObject3D");
    o62(this, "camera");
    o62(this, "model");
    o62(this, "scene");
    o62(this, "container");
    o62(this, "domEvents");
    o62(this, "isDragging", false);
    o62(this, "enabled", false);
    o62(this, "name", "BaseController");
    o62(this, "boundingBox");
    o62(this, "config");
    o62(this, "onRender");
    o62(this, "cameraHooks");
    o62(this, "onWantsTapGesture", (e49) => {
      if (this.getIntersectObject(e49))
        return false;
    });
    o62(this, "updateHelperScale", () => {
      this.helperObject3D.setScaleByCamera(this.camera);
    });
    o62(this, "getBox", () => this.boundingBox ? this.boundingBox : (this.boundingBox = R7(this.originObject3D), this.boundingBox));
    var d73, f80, i65;
    this.hooks = (d73 = e48.sharedHooks) != null ? d73 : new E3(), this.internalHooks = (f80 = e48.sharedInternalHooks) != null ? f80 : new E3(), this.camera = e48.camera, this.model = e48.model, this.originObject3D = e48.originObject3D, this.helperObject3D = e48.helperObject3D, this.container = e48.container, this.scene = e48.scene, this.domEvents = e48.domEvents, this.onRender = (i65 = e48.onRender) != null ? i65 : () => {
    }, this.config = t43 != null ? t43 : {}, this.initialHelperPosition(), this.initialHelperQuaternion(), this.updateHelperScale(), this.cameraHooks = l44(this.camera), this.enable();
    const s60 = this.onSetOriginObjectScale.bind(this), a62 = this.onSetOriginObjectRotate.bind(this), n72 = this.onSetOriginObjectPosition.bind(this), r66 = this.onApplyOriginObjectScale.bind(this), c85 = this.onApplyOriginObjectRotate.bind(this), p66 = this.onApplyOriginObjectPosition.bind(this), l63 = this.initialHelperPosition.bind(this);
    this.cameraHooks.on("cameraUpdate", this.updateHelperScale), this.internalHooks.on("initialHelperPosition", l63), this.internalHooks.on("setObjectScale", s60), this.internalHooks.on("setObjectRotate", a62), this.internalHooks.on("setObjectPosition", n72), this.internalHooks.on("applyObjectPosition", p66), this.internalHooks.on("applyObjectRotate", c85), this.internalHooks.on("applyObjectScale", r66), this.hooks.on("moveEnd", this.updateHelperScale), this.internalHooks.on("setObjectPosition", this.updateHelperScale), this.internalHooks.on("initialHelperPosition", this.updateHelperScale), this.disposers.push(() => {
      this.cameraHooks.off("cameraUpdate", this.updateHelperScale), this.internalHooks.off("initialHelperPosition", l63), this.internalHooks.off("setObjectScale", s60), this.internalHooks.off("setObjectRotate", a62), this.internalHooks.off("setObjectPosition", n72), this.internalHooks.off("applyObjectPosition", p66), this.internalHooks.off("applyObjectRotate", c85), this.internalHooks.off("applyObjectScale", r66), this.hooks.off("moveEnd", this.updateHelperScale), this.internalHooks.off("setObjectPosition", this.updateHelperScale), this.internalHooks.off("initialHelperPosition", this.updateHelperScale);
    });
  }
  initialHelperPosition() {
    this.helperObject3D.initialPosition(this.calculateOffset(this.config.offset));
  }
  initialHelperQuaternion() {
    this.helperObject3D.initQuaternion(this.config);
  }
  enable() {
    this.enabled || (this.enabled = true, this.scene.add(this.helperObject3D), this.helperObject3D.enable(), this.render());
  }
  disable() {
    this.enabled && (this.enabled = false, this.helperObject3D.disable(), this.render());
  }
  show() {
    this.helperObject3D.show(), this.render();
  }
  hide() {
    this.helperObject3D.hide(), this.render();
  }
  dispose() {
    var e48;
    (e48 = this.disposers) == null || e48.forEach((t43) => t43 == null ? void 0 : t43()), this.helperObject3D.dispose(), this.render();
  }
  /**
   * @description: applyHelperMatrix4
   * @param {THREE.Matrix4} matrix position 偏移量
   */
  applyHelperMatrix4(e48) {
    this.helperObject3D.applyMatrix4(e48);
  }
  /**
   * @description: applyHelperQuaternion
   * @param {THREE.Quaternion} quaternion 旋转四元数
   * @param {THREE.Vector3} origin 旋转中心
   */
  applyHelperQuaternion(e48, t43) {
    this.helperObject3D.applyHelperQuaternion(e48, t43);
  }
  /**
   * @description: applyHelperScaleMatrix4
   * @param {THREE.Matrix4} matrix 缩放矩阵
   * @param {THREE.Vector3} origin 缩放中心
   */
  applyHelperScaleMatrix4(e48, t43) {
    this.helperObject3D.applyHelperScaleMatrix4(e48, t43);
  }
  onWantsGesture(e48, t43, s60) {
    if (this.isDragging)
      return false;
  }
  onIntersectionOnModelUpdate(e48) {
  }
  /**
   * @description: onApplyOriginObjectScale
   * @param {THREE.Matrix4} params.matrix 缩放矩阵
   * @param {THREE.Vector3} params.origin 缩放中心
   */
  onApplyOriginObjectScale(e48) {
    this.applyHelperScaleMatrix4(e48.matrix, e48.origin);
  }
  /**
   * @description: onApplyOriginObjectRotate
   * @param {THREE.Quaternion} params.quaternion 旋转四元数
   * @param {THREE.Vector3} params.origin 旋转中心
   */
  onApplyOriginObjectRotate(e48) {
    this.applyHelperQuaternion(e48.quaternion, e48.origin);
  }
  /**
   * @description: onApplyOriginObjectPosition
   * @param {THREE.Matrix4} params.matrix position 偏移量
   */
  onApplyOriginObjectPosition(e48) {
    this.applyHelperMatrix4(e48.matrix);
  }
  onSetOriginObjectScale(e48) {
    this.helperObject3D.scale.copy(e48), this.updateOffsetByScale(e48);
  }
  onSetOriginObjectRotate(e48, t43) {
    this.helperObject3D.setHelperQuaternion(e48, t43);
  }
  onSetOriginObjectPosition(e48) {
    this.helperObject3D.position.copy(e48.clone().add(this.calculateOffset(this.config.offset)));
  }
  render() {
    this.onRender();
  }
  updateOffsetByScale(e48) {
    if (this.boundingBox && this.config.offset) {
      const t43 = this.originObject3D.position, s60 = new Vector3().subVectors(this.boundingBox.max, t43).multiply(e48).add(t43), a62 = new Vector3().subVectors(this.boundingBox.min, t43).multiply(e48).add(t43), n72 = this.calculateOffset(this.config.offset, { min: a62, max: s60 });
      this.helperObject3D.initialPosition(n72);
    }
  }
  hoverListener(e48, t43 = 16777215, s60 = 1) {
    const a62 = t9(e48).filter(i7), n72 = [];
    for (const r66 of a62)
      if (r66.material || r66 instanceof Group) {
        const c85 = r66 instanceof Group ? r66.children.filter((i65) => i65 instanceof Mesh) : [r66];
        c85.forEach((i65) => {
          var O40, u72;
          i65.__originalColor__ = (O40 = i65.__originalColor__) != null ? O40 : i65.material.color.clone(), i65.__originalOpacity__ = (u72 = i65.__originalOpacity__) != null ? u72 : i65.material.opacity;
        });
        const p66 = () => {
          c85.forEach((i65) => {
            i65.material.color.set(t43), i65.material.opacity = s60;
          }), this.render();
        }, l63 = () => {
          c85.forEach((i65) => {
            i65.material.color.copy(i65.__originalColor__), i65.material.opacity = i65.__originalOpacity__;
          }), this.render();
        }, d73 = () => {
          this.isDragging || p66();
        }, f80 = () => {
          this.isDragging || l63();
        };
        for (const i65 of c85)
          this.domEvents.addEventListener(i65, "mouseover", d73), this.domEvents.addEventListener(i65, "mouseout", f80), this.hooks.on("moveStart", p66), this.hooks.on("moveEnd", l63), this.hooks.on("rotateEnd", l63), this.hooks.on("scaleEnd", l63), n72.push(() => {
            this.domEvents.removeEventListener(i65, "mouseover", d73), this.domEvents.removeEventListener(i65, "mouseout", f80), this.hooks.off("moveStart", p66), this.hooks.off("moveEnd", l63), this.hooks.off("rotateEnd", l63), this.hooks.off("scaleEnd", l63);
          });
      }
    return () => n72.forEach((r66) => r66 == null ? void 0 : r66());
  }
  getIntersectObject(e48) {
    const t43 = this.camera.position, s60 = this.helperObject3D;
    if (!s60)
      return;
    const a62 = this.helperObject3D.raycasterIntersectObject(e48)[0];
    if (!a62)
      return;
    const n72 = a62;
    if (n72.object = s60, this.model.intersectRaycaster) {
      const r66 = this.model.intersectRaycaster(e48)[0];
      if (r66 && r66.point.distanceTo(t43) < n72.point.distanceTo(t43))
        return;
    }
    return n72.object;
  }
  calculateOffset(e48, t43) {
    const s60 = new Vector3(0, 0, 0);
    if (!e48)
      return s60;
    const a62 = () => t43 || this.getBox();
    if (typeof e48.x == "number")
      s60.setX(e48.x);
    else if (typeof e48.x == "object") {
      const n72 = a62();
      s60.setX((n72.max.x - n72.min.x) * e48.x.percents);
    }
    if (typeof e48.y == "number")
      s60.setY(e48.y);
    else if (typeof e48.y == "object") {
      const n72 = a62();
      s60.setY((n72.max.y - n72.min.y) * e48.y.percents);
    }
    if (typeof e48.z == "number")
      s60.setZ(e48.z);
    else if (typeof e48.z == "object") {
      const n72 = a62();
      s60.setZ((n72.max.z - n72.min.z) * e48.z.percents);
    }
    return s60;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/utils/calculateThreeMouse.js
function s49(t43, e48) {
  const { offsetWidth: o71, offsetHeight: c85 } = e48, { top: n72, left: f80 } = e48.getBoundingClientRect();
  return Object.assign(new Vector2(), {
    x: (t43.x - f80) / o71 * 2 - 1,
    y: -(t43.y - n72) / c85 * 2 + 1
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/utils/getMouseRaycaster.js
function u50(a62, e48, s60) {
  if (!e48 || !s60 || !a62)
    return;
  const r66 = s49(e48, s60);
  if (Math.abs(r66.x) === 1 || Math.abs(r66.y) === 1)
    return;
  const t43 = new Raycaster();
  return t43.setFromCamera(r66, a62), t43.params.Points.threshold = 0.1, t43;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Controller/MoveController.js
var v41 = Object.defineProperty;
var f57 = (c85, h66, e48) => h66 in c85 ? v41(c85, h66, { enumerable: true, configurable: true, writable: true, value: e48 }) : c85[h66] = e48;
var a42 = (c85, h66, e48) => (f57(c85, typeof h66 != "symbol" ? h66 + "" : h66, e48), e48);
var w36 = class extends B36 {
  constructor(...e48) {
    super(...e48);
    a42(this, "name", "MoveController");
    a42(this, "startInfo");
    a42(this, "_moveByMouse", {
      enabled: false
    });
    a42(this, "mouseInfo");
    a42(this, "mousedownEventListenerDisposer");
    a42(this, "dragStart", (e49) => {
      if (this.moveByMouseEnable || this.isDragging)
        return;
      const t44 = e49 == null ? void 0 : e49.intersect;
      if (!t44)
        return this.dragEnd();
      const o72 = (t44 == null ? void 0 : t44.object).direction;
      if (!o72)
        return this.dragEnd();
      const s61 = new Vector3(1, 0, 0).applyQuaternion(this.helperObject3D.quaternion), n73 = new Vector3(0, 1, 0).applyQuaternion(this.helperObject3D.quaternion), u72 = new Vector3(0, 0, 1).applyQuaternion(this.helperObject3D.quaternion), i65 = (() => {
        switch (o72) {
          case "x":
            return s61;
          case "y":
            return n73;
          case "z":
            return u72;
        }
      })(), r66 = t44.point.clone(), d73 = new Line3(
        r66.clone().sub(i65.normalize()),
        r66.clone().add(i65.normalize())
      );
      this.startInfo = { startVectorProject: r66, line: d73 }, this.helperObject3D.showDraggingHelper([o72]), this.hooks.emit("moveStart"), this.isDragging = true;
    });
    a42(this, "dragging", (e49) => {
      if (!this.isDragging || !this.startInfo)
        return;
      const t44 = "touches" in e49 ? e49.touches[0].clientX : e49.x, o72 = "touches" in e49 ? e49.touches[0].clientY : e49.y, s61 = u50(this.camera, { x: t44, y: o72 }, this.container);
      return s61 ? (this.move(s61), false) : this.dragEnd();
    });
    a42(this, "dragEnd", () => {
      this.isDragging && (this.startInfo = void 0, this.isDragging = false, this.helperObject3D.show(), this.hooks.emit("moveEnd"));
    });
    const t43 = this.helperObject3D;
    this.hoverListener([t43.xArrow, t43.yArrow, t43.zArrow]);
    const o71 = this.show.bind(this), s60 = this.hide.bind(this), n72 = () => {
      this.helperObject3D.update(this.camera), this.render();
    };
    n72(), this.domEvents.addEventListener(this.helperObject3D, "mousedown", this.dragStart), document.addEventListener("mousemove", this.dragging), document.addEventListener("mouseup", this.dragEnd), this.domEvents.addEventListener(this.helperObject3D, "touchstart", this.dragStart), document.addEventListener("touchmove", this.dragging), document.addEventListener("touchend", this.dragEnd), this.hooks.on("rotateStart", s60), this.hooks.on("rotateEnd", o71), this.hooks.on("scaleStart", s60), this.hooks.on("scaleEnd", o71), this.hooks.on("moveByMouseEnable", s60), this.hooks.on("moveByMouseDisable", o71), this.cameraHooks.on("cameraUpdate", n72), this.disposers.push(() => {
      this.domEvents.removeEventListener(this.helperObject3D, "mousedown", this.dragStart), document.removeEventListener("mousemove", this.dragging), document.removeEventListener("mouseup", this.dragEnd), this.domEvents.removeEventListener(this.helperObject3D, "touchstart", this.dragStart), document.removeEventListener("touchmove", this.dragging), document.removeEventListener("touchend", this.dragEnd), this.hooks.off("rotateStart", s60), this.hooks.off("rotateEnd", o71), this.hooks.off("scaleStart", s60), this.hooks.off("scaleEnd", o71), this.hooks.off("moveByMouseEnable", s60), this.hooks.off("moveByMouseDisable", o71), this.cameraHooks.off("cameraUpdate", n72);
    }), this.moveByMouseEnable && this.moveByMouse();
  }
  get moveByMouseEnable() {
    return this._moveByMouse.enabled;
  }
  dispose() {
    var e48;
    super.dispose(), (e48 = this.disposers) == null || e48.forEach((t43) => t43 == null ? void 0 : t43());
  }
  /**
   * @description: 跟随鼠标移动
   * @param {boolean} params.useFaceNormal 是否使用面的法线，默认为false
   * @param {boolean} params.useFaceNormal.enable 是否使用面的法线，默认为true
   * @param {Vector3} params.useFaceNormal.alignmentVector 期望对齐的方向，默认为Y轴对齐Face的法向向量，即 `{ x: 0, y: 1, z: 0 }`
   * @param {Function} params.useFaceNormal.fixedFaceNormal 修正后的face normal
   */
  moveByMouse(e48) {
    this._moveByMouse = { enabled: true, useFaceNormal: e48 == null ? void 0 : e48.useFaceNormal }, this.preventTapDefaultEvent = true;
    const t43 = this.handleMouseDown.bind(this), o71 = this.handleMouseUp.bind(this);
    this.hooks.emit("moveByMouseEnable"), setTimeout(() => {
      this.container.addEventListener("mousedown", t43), this.container.addEventListener("mouseup", o71);
    }), this.mousedownEventListenerDisposer = () => {
      this.container.removeEventListener("mousedown", t43), this.container.removeEventListener("mouseup", o71);
    };
  }
  /**
   * @description: 禁用跟随鼠标移动
   */
  disableMoveByMouse() {
    var e48;
    this._moveByMouse = { enabled: false }, this.preventTapDefaultEvent = false, this.hooks.emit("moveByMouseDisable"), (e48 = this.mousedownEventListenerDisposer) == null || e48.call(this);
  }
  onIntersectionOnModelUpdate(e48) {
    var n72, u72, i65;
    if (!this.moveByMouseEnable)
      return;
    const { point: t43, face: o71 } = e48;
    if (!this.hooks.emit("wantToMove", t43)) {
      if (this.originObject3D.position.copy(t43), (this._moveByMouse.useFaceNormal === true || typeof this._moveByMouse.useFaceNormal == "object" && this._moveByMouse.useFaceNormal.enable !== false) && o71 != null && o71.normal) {
        const r66 = (() => typeof this._moveByMouse.useFaceNormal == "object" && this._moveByMouse.useFaceNormal.alignmentVector ? this._moveByMouse.useFaceNormal.alignmentVector : { x: 0, y: 1, z: 0 })(), d73 = new Vector3((n72 = r66.x) != null ? n72 : 0, (u72 = r66.y) != null ? u72 : 0, (i65 = r66.z) != null ? i65 : 0), l63 = (() => typeof this._moveByMouse.useFaceNormal == "object" && this._moveByMouse.useFaceNormal.fixedFaceNormal ? this._moveByMouse.useFaceNormal.fixedFaceNormal(o71.normal) : o71.normal)();
        this.originObject3D.quaternion.setFromUnitVectors(d73, l63), this.internalHooks.emit("setObjectRotate", this.originObject3D.quaternion.clone());
      }
      this.internalHooks.emit("setObjectPosition", t43), this.hooks.emit("move", t43);
    }
  }
  handleMouseDown(e48) {
    const { x: t43, y: o71 } = e48;
    this.mouseInfo = { x: t43, y: o71, mouseDownTimestamp: Date.now() };
  }
  handleMouseUp(e48) {
    if (!this.mouseInfo)
      return;
    const { x: t43, y: o71 } = e48;
    this.mouseInfo.x === t43 && this.mouseInfo.y === o71 && Date.now() - this.mouseInfo.mouseDownTimestamp < 500 && (this.disableMoveByMouse(), this.mouseInfo = void 0);
  }
  move(e48) {
    if (!this.startInfo)
      return this.dragEnd();
    const { line: t43, startVectorProject: o71 } = this.startInfo, s60 = this.originObject3D, n72 = w5({ raycaster: e48, line: t43, clampToLine: false }), u72 = n72.clone().sub(o71), i65 = new Matrix4();
    i65.setPosition(u72);
    const r66 = s60.position.clone().applyMatrix4(i65);
    this.hooks.emit("wantToMove", r66) || (s60.applyMatrix4(i65), o71.copy(n72), this.internalHooks.emit("applyObjectPosition", { matrix: i65 }), this.hooks.emit("move", r66));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Object3DHelperPlugin/FiveControllerWrapper.js
var v42 = Object.defineProperty;
var C46 = (n72, e48, t43) => e48 in n72 ? v42(n72, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : n72[e48] = t43;
var r50 = (n72, e48, t43) => (C46(n72, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var F39 = class {
  // eslint-disable-next-line max-params
  constructor(e48, t43, a62, h66, p66, u72, d73, c85) {
    r50(this, "helperController");
    r50(this, "five");
    r50(this, "onFiveWantsTapGesture", (e49) => {
      if (!this.helperController)
        return;
      if (this.helperController.preventTapDefaultEvent)
        return false;
      const t44 = this.helperController.onWantsTapGesture(e49);
      return this.five.needsRender = true, t44;
    });
    r50(this, "onFiveWantsGesture", (...e49) => {
      if (!this.helperController)
        return;
      const t44 = this.helperController.onWantsGesture(...e49);
      return this.five.needsRender = true, t44;
    });
    r50(this, "onFiveIntersectionOnModelUpdate", (...e49) => {
      this.helperController && this.helperController.onIntersectionOnModelUpdate(...e49);
    });
    const { camera: s60, model: o71, scene: i65 } = e48, l63 = e48.getElement();
    if (this.five = e48, !s60 || !o71 || !l63 || !i65)
      return;
    const f80 = () => {
      e48.needsRender = true;
    };
    this.helperController = new a62(
      {
        camera: s60,
        model: o71,
        domEvents: t43,
        originObject3D: h66,
        helperObject3D: p66,
        container: l63,
        scene: i65,
        onRender: f80,
        sharedHooks: d73,
        sharedInternalHooks: c85
      },
      u72
    ), e48.on("wantsTapGesture", this.onFiveWantsTapGesture), e48.on("wantsGesture", this.onFiveWantsGesture), e48.on("intersectionOnModelUpdate", this.onFiveIntersectionOnModelUpdate);
  }
  dispose() {
    var e48;
    this.five.off("wantsTapGesture", this.onFiveWantsTapGesture), this.five.off("wantsGesture", this.onFiveWantsGesture), this.five.off("intersectionOnModelUpdate", this.onFiveIntersectionOnModelUpdate), (e48 = this.helperController) == null || e48.dispose();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/index.js
var u51 = Object.defineProperty;
var f58 = Object.getOwnPropertySymbols;
var S46 = Object.prototype.hasOwnProperty;
var E44 = Object.prototype.propertyIsEnumerable;
var d53 = (i65, e48, s60) => e48 in i65 ? u51(i65, e48, { enumerable: true, configurable: true, writable: true, value: s60 }) : i65[e48] = s60;
var a43 = (i65, e48) => {
  for (var s60 in e48 || (e48 = {}))
    S46.call(e48, s60) && d53(i65, s60, e48[s60]);
  if (f58)
    for (var s60 of f58(e48))
      E44.call(e48, s60) && d53(i65, s60, e48[s60]);
  return i65;
};
var r51 = (i65, e48, s60) => (d53(i65, typeof e48 != "symbol" ? e48 + "" : e48, s60), s60);
var b42 = (i65, e48, s60) => new Promise((t43, l63) => {
  var v58 = (o71) => {
    try {
      n72(s60.next(o71));
    } catch (h66) {
      l63(h66);
    }
  }, p66 = (o71) => {
    try {
      n72(s60.throw(o71));
    } catch (h66) {
      l63(h66);
    }
  }, n72 = (o71) => o71.done ? t43(o71.value) : Promise.resolve(o71.value).then(v58, p66);
  n72((s60 = s60.apply(i65, e48)).next());
});
var D46 = "v1.0.1";
var y38 = "Object3DHelper";
var c60 = `${y38}@${D46}`;
var k42 = () => {
  console.error(`${c60} is disposed`);
};
var I46 = () => {
  console.warn(`${c60} is disabled`);
};
var m54 = () => {
  console.error(`${c60} is disabled`);
};
var L32 = class {
  constructor(e48) {
    r51(this, "controllers", {});
    r51(this, "state", {
      visible: true,
      enabled: true,
      disposed: false
    });
    r51(this, "hooks", new E3());
    r51(this, "eventListener", {});
    e48 && this.addControllers(e48), this.setState(this.state);
  }
  /**
   * @description Show guide line
   */
  show(e48) {
    return b42(this, null, function* () {
      this.setState({ visible: true }, e48);
    });
  }
  /**
   * @description Hide guide line
   */
  hide(e48) {
    return b42(this, null, function* () {
      this.setState({ visible: false }, e48);
    });
  }
  /**
   * @description Enable
   */
  enable(e48) {
    this.setState({ enabled: true }, e48);
  }
  /**
   * @description Disable
   */
  disable(e48) {
    this.setState({ enabled: false }, e48);
  }
  /**
   * @description Dispose
   */
  dispose() {
    this.setState({ disposed: true });
  }
  setState(e48, s60) {
    if (this.state.disposed)
      return k42();
    if (!this.state.enabled && e48.enabled !== true && e48.disposed !== true)
      return m54();
    const t43 = a43({}, this.state);
    this.state = a43(a43({}, this.state), e48), e48.disposed !== void 0 && e48.disposed !== t43.disposed && e48.disposed && this.handleDispose(), e48.visible !== void 0 && this.handleVisible(e48.visible), e48.enabled !== void 0 && this.handleEnable(e48.enabled), this.hooks.emit("stateChange", { state: this.state, prevState: t43 });
  }
  addControllers(e48) {
    this.controllers = a43(a43({}, this.controllers), e48), this.setState(this.state);
  }
  /**
   * @description 初始化 helpers 的位置
   */
  initialHelperMatrix() {
    this.everyControllerDo((e48) => {
      e48.initialHelperPosition(), e48.initialHelperQuaternion();
    });
  }
  getCurrentState() {
    return this.state;
  }
  handleEnable(e48, s60 = true) {
    e48 ? (this.everyControllerDo((t43) => {
      t43.enable();
    }), this.hooks.emit("enable", { userAction: s60 })) : (this.everyControllerDo((t43) => {
      t43.disable();
    }), this.hooks.emit("disable", { userAction: s60 })), this.state.enabled = e48;
  }
  handleVisible(e48, s60 = true) {
    e48 ? (this.everyControllerDo((t43) => {
      t43.show();
    }), this.actionIfStateIsEnabled(() => this.hooks.emit("show", { userAction: s60 }))) : (this.everyControllerDo((t43) => {
      t43.hide();
    }), this.actionIfStateIsEnabled(() => this.hooks.emit("hide", { userAction: s60 }))), this.state.visible = e48;
  }
  everyControllerDo(e48) {
    Object.values(this.controllers).forEach((s60) => {
      s60 && e48(s60);
    });
  }
  handleDispose() {
    var e48, s60;
    Object.values(this.controllers).forEach((t43) => {
      t43 == null || t43.dispose();
    });
    for (const t43 in this.controllers) {
      if (!t43)
        continue;
      const l63 = t43;
      (s60 = (e48 = this.eventListener)[l63]) == null || s60.call(e48);
    }
  }
  actionIfStateIsEnabled(e48, s60) {
    if (this.state.enabled)
      return e48();
    s60 != null && s60.warnLog && I46();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/math/deg2Rad.js
function e41(t43) {
  return t43 * Math.PI / 180;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Controller/RotateController.js
var j26 = Object.defineProperty;
var w37 = (g67, h66, t43) => h66 in g67 ? j26(g67, h66, { enumerable: true, configurable: true, writable: true, value: t43 }) : g67[h66] = t43;
var d54 = (g67, h66, t43) => (w37(g67, typeof h66 != "symbol" ? h66 + "" : h66, t43), t43);
var y39 = new Quaternion();
var P44 = class extends B36 {
  constructor(...t43) {
    var l63, c85, m66;
    super(...t43);
    d54(this, "name", "RotateController");
    d54(this, "startInfo");
    d54(this, "removeListener");
    const n72 = this.helperObject3D;
    this.hoverListener([(l63 = n72.xCircle) == null ? void 0 : l63.circle, (c85 = n72.yCircle) == null ? void 0 : c85.circle, (m66 = n72.zCircle) == null ? void 0 : m66.circle].filter(Boolean));
    const e48 = this.dragStart.bind(this), o71 = this.dragging.bind(this), r66 = this.dragEnd.bind(this), s60 = this.show.bind(this), i65 = this.hide.bind(this);
    this.domEvents.addEventListener(this.helperObject3D, "mousedown", e48), document.addEventListener("mousemove", o71), document.addEventListener("mouseup", r66), this.domEvents.addEventListener(this.helperObject3D, "touchstart", e48), document.addEventListener("touchmove", o71), document.addEventListener("touchend", r66), this.hooks.on("moveStart", i65), this.hooks.on("moveEnd", s60), this.hooks.on("scaleStart", i65), this.hooks.on("scaleEnd", s60), this.hooks.on("moveByMouseEnable", i65), this.hooks.on("moveByMouseDisable", s60), this.disposers.push(() => {
      this.domEvents.removeEventListener(this.helperObject3D, "mousedown", e48), document.removeEventListener("mousemove", o71), document.removeEventListener("mouseup", r66), this.domEvents.removeEventListener(this.helperObject3D, "touchstart", e48), document.removeEventListener("touchmove", o71), document.removeEventListener("touchend", r66), this.hooks.off("moveStart", i65), this.hooks.off("moveEnd", s60), this.hooks.off("scaleStart", i65), this.hooks.off("scaleEnd", s60), this.hooks.off("moveByMouseEnable", i65), this.hooks.off("moveByMouseDisable", s60);
    });
  }
  get rotateCenter() {
    return this.helperObject3D.position.clone();
  }
  setRotateAngle(t43) {
    const { x: n72 = 0, y: e48 = 0, z: o71 = 0 } = t43, r66 = new Euler(e41(n72), e41(e48), e41(o71)), s60 = new Quaternion().setFromEuler(r66);
    if (this.hooks.emit("wantToRotate", s60))
      return;
    const { originObject3D: l63, rotateCenter: c85 } = this;
    r46(l63, s60, c85), this.internalHooks.emit("setObjectRotate", s60, c85), this.hooks.emit("rotate", s60), this.render();
  }
  onApplyOriginObjectRotate(t43) {
    this.isDragging || super.onApplyOriginObjectRotate(t43);
  }
  onApplyOriginObjectScale(t43) {
  }
  /**
   * @description: 拖动开始，找出拖的Direction
   */
  dragStart(t43) {
    if (this.isDragging)
      return;
    const n72 = t43 == null ? void 0 : t43.intersect;
    if (!n72)
      return this.dragEnd();
    const e48 = (n72 == null ? void 0 : n72.object).direction;
    if (!e48)
      return this.dragEnd();
    const o71 = n72.point, r66 = this.getAngleHelper(e48);
    this.setTipsAngle(0);
    const s60 = o71.clone();
    s60.y += 0.2, this.setTipsPosition(s60);
    const i65 = this.helperObject3D.quaternion.clone(), l63 = (() => {
      if (e48 === "x")
        return new Vector3(1, 0, 0).applyQuaternion(i65);
      if (e48 === "y")
        return new Vector3(0, 1, 0).applyQuaternion(i65);
      if (e48 === "z")
        return new Vector3(0, 0, 1).applyQuaternion(i65);
    })(), c85 = new Plane().setFromNormalAndCoplanarPoint(l63, o71), p66 = c85.projectPoint(o71.clone(), new Vector3()).clone().sub(this.rotateCenter), u72 = p66.angleTo(r66.baseAxes.clone().applyQuaternion(i65));
    this.setAngleHelperStart(e48, u72), this.setAngleHelperLength(e48, 0), this.startInfo = { direction: e48, startVector: p66, plane: c85, angleHelper: r66, angle: 0, helperQuaternion: i65.clone() }, y39 = new Quaternion(), this.helperObject3D.showDraggingHelper([e48]), this.hooks.emit("rotateStart"), this.isDragging = true;
  }
  dragging(t43) {
    if (!this.isDragging)
      return;
    const n72 = "touches" in t43 ? t43.touches[0].clientX : t43.x, e48 = "touches" in t43 ? t43.touches[0].clientY : t43.y, o71 = u50(this.camera, { x: n72, y: e48 }, this.container);
    return o71 ? (this.rotate(o71), false) : this.dragEnd();
  }
  rotate(t43) {
    if (!this.startInfo)
      return this.dragEnd();
    const { startVector: n72, plane: e48, angleHelper: o71, direction: r66, helperQuaternion: s60 } = this.startInfo, { originObject3D: i65 } = this, l63 = t43.ray.intersectPlane(e48, new Vector3());
    if (!l63)
      return;
    const c85 = this.rotateCenter.clone(), p66 = e48.projectPoint(l63.clone(), new Vector3()).clone().sub(c85);
    if (n72.angleTo(p66) === 0)
      return;
    const u72 = new Quaternion().setFromUnitVectors(n72.clone().normalize(), p66.clone().normalize()), v58 = i65.quaternion.clone().premultiply(u72);
    if (this.hooks.emit("wantToRotate", v58))
      return;
    const E53 = new Euler().setFromQuaternion(
      new Quaternion().setFromUnitVectors(
        n72.clone().normalize().applyQuaternion(s60.clone().inverse()),
        p66.clone().normalize().applyQuaternion(s60.clone().inverse())
      ),
      `${r66.toUpperCase()}${"XZY".replace(r66.toUpperCase(), "")}`
    )[r66] * o71.angleDirection;
    if (this.startInfo.angle += E53, this.setAngleHelperLength(r66, this.startInfo.angle), this.setTipsAngle(t13(this.startInfo.angle)), c85) {
      const b55 = new Vector3().subVectors(i65.position, c85).applyQuaternion(u72).add(c85);
      i65.position.copy(b55);
    }
    i65.applyQuaternion(u72), y39.premultiply(u72), this.internalHooks.emit("applyObjectRotate", { quaternion: u72, origin: c85 }), this.hooks.emit("rotate", i65.quaternion), this.startInfo.startVector = p66;
  }
  dragEnd() {
    this.isDragging && (this.applyHelperQuaternion(y39, this.rotateCenter), this.startInfo = void 0, this.isDragging = false, this.helperObject3D.show(), this.hooks.emit("rotateEnd"));
  }
  getAngleHelper(t43) {
    var n72, e48, o71;
    switch (t43) {
      case "x":
        return (n72 = this.helperObject3D.xCircle) == null ? void 0 : n72.angleSector;
      case "y":
        return (e48 = this.helperObject3D.yCircle) == null ? void 0 : e48.angleSector;
      case "z":
        return (o71 = this.helperObject3D.zCircle) == null ? void 0 : o71.angleSector;
    }
  }
  setAngleHelperStart(t43, n72) {
    const e48 = this.getAngleHelper(t43);
    if (!e48) {
      console.warn("angleHelper is undefined");
      return;
    }
    if (e48 instanceof Mesh && e48.geometry instanceof CircleGeometry) {
      const { radius: o71, segments: r66, thetaLength: s60 } = e48.geometry.parameters;
      e48.geometry = new CircleGeometry(o71, r66, n72, s60);
    } else
      console.warn("only support THREE.CircleGeometry");
  }
  setAngleHelperLength(t43, n72) {
    const o71 = n72 >= 0 ? Math.max(n72, 1e-3) : Math.min(n72, -1e-3), r66 = this.getAngleHelper(t43);
    if (r66 instanceof Mesh && r66.geometry instanceof CircleGeometry) {
      const { radius: s60, thetaStart: i65 } = r66.geometry.parameters, l63 = Math.ceil(Math.abs(o71) * (40 / (2 * Math.PI)));
      r66.geometry = new CircleGeometry(s60, l63, i65, o71);
    } else
      console.warn("only support THREE.CircleGeometry");
  }
  setTipsAngle(t43) {
    var e48;
    const n72 = (e48 = this.helperObject3D.angleTips) == null ? void 0 : e48.element;
    n72 && (n72.innerText = `${t43.toFixed(0)}°`);
  }
  setTipsPosition(t43) {
    const n72 = this.helperObject3D.angleTips;
    if (!n72)
      return;
    const e48 = t43.project(this.camera), { x: o71, y: r66, z: s60 } = e48;
    if (s60 > 1)
      return;
    const i65 = (o71 + 1) / 2 * 100 + "%", l63 = (-r66 + 1) / 2 * 100 + "%";
    n72.setLeftTop(i65, l63);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Controller/RectangleScaleController.js
var W16 = Object.defineProperty;
var X22 = (h66, a62, t43) => a62 in h66 ? W16(h66, a62, { enumerable: true, configurable: true, writable: true, value: t43 }) : h66[a62] = t43;
var j27 = (h66, a62, t43) => (X22(h66, typeof a62 != "symbol" ? a62 + "" : a62, t43), t43);
var _24 = class extends B36 {
  constructor(...t43) {
    super(...t43);
    j27(this, "startInfo");
    j27(this, "name", "RectangleScaleController");
  }
  enable() {
    this.helperObject3D.enable(), super.enable();
  }
  disable() {
    this.helperObject3D.disable(), super.disable();
  }
  show() {
    this.helperObject3D.show(), super.show();
  }
  hide() {
    this.helperObject3D.hide(), super.hide();
  }
  onApplyOriginObjectPosition(t43) {
    this.isDragging || super.onApplyOriginObjectPosition(t43);
  }
  onApplyOriginObjectScale(t43) {
    this.helperObject3D.applyHelperScaleMatrix4(t43.matrix, t43.origin);
  }
  getDragPlane() {
    const t43 = new Plane(), s60 = this.helperObject3D.cornerPositions;
    if (s60.length !== 0)
      return s60.length < 3 ? t43.setFromNormalAndCoplanarPoint(this.originObject3D.getWorldDirection(new Vector3()), s60[0]) : t43.setFromCoplanarPoints(s60[0], s60[1], s60[2]), t43;
  }
  dragStart(t43, s60) {
    var p66, n72;
    (n72 = (p66 = this.helperObject3D).updatePoints) == null || n72.call(p66);
    const f80 = this.getDragPlane();
    if (!f80)
      return this.dragEnd();
    this.startInfo = { startPoint: { position: s60.position.clone(), direction: s60.direction }, plane: f80 }, this.hooks.emit("scaleStart"), this.render(), this.isDragging = true;
  }
  dragging(t43) {
    if (!this.isDragging)
      return;
    const s60 = u50(this.camera, t43, this.container);
    if (!s60)
      return this.dragEnd();
    this.scale(s60);
  }
  scale(t43) {
    var C52, M48;
    if (!this.startInfo)
      return;
    const s60 = this.originObject3D, { startPoint: f80, plane: p66 } = this.startInfo, n72 = this.helperObject3D.cornerPositions;
    if (n72.length < 4)
      return this.dragEnd();
    const g67 = t43.ray.intersectPlane(p66, new Vector3());
    if (!g67 || u29(g67, this.camera.position))
      return;
    const I49 = new Vector3().addVectors(n72[0], n72[2]).divideScalar(2), { position: k47, direction: z28 } = f80, D52 = new Vector3().subVectors(n72[1], n72[0]), y51 = new Vector3().subVectors(n72[3], n72[0]), V25 = (r66) => {
      const i65 = new Vector3(0, 0, 0);
      if (!this.startInfo)
        return i65;
      const e48 = (r66 === "ew" ? D52 : y51).clone(), c85 = k47.clone().projectOnVector(e48), b55 = g67.clone().projectOnVector(e48), E53 = I49.clone().projectOnVector(e48);
      if (b55.equals(c85))
        return i65;
      if (r66 === "ns" && typeof this.startInfo.dragPointInCenterBottom != "boolean") {
        const l63 = new Vector3().subVectors(b55, E53), P55 = l63.x < 0 && e48.x >= 0, w49 = l63.y < 0 && e48.y >= 0, O40 = l63.z < 0 && e48.z >= 0;
        this.startInfo.dragPointInCenterBottom = P55 || w49 || O40;
      }
      if (r66 === "ew" && typeof this.startInfo.dragPointInCenterLeft != "boolean") {
        const l63 = new Vector3().subVectors(b55, E53), P55 = l63.x < 0 && e48.x >= 0, w49 = l63.y < 0 && e48.y >= 0, O40 = l63.z < 0 && e48.z >= 0;
        this.startInfo.dragPointInCenterLeft = P55 || w49 || O40;
      }
      const v58 = new Vector3().subVectors(b55, c85), N33 = v58.length();
      return N33 > 0.3 ? (console.warn("offset.length() > 0.3, skipped", N33), i65) : v58;
    }, A62 = V25("ew"), B42 = V25("ns"), x49 = () => {
      const r66 = A62;
      this.helperObject3D.cornerPositions.forEach((i65, e48) => {
        var c85;
        (c85 = this.startInfo) != null && c85.dragPointInCenterLeft ? (e48 === 0 || e48 === 3) && i65.add(r66) : (e48 === 1 || e48 === 2) && i65.add(r66);
      });
    }, S52 = () => {
      const r66 = B42;
      this.helperObject3D.cornerPositions.forEach((i65, e48) => {
        var c85;
        (c85 = this.startInfo) != null && c85.dragPointInCenterBottom ? (e48 === 0 || e48 === 1) && i65.add(r66) : (e48 === 2 || e48 === 3) && i65.add(r66);
      });
    };
    switch (z28) {
      case "ew":
        x49();
        break;
      case "ns":
        S52();
        break;
      case "nesw":
      case "nwse":
        x49(), S52();
    }
    const H39 = new Vector3().subVectors(n72[1], n72[0]).length() / D52.length(), L40 = new Vector3().subVectors(n72[3], n72[0]).length() / y51.length(), R43 = new Vector3(H39, L40, 1), u72 = new Matrix4().scale(R43);
    s60.isCSS3DObjectPlus && s60.applyScaleMatrix4 ? s60.applyScaleMatrix4(u72) : s60.scale.applyMatrix4(u72), f80.position.copy(g67);
    const q38 = new Vector3().addVectors(n72[0], n72[2]).divideScalar(2), F45 = new Vector3().subVectors(q38, I49), d73 = new Matrix4().setPosition(F45);
    s60.applyMatrix4(d73), (C52 = this.helperObject3D.css3DInstance) == null || C52.css3DObject.applyMatrix4(d73), (M48 = this.helperObject3D.plane) == null || M48.applyMatrix4(d73), this.internalHooks.emit("applyObjectScale", { matrix: u72 }), this.internalHooks.emit("applyObjectPosition", { matrix: d73 }), this.render();
  }
  dragEnd() {
    this.isDragging && (this.startInfo = void 0, this.isDragging = false, this.hooks.emit("scaleEnd"), this.render());
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Controller/CSS3DScaleController.js
var g48 = Object.defineProperty;
var c61 = (r66, t43, e48) => t43 in r66 ? g48(r66, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[t43] = e48;
var d55 = (r66, t43, e48) => (c61(r66, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var E45 = class extends _24 {
  constructor(...e48) {
    super(...e48);
    d55(this, "name", "CSS3DScaleController");
    this.addHTMLEventListener();
  }
  addHTMLEventListener() {
    this.helperObject3D.points.forEach((e48) => {
      if (!e48)
        return;
      const n72 = e48.point, a62 = (o71) => this.dragStart(o71, e48), s60 = this.dragging.bind(this), i65 = this.dragEnd.bind(this);
      n72.addEventListener("dragstart", a62), n72.addEventListener("drag", s60), n72.addEventListener("dragend", i65);
    });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Controller/BoundingBoxController.js
var t38 = Object.defineProperty;
var l45 = (n72, o71, r66) => o71 in n72 ? t38(n72, o71, { enumerable: true, configurable: true, writable: true, value: r66 }) : n72[o71] = r66;
var e42 = (n72, o71, r66) => (l45(n72, typeof o71 != "symbol" ? o71 + "" : o71, r66), r66);
var x42 = class extends B36 {
  constructor(...r66) {
    super(...r66);
    e42(this, "name", "BoundingBoxController");
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Helper/ScaleHelper.js
var p37 = Object.defineProperty;
var h49 = (i65, t43, e48) => t43 in i65 ? p37(i65, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : i65[t43] = e48;
var c62 = (i65, t43, e48) => (h49(i65, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var S47 = class extends f52 {
  constructor(e48, s60) {
    super(e48, s60);
    c62(this, "name", "ScaleHelper");
    c62(this, "scaleMeshes", []);
    c62(this, "positions", []);
    s60 && (this.positions = s60.positions);
  }
  initQuaternion() {
    this.quaternion.copy(this.originObject3D.quaternion);
  }
  initialPosition(e48) {
    this.position.copy(this.originObject3D.position);
    const s60 = typeof this.positions == "function" ? this.positions() : this.positions;
    s60 && (this.scaleMeshes = s60.map((a62, r66) => {
      var l63;
      const o71 = (l63 = this.scaleMeshes[r66]) != null ? l63 : m55();
      return o71.position.copy(a62.handlePosition), o71.scalePosition = a62, this.addIfNotExists(o71), o71;
    }));
  }
  setScaleByCamera(e48) {
    this.scaleMeshes.forEach((s60) => {
      s60.scale.setScalar(
        S45(e48, s60.scalePosition.handlePosition.clone().applyMatrix4(this.matrixWorld))
      );
    });
  }
};
function m55() {
  const i65 = new Group();
  i65.name = "ScaleHelperCube";
  const t43 = 0.05, e48 = new BoxGeometry(t43, t43, t43), s60 = new MeshBasicMaterial({
    color: 16776960,
    transparent: true,
    side: DoubleSide
  }), a62 = new MeshBasicMaterial({
    color: 16776960,
    opacity: 0.4,
    depthTest: false,
    depthWrite: false,
    transparent: true,
    side: DoubleSide
  }), r66 = new Mesh(e48, s60), o71 = new Mesh(e48, a62);
  return r66.name = "ScaleHelperCube-front", o71.name = "ScaleHelperCube-behind", r66.renderOrder = 11, o71.renderOrder = 10, i65.add(r66, o71), i65;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/Object3DHelper/Controller/ScaleController.js
var v43 = Object.defineProperty;
var p38 = (c85, a62, t43) => a62 in c85 ? v43(c85, a62, { enumerable: true, configurable: true, writable: true, value: t43 }) : c85[a62] = t43;
var h50 = (c85, a62, t43) => (p38(c85, typeof a62 != "symbol" ? a62 + "" : a62, t43), t43);
var S48 = class extends B36 {
  constructor(...t43) {
    super(...t43);
    h50(this, "name", "ScaleController");
    h50(this, "startInfo");
    h50(this, "dragStart", (t44) => {
      if (this.isDragging)
        return;
      this.isDragging = true;
      const { intersect: e49 } = t44, s61 = this.camera.position;
      let o71 = e49.object;
      o71.scalePosition || (o71 = e49.object.parent);
      const i65 = o71.scalePosition.basePosition.clone(), n72 = o71.scalePosition.handlePosition.clone().clone().sub(i65).clone(), r66 = new Line3(i65, i65.clone().add(n72.normalize().multiplyScalar(5)));
      r66.applyMatrix4(this.helperObject3D.matrixWorld);
      const m66 = new Raycaster(s61, e49.point.clone().sub(s61)), f80 = w5({ raycaster: m66, line: r66 });
      this.startInfo = { line: r66, scaleStartPoint: f80, draggingObject: o71 }, this.helperObject3D.scaleMeshes.forEach((u72) => {
        u72.uuid !== o71.uuid && (u72.visible = false);
      }), o71.visible = true, this.hooks.emit("scaleStart");
    });
    h50(this, "dragging", (t44) => {
      if (!this.isDragging || !this.startInfo)
        return;
      const e49 = "touches" in t44 ? t44.touches[0].clientX : t44.x, s61 = "touches" in t44 ? t44.touches[0].clientY : t44.y, o71 = u50(this.camera, { x: e49, y: s61 }, this.container);
      return o71 ? (this.scale(o71), false) : this.dragEnd();
    });
    h50(this, "scale", (t44) => {
      var n72, r66;
      if (!this.startInfo)
        return;
      const { line: e49, scaleStartPoint: s61, draggingObject: o71 } = this.startInfo, { scalePosition: i65 } = o71, l63 = w5({ raycaster: t44, line: e49, clampToLine: false });
      l63.applyMatrix4(new Matrix4().getInverse(this.helperObject3D.matrixWorld.clone())), (r66 = (n72 = this.config) == null ? void 0 : n72.scaleCallback) == null || r66.call(n72, {
        intersectPoint: l63,
        scalePosition: i65,
        offset: l63.clone().sub(s61)
      }), o71.position.copy(l63.clone()), this.hooks.emit("scale", new Vector3(1, 1, 1));
    });
    h50(this, "dragEnd", () => {
      this.isDragging && (this.startInfo = void 0, this.isDragging = false, this.helperObject3D.scaleMeshes.forEach((t44) => {
        t44.visible = true;
      }), this.internalHooks.emit("initialHelperPosition"), this.hooks.emit("scaleEnd"));
    });
    const e48 = this.show.bind(this), s60 = this.hide.bind(this);
    this.domEvents.addEventListener(this.helperObject3D, "mousedown", this.dragStart), document.addEventListener("mousemove", this.dragging), document.addEventListener("mouseup", this.dragEnd), this.domEvents.addEventListener(this.helperObject3D, "touchstart", this.dragStart), document.addEventListener("touchmove", this.dragging), document.addEventListener("touchend", this.dragEnd), this.hooks.on("rotateStart", s60), this.hooks.on("rotateEnd", e48), this.hooks.on("moveStart", s60), this.hooks.on("moveEnd", e48), this.hooks.on("moveByMouseEnable", s60), this.hooks.on("moveByMouseDisable", e48), this.disposers.push(() => {
      this.domEvents.removeEventListener(this.helperObject3D, "mousedown", this.dragStart), document.removeEventListener("mousemove", this.dragging), document.removeEventListener("mouseup", this.dragEnd), this.domEvents.removeEventListener(this.helperObject3D, "touchstart", this.dragStart), document.removeEventListener("touchmove", this.dragging), document.removeEventListener("touchend", this.dragEnd), this.hooks.off("rotateStart", s60), this.hooks.off("rotateEnd", e48), this.hooks.off("moveStart", s60), this.hooks.off("moveEnd", e48), this.hooks.off("moveByMouseEnable", s60), this.hooks.off("moveByMouseDisable", e48);
    });
  }
  initialHelperPosition() {
    this.helperObject3D.initialPosition();
    const t43 = this;
    t43.offHoverListener && t43.offHoverListener(), t43.offHoverListener = this.hoverListener(this.helperObject3D.scaleMeshes);
  }
  setScale(t43) {
    var n72, r66, m66;
    let e48 = 1, s60 = 1, o71 = 1;
    typeof t43 == "number" ? (e48 = t43, s60 = t43, o71 = t43) : typeof t43 == "object" && (e48 = (n72 = t43.x) != null ? n72 : 1, s60 = (r66 = t43.y) != null ? r66 : 1, o71 = (m66 = t43.z) != null ? m66 : 1);
    const i65 = new Vector3(e48, s60, o71);
    this.hooks.emit("wantToScale", i65) || (this.originObject3D.scale.copy(i65), this.internalHooks.emit("setObjectScale", i65), this.hooks.emit("scale", i65), this.render());
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/threex/domevents/index.js
function n54(t43, e48) {
  this._camera = t43 || null, this._domElement = e48 || document, this._raycaster = new Raycaster(), this._selected = null, this._boundObjs = {};
  var o71 = this;
  this._$onClick = function() {
    o71._onClick.apply(o71, arguments);
  }, this._$onDblClick = function() {
    o71._onDblClick.apply(o71, arguments);
  }, this._$onMouseMove = function() {
    o71._onMouseMove.apply(o71, arguments);
  }, this._$onMouseDown = function() {
    o71._onMouseDown.apply(o71, arguments);
  }, this._$onMouseUp = function() {
    o71._onMouseUp.apply(o71, arguments);
  }, this._$onTouchMove = function() {
    o71._onTouchMove.apply(o71, arguments);
  }, this._$onTouchStart = function() {
    o71._onTouchStart.apply(o71, arguments);
  }, this._$onTouchEnd = function() {
    o71._onTouchEnd.apply(o71, arguments);
  }, this._$onContextmenu = function() {
    o71._onContextmenu.apply(o71, arguments);
  }, this._domElement.addEventListener("click", this._$onClick, false), this._domElement.addEventListener("dblclick", this._$onDblClick, false), this._domElement.addEventListener("mousemove", this._$onMouseMove, false), this._domElement.addEventListener("mousedown", this._$onMouseDown, false), this._domElement.addEventListener("mouseup", this._$onMouseUp, false), this._domElement.addEventListener("touchmove", this._$onTouchMove, false), this._domElement.addEventListener("touchstart", this._$onTouchStart, false), this._domElement.addEventListener("touchend", this._$onTouchEnd, false), this._domElement.addEventListener("contextmenu", this._$onContextmenu, false);
}
n54.prototype.destroy = function() {
  this._domElement.removeEventListener("click", this._$onClick, false), this._domElement.removeEventListener("dblclick", this._$onDblClick, false), this._domElement.removeEventListener("mousemove", this._$onMouseMove, false), this._domElement.removeEventListener("mousedown", this._$onMouseDown, false), this._domElement.removeEventListener("mouseup", this._$onMouseUp, false), this._domElement.removeEventListener("touchmove", this._$onTouchMove, false), this._domElement.removeEventListener("touchstart", this._$onTouchStart, false), this._domElement.removeEventListener("touchend", this._$onTouchEnd, false), this._domElement.removeEventListener("contextmenu", this._$onContextmenu, false);
};
n54.eventNames = [
  "click",
  "dblclick",
  "mouseover",
  "mouseout",
  "mousemove",
  "mousedown",
  "mouseup",
  "contextmenu",
  "touchstart",
  "touchend"
];
n54.prototype._getRelativeMouseXY = function(t43) {
  var e48 = t43.target || t43.srcElement;
  e48.nodeType === 3 && (e48 = e48.parentNode);
  var o71 = { x: 0, y: 0 }, i65 = e48, s60 = getComputedStyle(i65, null);
  o71.y += parseInt(s60.getPropertyValue("padding-top"), 10), o71.x += parseInt(s60.getPropertyValue("padding-left"), 10);
  do
    o71.x += i65.offsetLeft, o71.y += i65.offsetTop, s60 = getComputedStyle(i65, null), o71.x += parseInt(s60.getPropertyValue("border-left-width"), 10), o71.y += parseInt(s60.getPropertyValue("border-top-width"), 10);
  while (i65 = i65.offsetParent);
  var r66 = {
    width: e48 === window ? window.innerWidth : e48.offsetWidth,
    height: e48 === window ? window.innerHeight : e48.offsetHeight
  };
  return {
    x: Number((t43.pageX - o71.x) / r66.width) * 2 - 1,
    y: -((t43.pageY - o71.y) / r66.height) * 2 + 1
  };
};
n54.prototype._objectCtxInit = function(t43) {
  t43._3xDomEvent = {};
};
n54.prototype._objectCtxDeinit = function(t43) {
  delete t43._3xDomEvent;
};
n54.prototype._objectCtxIsInit = function(t43) {
  return !!t43._3xDomEvent;
};
n54.prototype._objectCtxGet = function(t43) {
  return t43._3xDomEvent;
};
n54.prototype.camera = function(t43) {
  return t43 && (this._camera = t43), this._camera;
};
n54.prototype.bind = function(t43, e48, o71, i65) {
  console.assert(n54.eventNames.indexOf(e48) !== -1, "not available events:" + e48), this._objectCtxIsInit(t43) || this._objectCtxInit(t43);
  var s60 = this._objectCtxGet(t43);
  s60[e48 + "Handlers"] || (s60[e48 + "Handlers"] = []), s60[e48 + "Handlers"].push({
    callback: o71,
    useCapture: i65
  }), this._boundObjs[e48] === void 0 && (this._boundObjs[e48] = []), this._boundObjs[e48].push(t43);
};
n54.prototype.addEventListener = n54.prototype.bind;
n54.prototype.unbind = function(t43, e48, o71, i65) {
  console.assert(n54.eventNames.indexOf(e48) !== -1, "not available events:" + e48), this._objectCtxIsInit(t43) || this._objectCtxInit(t43);
  var s60 = this._objectCtxGet(t43);
  s60[e48 + "Handlers"] || (s60[e48 + "Handlers"] = []);
  for (var r66 = s60[e48 + "Handlers"], a62 = 0; a62 < r66.length; a62++) {
    var u72 = r66[a62];
    if (o71 == u72.callback && i65 == u72.useCapture) {
      r66.splice(a62, 1);
      break;
    }
  }
  var h66 = this._boundObjs[e48].indexOf(t43);
  this._boundObjs[e48].splice(h66, 1);
};
n54.prototype.removeEventListener = n54.prototype.unbind;
n54.prototype._bound = function(t43, e48) {
  var o71 = this._objectCtxGet(e48);
  return o71 ? !!o71[t43 + "Handlers"] : false;
};
n54.prototype._onMove = function(t43, e48, o71, i65) {
  var s60 = this._boundObjs[t43];
  if (!(s60 === void 0 || s60.length === 0)) {
    var r66 = new Vector2();
    r66.set(e48, o71), this._raycaster.setFromCamera(r66, this._camera);
    var a62 = this._raycaster.intersectObjects(s60), u72 = this._selected;
    if (a62.length > 0) {
      var h66, c85, l63, p66 = a62[0], _32 = p66.object;
      this._selected = _32, l63 = this._bound("mousemove", _32), u72 != _32 && (h66 = this._bound("mouseover", _32), c85 = u72 && this._bound("mouseout", u72));
    } else
      c85 = u72 && this._bound("mouseout", u72), this._selected = null;
    l63 && this._notify("mousemove", _32, i65, p66), h66 && this._notify("mouseover", _32, i65, p66), c85 && this._notify("mouseout", u72, i65, p66);
  }
};
n54.prototype._onEvent = function(t43, e48, o71, i65) {
  var s60 = this._boundObjs[t43];
  if (!(s60 === void 0 || s60.length === 0)) {
    var r66 = new Vector2();
    r66.set(e48, o71), this._raycaster.setFromCamera(r66, this._camera);
    var a62 = this._raycaster.intersectObjects(s60, true);
    if (a62.length !== 0) {
      for (var u72 = a62[0], h66 = u72.object, c85 = this._objectCtxGet(h66), l63 = h66.parent; typeof c85 == "undefined" && l63; )
        c85 = this._objectCtxGet(l63), l63 = l63.parent;
      c85 && this._notify(t43, h66, i65, u72);
    }
  }
};
n54.prototype._notify = function(t43, e48, o71, i65) {
  var s60 = this._objectCtxGet(e48), r66 = s60 ? s60[t43 + "Handlers"] : null;
  if (!s60 || !r66 || r66.length === 0) {
    e48.parent && this._notify(t43, e48.parent, o71, i65);
    return;
  }
  for (var r66 = s60[t43 + "Handlers"], a62 = 0; a62 < r66.length; a62++) {
    var u72 = r66[a62], h66 = true;
    u72.callback({
      type: t43,
      target: e48,
      origDomEvent: o71,
      intersect: i65,
      stopPropagation: function() {
        h66 = false;
      }
    }), h66 && u72.useCapture === false && e48.parent && this._notify(t43, e48.parent, o71, i65);
  }
};
n54.prototype._onMouseDown = function(t43) {
  return this._onMouseEvent("mousedown", t43);
};
n54.prototype._onMouseUp = function(t43) {
  return this._onMouseEvent("mouseup", t43);
};
n54.prototype._onMouseEvent = function(t43, e48) {
  var o71 = this._getRelativeMouseXY(e48);
  this._onEvent(t43, o71.x, o71.y, e48);
};
n54.prototype._onMouseMove = function(t43) {
  var e48 = this._getRelativeMouseXY(t43);
  this._onMove("mousemove", e48.x, e48.y, t43), this._onMove("mouseover", e48.x, e48.y, t43), this._onMove("mouseout", e48.x, e48.y, t43);
};
n54.prototype._onClick = function(t43) {
  this._onMouseEvent("click", t43);
};
n54.prototype._onDblClick = function(t43) {
  this._onMouseEvent("dblclick", t43);
};
n54.prototype._onContextmenu = function(t43) {
  this._onMouseEvent("contextmenu", t43);
};
n54.prototype._onTouchStart = function(t43) {
  return this._onTouchEvent("touchstart", t43);
};
n54.prototype._onTouchEnd = function(t43) {
  return this._onTouchEvent("touchend", t43);
};
n54.prototype._onTouchMove = function(t43) {
  if (t43.touches.length == 1) {
    var e48 = Number(t43.touches[0].pageX / window.innerWidth) * 2 - 1, o71 = -(t43.touches[0].pageY / window.innerHeight) * 2 + 1;
    this._onMove("mousemove", e48, o71, t43), this._onMove("mouseover", e48, o71, t43), this._onMove("mouseout", e48, o71, t43);
  }
};
n54.prototype._onTouchEvent = function(t43, e48) {
  var o71 = e48.touches;
  if (o71.length == 0 && (o71 = e48.changedTouches), o71.length == 1) {
    var i65 = Number(o71[0].pageX / window.innerWidth) * 2 - 1, s60 = -(o71[0].pageY / window.innerHeight) * 2 + 1;
    this._onEvent(t43, i65, s60, e48);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Object3DHelperPlugin/Controller.js
var I47 = Object.defineProperty;
var y40 = Object.getOwnPropertySymbols;
var W17 = Object.prototype.hasOwnProperty;
var j28 = Object.prototype.propertyIsEnumerable;
var g49 = (n72, o71, e48) => o71 in n72 ? I47(n72, o71, { enumerable: true, configurable: true, writable: true, value: e48 }) : n72[o71] = e48;
var p39 = (n72, o71) => {
  for (var e48 in o71 || (o71 = {}))
    W17.call(o71, e48) && g49(n72, e48, o71[e48]);
  if (y40)
    for (var e48 of y40(o71))
      j28.call(o71, e48) && g49(n72, e48, o71[e48]);
  return n72;
};
var c63 = (n72, o71, e48) => (g49(n72, typeof o71 != "symbol" ? o71 + "" : o71, e48), e48);
var w38 = (n72, o71, e48) => new Promise((t43, r66) => {
  var s60 = (h66) => {
    try {
      b55(e48.next(h66));
    } catch (l63) {
      r66(l63);
    }
  }, d73 = (h66) => {
    try {
      b55(e48.throw(h66));
    } catch (l63) {
      r66(l63);
    }
  }, b55 = (h66) => h66.done ? t43(h66.value) : Promise.resolve(h66.value).then(s60, d73);
  b55((e48 = e48.apply(n72, o71)).next());
});
var M38 = "Object3DHelperPlugin";
var O36 = M38;
var Z16 = () => {
  console.error(`${O36} is disposed`);
};
var ee9 = () => {
  console.warn(`${O36} is disabled`);
};
var re6 = () => {
  console.error(`${O36} is disabled`);
};
var Tr2 = class extends F9 {
  constructor(e48) {
    super(e48);
    c63(this, "name", M38);
    c63(this, "state", {
      visible: true,
      enabled: true,
      disposed: false
    });
    c63(this, "objectHelperMap", /* @__PURE__ */ new Map());
    c63(this, "css3DObjectParentMap", /* @__PURE__ */ new Map());
    c63(this, "css3DObjectModeMap", /* @__PURE__ */ new Map());
    c63(this, "css3DRender");
    this.five = e48, this.css3DRender = new y5(this.five.scene), console.warn("Object3DHelper: 使用此插件，需要在初始化five时，设置five参数: { backgroundAlpha: 0, backgroundColor: 0x000000 }"), Object.assign(window, { [`__${M38.toUpperCase()}_DEBUG__`]: this });
  }
  /**
   * @description Show guide line
   */
  show(e48) {
    return w38(this, null, function* () {
      this.setState({ visible: true }, e48);
    });
  }
  /**
   * @description Hide guide line
   */
  hide(e48) {
    return w38(this, null, function* () {
      this.setState({ visible: false }, e48);
    });
  }
  /**
   * @description Enable
   */
  enable(e48) {
    this.setState({ enabled: true }, e48);
  }
  /**
   * @description Disable
   */
  disable(e48) {
    this.setState({ enabled: false }, e48);
  }
  /**
   * @description Dispose
   */
  dispose() {
    this.setState({ disposed: true });
  }
  setState(e48, t43) {
    if (this.state.disposed)
      return Z16();
    if (!this.state.enabled && e48.enabled !== true && e48.disposed !== true)
      return re6();
    const r66 = p39({}, this.state);
    this.state = p39(p39({}, this.state), e48), e48.disposed !== void 0 && e48.disposed !== r66.disposed && e48.disposed && this.handleDispose(), e48.visible !== void 0 && e48.visible !== r66.visible && this.handleVisible(e48.visible), e48.enabled !== void 0 && e48.enabled !== r66.enabled && this.handleEnable(e48.enabled), this.hooks.emit("stateChange", { state: this.state, prevState: r66 });
  }
  getObject3DHelper(e48) {
    return this.objectHelperMap.get(e48);
  }
  /**
   * @description 添加 helper
   * @param { THREE.Object3D } object3D       要添加helper的物体
   * @param { boolean } config.moveHelper     位移helper
   * @param { boolean } config.rotateHelper   旋转helper
   * @param { boolean } config.scaleHelper    缩放helper
   */
  addObject3DHelper(e48, t43 = {}) {
    var E53;
    if (!e48) {
      console.error("Object3D is undefined");
      return;
    }
    if (this.objectHelperMap.has(e48)) {
      console.warn(`Object3DHelperPlugin: object3D ${e48.name} is already has helper`);
      return;
    }
    const r66 = new L32(), s60 = [], d73 = (E53 = this.five.getElement()) == null ? void 0 : E53.parentElement, b55 = this.five.camera, l63 = p39(p39({}, {
      moveHelper: true,
      rotateHelper: true,
      scaleHelper: true,
      boundingBoxHelper: false,
      positionFrom: "objectPosition"
    }), t43), { moveHelper: B42, rotateHelper: P55, scaleHelper: k47, boundingBoxHelper: x49 } = l63, u72 = r66.hooks, v58 = new E3(), C52 = new n54(this.five.camera, this.five.getElement()), S52 = (i65) => {
      if (i65)
        return typeof i65 == "boolean" ? i65 : i65.enable;
    };
    if (S52(B42)) {
      const i65 = p39(p39({}, this.getConfig(l63.moveHelper)), l63), m66 = new D43(e48, p39({}, i65)), a62 = new F39(
        this.five,
        C52,
        w36,
        e48,
        m66,
        i65,
        u72,
        v58
      );
      r66.addControllers({ moveController: a62.helperController }), s60.push(() => a62.dispose());
    }
    if (S52(P55)) {
      const i65 = p39(p39({}, this.getConfig(l63.rotateHelper)), l63), m66 = new D44(e48, p39({ container: d73 }, i65)), a62 = new F39(
        this.five,
        C52,
        P44,
        e48,
        m66,
        i65,
        u72,
        v58
      );
      r66.addControllers({ rotateController: a62.helperController }), s60.push(() => a62.dispose());
    }
    if (S52(x49)) {
      const i65 = new d52(e48), m66 = new F39(
        this.five,
        C52,
        x42,
        e48,
        i65,
        void 0,
        u72,
        v58
      );
      r66.addControllers({ boundingBoxController: m66.helperController });
    }
    if (S52(k47))
      if (e48.isCSS3DObject && d73) {
        const i65 = new v40(e48, d73, b55, this.five.scene), m66 = new F39(
          this.five,
          C52,
          E45,
          e48,
          i65,
          void 0,
          u72,
          v58
        );
        r66.addControllers({ scaleController: m66.helperController }), s60.push(() => m66.dispose()), M2(this.five).then(() => {
          var a62, D52;
          if (e48.isCSS3DObjectPlus) {
            const f80 = e48;
            if (!f80 || f80.mode !== "front")
              return;
            const R43 = (a62 = this.css3DRender.behindModeCSS3DRenderer.wrapper) != null ? a62 : d4(this.five);
            R43 && (this.css3DObjectParentMap.set(f80, f80.parent), f80.removeFromParent(), this.css3DRender.behindModeCSS3DRenderer.setWrapper(R43), (D52 = this.css3DRender.getBehindCSS3DObjectGroup()) == null || D52.add(f80), this.css3DRender.render(this.five.camera));
          } else
            e48.isCSS3DObject && (this.css3DObjectModeMap.set(e48, e48.mode), e48.mode = "behind");
        });
      } else {
        const i65 = p39(p39({}, this.getConfig(l63.scaleHelper)), l63), m66 = new S47(e48, i65), a62 = new F39(
          this.five,
          C52,
          S48,
          e48,
          m66,
          i65,
          u72,
          v58
        );
        r66.addControllers({ scaleController: a62.helperController }), s60.push(() => a62.dispose());
      }
    return this.objectHelperMap.set(e48, { helper: r66, disposers: s60 }), r66.controllers;
  }
  removeObject3DHelper(e48) {
    if (!this.objectHelperMap.has(e48))
      return;
    const { helper: t43, disposers: r66 } = this.objectHelperMap.get(e48);
    if (t43) {
      if (e48.isCSS3DObjectPlus) {
        const s60 = e48, d73 = this.css3DObjectParentMap.get(s60);
        d73 && d73.add(s60), this.css3DRender.render(this.five.camera);
      } else if (e48.isCSS3DObject) {
        const s60 = this.css3DObjectModeMap.get(e48);
        e48.mode = s60;
      }
      this.objectHelperMap.delete(e48), t43.dispose(), r66 == null || r66.forEach((s60) => s60 == null ? void 0 : s60());
    }
  }
  handleEnable(e48, t43 = true) {
    e48 ? (this.everyHelperDo((r66) => r66.enable()), this.hooks.emit("enable", { userAction: t43 })) : (this.everyHelperDo((r66) => r66.disable()), this.hooks.emit("disable", { userAction: t43 })), this.state.enabled = e48;
  }
  handleVisible(e48, t43 = true) {
    e48 ? (this.everyHelperDo((r66) => r66.show()), this.actionIfStateIsEnabled(() => this.hooks.emit("show", { userAction: t43 }))) : (this.everyHelperDo((r66) => r66.hide()), this.actionIfStateIsEnabled(() => this.hooks.emit("hide", { userAction: t43 }))), this.state.visible = e48;
  }
  handleDispose() {
    this.everyHelperDo((e48, t43) => {
      e48.dispose(), t43 == null || t43.forEach((r66) => r66 == null ? void 0 : r66());
    });
  }
  everyHelperDo(e48) {
    this.objectHelperMap.forEach(({ helper: t43, disposers: r66 }) => {
      t43 && e48(t43, r66);
    });
  }
  actionIfStateIsEnabled(e48, t43) {
    if (this.state.enabled)
      return e48();
    t43 != null && t43.warnLog && ee9();
  }
  getConfig(e48) {
    if (e48 && typeof e48 != "boolean" && e48.enable)
      return e48;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Object3DHelperPlugin/index.js
var Yr2 = (r66) => new Tr2(r66);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoVideoPlugin/utils/shader.js
var v44 = (
  /* glsl */
  `
varying vec2 vUv;
void main() {
  vUv = uv;
  vec4 mvPosition = modelViewMatrix * vec4(position, 1);
  gl_Position = projectionMatrix * mvPosition;
}
`
);
var a44 = (
  /* glsl */
  `
uniform sampler2D map;
uniform vec4 size;
varying vec2 vUv;
uniform float opacity;

void main() {
  float dx = max(size[0] + size[2] - 1.0, 0.0);
  vec2 uv = vec2(((vUv.x <= dx ? vUv.x + 1.0 : vUv.x) - size[0]) / size[2], (vUv.y - size[1]) / size[3]);
  float a = 0.1;
  float transX = uv.x < a ? 1.0 / a * uv.x : (uv.x > (1.0 - a) ? 1.0 / a * (1.0 - uv.x) : 1.0);
  float transY = uv.y < a ? 1.0 / a * uv.y : (uv.y > (1.0 - a) ? 1.0 / a * (1.0 - uv.y) : 1.0);
	float match = (1.0 - step(0.5, abs(uv.x - 0.5))) * (1.0 - step(0.5, abs(uv.y - 0.5))) * (transX < transY ? transX : transY);
  gl_FragColor = vec4(texture2D(map, uv).xyz, match * opacity);
}
`
);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoVideoPlugin/utils/index.js
function u52(t43) {
  const a62 = Math.PI * 2;
  let n72 = -Math.atan2(t43.x, -t43.z);
  n72 = (n72 % a62 + a62) % a62;
  const e48 = -Math.asin(t43.y / 1);
  return { longitude: n72, latitude: e48 };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoVideoPlugin/VideoMeshController.js
var c64 = Object.defineProperty;
var g50 = (v58, i65, e48) => i65 in v58 ? c64(v58, i65, { enumerable: true, configurable: true, writable: true, value: e48 }) : v58[i65] = e48;
var t39 = (v58, i65, e48) => (g50(v58, typeof i65 != "symbol" ? i65 + "" : i65, e48), e48);
var Bi = class {
  /** 初始化视频、模型以及相关事件监听。 */
  constructor(i65, e48) {
    t39(this, "video");
    t39(this, "fiveUtil");
    t39(this, "_id");
    t39(this, "url");
    t39(this, "five");
    t39(this, "panoIndex");
    t39(this, "observer");
    t39(this, "origin");
    t39(this, "videoMesh");
    t39(this, "_enabled", true);
    t39(this, "_disposed", false);
    t39(this, "videoDataLoaded", false);
    t39(this, "hasVideoEverPlayed", false);
    t39(this, "renderFiveDisposer");
    t39(this, "hooks");
    t39(this, "unmute", () => {
      this.video.muted = false;
    });
    t39(this, "uv2Position", (i66, e49) => {
      const o72 = Math.PI, r67 = Math.PI * 2, a63 = i66, s61 = 1 - e49, d74 = new Vector3(
        -1 * Math.cos(r67 * a63) * Math.sin(o72 * s61),
        1 * Math.cos(o72 * s61),
        1 * Math.sin(r67 * a63) * Math.sin(o72 * s61)
      );
      d74.setX(-d74.x);
      const h67 = this.fiveUtil.workUtil.getResolvedObserver(this.panoIndex);
      if (!h67)
        return this.logWarning(`点位 ${this.panoIndex} 不存在，请检查 Five 数据是否正常。`);
      const l63 = h67.position.clone(), m66 = h67.quaternion.clone(), u72 = d74.clone();
      return u72.applyAxisAngle(new Vector3(0, 1, 0), Math.PI / 2), u72.applyQuaternion(m66), u72.add(l63), u72;
    });
    t39(this, "onFiveDataLoaded", () => {
      const i66 = this.fiveUtil.workUtil.getResolvedObserver(this.panoIndex);
      if (!i66)
        return this.logWarning(`点位 ${this.panoIndex} 不存在，请检查 Five 数据是否正常。`);
      this.observer = i66;
      const { x: e49, y: n73, z: o72, w: r67 } = i66.quaternion, a63 = new Quaternion(e49, n73, o72, r67), s61 = i66.position;
      this.videoMesh.position.fromArray([s61.x, s61.y, s61.z]), this.videoMesh.quaternion.set(0, 0, 0, 1), this.videoMesh.rotateOnAxis(new Vector3(0, 1, 0), Math.PI / 2), this.videoMesh.applyQuaternion(a63);
    });
    t39(this, "onFiveWantsMoveToPano", (i66) => {
      i66 === this.panoIndex && (this.hasVideoEverPlayed || this.video.play().catch(() => {
      }));
    });
    t39(this, "onFivePanoArrived", (i66) => {
      if (this.disposed)
        return this.logWarning("实例已被销毁");
      this.enabled && this.panoIndex === i66 && this.mount();
    });
    t39(this, "onFivePanoWillArrive", (i66) => {
      if (i66 !== this.panoIndex)
        return this.unmount();
      this.panoIndex !== i66 && this.unmount();
    });
    t39(this, "onFiveModeChange", (i66) => {
      i66 !== "Panorama" && this.hide();
    });
    t39(this, "onFiveInitAnimationEnded", () => {
      const i66 = this.five.getCurrentState();
      i66.mode === "Panorama" && i66.panoIndex === this.panoIndex && this.mount();
    });
    t39(this, "onFiveWantsTapGesture", (i66) => {
      if (!this.five.scene.children.includes(this.videoMesh))
        return;
      if (this.disposed)
        return this.logWarning("实例已被销毁");
      if (!this.enabled)
        return this.logWarning("实例已被禁用");
      const [e49] = i66.intersectObject(this.videoMesh);
      if (!e49)
        return;
      if (this.checkIntersectionInBounding(this.origin, e49)) {
        const o72 = {
          target: this,
          _preventDefaultReturn: false,
          preventDefault: () => {
            o72._preventDefaultReturn = true;
          }
        };
        return this.hooks.emit("click", o72), o72._preventDefaultReturn === false && (this.video.muted = !this.video.muted), false;
      }
    });
    t39(this, "onVideoDataLoaded", () => {
      this.videoDataLoaded = true, this.video.paused === false && this.video.src !== "" && this.onVideoPlayingAndLoaded();
    });
    t39(this, "onVideoPlaying", () => {
      this.hasVideoEverPlayed = true, this.enabled && this.videoDataLoaded && this.onVideoPlayingAndLoaded();
    });
    t39(this, "onVideoPlayingAndLoaded", () => {
      if (!this.videoDataLoaded)
        return this.logWarning("视频数据未加载");
      if (this.video.paused === true)
        return this.logWarning("视频已暂停");
      this.video.addEventListener(
        "timeupdate",
        () => {
          if (this.enabled && this.panoIndex === this.five.getCurrentState().panoIndex && this.five.getCurrentState().mode === "Panorama" && (this.renderFiveDisposer || (this.renderFiveDisposer = l18(() => {
            this.five.needsRender = true;
          }, 30)), this.five.scene.add(this.videoMesh), this.videoMesh.material.uniforms.opacity.value === 0)) {
            const i66 = {
              value: 0
            };
            x2({
              targets: i66,
              value: 1,
              duration: 300,
              easing: "linear",
              update: () => {
                this.videoMesh.material.uniforms.opacity.value = i66.value;
              },
              complete: () => {
                this.videoMesh.material.uniforms.opacity.value = 1;
              }
            });
          }
        },
        { once: true }
      );
    });
    t39(this, "onVideoPaused", () => {
      var i66;
      (i66 = this.renderFiveDisposer) == null || i66.call(this), this.renderFiveDisposer = void 0;
    });
    var d73, h66;
    this.five = i65, this.panoIndex = e48.panoIndex, this.fiveUtil = e48.fiveUtil, this._id = e48.renderID, this.url = e48.url, this.origin = e48.origin.slice(), this.hooks = e48.hooks, this._enabled = (h66 = (d73 = e48.initialState) == null ? void 0 : d73.enabled) != null ? h66 : true;
    const n72 = document.createElement("video");
    n72.crossOrigin = "anonymous", n72.autoplay = false, n72.muted = true, n72.loop = true, n72.playsInline = true, this.video = n72;
    const o71 = new VideoTexture(this.video);
    o71.minFilter = LinearFilter, o71.magFilter = LinearFilter;
    const r66 = new ShaderMaterial({
      vertexShader: v44,
      fragmentShader: a44,
      uniforms: {
        map: { value: o71 },
        size: {
          value: new Vector4(this.origin[0], 1 - this.origin[1] - this.origin[3], this.origin[2], this.origin[3])
        },
        opacity: { value: 0 }
      },
      depthTest: true,
      transparent: true
    }), a62 = new SphereBufferGeometry(1, 64, 64);
    a62.scale(-1, 1, 1);
    const s60 = new Mesh(a62, r66);
    s60.name = "pano-video-plugin", this.videoMesh = s60, this.fiveUtil.workUtil.work && this.onFiveDataLoaded(), this.enabled && this.addEventListeners(), this.mountIfNeeded(), window[`__PANOVIDEO_${this.renderID}_DEBUG__`] = this;
  }
  /** 传入的 ID，不可更改 */
  get renderID() {
    return this._id;
  }
  /** 是否已经销毁 */
  get disposed() {
    return this._disposed;
  }
  /** 是否已经启用 */
  get enabled() {
    return this._enabled;
  }
  /** 彻底销毁，不响应之后的任何事件 */
  dispose() {
    this.disposed || (this.disable(), this._disposed = true);
  }
  enable() {
    this.disposed || this.enabled || (this._enabled = true, !this.observer && this.five.work && this.onFiveDataLoaded(), this.addEventListeners(), this.mountIfNeeded());
  }
  /** 禁用插件 */
  disable() {
    this.disposed || this.enabled && (this._enabled = false, this.removeEventListeners(), this.unmount());
  }
  /** 切换到全景模式并看向视频
   * @remark 如果遇到不能自动播放的问题，需要放到用户交互事件中调用。
   */
  lookAtVideo() {
    if (!this.observer)
      return;
    const i65 = this.getUVCenter();
    if (!i65)
      return;
    const e48 = this.uv2Position(i65[0], i65[1]);
    if (!e48)
      return;
    const n72 = new Vector3().subVectors(e48, this.observer.position).normalize(), { longitude: o71, latitude: r66 } = u52(n72);
    this.five.setState({ panoIndex: this.panoIndex, longitude: o71, latitude: r66 }), this.onFiveWantsMoveToPano(this.panoIndex);
  }
  /** 获取视频中心点的 uv */
  getUVCenter() {
    if (!this.origin)
      return;
    const i65 = this.origin[0] + this.origin[2] / 2, e48 = this.origin[1] + this.origin[3] / 2;
    return [i65, e48];
  }
  /** 添加时间监听 */
  addEventListeners() {
    this.five.on("loaded", this.onFiveDataLoaded), this.five.on("modeChange", this.onFiveModeChange), this.five.on("panoArrived", this.onFivePanoArrived), this.five.on("panoWillArrive", this.onFivePanoWillArrive), this.five.on("wantsMoveToPano", this.onFiveWantsMoveToPano), this.five.on("wantsTapGesture", this.onFiveWantsTapGesture), this.five.on("initAnimationEnded", this.onFiveInitAnimationEnded), this.video.addEventListener("canplaythrough", this.onVideoDataLoaded), this.video.addEventListener("playing", this.onVideoPlaying), this.video.addEventListener("pause", this.onVideoPaused);
  }
  /** 移除事件监听 */
  removeEventListeners() {
    this.five.off("loaded", this.onFiveDataLoaded), this.five.off("modeChange", this.onFiveModeChange), this.five.off("panoArrived", this.onFivePanoArrived), this.five.off("panoWillArrive", this.onFivePanoWillArrive), this.five.off("wantsMoveToPano", this.onFiveWantsMoveToPano), this.five.off("wantsTapGesture", this.onFiveWantsTapGesture), this.five.off("initAnimationEnded", this.onFiveInitAnimationEnded), this.video.removeEventListener("canplaythrough", this.onVideoDataLoaded), this.video.removeEventListener("playing", this.onVideoPlaying), this.video.removeEventListener("pause", this.onVideoPaused);
  }
  /** 如果满足 mount 条件，mount */
  mountIfNeeded() {
    const i65 = this.five.getCurrentState();
    i65.mode === "Panorama" && i65.panoIndex === this.panoIndex && this.enabled && this.mount();
  }
  /** 挂载：加载视频资源；添加模型。 */
  mount() {
    if (this.disposed)
      return this.logWarning("插件已经销毁，无法挂载。");
    if (this.url === "")
      return this.logWarning("视频资源不存在。");
    this.video.src !== this.url && (this.video.src = this.url), this.video.paused && this.video.play().catch((i65) => {
      this.logWarning(i65 instanceof Error ? i65.message : "视频播放失败。"), this.five.once("gesture", () => {
        this.video.play().catch((e48) => {
          this.logWarning(e48 instanceof Error ? e48.message : "自动播放视频失败。");
        });
      });
    });
  }
  /** 卸载：销毁视频资源；移除模型。 */
  unmount() {
    this.video.pause(), this.videoMesh.material.uniforms.opacity.value = 0, this.video.src !== "" && (this.video.src = ""), this.five.scene.remove(this.videoMesh);
  }
  /** 暂停视频，去除模型。 */
  hide() {
    this.video.pause(), this.videoMesh.material.uniforms.opacity.value = 0, this.five.scene.remove(this.videoMesh);
  }
  /** 控制台打印警告 */
  logWarning(i65) {
    console.warn("⛔ ==> [VideoMeshController]:", i65);
  }
  /** 检测射线与模型的交点是不是在视频的范围内 */
  checkIntersectionInBounding(i65, e48) {
    if (!e48.uv)
      return false;
    const [n72, o71] = e48.uv.toArray(), [r66, a62, s60, d73] = i65, h66 = 1 - a62 - d73, l63 = r66 + s60, m66 = h66 + d73;
    return n72 >= r66 && n72 <= l63 && o71 >= h66 && o71 <= m66;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoVideoPlugin/Controller.js
var u53 = Object.defineProperty;
var g51 = Object.defineProperties;
var b43 = Object.getOwnPropertyDescriptors;
var h51 = Object.getOwnPropertySymbols;
var M39 = Object.prototype.hasOwnProperty;
var W18 = Object.prototype.propertyIsEnumerable;
var l46 = (e48, i65, r66) => i65 in e48 ? u53(e48, i65, { enumerable: true, configurable: true, writable: true, value: r66 }) : e48[i65] = r66;
var p40 = (e48, i65) => {
  for (var r66 in i65 || (i65 = {}))
    M39.call(i65, r66) && l46(e48, r66, i65[r66]);
  if (h51)
    for (var r66 of h51(i65))
      W18.call(i65, r66) && l46(e48, r66, i65[r66]);
  return e48;
};
var a45 = (e48, i65) => g51(e48, b43(i65));
var s50 = (e48, i65, r66) => (l46(e48, typeof i65 != "symbol" ? i65 + "" : i65, r66), r66);
var Lr3 = class extends F9 {
  constructor(r66) {
    super(r66);
    s50(this, "controllerMap", /* @__PURE__ */ new Map());
    s50(this, "data");
    s50(this, "enabled", true);
    s50(this, "_disposed", false);
  }
  /** 插件 State */
  get state() {
    return {
      enabled: this.enabled
    };
  }
  /** 插件是否已被销毁 */
  get disposed() {
    return this._disposed;
  }
  /** 加载点位视频数据，加载数据并不代表会加载点位视频。 */
  load(r66, t43) {
    var o71;
    if (this.disposed)
      return this.logWarning("插件已被销毁");
    typeof ((o71 = t43 == null ? void 0 : t43.initialState) == null ? void 0 : o71.enabled) != "undefined" && t43.initialState.enabled !== this.enabled && (t43.initialState.enabled ? this.enable() : this.disable()), r66.list.forEach((n72) => {
      const c85 = n72.pano_index, f80 = n72.render_id;
      n72.video_list.forEach((d73) => {
        this.controllerMap.set(
          d73.render_id,
          new Bi(this.five, a45(p40({}, d73), {
            fiveUtil: this.fiveUtil,
            panoIndex: c85,
            renderID: f80,
            hooks: this.hooks,
            initialState: { enabled: this.enabled }
          }))
        );
      });
    }), this.data = r66, this.hooks.emit("dataLoaded", r66);
  }
  /** 开启插件功能。 */
  enable(r66) {
    var o71;
    if (this.disposed)
      return this.logWarning("插件已被销毁");
    if (this.enabled)
      return;
    this.enabled = true, Array.from(this.controllerMap.values()).forEach((n72) => n72.enable());
    const t43 = (o71 = r66 == null ? void 0 : r66.userAction) != null ? o71 : true;
    this.hooks.emit("enable", { userAction: t43 });
  }
  /** 禁用插件功能。 */
  disable(r66) {
    var o71;
    if (this.disposed)
      return this.logWarning("插件已被销毁");
    if (!this.enabled)
      return;
    this.enabled = false, Array.from(this.controllerMap.values()).forEach((n72) => n72.disable());
    const t43 = (o71 = r66 == null ? void 0 : r66.userAction) != null ? o71 : true;
    this.hooks.emit("disable", { userAction: t43 });
  }
  /** 看向某个视频。
   * - 会自动切换到全景模式。
   * - 如果遇到不能自动播放的问题，需要放到用户交互事件中调用。
   */
  lookAtVideoItemByRenderID(r66) {
    if (this.disposed)
      return this.logWarning("插件已被销毁");
    const t43 = this.controllerMap.get(r66);
    if (!t43)
      return this.logWarning(`ID 为 ${r66} 的点位视频不存在`);
    t43.lookAtVideo();
  }
  /**
   * 取消静音。
   *
   * 大部分浏览器需要用户交互后才能开启视频声音。
   *
   * 如果需要取消静音，建议在用户交互事件中调用本方法。
   *
   * 例如:
   *
   * ```jsx
   * onClick={() => {
   *  panoVideoPluginController.lookAtVideoItemByRenderID('xxx')
   *  panoVideoPluginController.unmuteByRenderID('xxx')
   * }}
   * ```
   */
  unmuteByRenderID(r66) {
    if (this.disposed)
      return this.logWarning("插件已被销毁");
    const t43 = this.controllerMap.get(r66);
    if (!t43)
      return this.logWarning(`ID 为 ${r66} 的点位视频不存在`);
    t43.unmute();
  }
  /** 为一个点位添加视频（可以是多条）。 */
  add(r66, t43) {
    if (this.disposed)
      return this.logWarning("插件已被销毁");
    t43.forEach((o71) => {
      if (this.controllerMap.get(o71.render_id))
        return this.logWarning(`ID 为 ${o71.render_id} 的点位视频已存在`);
      const n72 = o71.render_id;
      this.controllerMap.set(
        o71.render_id,
        new Bi(this.five, a45(p40({}, o71), {
          fiveUtil: this.fiveUtil,
          panoIndex: r66,
          renderID: n72,
          hooks: this.hooks,
          initialState: { enabled: this.enabled }
        }))
      );
    });
  }
  /** 根据 VideoItem render_id 删除某个视频。 */
  removeByRenderID(r66) {
    if (this.disposed)
      return this.logWarning("插件已被销毁");
    const t43 = this.controllerMap.get(r66);
    if (!t43)
      return this.logWarning(`ID 为 ${r66} 的点位视频不存在`);
    t43.dispose(), this.controllerMap.delete(r66);
  }
  /** 清空现有数据 */
  clear() {
    if (this.disposed)
      return this.logWarning("插件已被销毁");
    Array.from(this.controllerMap.values()).forEach((r66) => r66.dispose()), this.controllerMap.clear();
  }
  /** 销毁插件 */
  dispose() {
    if (this.disposed)
      return this.logWarning("插件已被销毁");
    this._disposed = true, Array.from(this.controllerMap.values()).forEach((r66) => r66.dispose()), this.controllerMap.clear();
  }
  /** 控制台打印警告 */
  // TODO: 全局函数 curry 化
  logWarning(r66) {
    console.warn("⛔ ==> [PanoVideoPluginController]:", r66);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoVideoPlugin/typings/index.js
var e43 = Object.freeze(Object.defineProperty({
  __proto__: null
}, Symbol.toStringTag, { value: "Module" }));

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoVideoPlugin/index.js
var wo2 = (o71) => new Lr3(o71);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PipelinePlugin/utils/formatData.js
function d56(e48) {
  const t43 = /* @__PURE__ */ new Map();
  return e48.forEach((a62) => a62.pipes.forEach((s60) => t43.set(s60.id, s60))), Array.from(t43.values());
}
function v45(e48) {
  const t43 = e48.target.map(({ startLibraryID: a62, endLibraryID: s60 }) => {
    const r66 = e48.data.pipelines.find(
      (n72) => n72.startLibraryID === a62 && n72.endLibraryID === s60
    );
    return r66 || console.warn(`Cannot find pipeline with startLibraryID ${a62} and endLibraryID ${s60}`), r66;
  }).filter(i7);
  return d56(t43);
}
function b44(e48) {
  if (e48.quality === 0)
    return "//vr-static.realsee-cdn.cn/release/web/aqueous-system-demo/19/1.png";
  if (e48.quality === 1)
    return "//vr-static.realsee-cdn.cn/release/web/aqueous-system-demo/19/2.png";
  if (e48.quality === 2)
    return "//vr-static.realsee-cdn.cn/release/web/aqueous-system-demo/19/3.png";
  if (e48.quality === 3)
    return "//vr-static.realsee-cdn.cn/release/web/aqueous-system-demo/19/4.png";
  if (e48.quality === 4)
    return "//vr-static.realsee-cdn.cn/release/web/aqueous-system-demo/19/5.png";
  if (e48.isHot)
    return "//vr-static.realsee-cdn.cn/release/web/aqueous-system-demo/19/6.png";
}
function w39(e48, t43) {
  const a62 = e48.ConnectsDataset.map((r66) => {
    const n72 = r66.data, l63 = r66.start, f80 = r66.end, u72 = { isHot: r66.waterType === 5, quality: r66.waterType }, p66 = n72.map((o71) => {
      const i65 = e48.LinesDataset.find((g67) => g67.id === o71);
      if (!i65)
        return null;
      const m66 = i65.data, y51 = t43 != null && t43.getPipeRadius ? t43.getPipeRadius(i65) : 1.6 / 100, q38 = t43 != null && t43.getPipeUrl ? t43.getPipeUrl(u72) : b44(u72);
      return { id: i65.id, radius: y51, water: u72, path: m66, texture: q38 };
    }).filter(i7);
    return { startLibraryID: l63, endLibraryID: f80, pipes: p66 };
  });
  return { pipes: d56(a62), pipelines: a62 };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/Extras/Core/Interpolations2.js
function c65(r66, n72) {
  const e48 = 1 - r66;
  return e48 * e48 * n72;
}
function t40(r66, n72) {
  return 2 * (1 - r66) * r66 * n72;
}
function o63(r66, n72) {
  return r66 * r66 * n72;
}
function P45(r66, n72, e48, i65) {
  return c65(r66, n72) + t40(r66, e48) + o63(r66, i65);
}
function f59(r66, n72) {
  const e48 = 1 - r66;
  return e48 * e48 * e48 * n72;
}
function z24(r66, n72) {
  const e48 = 1 - r66;
  return 3 * e48 * e48 * r66 * n72;
}
function B37(r66, n72) {
  return 3 * (1 - r66) * r66 * r66 * n72;
}
function a46(r66, n72) {
  return r66 * r66 * r66 * n72;
}
function b45(r66, n72, e48, i65, u72) {
  return f59(r66, n72) + z24(r66, e48) + B37(r66, i65) + a46(r66, u72);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/Extras/Core/Interpolations.js
function y41(e48, r66) {
  const c85 = r66.length - 1;
  if (c85 < 1)
    throw new Error("length of points must greater than 2");
  if (c85 === 2)
    return new Vector3(
      P45(e48, r66[0].x, r66[1].x, r66[2].x),
      P45(e48, r66[0].y, r66[1].y, r66[2].y),
      P45(e48, r66[0].z, r66[1].z, r66[2].z)
    );
  if (c85 === 3)
    return new Vector3(
      b45(e48, r66[0].x, r66[1].x, r66[2].x, r66[3].x),
      b45(e48, r66[0].y, r66[1].y, r66[2].y, r66[3].y),
      b45(e48, r66[0].z, r66[1].z, r66[2].z, r66[3].z)
    );
  if (c85 === 1) {
    const [u72, z28] = r66;
    return u72.clone().add(z28.clone().sub(u72).multiplyScalar(e48));
  }
  const f80 = [];
  return r66.reduce((u72, z28) => (f80.push(y41(e48, [u72, z28])), z28)), y41(e48, f80);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/Extras/Curves/BezierCurve3.js
var p41 = Object.defineProperty;
var a47 = (n72, o71, t43) => o71 in n72 ? p41(n72, o71, { enumerable: true, configurable: true, writable: true, value: t43 }) : n72[o71] = t43;
var i58 = (n72, o71, t43) => (a47(n72, typeof o71 != "symbol" ? o71 + "" : o71, t43), t43);
var P46 = class extends Curve {
  constructor(t43 = []) {
    super();
    i58(this, "type");
    i58(this, "controlPoints");
    this.type = "CustomBezierCurve3", this.controlPoints = t43;
  }
  getPoint(t43, r66 = new Vector3()) {
    const s60 = r66, e48 = y41(t43, this.controlPoints);
    return s60.copy(e48), s60;
  }
  copy(t43) {
    return super.copy(t43), this.controlPoints = t43.controlPoints.map((r66) => r66.clone()), this;
  }
  toJSON() {
    const t43 = super.toJSON(), r66 = this.controlPoints.map((e48) => e48.toArray());
    return Object.assign(t43, { controlPoints: r66 });
  }
  fromJSON(t43) {
    return super.fromJSON(t43), this.controlPoints = t43.controlPoints.map((r66) => new Vector3().fromArray(r66)), this;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PipelinePlugin/utils/Objects/Pipe.js
var d57 = Object.defineProperty;
var v46 = Object.getOwnPropertySymbols;
var A51 = Object.prototype.hasOwnProperty;
var w40 = Object.prototype.propertyIsEnumerable;
var f60 = (p66, i65, t43) => i65 in p66 ? d57(p66, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : p66[i65] = t43;
var y42 = (p66, i65) => {
  for (var t43 in i65 || (i65 = {}))
    A51.call(i65, t43) && f60(p66, t43, i65[t43]);
  if (v46)
    for (var t43 of v46(i65))
      w40.call(i65, t43) && f60(p66, t43, i65[t43]);
  return p66;
};
var n55 = (p66, i65, t43) => (f60(p66, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var l47 = (p66, i65, t43) => new Promise((e48, m66) => {
  var o71 = (s60) => {
    try {
      a62(t43.next(s60));
    } catch (c85) {
      m66(c85);
    }
  }, r66 = (s60) => {
    try {
      a62(t43.throw(s60));
    } catch (c85) {
      m66(c85);
    }
  }, a62 = (s60) => s60.done ? e48(s60.value) : Promise.resolve(s60.value).then(o71, r66);
  a62((t43 = t43.apply(p66, i65)).next());
});
var C47 = (
  /* glsl */
  `
  varying vec2 vUv;
  void main() {
    vUv = uv; 
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`
);
var O37 = (
  /* glsl */
  `
  varying vec2 vUv;
  uniform float uOffset;
  uniform float vOffset;
  uniform float opacity;
  uniform mediump sampler2D envMap;

  void main(){
    float u = vUv.x + uOffset;
    float v = vUv.y + vOffset;
    vec2 uv = vec2(u, v);
    gl_FragColor = texture2D(envMap, uv);
    gl_FragColor.a = gl_FragColor.a * opacity;
  }
`
);
var h52 = class _h extends Mesh {
  constructor(t43, e48 = O37) {
    super();
    n55(this, "geometryConfig", {
      radius: 1.5 / 100,
      tubularSegments: 20,
      radialSegments: 8
    });
    n55(this, "customID");
    n55(this, "path");
    n55(this, "pathLength", 0);
    n55(this, "pathPoints");
    n55(this, "texture");
    n55(this, "opacityAnime");
    n55(this, "uPreMeter", 1);
    t43.geometryConfig && (this.geometryConfig = y42(y42({}, this.geometryConfig), t43.geometryConfig)), this.customID = t43.id || this.uuid, this.pathPoints = t43.path, this.path = _h.calculatePath(t43.path.map((s60) => new Vector3().fromArray(s60))), this.pathLength = this.path.getLength(), this.texture = _h.formatTexture(t43.texture);
    const { radius: m66, tubularSegments: o71, radialSegments: r66 } = this.geometryConfig, a62 = _h.formatTexture(t43.texture);
    this.geometry = _h.formatGeometryUV(
      new TubeBufferGeometry(this.path, o71, m66, r66),
      this.pathLength,
      this.uPreMeter
    ), this.material = new ShaderMaterial({
      uniforms: {
        opacity: { value: 1 },
        uOffset: { value: 0 },
        vOffset: { value: 0 },
        envMap: {
          value: a62
        }
      },
      transparent: true,
      vertexShader: C47,
      fragmentShader: e48
    });
  }
  /** 根据控制点数量计算管道路径
   *
   * @description 两个控制点使用直线路径，多个控制点使用贝塞尔路径
   */
  static calculatePath(t43) {
    return t43.length === 2 ? new LineCurve3(t43[0], t43[1]) : new P46(t43);
  }
  static formatGeometryUV(t43, e48, m66) {
    const o71 = t43.getAttribute("uv");
    for (let r66 = 0; r66 < o71.count; r66++) {
      const a62 = o71.getX(r66) * e48 * m66;
      o71.setX(r66, a62);
    }
    return t43;
  }
  /**
   * 管道的 Texture 需要满足一定的要求，需要使用 formatTexture 先 format
   */
  static formatTexture(t43) {
    return t43.wrapS = RepeatWrapping, t43.wrapT = RepeatWrapping, t43;
  }
  hide(t43) {
    return l47(this, null, function* () {
      var o71;
      (o71 = this.opacityAnime) == null || o71.dispose();
      const e48 = 0;
      if (typeof (t43 == null ? void 0 : t43.duration) != "number")
        return this.setOpacity(e48);
      const m66 = this.material.uniforms.opacity.value;
      return m66 === e48 ? true : new Promise((r66) => {
        this.opacityAnime = new d18({ progress: m66 }).to({ progress: e48 }).onUpdate(({ progress: a62 }) => this.setOpacity(a62)).onComplete(() => r66(true)).onDispose(() => {
          this.setOpacity(e48), r66(false);
        }).play();
      });
    });
  }
  show(t43) {
    return l47(this, null, function* () {
      var o71;
      (o71 = this.opacityAnime) == null || o71.dispose();
      const e48 = 1;
      if (typeof (t43 == null ? void 0 : t43.duration) != "number")
        return this.setOpacity(e48);
      const m66 = this.material.uniforms.opacity.value;
      return new Promise((r66) => {
        this.opacityAnime = new d18({ progress: m66 }).to({ progress: e48 }).onUpdate(({ progress: a62 }) => this.setOpacity(a62)).onComplete(() => r66(true)).onDispose(() => {
          this.setOpacity(e48), r66(false);
        }).play();
      });
    });
  }
  setOpacity(t43) {
    return this.material.uniforms.opacity.value = t43, this.material.needsUpdate = true, this.needsRender = true, true;
  }
  disposeAnime() {
    var t43;
    (t43 = this.opacityAnime) == null || t43.dispose(), this.opacityAnime = void 0;
  }
  dispose() {
    this.disposeAnime(), this.geometry.dispose(), this.material.dispose();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PipelinePlugin/utils/Objects/FlowPipe.js
var v47 = Object.defineProperty;
var u54 = (r66, o71, t43) => o71 in r66 ? v47(r66, o71, { enumerable: true, configurable: true, writable: true, value: t43 }) : r66[o71] = t43;
var m56 = (r66, o71, t43) => (u54(r66, typeof o71 != "symbol" ? o71 + "" : o71, t43), t43);
var d58 = (
  /* glsl */
  `
  varying vec2 vUv;
  uniform float uOffset;
  uniform float vOffset;
  uniform float opacity;
  uniform mediump sampler2D envMap;

  void main(){
    // u > 0 时，不显示。即贴图不向前移动时，全部使用 u = 0 的值进行平铺
    float u = min(vUv.x + uOffset, 0.0);
    float v = vUv.y + vOffset;
    vec2 uv = vec2(u, v);
    gl_FragColor = texture2D(envMap, uv);
    gl_FragColor.a = gl_FragColor.a * opacity;
  }
`
);
var Et3 = class extends h52 {
  constructor(t43) {
    super(t43, d58);
    m56(this, "initialDisplacement", 0);
    m56(this, "oldTime", (/* @__PURE__ */ new Date()).getTime());
    m56(this, "flowSpeed", 0.6);
    m56(this, "rotateSpeed", 0);
    m56(this, "flowAnimationDisposer", () => {
    });
  }
  setInitialDisplacement(t43, i65 = "backward") {
    this.initialDisplacement = Math.abs(t43) * (i65 === "forward" ? -1 : 1), this.moveFromOrigin(this.initialDisplacement);
  }
  /** 水流移动「基于初始位置」
   * @description 因为贴图的运动与 u 的 uOffset 相反，比较反直觉，所以封装方法易于理解
   * @param displacement 位移：米 * 方向(向前 -> 正, 向后 -> 负)
   */
  moveFromOrigin(t43) {
    const i65 = t43 * this.uPreMeter;
    return this.material.uniforms.uOffset.value = i65, this.material.needsUpdate = true, this.needsRender = true, true;
  }
  /** 水流移动「基于调整管道差值之后的位置」
   *
   * @param distance 位移：米 * 方向
   */
  moveForwardFromInitialOffset(t43) {
    const i65 = t43 * -1, e48 = this.initialDisplacement + i65;
    this.moveFromOrigin(e48);
  }
  flow() {
    this.flowAnimationDisposer(), this.oldTime = (/* @__PURE__ */ new Date()).getTime();
    let t43 = 0, i65 = 0;
    const e48 = l18(() => {
      const p66 = (/* @__PURE__ */ new Date()).getTime(), n72 = p66 - this.oldTime, s60 = this.flowSpeed * (n72 / 1e3), a62 = this.rotateSpeed * (n72 / 1e3);
      t43 = t43 + s60, i65 = i65 + a62;
      const l63 = 1 / 360, f80 = i65 * l63;
      this.material.uniforms.vOffset.value = f80, this.moveForwardFromInitialOffset(t43), this.oldTime = p66;
    });
    this.flowAnimationDisposer = function() {
      e48(), this.moveForwardFromInitialOffset(0);
    };
  }
  stopFlow() {
    this.flowAnimationDisposer();
  }
  setSpeed(t43) {
    typeof (t43 == null ? void 0 : t43.flowSpeed) == "number" && (this.flowSpeed = t43.flowSpeed), typeof (t43 == null ? void 0 : t43.rotateSpeed) == "number" && (this.rotateSpeed = t43.rotateSpeed);
  }
  disposeAnime() {
    super.disposeAnime(), this.flowAnimationDisposer();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PipelinePlugin/Controller.js
var j29 = Object.defineProperty;
var v48 = Object.getOwnPropertySymbols;
var P47 = Object.prototype.hasOwnProperty;
var _25 = Object.prototype.propertyIsEnumerable;
var A52 = (m66, o71, e48) => o71 in m66 ? j29(m66, o71, { enumerable: true, configurable: true, writable: true, value: e48 }) : m66[o71] = e48;
var u55 = (m66, o71) => {
  for (var e48 in o71 || (o71 = {}))
    P47.call(o71, e48) && A52(m66, e48, o71[e48]);
  if (v48)
    for (var e48 of v48(o71))
      _25.call(o71, e48) && A52(m66, e48, o71[e48]);
  return m66;
};
var d59 = (m66, o71, e48) => (A52(m66, typeof o71 != "symbol" ? o71 + "" : o71, e48), e48);
var c66 = (m66, o71, e48) => new Promise((t43, i65) => {
  var s60 = (a62) => {
    try {
      n72(e48.next(a62));
    } catch (h66) {
      i65(h66);
    }
  }, r66 = (a62) => {
    try {
      n72(e48.throw(a62));
    } catch (h66) {
      i65(h66);
    }
  }, n72 = (a62) => a62.done ? t43(a62.value) : Promise.resolve(a62.value).then(s60, r66);
  n72((e48 = e48.apply(m66, o71)).next());
});
var g52 = { flowSpeed: 0.6, rotateSpeed: 0 };
var it7 = class extends e9 {
  constructor(e48) {
    super(e48);
    d59(this, "data");
    d59(this, "state");
    d59(this, "group");
    d59(this, "pipeObjects", []);
    d59(this, "texturePromiseCache", /* @__PURE__ */ new Map());
    d59(this, "dispose", () => {
      this.disable(), this.five.scene.remove(this.group), this.texturePromiseCache.forEach((e49) => e49.then((t43) => t43.dispose())), this.texturePromiseCache.clear();
    });
    d59(this, "onWantsFiveTapGesture", (...e49) => {
      const [t43] = e49, i65 = t43.intersectObjects(this.pipeObjects, false);
      if (i65.length === 0 || !this.data)
        return;
      const n72 = i65[0].object.customID, a62 = this.data.pipes.find(({ id: p66 }) => p66 === n72), h66 = this.data.pipelines.find((p66) => a62 && p66.pipes.includes(a62));
      if (!(!a62 || !h66))
        return this.hooks.emit("tap", {
          intersectObjects: i65,
          pipe: a62,
          pipeline: h66,
          wantsFiveTapGestureParams: e49
        }), false;
    });
    this.state = {
      target: null,
      visible: true,
      enabled: true,
      isFlowing: false,
      speed: g52
    }, this.five = e48, this.group = new Group(), this.group.name = "water-pipe-group", this.five.scene.add(this.group), this.five.once("dispose", this.dispose), this.five.on("wantsTapGesture", this.onWantsFiveTapGesture);
  }
  /** 加载管道数据，重复调用会使用新数据覆盖旧数据
   * @param `data` `<Plugin.ServerData>` Open API 接口返回的数据。
   * @param `initialState` `<Plugin.State> | <undefined>` 数据加载后，要应用的 state，默认是 undefined。
   * @param `userAction` `<boolean> | <undefined>` 是否是用户操作，默认是 true。
   * @param `options` `<Plugin.LoadOptions> | <undefined>` 数据加载配置项。
   * @param `options.getPipeRadius` `<(pipe: ServerData.LinesDataset) => number> | <undefined>` 允许用户通过函数自定义管道半径。
   * @param `options.getPipeUrl` `<(water: Water) => string> | <undefined>` 允许用户通过函数自定义管道贴图，
   * 函数返回的 string 就是当前 water 对应的贴图地址。
   */
  // eslint-disable-next-line max-params
  load(e48, t43, i65, s60) {
    return c66(this, null, function* () {
      const r66 = this.data;
      this.data = yield this.formatData(e48, s60), this.removeAllPipes(), this.hooks.emit("dataChange", this.data, r66), this.pipeObjects = yield Promise.all(
        this.data.pipes.filter((n72) => !!(n72 != null && n72.texture)).map((b55) => c66(this, [b55], function* ({ id: n72, texture: a62, path: h66, radius: p66 }) {
          const l63 = yield this.loadPipeTexture(a62), f80 = { id: n72, path: h66, textureURL: a62, texture: l63, geometryConfig: { radius: p66 } };
          return new Et3(f80);
        }))
      ), this.data.pipelines.forEach((n72) => {
        n72.pipes.reduce((a62, h66) => {
          const p66 = this.findPipeObjectWithID(h66.id);
          return p66 == null || p66.setInitialDisplacement(a62), a62 + ((p66 == null ? void 0 : p66.pathLength) || 0);
        }, 0);
      }), this.hooks.emit("dataLoaded", this.data), this.state.visible === false && this.pipeObjects.forEach((n72) => n72.setOpacity(0)), this.state.enabled && (this.group.add(...this.pipeObjects), this.five.needsRender = true), t43 && this.setState(t43, { userAction: i65 });
    });
  }
  /** 更改插件 State
   * @param `state` `<Partial<Plugin.State>>` 插件属性 `state` 的子集。
   * @param `options` `<Option> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  setState(e48, t43 = {}) {
    const i65 = this.state;
    if (b6(e48, i65, { deep: true }))
      return;
    const s60 = t43.userAction !== void 0 ? t43.userAction : true;
    if (this.updateState(e48, s60), e48.enabled !== void 0 && i65.enabled !== e48.enabled && (e48.enabled ? this._enable({ userAction: s60 }) : this._disable({ userAction: s60 })), e48.visible !== void 0 && i65.visible !== e48.visible) {
      const r66 = { userAction: s60, anime: { duration: 500 } };
      e48.visible ? this._show(r66) : this._hide(r66);
    }
    if (e48.isFlowing !== void 0 && i65.isFlowing !== e48.isFlowing && (e48.isFlowing ? this._flow() : this._stopFlow()), e48.speed !== void 0 && !b6(i65.speed, this.state.speed, { deep: true }) && this._setSpeed(e48.speed), e48.target !== void 0 && !b6(i65.target, this.state.target, { deep: true })) {
      const r66 = {
        target: e48.target,
        showAnime: { duration: 500 },
        hideAnime: { duration: 500 }
      };
      this._switchPipelines(r66);
    }
  }
  /** 启用插件
   * @param `options` `<Option> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  enable(e48 = {}) {
    var i65;
    if (this.state.enabled)
      return;
    const t43 = (i65 = e48.userAction) != null ? i65 : true;
    this.updateState({ enabled: true }, t43), this._enable({ userAction: t43 });
  }
  /** 禁用插件
   * @param `options` `<Option> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  disable(e48 = {}) {
    var i65;
    if (this.state.enabled === false)
      return;
    const t43 = (i65 = e48.userAction) != null ? i65 : true;
    this.updateState({ enabled: false, isFlowing: false }, t43), this._disable({ userAction: t43 });
  }
  /** 展示管道模型，注意如果通过 `switchPipelines` 更改过 `visibleIDs`，则只会展示这一部分模型。
   * @param `options` `<Partial<ShowHideOptions>> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   * @param `options.anime` `<AnimeOptions> | <undefined>` 动画配置。
   * @param `options.anime.duration` `<number> | <undefined>` 动画时间，默认是 500ms。
   */
  show() {
    return c66(this, arguments, function* (e48 = {}) {
      if (this.state.visible)
        return;
      const t43 = u55({
        userAction: true,
        anime: { duration: 500 }
      }, e48);
      this.updateState({ visible: true }, t43.userAction), yield this._show(t43);
    });
  }
  /** 插件内容整体隐藏
   * @param `options` `<Partial<ShowHideOptions>> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   * @param `options.anime` `<AnimeOptions> | <undefined>` 动画配置。
   * @param `options.anime.duration` `<number> | <undefined>` 动画时间，默认是 500ms。
   */
  hide() {
    return c66(this, arguments, function* (e48 = {}) {
      if (this.state.visible === false)
        return;
      const t43 = u55({
        userAction: true,
        anime: { duration: 500 }
      }, e48);
      this.updateState({ visible: false }, t43.userAction), yield this._hide(t43);
    });
  }
  /** 切换管路
   * @param `options` `Partial<ShowPipelinesOptions> | <undefined>`
   * @param `options.target` `<{ startLibraryID: number; endLibraryID: number }[]> | <undefined>`
   * 目标管路，存在时，展示目标管路包含的管道，同时隐藏其他管道。不存在则展示所有管道。
   * startLibraryID 和 endLibraryID 是起始和结束的设备 ID。
   * @param `options.showAnime` `<AnimeOptions> | <undefined>` 展示的动画配置。
   * @param `options.hideAnime` `<AnimeOptions> | <undefined>` 隐藏的动画配置。
   * @param `options.anime` `<AnimeOptions> | <undefined>` 兜底的动画配置。
   * @param `options.userAction` `<boolean> | <undefined>` 是否是否是用户操作。
   * */
  switchPipelines(e48) {
    return c66(this, null, function* () {
      var h66, p66, b55, l63, f80, w49;
      if (!this.data)
        return;
      const t43 = (h66 = e48 == null ? void 0 : e48.target) != null ? h66 : null, i65 = (p66 = e48 == null ? void 0 : e48.userAction) != null ? p66 : true;
      this.updateState({ target: t43 }, i65);
      const s60 = { duration: 500 }, r66 = (l63 = (b55 = e48 == null ? void 0 : e48.hideAnime) != null ? b55 : e48 == null ? void 0 : e48.anime) != null ? l63 : s60, n72 = (w49 = (f80 = e48 == null ? void 0 : e48.showAnime) != null ? f80 : e48 == null ? void 0 : e48.anime) != null ? w49 : s60, a62 = {
        target: t43,
        showAnime: n72,
        hideAnime: r66
      };
      this._switchPipelines(a62);
    });
  }
  /** 开始流动 */
  flow(e48 = {}) {
    var i65;
    if (this.state.isFlowing)
      return;
    const t43 = (i65 = e48.userAction) != null ? i65 : true;
    this.updateState({ isFlowing: true }, t43), this._flow();
  }
  /** 停止流动 */
  stopFlow(e48 = {}) {
    var i65;
    if (this.state.isFlowing === false)
      return;
    const t43 = (i65 = e48.userAction) != null ? i65 : true;
    this.updateState({ isFlowing: false }, t43), this._stopFlow();
  }
  /** 更改水管流速
   * @param `options` `<SetSpeedOptions> | <undefined>`
   * @param `options.speed` `<Speed> | <undefined>` 参考 `state.speed` 的描述。
   * @param `options.userAction` `<boolean> | <undefined>` 是否是否是用户操作。
   */
  setSpeed(e48) {
    var s60, r66;
    const t43 = (s60 = e48 == null ? void 0 : e48.speed) != null ? s60 : g52, i65 = (r66 = e48.userAction) != null ? r66 : true;
    this.updateState({ speed: t43 }, i65), this._setSpeed(t43);
  }
  formatData(e48, t43) {
    return c66(this, null, function* () {
      return w39(e48, t43);
    });
  }
  _enable(e48) {
    this.hooks.emit("enable", { userAction: e48.userAction }), this.five.scene.add(this.group), this.five.needsRender = true, this.five.on("wantsTapGesture", this.onWantsFiveTapGesture);
  }
  _disable(e48) {
    this.hooks.emit("disable", { userAction: e48.userAction }), this.disposeAnime(), this.five.scene.remove(this.group), this.five.needsRender = true, this.five.off("wantsTapGesture", this.onWantsFiveTapGesture);
  }
  _show(e48) {
    return c66(this, null, function* () {
      var s60;
      this.hooks.emit("show", { userAction: e48.userAction });
      const t43 = (s60 = e48 == null ? void 0 : e48.anime) != null ? s60 : { duration: 500 }, i65 = this.findPipeObjectWithTarget(this.state.target);
      yield Promise.all(i65.map((r66) => r66 == null ? void 0 : r66.show(t43))), this.five.needsRender = true;
    });
  }
  _hide(e48) {
    return c66(this, null, function* () {
      var i65;
      this.hooks.emit("hide", { userAction: e48.userAction });
      const t43 = (i65 = e48 == null ? void 0 : e48.anime) != null ? i65 : { duration: 500 };
      yield Promise.all(this.pipeObjects.map((s60) => s60.hide(t43))), this.five.needsRender = true;
    });
  }
  _switchPipelines(e48) {
    return c66(this, null, function* () {
      if (!this.data)
        return;
      const t43 = this.findPipeObjectWithTarget(e48.target), i65 = e48.hideAnime;
      yield Promise.all(this.pipeObjects.map((r66) => r66.hide(i65)));
      const s60 = e48.showAnime;
      yield Promise.all(t43.map((r66) => r66.show(s60)));
    });
  }
  _flow() {
    this.pipeObjects.forEach((e48) => e48.flow());
  }
  _stopFlow() {
    this.pipeObjects.forEach((e48) => e48.stopFlow());
  }
  _setSpeed(e48) {
    this.pipeObjects.forEach((t43) => t43.setSpeed(e48));
  }
  updateState(e48, t43) {
    const i65 = this.state;
    this.state = u55(u55({}, this.state), e48), this.hooks.emit("stateChange", { state: this.state, prevState: i65, userAction: t43 });
  }
  /** 加载管道贴图，如果再加载中，复用之前的加载 Promise */
  loadPipeTexture(e48) {
    return c66(this, null, function* () {
      const t43 = this.texturePromiseCache.get(e48);
      if (t43)
        return t43;
      const i65 = p15(e48);
      return this.texturePromiseCache.set(e48, i65), i65;
    });
  }
  /** 销毁所有动画 */
  disposeAnime() {
    this.pipeObjects.forEach((e48) => e48.disposeAnime()), this.five.needsRender = true;
  }
  /** 移除所有管道模型 */
  removeAllPipes() {
    this.disposeAnime(), this.group.remove(...this.pipeObjects), this.pipeObjects.forEach((e48) => e48.dispose()), this.pipeObjects = [], this.five.needsRender = true;
  }
  /** 根据 ID 查找管道模型 */
  findPipeObjectWithID(e48) {
    return this.pipeObjects.find(({ customID: t43 }) => t43 === e48);
  }
  /** 根据 target 查找管道模型 */
  findPipeObjectWithTarget(e48) {
    return e48 ? v45({ data: this.data, target: e48 }).map(({ id: i65 }) => this.findPipeObjectWithID(i65)).filter(i7) : this.pipeObjects;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PipelinePlugin/index.js
var zr2 = (r66) => new it7(r66);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/Object3D.js
var a48 = Object.defineProperty;
var n56 = (s60, e48, t43) => e48 in s60 ? a48(s60, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : s60[e48] = t43;
var r52 = (s60, e48, t43) => (n56(s60, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var y43 = class extends Object3D {
  constructor() {
    super(...arguments);
    r52(this, "children", []);
  }
  /** 获取 raycaster 与当前物体的交点 */
  getRaycastIntersects(t43) {
    const c85 = [];
    return this.raycast(t43, c85), c85;
  }
  /** 获取 raycaster 与当前物体的第一个交点 */
  getRaycastIntersection(t43) {
    return this.getRaycastIntersects(t43)[0];
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/LineSegments.js
var m57 = class extends LineSegments {
  constructor(e48, s60) {
    super(e48, s60);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/components/AreaLabel/Assets/roomLabelBg.js
var A53 = "data:image/png;base64,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";

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/components/AreaLabel/LabelItem.js
function Q27(i65) {
  Qt2(i65, "svelte-16mrlad", ".room-label-item.svelte-16mrlad{position:absolute;font-size:0.625rem;transform:none;cursor:pointer;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;color:#fff}.room-label-item__text.svelte-16mrlad{position:absolute;left:0;top:-4rem;transform:translate(-50%, 0);display:flex;justify-content:center;align-items:center;height:1.25rem;min-width:2rem;padding:0 0.375rem;pointer-events:all;background-size:100% 100%;background-repeat:no-repeat;white-space:nowrap}.room-label-item__bar.svelte-16mrlad{position:absolute;transform-origin:top;top:-2.75rem;height:3rem;width:0.0625rem;background-image:linear-gradient(to bottom, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0))}");
}
function L33(i65) {
  let e48, n72, o71, l63, r66, d73;
  return {
    c() {
      e48 = K4("span"), n72 = gt(
        /*content*/
        i65[0]
      ), o71 = Xt(), l63 = K4("div"), te2(e48, "class", "room-label-item__text svelte-16mrlad"), ne2(e48, "background-image", "url(" + A53 + ")"), te2(l63, "class", "room-label-item__bar svelte-16mrlad");
    },
    m(f80, a62) {
      Nt(f80, e48, a62), pt(e48, n72), i65[13](e48), Nt(f80, o71, a62), Nt(f80, l63, a62), i65[14](l63), r66 || (d73 = lt(e48, "click", function() {
        L5(
          /*onClick*/
          i65[4]
        ) && i65[4].apply(this, arguments);
      }), r66 = true);
    },
    p(f80, a62) {
      i65 = f80, a62 & /*content*/
      1 && ee2(
        n72,
        /*content*/
        i65[0]
      );
    },
    d(f80) {
      f80 && J4(e48), i65[13](null), f80 && J4(o71), f80 && J4(l63), i65[14](null), r66 = false, d73();
    }
  };
}
function V20(i65) {
  let e48, n72 = !/*rendererIfNeed*/
  i65[5] && L33(i65);
  return {
    c() {
      e48 = K4("div"), n72 && n72.c(), te2(e48, "class", "room-label-item svelte-16mrlad"), ne2(
        e48,
        "z-index",
        /*zIndex*/
        i65[2]
      ), ne2(
        e48,
        "transform",
        /*transform*/
        i65[3]
      ), ne2(
        e48,
        "opacity",
        /*opacity*/
        i65[1]
      ), ne2(
        e48,
        "visibility",
        /*visibility*/
        i65[9]
      );
    },
    m(o71, l63) {
      Nt(o71, e48, l63), n72 && n72.m(e48, null), i65[15](e48);
    },
    p(o71, [l63]) {
      o71[5] ? n72 && (n72.d(1), n72 = null) : n72 ? n72.p(o71, l63) : (n72 = L33(o71), n72.c(), n72.m(e48, null)), l63 & /*zIndex*/
      4 && ne2(
        e48,
        "z-index",
        /*zIndex*/
        o71[2]
      ), l63 & /*transform*/
      8 && ne2(
        e48,
        "transform",
        /*transform*/
        o71[3]
      ), l63 & /*opacity*/
      2 && ne2(
        e48,
        "opacity",
        /*opacity*/
        o71[1]
      ), l63 & /*visibility*/
      512 && ne2(
        e48,
        "visibility",
        /*visibility*/
        o71[9]
      );
    },
    i: N4,
    o: N4,
    d(o71) {
      o71 && J4(e48), n72 && n72.d(), i65[15](null);
    }
  };
}
function W19(i65, e48, n72) {
  let o71, { content: l63 } = e48, { five: r66 = void 0 } = e48, { visible: d73 = true } = e48, { opacity: f80 = 1 } = e48, { zIndex: a62 = 0 } = e48, { transform: C52 = void 0 } = e48, { onClick: D52 = () => {
  } } = e48, { rendererIfNeed: b55 = void 0 } = e48, { rendererData: h66 = void 0 } = e48, u72, m66, c85, _32;
  const k47 = (t43) => {
    if (r66.state.mode !== "Panorama") {
      const w49 = -(10 + 54 * (1 - t13(t43.latitude) / 90)), v58 = w49 + 20, O40 = v58 >= 0 ? 0 : -v58 / 44;
      n72(7, m66.style.transform = `scaleY(${O40})`, m66), n72(7, m66.style.top = `${v58}px`, m66), n72(8, c85.style.top = `${w49}px`, c85);
    }
  };
  ce(() => {
    u72 && typeof b55 == "function" && (_32 = b55(u72, h66)), r66 && (k47(r66.camera.pose), r66.on("cameraUpdate", k47));
  }), le(() => {
    _32 == null || _32(), r66 == null || r66.off("cameraUpdate", k47);
  });
  function U33(t43) {
    ft[t43 ? "unshift" : "push"](() => {
      c85 = t43, n72(8, c85);
    });
  }
  function B42(t43) {
    ft[t43 ? "unshift" : "push"](() => {
      m66 = t43, n72(7, m66);
    });
  }
  function M48(t43) {
    ft[t43 ? "unshift" : "push"](() => {
      u72 = t43, n72(6, u72);
    });
  }
  return i65.$$set = (t43) => {
    "content" in t43 && n72(0, l63 = t43.content), "five" in t43 && n72(10, r66 = t43.five), "visible" in t43 && n72(11, d73 = t43.visible), "opacity" in t43 && n72(1, f80 = t43.opacity), "zIndex" in t43 && n72(2, a62 = t43.zIndex), "transform" in t43 && n72(3, C52 = t43.transform), "onClick" in t43 && n72(4, D52 = t43.onClick), "rendererIfNeed" in t43 && n72(5, b55 = t43.rendererIfNeed), "rendererData" in t43 && n72(12, h66 = t43.rendererData);
  }, i65.$$.update = () => {
    i65.$$.dirty & /*visible*/
    2048 && n72(9, o71 = d73 ? "visible" : "hidden");
  }, [
    l63,
    f80,
    a62,
    C52,
    D52,
    b55,
    u72,
    m66,
    c85,
    o71,
    r66,
    d73,
    h66,
    U33,
    B42,
    M48
  ];
}
var ne11 = class extends Ce {
  constructor(e48) {
    super(), Te(
      this,
      e48,
      W19,
      V20,
      Ft,
      {
        content: 0,
        five: 10,
        visible: 11,
        opacity: 1,
        zIndex: 2,
        transform: 3,
        onClick: 4,
        rendererIfNeed: 5,
        rendererData: 12
      },
      Q27
    );
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/AreaMakerPlugin/utils/Item.js
var b46 = Object.defineProperty;
var k43 = (a62, e48, t43) => e48 in a62 ? b46(a62, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : a62[e48] = t43;
var i59 = (a62, e48, t43) => (k43(a62, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var P48 = class extends y43 {
  constructor(t43) {
    super();
    i59(this, "areaMakerItem");
    this.areaMakerItem = t43;
  }
  raycast(t43, s60) {
    this.areaMakerItem.makerObject.raycast(t43, s60);
  }
};
var Lt3 = class {
  constructor(e48, t43) {
    i59(this, "id");
    i59(this, "name", "");
    i59(this, "makerObject");
    i59(this, "outline");
    i59(this, "bottomY");
    i59(this, "opacity");
    i59(this, "height");
    i59(this, "floorIndex");
    i59(this, "shape");
    i59(this, "mounted", false);
    i59(this, "checkMsg", {
      /** 当标注没有展示时，可以通过这个字段查看原因 */
      checkVisibleMsg: "",
      /** 当标注标签没有展示时，可以通过这个字段查看原因 */
      checkTagVisibleMsg: ""
    });
    i59(this, "modelGroup");
    i59(this, "visible", true);
    i59(this, "tagApp");
    i59(this, "tagVisible", null);
    i59(this, "tagPosition", new Vector3());
    i59(this, "tagNDCPosition", new Vector3());
    i59(this, "tagTransform", { left: 0, top: 0 });
    i59(this, "tagZIndex", 0);
    i59(this, "hooks", new E3());
    i59(this, "itemRenderer");
    i59(this, "data");
    i59(this, "plugin");
    i59(this, "opacityAnime");
    i59(this, "isInContainerResizeAnimation", false);
    i59(this, "containerResizeTimeoutID", null);
    i59(this, "resizeObserver");
    i59(this, "doOpacityAnime", (e49) => {
      var m67;
      (m67 = this.opacityAnime) == null || m67.dispose();
      const t44 = e49.duration, [s61, o72] = e49.makerObjectOpacity, [h67, n73] = e49.outlineOpacity;
      if (t44 === 0) {
        this.makerObject.material.opacity = o72, this.outline.material.opacity = n73;
        return;
      }
      return new Promise((p67) => {
        this.opacityAnime = new d18({ makerObjectOpacity: s61, outlineOpacity: h67 }).to({
          makerObjectOpacity: o72,
          outlineOpacity: n73
        }).onUpdate(({ makerObjectOpacity: l64, outlineOpacity: c86 }) => {
          this.makerObject.material.opacity = l64, this.outline.material.opacity = c86, this.plugin.five.needsRender = true;
        }).onComplete(() => p67(true)).onDispose(() => {
          this.makerObject.material.opacity = o72, this.outline.material.opacity = n73, this.plugin.five.needsRender = true, p67(false);
        }).play();
      });
    });
    i59(this, "onPluginConfigChange", (e49) => {
      this.makerObject.material.depthTest = e49.config.modelDepthTest, this.outline.material.depthTest = e49.config.modelDepthTest, this.plugin.five.needsRender = true;
    });
    i59(this, "onPluginStateChange", () => {
      this.updateVisible(), this.updateTagVisible();
    });
    i59(this, "updateVisible", () => {
      var o72;
      const { result: e49, msg: t44 } = this.checkVisible();
      if (this.checkMsg.checkVisibleMsg = t44, this.visible === e49)
        return;
      this.visible = e49;
      const s61 = (o72 = this.data.object_data.visible) != null ? o72 : true;
      this.modelGroup.visible = e49 && s61, this.plugin.five.needsRender = true;
    });
    i59(this, "checkVisible", () => {
      if (!this.plugin.state.visible)
        return { result: false, msg: "插件不可见" };
      const t44 = this.plugin.fiveUtil.model.shownFloor;
      return t44 === null || t44 === this.floorIndex ? { result: true, msg: "" } : { result: false, msg: `模型高亮楼层不符合展示条件, 当前高亮楼层为：${t44}` };
    });
    i59(this, "updateTag", () => {
      this.tagApp && (this.updateTagNDCPosition(), this.updateTagDomTransform(), this.updateTagVisible());
    });
    i59(this, "updateTagNDCPosition", () => {
      const t44 = this.tagPosition.clone().project(this.plugin.five.camera);
      this.tagNDCPosition.copy(t44);
    });
    i59(this, "updateTagDomTransform", () => {
      var o72;
      const e49 = this.tagNDCPosition, t44 = Math.round((e49.x + 1) / 2 * this.plugin.tagDomContainer.clientWidth), s61 = Math.round((-e49.y + 1) / 2 * this.plugin.tagDomContainer.clientHeight);
      this.tagTransform.left === t44 && this.tagTransform.top === s61 || (this.tagTransform = { left: t44, top: s61 }, (o72 = this.tagApp) == null || o72.$set({ transform: `translate(${t44}px, ${s61}px)` }));
    });
    i59(this, "updateTagVisible", () => {
      var s61;
      const { result: e49, msg: t44 } = this.checkTagVisible();
      this.checkMsg.checkTagVisibleMsg = t44, this.tagVisible !== e49 && (this.tagVisible = e49, this.tagApp && (this.tagVisible ? this.hooks.emit("tagShow") : this.hooks.emit("tagHide"), (s61 = this.tagApp) == null || s61.$set({ visible: e49 })));
    });
    i59(this, "checkTagVisible", () => {
      if (!this.visible)
        return { result: false, msg: "标注整体不可见" };
      if (this.isInContainerResizeAnimation)
        return { result: false, msg: "处于容器 resize 动画中" };
      const t44 = this.plugin.five, s61 = t44.camera.position.clone();
      t5.set(s61.clone(), this.tagPosition.clone().sub(s61).normalize());
      const [o72] = this.plugin.fiveUtil.model.intersectRaycaster(t5), h67 = this.tagPosition.distanceTo(t44.camera.position);
      if (o72 && o72.distance + 0.1 < h67)
        return { result: false, msg: "标注标签被 Five 模型遮挡" };
      const n73 = this.tagNDCPosition;
      return Math.abs(n73.x) > 1.2 || Math.abs(n73.y) > 1.2 || Math.abs(n73.z) > 1 ? { result: false, msg: "标注标签不在屏幕内" } : { result: true, msg: "" };
    });
    i59(this, "onFiveCameraUpdate", () => {
      this.tagApp && this.visible && (this.updateTagNDCPosition(), this.updateTagDomTransform(), this.updateTagVisible());
    });
    i59(this, "onContainerResize", () => {
      this.isInContainerResizeAnimation === false && (this.isInContainerResizeAnimation = true, this.updateTag());
      const t44 = () => {
        this.isInContainerResizeAnimation = false, this.containerResizeTimeoutID = null, this.updateTag();
      };
      this.containerResizeTimeoutID && clearTimeout(this.containerResizeTimeoutID), this.containerResizeTimeoutID = setTimeout(t44, 100);
    });
    var p66, l63, c85, g67;
    const s60 = t43.object_data, o71 = s60.bottom_y, h66 = s60.height, n72 = new Color((p66 = s60.color) != null ? p66 : "#FFFFFF"), m66 = (l63 = s60.opacity) != null ? l63 : 0.4;
    this.data = t43, this.id = t43.id, this.name = (c85 = t43.name) != null ? c85 : "", this.plugin = e48, this.height = h66, this.bottomY = o71, this.opacity = m66, this.shape = new Shape().fromJSON(s60.shape), this.floorIndex = t43.floor_index, this.makerObject = new Mesh(f61(this.shape, h66), j30(n72, m66)), u56(this.makerObject, o71), this.makerObject.material.depthTest = this.plugin.config.modelDepthTest, this.outline = new m57(
      new EdgesGeometry(this.makerObject.geometry),
      new LineBasicMaterial({ color: n72, transparent: true })
    ), u56(this.outline, o71), this.outline.material.depthTest = this.plugin.config.modelDepthTest, this.setHeight(h66), this.modelGroup = new P48(this), this.modelGroup.visible = (g67 = s60.visible) != null ? g67 : true;
  }
  /** 挂载标注 */
  mount() {
    if (this.mounted)
      return;
    this.mounted = true, this.updateVisible(), this.makerObject.material.depthTest = this.plugin.config.modelDepthTest, this.outline.material.depthTest = this.plugin.config.modelDepthTest, this.modelGroup.add(this.makerObject, this.outline);
    const e48 = !!this.name, t43 = this.plugin.tagDomContainer;
    e48 && (this.tagApp = new ne11({
      target: t43,
      props: {
        rendererData: this.data,
        content: this.name,
        visible: this.tagVisible,
        rendererIfNeed: this.itemRenderer,
        transform: `translate(${this.tagTransform.left}px, ${this.tagTransform.top}px)`,
        onClick: (s60) => this.hooks.emit("tagClick", { target: this, nativeEvent: s60 })
      }
    }), this.updateTag()), this.plugin.five.needsRender = true, this.plugin.hooks.on("stateChange", this.onPluginStateChange), this.plugin.hooks.on("configChange", this.onPluginConfigChange), this.plugin.five.on("modeChange", this.updateVisible), this.plugin.five.on("modelShownFloorChange", this.updateVisible), this.plugin.five.on("cameraUpdate", this.onFiveCameraUpdate), this.resizeObserver = o5(this.onContainerResize, t43), this.resizeObserver.observe();
  }
  /** 卸载标注 */
  unmount() {
    var e48, t43;
    this.mounted && (this.mounted = false, this.modelGroup.remove(...this.modelGroup.children), (e48 = this.tagApp) == null || e48.$destroy(), this.tagApp = null, this.plugin.hooks.off("stateChange", this.onPluginStateChange), this.plugin.hooks.off("configChange", this.onPluginConfigChange), this.plugin.five.off("modeChange", this.updateVisible), this.plugin.five.off("modelShownFloorChange", this.updateVisible), this.plugin.five.off("cameraUpdate", this.onFiveCameraUpdate), (t43 = this.resizeObserver) == null || t43.unobserve());
  }
  /** 更改标注透明度
   * @param opacity 标注透明度，范围：0-1
   */
  setOpacity(e48) {
    var t43;
    this.opacity = e48, (t43 = this.opacityAnime) == null || t43.dispose(), this.makerObject.material.opacity = e48, this.plugin.five.needsRender = true;
  }
  /** 更改标注颜色
   * @param color 标注颜色，支持 hex
   * @example setColor('#FF0000')
   */
  setColor(e48) {
    const t43 = new Color(e48);
    this.makerObject.material.color = t43, this.outline.material.color = t43, this.plugin.five.needsRender = true;
  }
  /** 更改标注高度
   * @param height 标注高度，单位：米
   */
  setHeight(e48) {
    if (e48 <= 0)
      throw new Error("高度必须大于 0");
    this.height = e48, this.makerObject.geometry = f61(this.shape, e48), this.outline.geometry = new EdgesGeometry(this.makerObject.geometry);
    const t43 = this.shape.extractPoints(10).shape.slice(0, -1), s60 = K9(t43), o71 = new Vector3(s60.x, s60.y, e48);
    u56(o71, this.bottomY), this.tagPosition.copy(o71), this.updateTag(), this.plugin.five.needsRender = true;
  }
  /** 更改标注标签的显示层级
   * @description 为什么需要这个方法
   * 在相机朝向或位置发生变化时，各个标签所在的坐标与相机的远近关系发生了变化，所以标签的层级也会有变化。
   * 比如：
   * - 相机 -> 标签 A -> 标签 B： 标签 A 在标签 B 的前面
   * - 标签 A <- 标签 B <- 相机： 标签 A 在标签 B 的后面
   * 但是当前元素是无法感知到这种变化的，所以需要通过父元素调用这个方法来更新标签的层级。
   */
  setTagZIndex(e48) {
    var t43;
    this.tagZIndex !== e48 && ((t43 = this.tagApp) == null || t43.$set({ zIndex: e48 }));
  }
};
function f61(a62, e48) {
  return new ExtrudeBufferGeometry(a62, {
    depth: e48,
    bevelEnabled: false
  });
}
function j30(a62, e48) {
  return new MeshBasicMaterial({
    color: a62,
    opacity: e48,
    transparent: true
  });
}
function u56(a62, e48) {
  const t43 = new Matrix4(), s60 = new Matrix4().makeRotationX(Math.PI / 2), o71 = new Matrix4().makeTranslation(0, 0, -e48), h66 = new Matrix4().makeScale(1, 1, -1);
  t43.multiply(s60), t43.multiply(o71), t43.multiply(h66), a62.applyMatrix4(t43);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/AreaMakerPlugin/Controller.js
var M40 = Object.defineProperty;
var C48 = Object.defineProperties;
var S49 = Object.getOwnPropertyDescriptors;
var f62 = Object.getOwnPropertySymbols;
var A54 = Object.prototype.hasOwnProperty;
var _26 = Object.prototype.propertyIsEnumerable;
var l48 = (h66, n72, t43) => n72 in h66 ? M40(h66, n72, { enumerable: true, configurable: true, writable: true, value: t43 }) : h66[n72] = t43;
var d60 = (h66, n72) => {
  for (var t43 in n72 || (n72 = {}))
    A54.call(n72, t43) && l48(h66, t43, n72[t43]);
  if (f62)
    for (var t43 of f62(n72))
      _26.call(n72, t43) && l48(h66, t43, n72[t43]);
  return h66;
};
var u57 = (h66, n72) => C48(h66, S49(n72));
var a49 = (h66, n72, t43) => (l48(h66, typeof n72 != "symbol" ? n72 + "" : n72, t43), t43);
var c67 = (h66, n72, t43) => new Promise((i65, e48) => {
  var o71 = (s60) => {
    try {
      m66(t43.next(s60));
    } catch (p66) {
      e48(p66);
    }
  }, r66 = (s60) => {
    try {
      m66(t43.throw(s60));
    } catch (p66) {
      e48(p66);
    }
  }, m66 = (s60) => s60.done ? i65(s60.value) : Promise.resolve(s60.value).then(o71, r66);
  m66((t43 = t43.apply(h66, n72)).next());
});
var Qt4 = class extends e9 {
  /** AreaMakerPlugin
   * @param `five` `<Five>` Five 实例
   * @param `params` `<PluginType.Params> | <undefined>` 插件初始化参数
   * @param `params.initialState` `<PluginType.State> | <undefined>` 插件初始化后，使用的状态
   */
  constructor(t43, i65) {
    super(t43);
    a49(this, "state");
    a49(this, "itemMap");
    a49(this, "itemRenderer");
    a49(this, "modelGroup");
    a49(this, "data");
    a49(this, "tagDomContainer");
    a49(this, "checkMsg", {
      childrenMountedState: ""
    });
    a49(this, "isInFiveChangeModeAnime", false);
    a49(this, "childrenMountedState", false);
    a49(this, "_config");
    a49(this, "_disposed", false);
    a49(this, "dispose", () => {
      this.five.scene.remove(this.modelGroup);
    });
    a49(this, "onFiveInitAnimationWillStart", () => {
      this.isInFiveChangeModeAnime = true, this.updateChildrenMountedState();
    });
    a49(this, "onFiveInitAnimationEnded", () => {
      this.isInFiveChangeModeAnime = false, this.updateChildrenMountedState();
    });
    a49(this, "onFiveCameraUpdate", () => {
      const t44 = this.five.camera;
      [...this.itemMap.values()].sort((e49, o72) => {
        const r66 = e49.tagPosition.distanceTo(t44.position);
        return o72.tagPosition.distanceTo(t44.position) - r66;
      }).forEach((e49, o72) => {
        var r66;
        (r66 = this.getMaskItemByID(e49.id)) == null || r66.setTagZIndex(o72 * 10);
      });
    });
    a49(this, "onFiveModeChange", () => {
      this.updateChildrenMountedState();
    });
    a49(this, "onMakerTagClick", (t44) => {
      this.hooks.emit("wantsTap", { target: t44.target, intersectObjects: [] });
    });
    a49(this, "onWantsFiveTapGesture", (t44) => {
      const i66 = Array.from(this.itemMap.values()).filter((s60) => s60.mounted && s60.visible).map((s60) => ({
        makerItem: s60,
        intersects: s60.modelGroup.getRaycastIntersects(t44)
      })).filter(({ intersects: s60 }) => s60.length > 0);
      if (i66.length === 0)
        return;
      const e49 = i66.reduce((s60, p66) => {
        const v58 = s60.intersects[0].distance, b55 = p66.intersects[0].distance;
        return v58 < b55 ? s60 : p66;
      }), o72 = this.fiveUtil.model.intersectRaycaster(t44)[0];
      if (this.config.modelDepthTest && o72 && o72.distance < e49.intersects[0].distance)
        return;
      if (this.hooks.emit("wantsTap", {
        target: e49.makerItem,
        intersectObjects: e49.intersects
      }))
        return false;
    });
    this.five = t43, this.tagDomContainer = document.createElement("div"), this.tagDomContainer.style.position = "absolute", this.tagDomContainer.style.top = "0", this.tagDomContainer.style.left = "0", this.tagDomContainer.style.width = "100%", this.tagDomContainer.style.height = "100%", this.tagDomContainer.style.pointerEvents = "none";
    const e48 = {
      enabled: true,
      visible: true
    };
    this.state = Object.assign(e48, i65 == null ? void 0 : i65.initialState);
    const o71 = d60({
      modelDepthTest: true
    }, i65 == null ? void 0 : i65.config);
    this._config = o71, this.modelGroup = new Group(), this.modelGroup.name = "ModelMakerPluginGroup", this.itemMap = /* @__PURE__ */ new Map(), this.state.enabled && this._enable({ userAction: false });
  }
  /** 插件配置项 */
  get config() {
    return d60({}, this._config);
  }
  /** 是否已经被销毁 */
  get disposed() {
    return this._disposed;
  }
  /** 加载数据，重复调用会使用新数据覆盖旧数据 */
  load(t43) {
    return c67(this, null, function* () {
      const i65 = this.data;
      this.data = this.formatData(t43), this.hooks.emit("dataChange", this.data, i65), this.modelGroup.remove(...this.modelGroup.children), this.itemMap.forEach((e48) => e48.unmount()), this.itemMap.clear(), this.childrenMountedState = false, this.checkMsg.childrenMountedState = "", this.data.list.forEach((e48) => {
        const o71 = new Lt3(this, e48);
        o71.itemRenderer = this.itemRenderer, this.modelGroup.add(o71.modelGroup), this.itemMap.set(e48.id, o71), o71.hooks.on("tagClick", this.onMakerTagClick);
      }), this.updateChildrenMountedState();
    });
  }
  /** 将插件的 DOM 容器添加到指定的 DOM 元素上 */
  appendTo(t43) {
    t43.appendChild(this.tagDomContainer);
  }
  /** 启用插件
   * @param `options` `<Option> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  enable(t43 = {}) {
    var e48;
    if (this.state.enabled)
      return;
    const i65 = (e48 = t43.userAction) != null ? e48 : true;
    this.updateState({ enabled: true }, i65), this._enable({ userAction: i65 });
  }
  /** 禁用插件
   * @param `options` `<Option> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  disable(t43 = {}) {
    var e48;
    if (this.state.enabled === false)
      return;
    const i65 = (e48 = t43.userAction) != null ? e48 : true;
    this.updateState({ enabled: false }, i65), this._disable({ userAction: i65 });
  }
  /** 展示标注
   * @param `options` `<Partial<ShowHideOptions>> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  show(t43) {
    return c67(this, null, function* () {
      if (this.state.visible)
        return Promise.resolve();
      if (this.disposed)
        return Promise.reject(new Error("不能在已销毁的插件上调用 show"));
      const i65 = d60({ userAction: true }, t43);
      this.updateState({ visible: true }, i65.userAction), yield this._show(i65);
    });
  }
  /** 插件内容整体隐藏
   * @param `options` `<Partial<ShowHideOptions>> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  hide(t43) {
    return c67(this, null, function* () {
      if (this.state.visible === false)
        return;
      const i65 = d60({ userAction: true }, t43);
      this.updateState({ visible: false }, i65.userAction), yield this._hide(i65);
    });
  }
  // 目前带动画的展示和隐藏功能有些需求细节没有确定，暂时不实现
  // /** 展示标注
  //  * @param `options` `<Partial<ShowHideOptions>> | <undefined>`
  //  * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
  //  * @param `options.anime` `<AnimeOptions> | <undefined>` 动画配置。
  //  * @param `options.anime.duration` `<number> | <undefined>` 动画时间，默认是 500ms。
  //  */
  // public async show(options?: Partial<PluginType.ShowHideOptions>): Promise<void> {
  //   if (this.state.visible) return Promise.resolve()
  //   if (this.disposed) return Promise.reject(new Error('不能在已销毁的插件上调用 show'))
  //   const mergedOptions: PluginType.ShowHideOptions = {
  //     userAction: true,
  //     anime: { duration: 500, ...options?.anime },
  //     ...options,
  //   }
  //   this.updateState({ visible: true }, mergedOptions.userAction)
  //   await this._show(mergedOptions)
  // }
  // /** 插件内容整体隐藏
  //  * @param `options` `<Partial<ShowHideOptions>> | <undefined>`
  //  * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
  //  * @param `options.anime` `<AnimeOptions> | <undefined>` 动画配置。
  //  * @param `options.anime.duration` `<number> | <undefined>` 动画时间，默认是 500ms。
  //  */
  // public async hide(options?: Partial<PluginType.ShowHideOptions>) {
  //   if (this.state.visible === false) return
  //   const mergedOptions: PluginType.ShowHideOptions = {
  //     userAction: true,
  //     anime: { duration: 500, ...options?.anime },
  //     ...options,
  //   }
  //   this.updateState({ visible: false }, mergedOptions.userAction)
  //   await this._hide(mergedOptions)
  // }
  /** 更改插件 State
   * @param `state` `<Partial<Plugin.State>>` 插件属性 `state` 的子集。
   * @param `options` `<Option> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  setState(t43, i65 = {}) {
    const e48 = this.state;
    if (b6(t43, e48, { deep: true }))
      return;
    const o71 = i65.userAction !== void 0 ? i65.userAction : true;
    if (this.updateState(t43, o71), t43.enabled !== void 0 && e48.enabled !== t43.enabled && (t43.enabled ? this._enable({ userAction: o71 }) : this._disable({ userAction: o71 })), t43.visible !== void 0 && e48.visible !== t43.visible) {
      const r66 = { userAction: o71, anime: { duration: 500 } };
      t43.visible ? this._show(r66) : this._hide(r66);
    }
  }
  /** 更改插件 Config
   * @param `config` `<Partial<Plugin.Config>>` 插件属性 `config` 的子集。
   * @param `options` `<Option> | <undefined>`
   */
  updateConfig(t43, i65 = {}) {
    var r66;
    const e48 = this.config, o71 = d60(d60({}, e48), t43);
    this._config = o71, this.hooks.emit("configChange", { prevConfig: e48, config: o71, userAction: (r66 = i65.userAction) != null ? r66 : true });
  }
  /** 根据 ID 获取标注 */
  getMaskItemByID(t43) {
    return this.itemMap.get(t43);
  }
  formatData(t43) {
    function i65(e48) {
      return e48.list.length === 0 ? true : !("shape" in e48.list[0].object_data);
    }
    return i65(t43) ? {
      list: t43.list.filter((e48) => e48.object_data.points.length >= 3).map((e48) => {
        const o71 = new Shape(), r66 = e48.object_data.points[0];
        return o71.moveTo(r66[0], r66[2]), e48.object_data.points.slice(1).forEach((s60) => o71.lineTo(s60[0], s60[2])), o71.lineTo(r66[0], r66[2]), u57(d60({}, e48), {
          floor_index: e48.object_data.floorIndex,
          object_data: u57(d60({}, e48.object_data), {
            bottom_y: r66[1] + e48.object_data.fixedY,
            shape: o71.toJSON(),
            height: e48.object_data.height + e48.object_data.fixedHeight
          })
        });
      })
    } : t43;
  }
  checkChildrenMountedState() {
    const t43 = this.state, i65 = this.five;
    if (!t43.enabled)
      return { result: false, msg: "插件不可用" };
    const e48 = i65.getCurrentState().mode;
    return e48 === "Panorama" ? { result: false, msg: `Five 模态不符合条件, 当前模态为：${e48}` } : this.isInFiveChangeModeAnime ? { result: false, msg: "切换模态动画中不展示" } : { result: true, msg: "" };
  }
  updateChildrenMountedState() {
    const { result: t43, msg: i65 } = this.checkChildrenMountedState();
    this.checkMsg.childrenMountedState = i65, t43 !== this.childrenMountedState && (this.childrenMountedState = t43, this.itemMap.forEach((e48) => {
      this.childrenMountedState ? e48.mount() : e48.unmount();
    }));
  }
  updateState(t43, i65) {
    const e48 = this.state;
    this.state = d60(d60({}, this.state), t43), this.hooks.emit("stateChange", { state: this.state, prevState: e48, userAction: i65 });
  }
  _enable(t43) {
    this.hooks.emit("enable", { userAction: t43.userAction }), this.five.scene.add(this.modelGroup), this.updateChildrenMountedState(), this.five.needsRender = true, this.five.on("wantsTapGesture", this.onWantsFiveTapGesture), this.five.on("initAnimationWillStart", this.onFiveInitAnimationWillStart), this.five.on("initAnimationEnded", this.onFiveInitAnimationEnded), this.five.on("modeChange", this.onFiveModeChange), this.five.on("cameraUpdate", this.onFiveCameraUpdate);
  }
  _disable(t43) {
    this.hooks.emit("disable", { userAction: t43.userAction }), this.five.scene.remove(this.modelGroup), this.updateChildrenMountedState(), this.five.needsRender = true, this.five.off("wantsTapGesture", this.onWantsFiveTapGesture), this.five.off("initAnimationWillStart", this.onFiveInitAnimationWillStart), this.five.off("initAnimationEnded", this.onFiveInitAnimationEnded), this.five.off("modeChange", this.onFiveModeChange), this.five.off("cameraUpdate", this.onFiveCameraUpdate);
  }
  _show(t43) {
    return c67(this, null, function* () {
      this.hooks.emit("show", t43), this.five.needsRender = true;
    });
  }
  _hide(t43) {
    return c67(this, null, function* () {
      this.hooks.emit("hide", t43), this.five.needsRender = true;
    });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/AreaMakerPlugin/index.js
var zr3 = (r66, o71) => new Qt4(r66, o71);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CurrentPanoImagePlugin/Controller.js
var g53 = Object.defineProperty;
var c68 = Object.getOwnPropertySymbols;
var v49 = Object.prototype.hasOwnProperty;
var b47 = Object.prototype.propertyIsEnumerable;
var f63 = (n72, r66, e48) => r66 in n72 ? g53(n72, r66, { enumerable: true, configurable: true, writable: true, value: e48 }) : n72[r66] = e48;
var a50 = (n72, r66) => {
  for (var e48 in r66 || (r66 = {}))
    v49.call(r66, e48) && f63(n72, e48, r66[e48]);
  if (c68)
    for (var e48 of c68(r66))
      b47.call(r66, e48) && f63(n72, e48, r66[e48]);
  return n72;
};
var o64 = (n72, r66, e48) => (f63(n72, typeof r66 != "symbol" ? r66 + "" : r66, e48), e48);
var u58 = (n72, r66, e48) => new Promise((i65, t43) => {
  var s60 = (d73) => {
    try {
      p66(e48.next(d73));
    } catch (m66) {
      t43(m66);
    }
  }, l63 = (d73) => {
    try {
      p66(e48.throw(d73));
    } catch (m66) {
      t43(m66);
    }
  }, p66 = (d73) => d73.done ? i65(d73.value) : Promise.resolve(d73.value).then(s60, l63);
  p66((e48 = e48.apply(n72, r66)).next());
});
var Qe3 = class extends F9 {
  constructor(e48, i65) {
    super(e48);
    o64(this, "state");
    o64(this, "checkMsg", {
      /** mesh 隐藏的原因 */
      meshHidden: "",
      /** 插件 enabled 校验信息 */
      pluginDisabled: "",
      /** 插件 visible 校验信息 */
      pluginHidden: ""
    });
    o64(this, "group", new Group());
    o64(this, "mesh");
    o64(this, "textureLoadingPromise");
    o64(this, "opacityAnimeTween");
    o64(this, "isInPanoMoveAnime", false);
    o64(this, "lastArrivedPanoIndex", -1);
    o64(this, "_config");
    o64(this, "_disposed", false);
    o64(this, "dispose", () => {
      this.five.scene.remove(this.group), this.group.remove(...this.group.children), this.five.off("dispose", this.dispose), this.five.off("panoArrived", this.onFivePanoArrived), this.five.off("panoWillArrive", this.onFivePanoWillArrive);
    });
    o64(this, "checkMeshVisible", () => this.state.visible ? this.config.imageURL === "" ? { result: false, msg: "图片不存在" } : this.mesh.material.map ? this.five.work ? this.five.getCurrentState().mode !== "Panorama" ? { result: false, msg: "非全景模式" } : this.isInPanoMoveAnime ? { result: false, msg: "处于走点动画中" } : { result: true, msg: "" } : { result: false, msg: "Five 数据未加载" } : { result: false, msg: "指南针贴图未加载" } : { result: false, msg: "插件隐藏" });
    o64(this, "onTextureLoaded", (e49) => {
      this.mesh.material.map = e49, this.mesh.material.needsUpdate = true, this.updateMeshVisible();
    });
    o64(this, "onFiveWillLoad", () => {
      this.lastArrivedPanoIndex = -1, this.updateMeshVisible();
    });
    o64(this, "onFivePanoWillArrive", (e49) => {
      var i66;
      e49 !== this.five.getCurrentState().panoIndex && (this.isInPanoMoveAnime = true, (i66 = this.opacityAnimeTween) == null || i66.dispose(), this.updateMeshVisible());
    });
    o64(this, "onFivePanoArrived", (e49) => {
      e49 !== this.lastArrivedPanoIndex && (this.lastArrivedPanoIndex = e49, this.isInPanoMoveAnime = false, this.updateMeshPosition(e49), this.updateMeshVisible(), this.five.needsRender = true);
    });
    o64(this, "onMeshVisibleChange", (e49) => {
      var i66;
      if ((i66 = this.opacityAnimeTween) == null || i66.dispose(), !e49) {
        this.mesh.visible = false;
        return;
      }
      this.mesh.material.setValues({ opacity: 0 }), this.mesh.visible = true, this.opacityAnimeTween = F14(1e3).onUpdate(({ progress: t44 }) => {
        var s61;
        (s61 = this.mesh) == null || s61.material.setValues({ opacity: t44 }), this.five.needsRender = true;
      }).play();
    });
    o64(this, "onFiveModeChange", () => {
      this.updateMeshVisible();
    });
    this.five = e48;
    const t43 = {
      enabled: true,
      visible: true
    };
    this.state = Object.assign(t43, i65 == null ? void 0 : i65.initialState);
    const s60 = a50({
      width: 1.4,
      yOffset: 0.01,
      yRotate: 0,
      imageURL: this.absoluteUrl("/release/web/logo.7febb17f.png")
    }, i65 == null ? void 0 : i65.config);
    this._config = s60, this.group.name = "current-pano-image-plugin-group", this.mesh = new Mesh(
      new PlaneBufferGeometry(this.config.width, this.config.width),
      new MeshBasicMaterial({ transparent: true, opacity: 0, depthTest: false })
    ), this.mesh.visible = false, this.group.add(this.mesh), this.updateMeshQuaternion(this.config.yRotate), this.state.visible || (this.checkMsg.pluginHidden = "初始值设置为隐藏"), this.state.enabled || (this.checkMsg.pluginDisabled = "初始值设置为禁用"), this.state.enabled && this._enable({ userAction: false }), this.five.once("dispose", this.dispose);
  }
  /** 插件配置项 */
  get config() {
    return a50({}, this._config);
  }
  /** 是否已经被销毁 */
  get disposed() {
    return this._disposed;
  }
  /**
   * 启用插件，响应用户操作并展示UI
   * @param options
   */
  enable(e48 = {}) {
    var t43;
    if (this.state.enabled)
      return;
    const i65 = (t43 = e48.userAction) != null ? t43 : true;
    this.updateState({ enabled: true }, i65), this.checkMsg.pluginDisabled = "", this._enable({ userAction: i65 });
  }
  /** 禁用插件
   * @param `options` `<Option> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  disable(e48 = {}) {
    var t43;
    if (this.state.enabled === false)
      return;
    const i65 = (t43 = e48.userAction) != null ? t43 : true;
    this.updateState({ enabled: false }, i65), this.checkMsg.pluginDisabled = "调用 disable 禁用", this._disable({ userAction: i65 });
  }
  /** 插件内容整体展示
   * @param `options` `<Partial<BaseOptions>> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  show(e48) {
    return u58(this, null, function* () {
      if (this.state.visible)
        return Promise.resolve();
      if (this.disposed)
        return Promise.reject(new Error("不能在已销毁的插件上调用 show"));
      const i65 = a50({ userAction: true }, e48);
      this.updateState({ visible: true }, i65.userAction), this.checkMsg.pluginHidden = "", this._show(i65);
    });
  }
  /** 插件内容整体隐藏
   * @param `options` `<Partial<BaseOptions>> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  hide(e48) {
    return u58(this, null, function* () {
      if (this.state.visible === false)
        return;
      const i65 = a50({ userAction: true }, e48);
      this.updateState({ visible: false }, i65.userAction), this.checkMsg.pluginDisabled = "调用 hide 隐藏", this._hide(i65);
    });
  }
  /** 更改插件 State
   * @param `state` `<Partial<Plugin.State>>` 插件属性 `state` 的子集。
   * @param `options` `<Option> | <undefined>`
   * @param `options.userAction` `<boolean> | <undefined>` 是否是用户操作。默认是 true。
   */
  setState(e48, i65 = {}) {
    const t43 = this.state;
    if (b6(e48, t43, { deep: true }))
      return;
    const s60 = i65.userAction !== void 0 ? i65.userAction : true;
    if (this.updateState(e48, s60), e48.enabled !== void 0 && t43.enabled !== e48.enabled && (e48.enabled ? this.checkMsg.pluginDisabled = "" : this.checkMsg.pluginDisabled = "调用 setState 禁用", e48.enabled ? this._enable({ userAction: s60 }) : this._disable({ userAction: s60 })), e48.visible !== void 0 && t43.visible !== e48.visible) {
      const l63 = { userAction: s60, anime: { duration: 500 } };
      e48.visible ? this.checkMsg.pluginHidden = "" : this.checkMsg.pluginHidden = "调用 setState 隐藏", e48.visible ? this._show(l63) : this._hide(l63);
    }
  }
  /** 更改插件 Config
   * @param `config` `<Partial<Plugin.Config>>` 插件属性 `config` 的子集。
   * @param `options` `<Option> | <undefined>`
   */
  updateConfig(e48, i65 = {}) {
    var l63;
    const t43 = this.config, s60 = a50(a50({}, t43), e48);
    this._config = s60, t43.imageURL !== s60.imageURL && this.reloadTexture(s60.imageURL), t43.yOffset !== s60.yOffset && this.updateMeshPosition(this.five.getCurrentState().panoIndex), t43.yRotate !== s60.yRotate && this.updateMeshQuaternion(s60.yRotate), t43.width !== s60.width && (this.mesh.geometry = new PlaneBufferGeometry(s60.width, s60.width)), this.hooks.emit("configChange", { prevConfig: t43, config: s60, userAction: (l63 = i65.userAction) != null ? l63 : true });
  }
  /** 问什么看不到模型 */
  __whyCantSeeMesh() {
    if (this.disposed)
      return "插件已销毁";
    if (this.checkMsg.pluginDisabled)
      return this.checkMsg.pluginDisabled;
    if (this.checkMsg.pluginHidden)
      return this.checkMsg.pluginHidden;
    if (this.checkMsg.meshHidden)
      return this.checkMsg.meshHidden;
  }
  updateState(e48, i65) {
    const t43 = this.state;
    this.state = a50(a50({}, this.state), e48), this.hooks.emit("stateChange", { state: this.state, prevState: t43, userAction: i65 });
  }
  /** 根据各种条件更新 Mesh 的可见性 */
  updateMeshVisible() {
    const { result: e48, msg: i65 } = this.checkMeshVisible();
    this.checkMsg.meshHidden = i65, e48 !== this.mesh.visible && this.onMeshVisibleChange(e48);
  }
  /** 根据点位更新 Mesh 坐标 */
  updateMeshPosition(e48) {
    const i65 = this.workUtil.getObserverStandingPosition(e48);
    if (!i65) {
      console.warn("CurrentPanoImagePlugin: 无法获取到当前点位的 standingPosition");
      return;
    }
    const t43 = i65.clone().setY(i65.y + this.config.yOffset);
    t43 && this.mesh.position.copy(t43);
  }
  /** 重新加载贴图，调用时会先清除已有的贴图 */
  reloadTexture(e48) {
    return u58(this, null, function* () {
      if (this.mesh.material.map = null, e48 !== "") {
        const i65 = p15(e48);
        this.textureLoadingPromise = i65;
        const t43 = yield i65;
        t43.minFilter = LinearFilter, this.textureLoadingPromise === i65 && (this.onTextureLoaded(t43), this.textureLoadingPromise = null);
      }
      this.updateMeshVisible();
    });
  }
  /** north_rad 变化时，需要更新模型的旋转角度 */
  updateMeshQuaternion(e48) {
    const i65 = new Quaternion();
    i65.multiplyQuaternions(
      // 沿着自身 X 轴旋转 -90 度
      new Quaternion().setFromAxisAngle(new Vector3(1, 0, 0), -Math.PI / 2),
      // 沿着自身 Z 轴旋转 rad 弧度
      new Quaternion().setFromAxisAngle(new Vector3(0, 0, 1), e48)
    ), this.mesh.quaternion.copy(i65);
  }
  _enable(e48) {
    this.hooks.emit("enable", { userAction: e48.userAction }), this.config.imageURL && !this.mesh.material.map && !this.textureLoadingPromise && this.reloadTexture(this.config.imageURL), this.five.scene.add(this.group), this.five.needsRender = true, this.five.work && this.onFiveWillLoad(), this.five.getCurrentState().mode === "Panorama" && (this.onFiveModeChange(), this.onFivePanoArrived(this.five.getCurrentState().panoIndex)), this.five.on("willLoad", this.onFiveWillLoad), this.five.on("panoArrived", this.onFivePanoArrived), this.five.on("panoWillArrive", this.onFivePanoWillArrive), this.five.on("modeChange", this.onFiveModeChange);
  }
  _disable(e48) {
    this.hooks.emit("disable", { userAction: e48.userAction }), this.five.scene.remove(this.group), this.five.needsRender = true, this.five.off("willLoad", this.onFiveWillLoad), this.five.off("panoArrived", this.onFivePanoArrived), this.five.off("panoWillArrive", this.onFivePanoWillArrive), this.five.off("modeChange", this.onFiveModeChange);
  }
  _show(e48) {
    this.hooks.emit("show", e48), this.updateMeshVisible(), this.five.needsRender = true;
  }
  _hide(e48) {
    this.hooks.emit("hide", e48), this.updateMeshVisible(), this.five.needsRender = true;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/CurrentPanoImagePlugin/index.js
var br3 = (r66, o71) => new Qe3(r66, o71);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/Modules/Global.js
var r53 = Object.defineProperty;
var n57 = (i65, e48, o71) => e48 in i65 ? r53(i65, e48, { enumerable: true, configurable: true, writable: true, value: o71 }) : i65[e48] = o71;
var t41 = (i65, e48, o71) => (n57(i65, typeof e48 != "symbol" ? e48 + "" : e48, o71), o71);
var f64 = class {
  constructor() {
    t41(this, "five");
    t41(this, "_cursor");
    t41(this, "_pointSelector");
    t41(this, "_fiveDomEvents");
    t41(this, "_object3DHelper");
    t41(this, "inited", false);
    t41(this, "init", (e48) => {
      this.inited = true, this.five = e48, this._cursor = void 0, this._pointSelector = void 0, this._fiveDomEvents = void 0, this._object3DHelper = void 0;
    });
  }
  get cursor() {
    if (!this.inited)
      throw new Error("Global not inited");
    return this._cursor ? this._cursor : (this._cursor = new B18(this.five.getElement()), this._cursor);
  }
  get pointSelector() {
    if (!this.inited)
      throw new Error("Global not inited");
    return this._pointSelector ? this._pointSelector : (this._pointSelector = new se(this.five, { mode: "cursor" }), this._pointSelector);
  }
  get fiveDomEvents() {
    if (!this.inited)
      throw new Error("Global not inited");
    return this._fiveDomEvents ? this._fiveDomEvents : (this._fiveDomEvents = new Q15(this.five, { noEmitWhenNotInScene: true }), this._fiveDomEvents);
  }
  get object3DHelper() {
    if (!this.inited)
      throw new Error("Global not inited");
    return this._object3DHelper ? this._object3DHelper : (this._object3DHelper = new Tr2(this.five), this._object3DHelper);
  }
};
var v50 = new f64();
window.globalModules = v50;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/recurveFindObject.js
function u59(r66, n72) {
  return r66 ? n72(r66) ? r66 : r66.parent ? u59(r66.parent, n72) : null : null;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/closeVectors.js
function f65(n72) {
  const t43 = [...n72];
  if (n72.length < 3)
    return n72;
  const u72 = n72[n72.length - 1], l63 = n72[0];
  return u72.equals(l63) || t43.push(l63), t43;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Polyline.js
var M41 = Object.defineProperty;
var E46 = Object.defineProperties;
var b48 = Object.getOwnPropertyDescriptors;
var a51 = Object.getOwnPropertySymbols;
var g54 = Object.prototype.hasOwnProperty;
var f66 = Object.prototype.propertyIsEnumerable;
var p42 = (e48, l63, t43) => l63 in e48 ? M41(e48, l63, { enumerable: true, configurable: true, writable: true, value: t43 }) : e48[l63] = t43;
var r54 = (e48, l63) => {
  for (var t43 in l63 || (l63 = {}))
    g54.call(l63, t43) && p42(e48, t43, l63[t43]);
  if (a51)
    for (var t43 of a51(l63))
      f66.call(l63, t43) && p42(e48, t43, l63[t43]);
  return e48;
};
var c69 = (e48, l63) => E46(e48, b48(l63));
var S50 = (e48, l63) => {
  var t43 = {};
  for (var i65 in e48)
    g54.call(e48, i65) && l63.indexOf(i65) < 0 && (t43[i65] = e48[i65]);
  if (e48 != null && a51)
    for (var i65 of a51(e48))
      l63.indexOf(i65) < 0 && f66.call(e48, i65) && (t43[i65] = e48[i65]);
  return t43;
};
var h53 = (e48, l63, t43) => (p42(e48, typeof l63 != "symbol" ? l63 + "" : l63, t43), t43);
var P49 = class extends c16 {
  constructor(t43) {
    super();
    h53(this, "name", "PolylineBaseMesh");
    h53(this, "lines", []);
    h53(this, "withDots");
    h53(this, "paramsStyle");
    const n72 = t43, { withDots: i65, points: s60 } = n72, o71 = S50(n72, ["withDots", "points"]);
    this.withDots = i65 != null ? i65 : true, s60 && this.setPoints(s60), o71 && this.setStyle(o71);
  }
  get style() {
    var t43;
    return {
      lineColor: this.lineColor,
      lineWidth: this.lineWidth,
      opacity: this.opacity,
      dashed: this.dashed,
      occlusionVisibility: this.occlusionVisibility,
      occlusionMode: this.occlusionMode,
      lengthEnable: (t43 = this.paramsStyle) == null ? void 0 : t43.lengthEnable
    };
  }
  get opacity() {
    var t43, i65, s60;
    return (s60 = (t43 = this.lines[0]) == null ? void 0 : t43.lineOpacity) != null ? s60 : (i65 = this.paramsStyle) == null ? void 0 : i65.lineOpacity;
  }
  get lineColor() {
    var t43, i65, s60;
    return (s60 = (t43 = this.lines[0]) == null ? void 0 : t43.color) != null ? s60 : (i65 = this.paramsStyle) != null && i65.lineColor ? new Color(this.paramsStyle.lineColor) : void 0;
  }
  get lineWidth() {
    var t43, i65, s60;
    return (s60 = (t43 = this.lines[0]) == null ? void 0 : t43.lineWidth) != null ? s60 : (i65 = this.paramsStyle) == null ? void 0 : i65.lineWidth;
  }
  get dashed() {
    var t43, i65, s60;
    return (s60 = (t43 = this.lines[0]) == null ? void 0 : t43.dashed) != null ? s60 : (i65 = this.paramsStyle) == null ? void 0 : i65.dashed;
  }
  get occlusionVisibility() {
    var t43, i65, s60;
    return (s60 = (t43 = this.lines[0]) == null ? void 0 : t43.occlusionVisibility) != null ? s60 : (i65 = this.paramsStyle) == null ? void 0 : i65.occlusionVisibility;
  }
  get occlusionMode() {
    var t43, i65, s60;
    return (s60 = (t43 = this.lines[0]) == null ? void 0 : t43.occlusionMode) != null ? s60 : (i65 = this.paramsStyle) == null ? void 0 : i65.occlusionMode;
  }
  get points() {
    var t43, i65, s60;
    return this.lines.map((o71) => o71.points[0]).concat((s60 = (i65 = this.lines) == null ? void 0 : i65[((t43 = this.lines) == null ? void 0 : t43.length) - 1]) == null ? void 0 : s60.points[1]).filter(Boolean);
  }
  setPoints(t43, i65 = { closed: false }) {
    let s60 = t43.map(t2);
    i65.closed && (s60 = f65(s60)), s60.forEach((o71, n72) => {
      var d73;
      const m66 = s60[n72 + 1];
      if (n72 !== 0 && m66 === void 0)
        return;
      const u72 = (d73 = this.lines[n72]) != null ? d73 : (() => {
        const y51 = new z10(c69(r54({}, this.style), {
          pointVisibility: this.withDots ? { startPoint: n72 === 0, endPoint: true } : false
        }));
        return this.lines[n72] = y51, this.add(y51), y51;
      })();
      u72.setStyle(this.style), u72.setPoints([o71, m66]);
    }), s60.length === 0 ? (this.lines.forEach((o71) => o71.removeFromParent()), this.lines = []) : s60.length === 1 || this.lines.length > s60.length - 1 && this.lines.splice(s60.length - 1).forEach((o71) => o71.removeFromParent());
  }
  setStyle(t43) {
    this.paramsStyle = r54(r54({}, this.paramsStyle), t43), this.lines.forEach((i65) => i65.setStyle(this.paramsStyle));
  }
  highlight() {
    this.lines.forEach((t43) => t43.highlight());
  }
  unhighlight() {
    this.lines.forEach((t43) => t43.unhighlight());
  }
};
var j31 = class extends P49 {
  constructor(...t43) {
    super(c69(r54({}, t43[0]), { withDots: false }));
    h53(this, "name", "PolylineMesh");
  }
};
var x43 = class extends P49 {
  constructor(...t43) {
    super(c69(r54({}, t43[0]), { withDots: true }));
    h53(this, "name", "PolylineWithDotsMesh");
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Base/index.js
var w41 = Object.defineProperty;
var v51 = Object.defineProperties;
var E47 = Object.getOwnPropertyDescriptors;
var g55 = Object.getOwnPropertySymbols;
var b49 = Object.prototype.hasOwnProperty;
var D47 = Object.prototype.propertyIsEnumerable;
var c70 = (s60, i65, e48) => i65 in s60 ? w41(s60, i65, { enumerable: true, configurable: true, writable: true, value: e48 }) : s60[i65] = e48;
var l49 = (s60, i65) => {
  for (var e48 in i65 || (i65 = {}))
    b49.call(i65, e48) && c70(s60, e48, i65[e48]);
  if (g55)
    for (var e48 of g55(i65))
      D47.call(i65, e48) && c70(s60, e48, i65[e48]);
  return s60;
};
var d61 = (s60, i65) => v51(s60, E47(i65));
var r55 = (s60, i65, e48) => (c70(s60, typeof i65 != "symbol" ? i65 + "" : i65, e48), e48);
var p44 = /* @__PURE__ */ new Map();
var M42 = class _M extends c16 {
  constructor(e48, t43) {
    var o71, m66;
    super();
    r55(this, "name", "Sculpt");
    r55(this, "isSculptObject", true);
    r55(this, "draggable");
    r55(this, "selected");
    r55(this, "config");
    r55(this, "on", (e49, t44, o72) => p43.modules.fiveDomEvents.addEventListener(this, e49, t44, o72));
    r55(this, "off", (...e49) => p43.modules.fiveDomEvents.removeEventListener(this, ...e49));
    r55(this, "applyObjectMatrixWorld", (e49, t44) => {
      const o72 = t44 != null ? t44 : this;
      return o72.updateMatrixWorld(), a8(o72, e49);
    });
    r55(this, "applyObjectReversalMatrixWorld", (e49, t44) => {
      const o72 = t44 != null ? t44 : this;
      return o72.updateMatrixWorld(), e4(o72, e49);
    });
    e48 != null && e48.id && (this.uuid = e48.id), this.config = l49({ defaultAction: true, occlusionVisibility: true, occlusionMode: "translucence" }, t43), e48 && (i7((o71 = this.config) == null ? void 0 : o71.occlusionMode) && (e48.style = d61(l49({}, e48.style), { occlusionMode: this.config.occlusionMode })), i7((m66 = this.config) == null ? void 0 : m66.occlusionVisibility) && (e48.style = d61(l49({}, e48.style), { occlusionVisibility: this.config.occlusionVisibility }))), K14("esc", () => {
      this.stopCreating();
    }), this.config.defaultAction && (K14("backspace, delete", () => {
      this.selected && this.delete();
    }), this.on("click", () => {
      var f80;
      this.editing || (this.select({ only: true }), this.editor.enable(), (f80 = this.parent) == null || f80.children.forEach((h66) => {
        var a62;
        h66 instanceof _M && h66 !== this && ((a62 = h66._editor) == null || a62.disable());
      }));
    }), K14("esc", () => {
      this.selected && this.unselect();
    }));
  }
  get editing() {
    return this.pointSelector.enabled;
  }
  get baseData() {
    return {
      id: this.uuid,
      type: this.type
    };
  }
  get pointSelector() {
    return p43.modules.pointSelector;
  }
  /**
   * @description 撤销
   */
  undo() {
    throw new Error("Method not implemented.");
  }
  /**
   * @description 重做
   */
  redo() {
    throw new Error("Method not implemented.");
  }
  /**
   * @description 是否可以撤销
   */
  canUndo() {
    throw new Error("Method not implemented.");
  }
  /**
   * @description 是否可以重做
   */
  canRedo() {
    throw new Error("Method not implemented.");
  }
  /**
   * @description 停止创建当前物体，等同于`esc`
   */
  stopCreating() {
    p43.modules.pointSelector.disable();
  }
  /**
   * @description 从场景中删除当前物体，并且移除事件监听
   */
  delete() {
    var e48;
    this.stopCreating(), this.removeFromParent(), this.off(), (e48 = this.editor) == null || e48.disable();
  }
  /**
   * @description 选择当前物体
   * @param params.only 只选择当前物体，自动取消选择其他物体；默认 `false`
   *
   */
  select(e48 = { only: false }) {
    if (this.selected)
      return;
    this.selected = true, this.highlight(), p44.has(this.parent.uuid) || p44.set(this.parent.uuid, []);
    const t43 = p44.get(this.parent.uuid);
    t43.push(this), e48.only && (t43 == null || t43.forEach((o71) => {
      o71 !== this && o71.unselect();
    }));
  }
  /**
   * @description 取消选择当前物体
   */
  unselect() {
    var e48;
    this.selected && (this.selected = false, this.unhighlight(), (e48 = this._editor) == null || e48.disable());
  }
  /**
   * @description 高亮当前物体
   */
  highlight() {
  }
  /**
   * @description 取消高亮当前物体
   */
  unhighlight() {
  }
  /**
   * @description 显示删除按钮
   */
  showDeleteButton(e48, t43) {
    p43.modules.cursor.showDeleteButton({ clientX: e48, clientY: t43, container: document.body, onClick: () => this.delete() }), p43.modules.five.once("cameraUpdate", () => {
      p43.modules.cursor.removeDeleteButton();
    });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Base/Editor.js
var b50 = Object.defineProperty;
var l50 = Object.getOwnPropertySymbols;
var h54 = Object.prototype.hasOwnProperty;
var j32 = Object.prototype.propertyIsEnumerable;
var c71 = (o71, t43, e48) => t43 in o71 ? b50(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var n58 = (o71, t43) => {
  for (var e48 in t43 || (t43 = {}))
    h54.call(t43, e48) && c71(o71, e48, t43[e48]);
  if (l50)
    for (var e48 of l50(t43))
      j32.call(t43, e48) && c71(o71, e48, t43[e48]);
  return o71;
};
var r56 = (o71, t43, e48) => (c71(o71, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var O38 = class extends c16 {
  constructor(e48) {
    super();
    r56(this, "hooks", new E3());
    r56(this, "originObject");
    this.originObject = e48;
  }
  /**
   * @description: 开启编辑器
   */
  enable() {
    this.originObject.add(this);
  }
  /**
   * @description: 禁用编辑器
   */
  disable() {
    this.originObject.remove(this);
  }
};
var u60 = class extends O38 {
  constructor(e48, i65) {
    super(e48);
    r56(this, "objectHelperConfig");
    r56(this, "onObjectUpdate", () => {
      this.hooks.emit("objectUpdate");
    });
    this.objectHelperConfig = i65;
  }
  get helper() {
    var e48;
    return (e48 = p43.modules.object3DHelper.getObject3DHelper(this.originObject)) == null ? void 0 : e48.helper;
  }
  enable() {
    super.enable();
    const e48 = typeof this.objectHelperConfig == "function" ? this.objectHelperConfig() : this.objectHelperConfig;
    p43.modules.object3DHelper.addObject3DHelper(this.originObject, n58({ positionFrom: "boundingBox" }, e48));
    const i65 = p43.modules.object3DHelper.getObject3DHelper(this.originObject).helper;
    i65.hooks.on("move", this.onObjectUpdate), i65.hooks.on("rotate", this.onObjectUpdate), i65.hooks.on("scale", this.onObjectUpdate);
  }
  disable() {
    var e48, i65, p66;
    super.disable(), (e48 = this.helper) == null || e48.hooks.off("move", this.onObjectUpdate), (i65 = this.helper) == null || i65.hooks.off("rotate", this.onObjectUpdate), (p66 = this.helper) == null || p66.hooks.off("scale", this.onObjectUpdate), p43.modules.object3DHelper.removeObject3DHelper(this.originObject);
  }
  initialHelperMatrix() {
    var e48;
    (e48 = this.helper) == null || e48.initialHelperMatrix();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Line/Editor.js
var p45 = Object.defineProperty;
var g56 = (s60, e48, t43) => e48 in s60 ? p45(s60, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : s60[e48] = t43;
var o65 = (s60, e48, t43) => (g56(s60, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var l51 = class extends O38 {
  constructor(t43) {
    super(t43);
    o65(this, "draggingPoints", []);
    o65(this, "onDragstart", (t44) => {
      const i65 = t44.target;
      this.draggingPoints = this.pointMeshes.filter((r66) => r66.position.equals(i65.position));
    });
    o65(this, "onDragend", (t44) => {
      this.draggingPoints = [];
    });
  }
  get pointMeshes() {
    return this.children.filter((t43) => t43 instanceof ot2);
  }
  get pointHandles() {
    return this.children;
  }
  enable() {
    super.enable(), this.points.filter(i7).forEach((t43) => {
      const i65 = new ot2();
      i65.visible = false, i65.position.copy(t43), i65.draggable = true, p43.modules.fiveDomEvents.addEventListener(i65, "drag", this.onDrag), p43.modules.fiveDomEvents.addEventListener(i65, "dragstart", this.onDragstart), p43.modules.fiveDomEvents.addEventListener(i65, "dragend", this.onDragend), this.add(i65);
    });
  }
  disable() {
    super.disable(), this.removeChildren();
  }
};
var H32 = class extends l51 {
  constructor(t43) {
    super(t43);
    o65(this, "onDrag", (t44) => {
      if (!this.draggingPoints || this.draggingPoints.length === 0)
        return;
      const i65 = w4(p43.modules.five, t44.raycaster);
      this.draggingPoints.forEach((r66) => r66.position.copy(i65.point)), this.originObject.lineMesh.setPoints(this.pointMeshes.map((r66) => r66.position));
    });
  }
  get points() {
    return this.originObject.lineMesh.points;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Polyline/Editor.js
var n59 = Object.defineProperty;
var p46 = (o71, i65, t43) => i65 in o71 ? n59(o71, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[i65] = t43;
var r57 = (o71, i65, t43) => (p46(o71, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var y44 = class extends l51 {
  constructor(t43) {
    super(t43);
    r57(this, "onDrag", (t44) => {
      if (!this.draggingPoints || this.draggingPoints.length === 0)
        return;
      const e48 = w4(p43.modules.five, t44.raycaster);
      this.draggingPoints.forEach((s60) => s60.position.copy(e48.point)), this.originObject.polyLineMesh.setPoints(this.pointMeshes.map((s60) => s60.position));
    });
  }
  get points() {
    return this.originObject.polyLineMesh.points;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/vector3ToArray.js
function a52(r66) {
  return Array.isArray(r66) ? r66.map((y51) => [y51.x, y51.y, y51.z]) : [r66.x, r66.y, r66.z];
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Polyline/index.js
var A55 = Object.defineProperty;
var D48 = Object.defineProperties;
var T32 = Object.getOwnPropertyDescriptors;
var R39 = Object.getOwnPropertySymbols;
var F40 = Object.prototype.hasOwnProperty;
var k44 = Object.prototype.propertyIsEnumerable;
var v52 = (n72, t43, e48) => t43 in n72 ? A55(n72, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : n72[t43] = e48;
var p47 = (n72, t43) => {
  for (var e48 in t43 || (t43 = {}))
    F40.call(t43, e48) && v52(n72, e48, t43[e48]);
  if (R39)
    for (var e48 of R39(t43))
      k44.call(t43, e48) && v52(n72, e48, t43[e48]);
  return n72;
};
var M43 = (n72, t43) => D48(n72, T32(t43));
var f67 = (n72, t43, e48) => (v52(n72, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var E48 = (n72, t43, e48) => new Promise((s60, P55) => {
  var w49 = (o71) => {
    try {
      c85(e48.next(o71));
    } catch (a62) {
      P55(a62);
    }
  }, b55 = (o71) => {
    try {
      c85(e48.throw(o71));
    } catch (a62) {
      P55(a62);
    }
  }, c85 = (o71) => o71.done ? s60(o71.value) : Promise.resolve(o71.value).then(w49, b55);
  c85((e48 = e48.apply(n72, t43)).next());
});
var $22 = class extends M42 {
  constructor(e48, s60) {
    super(e48, s60);
    f67(this, "type", "Polyline");
    f67(this, "polyLineMesh");
    f67(this, "_editor");
    f67(this, "creatingObject");
    e48 && (this.polyLineMesh = new x43(p47(p47({}, e48.style), e48)), this.add(this.polyLineMesh));
  }
  get editor() {
    return this._editor || (this._editor = new y44(this)), this._editor;
  }
  get data() {
    return M43(p47({}, this.baseData), {
      points: a52(this.applyObjectMatrixWorld(this.polyLineMesh.points)),
      style: {
        lineColor: new Color(this.polyLineMesh.lineColor).getHex(),
        lineWidth: this.polyLineMesh.lineWidth,
        dashed: this.polyLineMesh.dashed
      }
    });
  }
  setData(e48) {
    e48.points && this.polyLineMesh.setPoints(this.applyObjectReversalMatrixWorld(e48.points.map(t2))), this.polyLineMesh.setStyle(e48.style);
  }
  highlight() {
    var e48;
    (e48 = this.polyLineMesh) == null || e48.highlight();
  }
  unhighlight() {
    var e48;
    (e48 = this.polyLineMesh) == null || e48.unhighlight();
  }
  canUndo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.canUndo();
  }
  canRedo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.canRedo();
  }
  undo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.undo();
  }
  redo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.redo();
  }
  create(e48) {
    return E48(this, null, function* () {
      this.removeChildren();
      const s60 = new x43(e48);
      this.polyLineMesh = s60, this.add(this.polyLineMesh), this.creatingObject = q35(s60, this.pointSelector, e48), yield this.creatingObject.finished, this.config.defaultAction && this.editor.enable();
    });
  }
};
function q35(n72, t43, e48) {
  var x49;
  const s60 = n72.parent;
  if (!s60)
    return;
  const { promise: P55, resolve: w49, reject: b55 } = i42(), c85 = (x49 = e48 == null ? void 0 : e48.limit) != null ? x49 : "none", o71 = new j31(n72.style);
  s60.add(o71);
  const a62 = new j31(M43(p47({}, n72.style), { dashed: true, lengthEnable: false }));
  s60.add(a62), t43.enable();
  const i65 = [];
  let r66, l63, j37;
  const y51 = [], L40 = () => i65.length > 0, O40 = () => y51.length > 0, W25 = () => {
    L40() && (y51.push(i65.pop()), n72.setPoints(i65), m66(j37), t43.pointSelectorHelper.magnifier.render());
  }, _32 = () => {
    O40() && (i65.push(y51.pop()), n72.setPoints(i65), m66(j37), t43.pointSelectorHelper.magnifier.render());
  }, C52 = (h66) => {
    y51.length = 0;
    const g67 = i65.length === 0 ? h66.point : r66.clone();
    i65.push(g67), n72.setPoints(i65);
  }, m66 = (h66) => {
    const g67 = () => {
      o71.setPoints([]), a62.setPoints([]), r66 = null;
    };
    if (!h66 || (j37 = h66, !(i65 != null && i65.length)))
      return g67();
    const u72 = i65.at(-1).clone();
    c85 === "none" ? (r66 = h66.point, o71.setPoints([u72, r66])) : c85 === "xoz" ? (l63 = l63 != null ? l63 : new Plane().setFromNormalAndCoplanarPoint(new Vector3(0, 1, 0), i65[0]), t43.plane = l63, r66 = l63.projectPoint(h66.point, new Vector3()), o71.setPoints([u72, r66]), a62.setPoints([r66, h66.point])) : c85 === "y" && (i65.length === 1 ? (r66 = h66.point, o71.setPoints([u72, r66])) : (l63 = l63 != null ? l63 : new Plane().setFromCoplanarPoints(i65[0], i65[1], new Vector3(0, 1, 0).add(i65[0])), t43.plane = l63, r66 = l63.projectPoint(h66.point, new Vector3()), o71.setPoints([u72, r66]), a62.setPoints([r66, h66.point])));
  };
  return t43.on("select", C52), t43.on("intersectionUpdate", m66), t43.on("disable", () => {
    if (t43.off("select", C52), t43.off("intersectionUpdate", m66), t43.plane = null, s60.remove(o71), s60.remove(a62), i65.length < 2)
      return s60.remove(n72), b55(new Error("Cancelled"));
    w49();
  }), {
    finished: P55,
    canUndo: L40,
    canRedo: O40,
    undo: W25,
    redo: _32
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Point/Editor.js
var a53 = Object.defineProperty;
var n60 = (r66, e48, t43) => e48 in r66 ? a53(r66, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : r66[e48] = t43;
var o66 = (r66, e48, t43) => (n60(r66, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var f68 = class extends O38 {
  constructor(t43) {
    super(t43);
    o66(this, "onDrag", (t44) => {
      var i65;
      const s60 = w4(p43.modules.five, t44.raycaster);
      (i65 = this.originObject.pointMesh) == null || i65.position.copy(s60.point);
    });
  }
  enable() {
    super.enable(), this.originObject.draggable = true, this.originObject.on("drag", this.onDrag);
  }
  disable() {
    super.disable(), this.originObject.draggable = false, this.originObject.off("drag", this.onDrag);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Point/index.js
var b51 = Object.defineProperty;
var g57 = Object.defineProperties;
var M44 = Object.getOwnPropertyDescriptors;
var d62 = Object.getOwnPropertySymbols;
var P50 = Object.prototype.hasOwnProperty;
var v53 = Object.prototype.propertyIsEnumerable;
var c72 = (e48, i65, t43) => i65 in e48 ? b51(e48, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : e48[i65] = t43;
var f69 = (e48, i65) => {
  for (var t43 in i65 || (i65 = {}))
    P50.call(i65, t43) && c72(e48, t43, i65[t43]);
  if (d62)
    for (var t43 of d62(i65))
      v53.call(i65, t43) && c72(e48, t43, i65[t43]);
  return e48;
};
var m58 = (e48, i65) => g57(e48, M44(i65));
var p48 = (e48, i65, t43) => (c72(e48, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var y45 = (e48, i65, t43) => new Promise((h66, n72) => {
  var r66 = (s60) => {
    try {
      o71(t43.next(s60));
    } catch (a62) {
      n72(a62);
    }
  }, l63 = (s60) => {
    try {
      o71(t43.throw(s60));
    } catch (a62) {
      n72(a62);
    }
  }, o71 = (s60) => s60.done ? h66(s60.value) : Promise.resolve(s60.value).then(r66, l63);
  o71((t43 = t43.apply(e48, i65)).next());
});
var B38 = class extends M42 {
  constructor(t43, h66) {
    super(t43, h66);
    p48(this, "type", "Point");
    p48(this, "pointMesh");
    p48(this, "_editor");
    t43 && (this.pointMesh = new ot2(f69(f69({}, t43.style), t43)), this.add(this.pointMesh));
  }
  get editor() {
    return this._editor || (this._editor = new f68(this)), this._editor;
  }
  get data() {
    return m58(f69({}, this.baseData), {
      point: a52(this.applyObjectMatrixWorld(this.pointMesh.position)),
      style: {
        color: this.pointMesh.color.getHex(),
        size: this.pointMesh.size
      }
    });
  }
  setData(t43) {
    t43.point && this.pointMesh.position.copy(t2(t43.point)), this.pointMesh.setStyle(t43.style);
  }
  highlight() {
    var t43;
    (t43 = this.pointMesh) == null || t43.highlight();
  }
  unhighlight() {
    var t43;
    (t43 = this.pointMesh) == null || t43.unhighlight();
  }
  /**
   * @description: 设置颜色
   * @param {Color} style.color
   * @param {number} style.size
   */
  setStyle(t43) {
    this.pointMesh.setStyle(t43);
  }
  /**
   * @description: 创建点
   */
  create(t43) {
    return y45(this, null, function* () {
      this.pointMesh && this.remove(this.pointMesh), this.add(this.pointMesh = new ot2(t43)), yield U28(this.pointMesh, this.pointSelector), this.config.defaultAction && this.editor.enable();
    });
  }
};
function U28(e48, i65) {
  return new Promise((t43, h66) => {
    i65.enable(), e48.visible = false;
    const n72 = (s60) => {
      s60 && (e48.visible = true, e48.position.copy(s60.point));
    }, r66 = (s60) => {
      s60 && (e48.visible = true, e48.position.copy(s60.point), l63());
    }, l63 = () => {
      i65.off("select", r66), i65.off("disable", o71), i65.off("intersectionUpdate", n72), i65.disable(), t43();
    }, o71 = () => {
      i65.off("select", r66), i65.off("disable", o71), i65.off("intersectionUpdate", n72), e48.removeFromParent(), h66(new Error("Cancelled"));
    };
    i65.on("intersectionUpdate", n72), i65.on("disable", o71), i65.once("select", r66);
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/PolygonWithEdge.js
var p49 = Object.defineProperty;
var f70 = Object.defineProperties;
var P51 = Object.getOwnPropertyDescriptors;
var l52 = Object.getOwnPropertySymbols;
var d63 = Object.prototype.hasOwnProperty;
var c73 = Object.prototype.propertyIsEnumerable;
var o67 = (t43, e48, i65) => e48 in t43 ? p49(t43, e48, { enumerable: true, configurable: true, writable: true, value: i65 }) : t43[e48] = i65;
var h55 = (t43, e48) => {
  for (var i65 in e48 || (e48 = {}))
    d63.call(e48, i65) && o67(t43, i65, e48[i65]);
  if (l52)
    for (var i65 of l52(e48))
      c73.call(e48, i65) && o67(t43, i65, e48[i65]);
  return t43;
};
var r58 = (t43, e48) => f70(t43, P51(e48));
var y46 = (t43, e48) => {
  var i65 = {};
  for (var s60 in t43)
    d63.call(t43, s60) && e48.indexOf(s60) < 0 && (i65[s60] = t43[s60]);
  if (t43 != null && l52)
    for (var s60 of l52(t43))
      e48.indexOf(s60) < 0 && c73.call(t43, s60) && (i65[s60] = t43[s60]);
  return i65;
};
var g58 = (t43, e48, i65) => (o67(t43, typeof e48 != "symbol" ? e48 + "" : e48, i65), i65);
var m59 = class extends j13 {
  constructor(i65) {
    const u72 = i65 != null ? i65 : {}, { points: s60 } = u72, n72 = y46(u72, ["points"]);
    super();
    g58(this, "name", "PolygonWithEdgeMesh");
    g58(this, "line", new j31());
    s60 && this.setPoints(s60), n72 && this.setStyle(n72);
  }
  get style() {
    return r58(h55({}, super.style), {
      lineWidth: this.lineWidth,
      lineColor: this.lineColor
    });
  }
  get lineWidth() {
    return this.line.lineWidth;
  }
  get lineColor() {
    return this.line.lineColor;
  }
  raycast(i65, s60) {
    return this.children.forEach((n72) => {
      c7(n72, i65, s60, true);
    }), false;
  }
  setPoints(i65, s60) {
    super.setPoints(i65, h55({ closed: true }, s60)), this.points && (this.line.setPoints(this.points, h55({ closed: true }, s60)), this.addIfNotExists(this.line));
  }
  setStyle(i65) {
    super.setStyle(i65), i65.lineOpacity !== void 0 ? this.line.setStyle(r58(h55({}, i65), {
      // 强制设置line的lineOpacity
      lineOpacity: i65.lineOpacity
    })) : this.line.setStyle(i65), this.needsRender = true;
  }
  highlight() {
    super.highlight(), this.line.highlight();
  }
  unhighlight() {
    super.unhighlight(), this.line.unhighlight();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Area.js
var a54 = Object.defineProperty;
var h56 = (s60, e48, o71) => e48 in s60 ? a54(s60, e48, { enumerable: true, configurable: true, writable: true, value: o71 }) : s60[e48] = o71;
var r59 = (s60, e48, o71) => (h56(s60, typeof e48 != "symbol" ? e48 + "" : e48, o71), o71);
var M45 = class extends m59 {
  constructor() {
    super(...arguments);
    r59(this, "name", "AreaMesh");
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Polygon/Editor.js
var a55 = Object.defineProperty;
var c74 = (o71, i65, t43) => i65 in o71 ? a55(o71, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[i65] = t43;
var r60 = (o71, i65, t43) => (c74(o71, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var u61 = class extends l51 {
  constructor(t43) {
    super(t43);
    r60(this, "onDrag", (t44) => {
      if (!this.draggingPoints || this.draggingPoints.length === 0)
        return;
      const e48 = w4(p43.modules.five, t44.raycaster), n72 = this.originObject.areaMesh.projectPoint(e48.point);
      this.draggingPoints.forEach((s60) => s60.position.copy(n72)), this.originObject.areaMesh.setPoints(this.pointMeshes.map((s60) => s60.position));
    });
  }
  get points() {
    return this.originObject.areaMesh.points;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Polygon/index.js
var F41 = Object.defineProperty;
var I48 = Object.defineProperties;
var L34 = Object.getOwnPropertyDescriptors;
var A56 = Object.getOwnPropertySymbols;
var N29 = Object.prototype.hasOwnProperty;
var z25 = Object.prototype.propertyIsEnumerable;
var E49 = (s60, t43, e48) => t43 in s60 ? F41(s60, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : s60[t43] = e48;
var g59 = (s60, t43) => {
  for (var e48 in t43 || (t43 = {}))
    N29.call(t43, e48) && E49(s60, e48, t43[e48]);
  if (A56)
    for (var e48 of A56(t43))
      z25.call(t43, e48) && E49(s60, e48, t43[e48]);
  return s60;
};
var O39 = (s60, t43) => I48(s60, L34(t43));
var u62 = (s60, t43, e48) => (E49(s60, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var H33 = (s60, t43, e48) => new Promise((c85, d73) => {
  var m66 = (i65) => {
    try {
      f80(e48.next(i65));
    } catch (l63) {
      d73(l63);
    }
  }, r66 = (i65) => {
    try {
      f80(e48.throw(i65));
    } catch (l63) {
      d73(l63);
    }
  }, f80 = (i65) => i65.done ? c85(i65.value) : Promise.resolve(i65.value).then(m66, r66);
  f80((e48 = e48.apply(s60, t43)).next());
});
var ie9 = class extends M42 {
  constructor(e48, c85) {
    super(e48, c85);
    u62(this, "type", "Polygon");
    u62(this, "areaMesh");
    u62(this, "_editor");
    u62(this, "creatingObject");
    e48 && (this.areaMesh = new M45(g59(g59({}, e48.style), e48)), this.add(this.areaMesh));
  }
  get editor() {
    return this._editor || (this._editor = new u61(this)), this._editor;
  }
  get data() {
    return this.updateMatrixWorld(), O39(g59({}, this.baseData), {
      points: a52(this.applyObjectMatrixWorld(this.areaMesh.points)),
      style: {
        color: this.areaMesh.color.getHex(),
        lineColor: this.areaMesh.lineColor.getHex(),
        lineWidth: this.areaMesh.lineWidth
      }
    });
  }
  setData(e48) {
    e48.points && this.areaMesh.setPoints(this.applyObjectReversalMatrixWorld(e48.points.map(t2))), this.areaMesh.setStyle(e48.style);
  }
  highlight() {
    var e48;
    (e48 = this.areaMesh) == null || e48.highlight();
  }
  unhighlight() {
    var e48;
    (e48 = this.areaMesh) == null || e48.unhighlight();
  }
  canUndo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.canUndo();
  }
  canRedo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.canRedo();
  }
  undo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.undo();
  }
  redo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.redo();
  }
  create(e48) {
    return H33(this, null, function* () {
      this.children.forEach((d73) => {
        d73.parent === this && this.remove(d73);
      }), this.children.length = 0;
      const c85 = new M45(e48);
      this.areaMesh = c85, this.add(this.areaMesh), this.creatingObject = X23(this.areaMesh, this.pointSelector, e48), yield this.creatingObject.finished, this.config.defaultAction && this.editor.enable();
    });
  }
};
function X23(s60, t43, e48) {
  var U33;
  const { promise: c85, resolve: d73, reject: m66 } = i42(), r66 = s60.parent;
  if (!r66) {
    m66(new Error("No container"));
    return;
  }
  const f80 = (U33 = e48 == null ? void 0 : e48.limit) != null ? U33 : "none", i65 = new j31(s60.style);
  r66 == null || r66.add(i65);
  const l63 = new j31(O39(g59({}, s60.style), { dashed: true, lengthEnable: false }));
  r66 == null || r66.add(l63), t43.enable();
  const o71 = [];
  let n72, h66, v58 = false, C52;
  const y51 = [], x49 = () => o71.length > 0, M48 = () => y51.length > 0, k47 = () => {
    x49() && (y51.push(o71.pop()), w49(C52), t43.pointSelectorHelper.magnifier.render());
  }, B42 = () => {
    M48() && (o71.push(y51.pop()), w49(C52), t43.pointSelectorHelper.magnifier.render());
  }, R43 = (a62) => {
    y51.length = 0;
    const b55 = o71.length === 0 ? a62.point : n72.clone();
    o71.push(b55), s60.setPoints(o71, { closed: false }), v58 && (W25(), d73());
  }, w49 = (a62) => {
    const b55 = () => {
      i65.setPoints([]), l63.setPoints([]), s60.setPoints(o71), t43.pointSelectorHelper.magnifier.render();
    };
    if (!a62 || (C52 = a62, !(o71 != null && o71.length)))
      return b55();
    const P55 = o71.at(-1).clone();
    if (o71.length < 3 && (f80 === "none" ? (n72 = a62.point, i65.setPoints([P55, n72]), l63.setPoints([])) : f80 === "xoz" ? (h66 = h66 != null ? h66 : new Plane().setFromNormalAndCoplanarPoint(new Vector3(0, 1, 0), o71[0]), t43.plane = h66, n72 = h66.projectPoint(a62.point, new Vector3()), i65.setPoints([P55, n72]), l63.setPoints([n72, a62.point])) : f80 === "y" && (o71.length === 1 ? (n72 = a62.point, i65.setPoints([P55, n72]), l63.setPoints([])) : (h66 = h66 != null ? h66 : new Plane().setFromCoplanarPoints(o71[0], o71[1], new Vector3(0, 1, 0).add(o71[0])), t43.plane = h66, n72 = h66.projectPoint(a62.point, new Vector3()), i65.setPoints([P55, n72]), l63.setPoints([n72, a62.point])))), o71.length >= 3) {
      n72 = s60.projectPoint(a62.point);
      const j37 = o71[0], V25 = 0.2;
      j37.distanceTo(n72) < V25 || j37.distanceTo(a62.point) < V25 ? (n72 = j37, a62.point.copy(j37), t43.pointSelectorHelper.updateWithIntersect(a62, { emitEvent: false }), v58 = true) : v58 = false, i65.setPoints([P55, n72]), l63.setPoints([n72, a62.point]);
    }
    o71.length >= 2 ? (s60.setPoints([...o71, n72], { closed: false }), s60.line.setPoints(s60.points.slice(0, -1)), s60.isBlank ? (t43.cursorError = true, i65.setStyle({ lineColor: 16734553 }), l63.setStyle({ lineColor: 16734553 })) : (t43.cursorError = false, i65.setStyle({ lineColor: s60.lineColor }), l63.setStyle({ lineColor: s60.lineColor }))) : s60.setPoints([]);
  }, W25 = () => {
    t43.off("select", R43), t43.off("intersectionUpdate", w49), t43.off("disable", T38), t43.plane = null, t43.disable(), r66 == null || r66.remove(i65, l63);
  }, T38 = () => {
    W25(), r66 == null || r66.remove(s60, l63, i65), m66(new Error("Cancelled"));
  };
  return t43.on("select", R43), t43.on("intersectionUpdate", w49), t43.on("disable", T38), {
    finished: c85,
    canUndo: x49,
    canRedo: M48,
    undo: k47,
    redo: B42
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/polygonVertex.js
function x44(o71) {
  const e48 = [...o71], t43 = [];
  for (let n72 = 0; n72 < e48.length - 2; n72++)
    t43.push(0, n72 + 1, n72 + 2);
  return t43;
}
function s51(o71) {
  const e48 = o71.map((n72) => new Vector3(n72[0], n72[1], n72[2]));
  return p17(e48);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/core/PrismGeometry.js
var x45 = Object.defineProperty;
var y47 = (r66, s60, e48) => s60 in r66 ? x45(r66, s60, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[s60] = e48;
var p50 = (r66, s60, e48) => (y47(r66, typeof s60 != "symbol" ? s60 + "" : s60, e48), e48);
var v54 = class extends BufferGeometry {
  constructor(e48) {
    super();
    p50(this, "bottomPositions", []);
    p50(this, "topPosition", []);
    p50(this, "_type", "Concave");
    e48 && this.setPosition(e48);
  }
  /**
   * @description 设置底面和顶面的位置
   * @param params.bottomPositions 底面多边形的有序顶点，顺时针或逆时针均可
   * @param params.topPosition 底面多边形的第一个点对应的顶面的顶点
   * @param params.type 棱柱的类型，凹多边形（Concave）或凸多边形（Convex），默认为凹多边形。如果可以确定是凸多边形，建议设置为凸多边形，性能更好
   */
  setPosition(e48) {
    var u72, g67, m66;
    const n72 = (u72 = e48.bottomPositions) != null ? u72 : this.bottomPositions, h66 = (g67 = e48.topPosition) != null ? g67 : this.topPosition;
    if (this._type = (m66 = e48.type) != null ? m66 : this._type, this.bottomPositions = n72, this.topPosition = h66, !n72 || n72.length < 3) {
      console.error("PrismGeometry: Invalid parameters", n72, h66, e48), this.bottomPositions = [], this.setAttribute("position", new BufferAttribute(new Float32Array([]), 3));
      return;
    }
    const i65 = [], t43 = [];
    t43.push(...n72), t43[0][0] === t43.at(-1)[0] && t43[0][1] === t43.at(-1)[1] && t43[0][2] === t43.at(-1)[2] && (t43.length -= 1);
    const P55 = this._type === "Concave" ? s51(t43) : x44(t43);
    if (i65.push(...P55), h66 && h66.length === 3) {
      const l63 = [h66[0] - n72[0][0], h66[1] - n72[0][1], h66[2] - n72[0][2]], f80 = t43.map((o71) => [o71[0] + l63[0], o71[1] + l63[1], o71[2] + l63[2]]);
      t43.push(...f80);
      const b55 = i65.map((o71) => o71 + t43.length / 2);
      i65.push(...b55);
      for (let o71 = 0; o71 < t43.length / 2 - 1; o71++)
        i65.push(o71, o71 + 1, o71 + t43.length / 2), i65.push(o71 + 1, o71 + t43.length / 2 + 1, o71 + t43.length / 2);
      i65.push(0, t43.length / 2, t43.length / 2 - 1), i65.push(t43.length / 2, t43.length - 1, t43.length / 2 - 1);
    }
    this.setAttribute("position", new Float32BufferAttribute(t43.flat(), 3)), this.setIndex(i65), this.computeBoundingSphere();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Prism.js
var b52 = Object.defineProperty;
var d64 = Object.getOwnPropertySymbols;
var C49 = Object.prototype.hasOwnProperty;
var w42 = Object.prototype.propertyIsEnumerable;
var c75 = (o71, t43, e48) => t43 in o71 ? b52(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var a56 = (o71, t43) => {
  for (var e48 in t43 || (t43 = {}))
    C49.call(t43, e48) && c75(o71, e48, t43[e48]);
  if (d64)
    for (var e48 of d64(t43))
      w42.call(t43, e48) && c75(o71, e48, t43[e48]);
  return o71;
};
var s52 = (o71, t43, e48) => (c75(o71, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var H34 = class extends c16 {
  constructor(e48) {
    super();
    s52(this, "name", "PrismMesh");
    s52(this, "_geometryInfoCache");
    s52(this, "geometryInfoNeedUpdate", true);
    s52(this, "edgeMesh", new Oe());
    s52(this, "prismMesh", new A29());
    s52(this, "paramStyle");
    this.prismMesh.name = "PrismMesh", this.prismMesh.geometry = new v54(), this.edgeMesh.name = "EdgeMesh", this.addIfNotExists(this.prismMesh, this.edgeMesh), e48 && this.setPoints(e48), this.setStyle(e48);
  }
  get topPosition() {
    return new Vector3().fromArray(this.prismMesh.geometry.topPosition);
  }
  get bottomPositions() {
    return this.prismMesh.geometry.bottomPositions.map((e48) => new Vector3().fromArray(e48));
  }
  get topPositions() {
    const e48 = this.bottomPositions[0].clone().sub(this.topPosition);
    return this.bottomPositions.map((r66) => r66.clone().sub(e48));
  }
  get style() {
    return {
      color: this.color,
      lineColor: this.lineColor,
      lineWidth: this.lineWidth,
      opacity: this.opacity,
      occlusionVisibility: this.occlusionVisibility,
      occlusionMode: this.occlusionMode
    };
  }
  get opacity() {
    return this.prismMesh.opacity;
  }
  get occlusionVisibility() {
    return this.prismMesh.occlusionVisibility;
  }
  get occlusionMode() {
    return this.prismMesh.occlusionMode;
  }
  /**
   * @deprecated notice: please use specified center instead, such as `localCenter` or `worldCenter`
   */
  get center() {
    return this.localCenter.clone();
  }
  get localCenter() {
    var e48;
    return (e48 = this.geometryInfo.center.clone()) != null ? e48 : new Vector3(9999, 9999, 9999);
  }
  get geometryInfo() {
    if (this.geometryInfoNeedUpdate) {
      this.geometryInfoNeedUpdate = false;
      const e48 = this.prismMesh.geometry.bottomPositions, r66 = this.prismMesh.geometry.topPosition;
      if (!e48 || e48.length < 3 || !r66) {
        this._geometryInfoCache = void 0;
        return;
      }
      const n72 = e48.map((l63, h66) => h66 >= e48.length - 2 ? null : [
        new Vector3().fromArray(e48[0]),
        new Vector3().fromArray(e48[h66 + 1]),
        new Vector3().fromArray(e48[h66 + 2])
      ]).filter(Boolean);
      if (n72.length === 0) {
        this._geometryInfoCache = void 0;
        return;
      }
      let g67 = 0, m66 = new Vector3();
      for (const [l63, h66, p66] of n72) {
        const y51 = u22(l63, h66, p66), P55 = d26(l63, h66, p66, y51);
        g67 += y51, m66.add(P55);
      }
      m66 = m66.divideScalar(g67);
      const u72 = new Vector3().fromArray(r66).sub(new Vector3().fromArray(e48[0])), M48 = m66.clone().add(u72.divideScalar(2));
      this._geometryInfoCache = { center: M48 };
    }
    return this._geometryInfoCache;
  }
  get worldCenter() {
    return this.updateMatrixWorld(), this.localToWorld(this.localCenter);
  }
  get color() {
    return this.prismMesh.color;
  }
  get lineWidth() {
    return this.edgeMesh.style.lineWidth;
  }
  get lineColor() {
    return this.edgeMesh.color;
  }
  setStyle(e48 = {}) {
    this.paramStyle = a56(a56({}, this.paramStyle), e48), this.prismMesh.setStyle(this.paramStyle), this.edgeMesh.setStyle(this.paramStyle);
  }
  setPoints(e48) {
    var r66;
    this.prismMesh.geometry.setPosition({
      bottomPositions: (r66 = e48.points) == null ? void 0 : r66.map(t2).map((n72) => n72.toArray()),
      topPosition: e48.heightPoint ? t2(e48.heightPoint).toArray() : void 0
    }), this.edgeMesh.geometry = new a9().fromEdgesGeometry(new EdgesGeometry(this.prismMesh.geometry)), this.geometryInfoNeedUpdate = true;
  }
  highlight() {
    this.prismMesh.highlight();
  }
  unhighlight() {
    this.prismMesh.unhighlight();
  }
  raycast(e48, r66) {
    return this.children.forEach((n72) => c7(n72, e48, r66, true)), false;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Editors/PrismMeshEditor.js
var f71 = class extends u60 {
  constructor(o71) {
    super(o71, () => ({
      positionFrom: () => o71.worldCenter,
      yAxis: () => o71.up,
      scaleHelper: {
        enable: true,
        positions: () => {
          const s60 = o71.bottomPositions, e48 = o71.topPosition, i65 = new Vector3().subVectors(e48, s60[0]), t43 = o71.geometryInfo.center, n72 = t43.clone().sub(i65.clone().divideScalar(2)), c85 = t43.clone().add(i65.clone().divideScalar(2));
          return [
            {
              id: "top",
              handlePosition: c85,
              basePosition: n72
            },
            {
              id: "bottom",
              handlePosition: n72,
              basePosition: c85
            }
          ];
        },
        scaleCallback: (s60) => {
          const { intersectPoint: e48, scalePosition: i65 } = s60, { id: t43, basePosition: n72, handlePosition: c85 } = i65;
          if (t43 === "top") {
            const l63 = e48.clone().sub(n72);
            o71.setPoints({ heightPoint: o71.bottomPositions[0].clone().add(l63) });
          } else if (t43 === "bottom") {
            const l63 = e48.clone().sub(n72);
            o71.setPoints({
              points: o71.topPositions.map((a62) => a62.clone().add(l63))
            });
          }
        }
      }
    }));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Prism/index.js
var W20 = Object.defineProperty;
var _27 = Object.defineProperties;
var j33 = Object.getOwnPropertyDescriptors;
var u63 = Object.getOwnPropertySymbols;
var E50 = Object.prototype.hasOwnProperty;
var L35 = Object.prototype.propertyIsEnumerable;
var d65 = (s60, t43, i65) => t43 in s60 ? W20(s60, t43, { enumerable: true, configurable: true, writable: true, value: i65 }) : s60[t43] = i65;
var p51 = (s60, t43) => {
  for (var i65 in t43 || (t43 = {}))
    E50.call(t43, i65) && d65(s60, i65, t43[i65]);
  if (u63)
    for (var i65 of u63(t43))
      L35.call(t43, i65) && d65(s60, i65, t43[i65]);
  return s60;
};
var w43 = (s60, t43) => _27(s60, j33(t43));
var c76 = (s60, t43, i65) => (d65(s60, typeof t43 != "symbol" ? t43 + "" : t43, i65), i65);
var f72 = (s60, t43, i65) => new Promise((e48, r66) => {
  var a62 = (o71) => {
    try {
      n72(i65.next(o71));
    } catch (h66) {
      r66(h66);
    }
  }, m66 = (o71) => {
    try {
      n72(i65.throw(o71));
    } catch (h66) {
      r66(h66);
    }
  }, n72 = (o71) => o71.done ? e48(o71.value) : Promise.resolve(o71.value).then(a62, m66);
  n72((i65 = i65.apply(s60, t43)).next());
});
var Z17 = class extends M42 {
  constructor(i65, e48) {
    super(i65, e48);
    c76(this, "type", "Prism");
    c76(this, "prismMesh");
    c76(this, "_editor");
    i65 && (this.prismMesh = new H34(p51(p51({}, i65.style), i65)), this.add(this.prismMesh));
  }
  get editor() {
    return this._editor || (this._editor = new f71(this.prismMesh)), this._editor;
  }
  get data() {
    return w43(p51({}, this.baseData), {
      points: a52(this.applyObjectMatrixWorld(this.prismMesh.bottomPositions, this.prismMesh)),
      heightPoint: a52(this.applyObjectMatrixWorld(this.prismMesh.topPosition, this.prismMesh)),
      style: {
        color: this.prismMesh.color.getHex(),
        lineWidth: this.prismMesh.lineWidth,
        lineColor: this.prismMesh.lineColor.getHex()
      }
    });
  }
  setData(i65) {
    this.prismMesh.setPoints({
      points: i65.points ? this.applyObjectReversalMatrixWorld(i65.points.map(t2), this.prismMesh) : void 0,
      heightPoint: i65.heightPoint ? this.applyObjectReversalMatrixWorld(t2(i65.heightPoint), this.prismMesh) : void 0
    }), this.prismMesh.setStyle(i65.style), this._editor && this._editor.initialHelperMatrix();
  }
  highlight() {
    var i65;
    (i65 = this.prismMesh) == null || i65.highlight();
  }
  unhighlight() {
    var i65;
    (i65 = this.prismMesh) == null || i65.unhighlight();
  }
  create(i65) {
    return f72(this, null, function* () {
      this.prismMesh = new H34(i65), this.add(this.prismMesh), yield V21(this.prismMesh, this.pointSelector), this.config.defaultAction && this.editor.enable();
    });
  }
};
function V21(s60, t43) {
  return f72(this, null, function* () {
    const i65 = s60.parent, e48 = new M45(s60.style);
    i65.add(e48), yield X23(e48, t43).finished, i65.remove(e48), s60.setPoints({ points: e48.points });
    const r66 = new Oe();
    r66.name = "LineHelper", i65.add(r66);
    const a62 = e48.points.at(-1), m66 = l22(e48.points), n72 = a62.clone().add(m66.clone().multiplyScalar(100)), o71 = a62.clone().sub(m66.clone().multiplyScalar(100));
    return r66.setPoints([n72, o71]), t43.enable(), new Promise((h66, O40) => {
      const M48 = (l63) => {
        y51(), h66();
      }, P55 = (l63) => {
        if (!(l63 != null && l63.raycaster))
          return;
        const b55 = w5({
          raycaster: l63.raycaster,
          line: new Line3(n72, o71)
        });
        b55 && s60.setPoints({ heightPoint: b55 });
      }, y51 = () => {
        t43.off("select", M48), t43.off("intersectionUpdate", P55), t43.off("disable", g67), i65.remove(r66), t43.disable();
      }, g67 = () => {
        y51(), i65.remove(s60), O40(new Error("Cancelled"));
      };
      t43.on("select", M48), t43.on("intersectionUpdate", P55), t43.on("disable", g67);
    });
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Editors/RectangleMeshEditor.js
var b53 = class extends u60 {
  constructor(n72) {
    super(n72, () => ({
      yAxis: () => {
        const t43 = n72.points;
        return l22(t43).normalize();
      },
      zAxis: () => {
        const t43 = n72.points;
        return t43[0].clone().sub(t43[1]).normalize();
      },
      scaleHelper: {
        enable: true,
        positions: () => {
          const t43 = n72.points, e48 = t43[0].clone().lerp(t43[3], 0.5), l63 = t43[1].clone().lerp(t43[2], 0.5), s60 = t43[0].clone().lerp(t43[1], 0.5), r66 = t43[3].clone().lerp(t43[2], 0.5);
          return [
            {
              id: "left",
              handlePosition: e48,
              basePosition: l63
            },
            {
              id: "right",
              handlePosition: l63,
              basePosition: e48
            },
            {
              id: "top",
              handlePosition: s60,
              basePosition: r66
            },
            {
              id: "bottom",
              handlePosition: r66,
              basePosition: s60
            }
          ];
        },
        scaleCallback: (t43) => {
          const { intersectPoint: e48, scalePosition: l63 } = t43, { id: s60, basePosition: r66 } = l63, i65 = e48.clone().sub(r66), o71 = n72.points;
          s60 === "top" ? n72.setPoints([
            // 2,3 不变
            o71[3].clone().add(i65),
            o71[2].clone().add(i65),
            o71[2],
            o71[3]
          ]) : s60 === "bottom" ? n72.setPoints([
            // 0,1 不变
            o71[0],
            o71[1],
            o71[1].clone().add(i65),
            o71[0].clone().add(i65)
          ]) : s60 === "left" ? n72.setPoints([
            // 1,2 不变
            o71[1].clone().add(i65),
            o71[1],
            o71[2],
            o71[2].clone().add(i65)
          ]) : s60 === "right" && n72.setPoints([
            // 0,3 不变
            o71[0],
            o71[0].clone().add(i65),
            o71[3].clone().add(i65),
            o71[3]
          ]);
        }
      }
    }));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/three/RectangleGeometry.js
var i60 = Object.defineProperty;
var a57 = (r66, t43, e48) => t43 in r66 ? i60(r66, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[t43] = e48;
var n61 = (r66, t43, e48) => (a57(r66, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var l53 = class extends BufferGeometry {
  constructor(e48) {
    super();
    n61(this, "name", "RectangleGeometry");
    n61(this, "points");
    if (e48.length !== 4) {
      console.error("Invalid number of points, it's not a rectangle");
      return;
    }
    this.points = e48.slice(0, 4), this.setAttribute("position", new BufferAttribute(new Float32Array(this.points.flatMap((s60) => s60.toArray())), 3)), this.setIndex(new BufferAttribute(new Uint16Array([0, 1, 2, 0, 2, 3]), 1));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Rectangle.js
var l54 = Object.defineProperty;
var c77 = (e48, o71, t43) => o71 in e48 ? l54(e48, o71, { enumerable: true, configurable: true, writable: true, value: t43 }) : e48[o71] = t43;
var i61 = (e48, o71, t43) => (c77(e48, typeof o71 != "symbol" ? o71 + "" : o71, t43), t43);
var j34 = class extends j13 {
  constructor(t43) {
    super(t43);
    i61(this, "name", "RectangleMesh");
  }
  get color() {
    return this.meshFont.material.color;
  }
  setPoints(t43) {
    const r66 = t43.map(t2).filter(i7);
    if (r66.length < 3) {
      console.error("Invalid position");
      return;
    }
    if (t43.length === 3) {
      const [m66, n72, p66] = r66, s60 = m66.clone().add(p66).sub(n72);
      r66.push(s60);
    }
    this.points = r66, this.geometry = new l53(r66), this.planeHelperNeedUpdate = true, this.geometryInfoNeedUpdate = true;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/RectangleWithEdge.js
var c78 = Object.defineProperty;
var h57 = Object.getOwnPropertySymbols;
var u64 = Object.prototype.hasOwnProperty;
var p52 = Object.prototype.propertyIsEnumerable;
var n62 = (i65, e48, t43) => e48 in i65 ? c78(i65, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : i65[e48] = t43;
var l55 = (i65, e48) => {
  for (var t43 in e48 || (e48 = {}))
    u64.call(e48, t43) && n62(i65, t43, e48[t43]);
  if (h57)
    for (var t43 of h57(e48))
      p52.call(e48, t43) && n62(i65, t43, e48[t43]);
  return i65;
};
var y48 = (i65, e48) => {
  var t43 = {};
  for (var s60 in i65)
    u64.call(i65, s60) && e48.indexOf(s60) < 0 && (t43[s60] = i65[s60]);
  if (i65 != null && h57)
    for (var s60 of h57(i65))
      e48.indexOf(s60) < 0 && p52.call(i65, s60) && (t43[s60] = i65[s60]);
  return t43;
};
var o68 = (i65, e48, t43) => (n62(i65, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var W21 = class extends j34 {
  constructor(t43) {
    const r66 = t43 != null ? t43 : {}, { points: s60 } = r66, g67 = y48(r66, ["points"]);
    super();
    o68(this, "name", "RectangleWithEdgeMesh");
    o68(this, "line", new j31());
    s60 && this.setPoints(s60), g67 && this.setStyle(g67);
  }
  get style() {
    return l55(l55({}, super.style), this.line.style);
  }
  get lineWidth() {
    return this.line.lineWidth;
  }
  get lineColor() {
    return this.line.lineColor;
  }
  setPoints(t43) {
    super.setPoints(t43), this.points && (this.line.setPoints([this.points[0], this.points[1], this.points[2], this.points[3], this.points[0]]), this.addIfNotExists(this.line));
  }
  setStyle(t43) {
    super.setStyle(t43), this.line.setStyle(t43);
  }
  highlight() {
    super.highlight(), this.line.highlight();
  }
  unhighlight() {
    super.unhighlight(), this.line.unhighlight();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/sortPositionsByCameraPosition.js
function f73(r66, t43) {
  const e48 = l22(r66), n72 = c9(...r66), o71 = t43.clone().sub(n72);
  return e48.dot(o71) >= 0 ? r66 : r66.slice().reverse();
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Rectangle/index.js
var q36 = Object.defineProperty;
var G30 = Object.defineProperties;
var J31 = Object.getOwnPropertyDescriptors;
var W22 = Object.getOwnPropertySymbols;
var K31 = Object.prototype.hasOwnProperty;
var Q28 = Object.prototype.propertyIsEnumerable;
var T33 = (s60, e48, n72) => e48 in s60 ? q36(s60, e48, { enumerable: true, configurable: true, writable: true, value: n72 }) : s60[e48] = n72;
var p53 = (s60, e48) => {
  for (var n72 in e48 || (e48 = {}))
    K31.call(e48, n72) && T33(s60, n72, e48[n72]);
  if (W22)
    for (var n72 of W22(e48))
      Q28.call(e48, n72) && T33(s60, n72, e48[n72]);
  return s60;
};
var P52 = (s60, e48) => G30(s60, J31(e48));
var N30 = (s60, e48, n72) => (T33(s60, typeof e48 != "symbol" ? e48 + "" : e48, n72), n72);
var D49 = (s60, e48, n72) => new Promise((a62, f80) => {
  var u72 = (c85) => {
    try {
      i65(n72.next(c85));
    } catch (m66) {
      f80(m66);
    }
  }, l63 = (c85) => {
    try {
      i65(n72.throw(c85));
    } catch (m66) {
      f80(m66);
    }
  }, i65 = (c85) => c85.done ? a62(c85.value) : Promise.resolve(c85.value).then(u72, l63);
  i65((n72 = n72.apply(s60, e48)).next());
});
var ge9 = class extends M42 {
  constructor(n72, a62) {
    super(n72, a62);
    N30(this, "type", "Rectangle");
    N30(this, "rectangleMesh");
    N30(this, "_editor");
    n72 && (this.rectangleMesh = new W21(p53(p53({}, n72.style), n72)), this.add(this.rectangleMesh));
  }
  get editor() {
    return this._editor || (this._editor = new b53(this.rectangleMesh)), this._editor;
  }
  get data() {
    return P52(p53({}, this.baseData), {
      points: a52(this.applyObjectMatrixWorld(this.rectangleMesh.points, this.rectangleMesh)),
      style: {
        color: this.rectangleMesh.color.getHex(),
        opacity: this.rectangleMesh.opacity,
        lineWidth: this.rectangleMesh.lineWidth,
        lineColor: this.rectangleMesh.lineColor.getHex()
      }
    });
  }
  setData(n72) {
    n72.points && this.rectangleMesh.setPoints(this.applyObjectReversalMatrixWorld(n72.points.map(t2), this.rectangleMesh)), this.rectangleMesh.setStyle(n72.style), this._editor && this._editor.initialHelperMatrix();
  }
  highlight() {
    var n72;
    (n72 = this.rectangleMesh) == null || n72.highlight();
  }
  unhighlight() {
    var n72;
    (n72 = this.rectangleMesh) == null || n72.unhighlight();
  }
  create(n72) {
    return D49(this, null, function* () {
      this.removeChildren();
      const a62 = new W21(n72);
      this.rectangleMesh = a62, this.add(this.rectangleMesh), yield te9(this.rectangleMesh, this.pointSelector, n72), this.config.defaultAction && this.editor.enable();
    });
  }
};
function te9(s60, e48, n72) {
  var f80;
  return ((f80 = n72 == null ? void 0 : n72.drawMethod) != null ? f80 : "diagonal") === "diagonal" ? se5(s60, e48, n72) : oe10(s60, e48, n72);
}
function ne12(s60, e48) {
  const n72 = [];
  return s60.scene.traverse((a62) => {
    var f80;
    if (a62.visible && !((f80 = e48 == null ? void 0 : e48.excludes) != null && f80.includes(a62)) && (a62 instanceof j34 || a62 instanceof j13)) {
      const u72 = a62.points.map((l63) => {
        const i65 = new Face3(l63.x, l63.y, l63.z, a62.normal);
        return a62.style.occlusionVisibility && (i65.IsAlwaysVisible = true), i65;
      });
      n72.push(...u72);
    }
  }), n72;
}
function se5(s60, e48, n72) {
  var C52;
  const { promise: a62, reject: f80, resolve: u72 } = i42(), l63 = s60.parent;
  if (!l63)
    return f80(new Error("No container"));
  const i65 = (C52 = n72 == null ? void 0 : n72.limit) != null ? C52 : "none", c85 = new x43(P52(p53({}, s60.style), { dashed: true })), m66 = new x43(P52(p53({}, s60.style), { dashed: true, lengthEnable: false })), g67 = new x43(P52(p53({}, s60.style), { dashed: false, lengthEnable: false }));
  l63.add(c85, g67, m66), e48.enable();
  const t43 = [];
  let d73 = new Vector3(), M48 = new Vector3();
  const h66 = new Plane(), b55 = () => {
    t43.push(d73.clone()), t43.length === 1 ? (i65 === "xoz" && h66.setFromNormalAndCoplanarPoint(new Vector3(0, 1, 0), t43[0]), i65 === "none" && h66.setFromNormalAndCoplanarPoint(M48, t43[0])) : t43.length === 2 ? i65 === "y" || i65 === "xoz" ? (v58(), u72()) : g67.setPoints([t43[0], t43[1]]) : t43.length === 3 && (v58(), u72());
  }, x49 = (o71) => {
    var A62, R43;
    if (!(o71 != null && o71.raycaster))
      return;
    const z28 = (A62 = t43.at(-1)) == null ? void 0 : A62.clone();
    if (t43.length === 0) {
      d73 = o71.point.clone(), M48 = (R43 = o71.face) == null ? void 0 : R43.normal;
      return;
    }
    if (t43.length === 1 && i65 === "y") {
      const w49 = new Line3(new Vector3(0, 1, 0).add(t43[0]), new Vector3(0, -1, 0).add(t43[0])).closestPointToPoint(o71.point, false, new Vector3());
      s60.setPoints([t43[0], w49, o71.point]);
      return;
    }
    if (t43.length === 1 && i65 === "xoz") {
      const y51 = new Line3(new Vector3(1, 0, 0).add(t43[0]), new Vector3(-1, 0, 0).add(t43[0])), w49 = o71.raycaster.ray.intersectPlane(h66, new Vector3()), V25 = y51.closestPointToPoint(w49, false, new Vector3());
      s60.setPoints([t43[0], V25, w49]);
      return;
    }
    if (t43.length === 1 && i65 === "none") {
      h66 ? (d73 = o71.raycaster.ray.intersectPlane(h66, new Vector3()), m66.setPoints([d73, o71.point])) : d73 = o71.point.clone(), c85.setPoints([z28, d73]);
      return;
    }
    if (t43.length === 2 && i65 === "none") {
      l63.remove(c85);
      const y51 = o71.raycaster.ray.intersectPlane(h66, new Vector3()), w49 = t43[0].distanceTo(t43[1]) / 2, V25 = new Vector3().lerpVectors(t43[0], t43[1], 0.5), _32 = new Vector3().subVectors(y51, V25).normalize();
      d73 = new Vector3().addVectors(V25, _32.multiplyScalar(w49));
      const F45 = [t43[0], d73, t43[1]], O40 = f73(F45, p43.modules.five.camera.position);
      s60.setPoints(O40);
      return;
    }
  }, v58 = () => {
    e48.off("select", b55), e48.off("intersectionUpdate", x49), e48.off("disable", E53), e48.disable(), l63 == null || l63.remove(c85, g67, m66);
  }, E53 = () => {
    v58(), l63 == null || l63.remove(s60), f80(new Error("Cancelled"));
  };
  return e48.on("select", b55), e48.on("intersectionUpdate", x49), e48.on("disable", E53), a62;
}
function oe10(s60, e48, n72) {
  var C52;
  const { promise: a62, reject: f80, resolve: u72 } = i42(), l63 = s60.parent;
  if (!l63)
    return f80(new Error("No container"));
  const i65 = (C52 = n72 == null ? void 0 : n72.limit) != null ? C52 : "none", c85 = new x43(P52(p53({}, s60.style), { dashed: true })), m66 = new x43(P52(p53({}, s60.style), { dashed: true, lengthEnable: false })), g67 = new x43(P52(p53({}, s60.style), { dashed: false, lengthEnable: false }));
  l63.add(c85, g67, m66), e48.enable(), e48.setAdherePoints(ne12(e48.five, { excludes: [s60] }));
  const t43 = [];
  let d73 = new Vector3(), M48 = new Vector3();
  const h66 = new Plane(), b55 = () => {
    if (t43.push(d73.clone()), t43.length === 1)
      e48.planeMode = "onlyPlane", i65 === "y" && (e48.adhereLine = [new Line3(t43[0], new Vector3(0, 1, 0).add(t43[0]))]), i65 === "xoz" && (h66.setFromNormalAndCoplanarPoint(new Vector3(0, 1, 0), t43[0]), e48.plane = h66), i65 === "none" && (h66.setFromNormalAndCoplanarPoint(M48, t43[0]), e48.plane = h66);
    else if (t43.length === 2) {
      e48.planeMode = "vertical", i65 === "y" && (e48.adhereLine = []);
      let o71 = false;
      t43[0].x === t43[1].x && t43[0].z === t43[1].z && (o71 = true), i65 === "y" && !o71 && (h66.setFromCoplanarPoints(t43[0], t43[1], new Vector3(0, 1, 0).add(t43[0])), e48.plane = h66), g67.setPoints([t43[0], t43[1]]);
    } else
      t43.length === 3 && (v58(), u72());
  }, x49 = (o71) => {
    var A62, R43, y51, w49;
    if (!o71 || !(o71 != null && o71.raycaster))
      return;
    const z28 = (A62 = t43.at(-1)) == null ? void 0 : A62.clone();
    if (t43.length === 0) {
      d73 = o71.point.clone(), M48 = (R43 = o71.face) == null ? void 0 : R43.normal;
      return;
    }
    if (t43.length === 1) {
      d73 = o71.point, m66.setPoints([(y51 = o71.originalPoint) != null ? y51 : o71.point, o71.point]), c85.setPoints([z28, d73]);
      return;
    }
    if (t43.length === 2) {
      if (!e48.plane) {
        const k47 = l22([t43[0], t43[1], o71.point]);
        h66.setFromNormalAndCoplanarPoint(k47, t43[0]);
      }
      m66.setPoints([(w49 = o71.originalPoint) != null ? w49 : o71.point, o71.point]);
      const V25 = new Vector3().crossVectors(t43[0].clone().sub(t43[1]), h66.normal).normalize();
      d73 = new Line3(t43[1].clone().add(V25), t43[1].clone().sub(V25)).closestPointToPoint(o71.point, false, new Vector3());
      const F45 = [t43[0], t43[1], d73], O40 = f73(F45, p43.modules.five.camera.position);
      s60.setPoints(O40);
      return;
    }
  }, v58 = () => {
    e48.setAdherePoints([]), e48.adhereLine = [], e48.adherePlane = [], e48.plane = void 0, e48.off("select", b55), e48.off("intersectionUpdate", x49), e48.off("disable", E53), e48.disable(), l63 == null || l63.remove(c85, g67, m66);
  }, E53 = () => {
    v58(), l63 == null || l63.remove(s60), f80(new Error("Cancelled"));
  };
  return e48.on("select", b55), e48.on("intersectionUpdate", x49), e48.on("disable", E53), a62;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Editors/CircleMeshEditor.js
var s53 = class extends u60 {
  constructor(r66) {
    super(r66, () => ({ yAxis: () => r66.normal }));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/radiusToSegments.js
function n63(t43) {
  return Math.max(32, Math.min(128, Math.floor(t43 * 40)));
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Circle.js
var l56 = Object.defineProperty;
var _28 = (o71, i65, t43) => i65 in o71 ? l56(o71, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[i65] = t43;
var e44 = (o71, i65, t43) => (_28(o71, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var N31 = class extends A29 {
  constructor(t43) {
    super(t43);
    e44(this, "_normal");
    e44(this, "_center");
    e44(this, "_radius");
    t43 != null && t43.center && (t43 != null && t43.normal) && (t43 != null && t43.radius) && this.setPoints(t43);
  }
  get center() {
    return this.position.clone();
  }
  get normal() {
    return this._normal;
  }
  set normal(t43) {
    this._normal = t43;
  }
  get radius() {
    var t43, r66;
    return (r66 = (t43 = this.meshFont.geometry) == null ? void 0 : t43.parameters) == null ? void 0 : r66.radius;
  }
  setPoints(t43) {
    var r66, n72, s60;
    if (this._center = (r66 = t2(t43.center)) != null ? r66 : this._center, this._normal = ((n72 = t2(t43.normal)) != null ? n72 : this._normal).normalize(), this._radius = (s60 = t43.radius) != null ? s60 : this._radius, i7(this._radius) && this._radius !== this.radius) {
      const m66 = n63(this._radius);
      this.geometry = new CircleGeometry(this._radius, m66);
    }
    this._center && this.position.copy(this._center), this._normal && (this.lookAt(this._normal.clone().add(this._center)), this.normal = this._normal.clone()), this.needsRender = true;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/CircleWithEdge.js
var c79 = Object.defineProperty;
var r61 = Object.getOwnPropertySymbols;
var u65 = Object.prototype.hasOwnProperty;
var L36 = Object.prototype.propertyIsEnumerable;
var P53 = (i65, s60, e48) => s60 in i65 ? c79(i65, s60, { enumerable: true, configurable: true, writable: true, value: e48 }) : i65[s60] = e48;
var l57 = (i65, s60) => {
  var e48 = {};
  for (var t43 in i65)
    u65.call(i65, t43) && s60.indexOf(t43) < 0 && (e48[t43] = i65[t43]);
  if (i65 != null && r61)
    for (var t43 of r61(i65))
      s60.indexOf(t43) < 0 && L36.call(i65, t43) && (e48[t43] = i65[t43]);
  return e48;
};
var d66 = (i65, s60, e48) => (P53(i65, typeof s60 != "symbol" ? s60 + "" : s60, e48), e48);
var S51 = class extends N31 {
  constructor(e48) {
    const o71 = e48 != null ? e48 : {}, { normal: t43, radius: h66, center: n72 } = o71, g67 = l57(o71, ["normal", "radius", "center"]);
    super(g67);
    d66(this, "edgeLine");
    this.edgeLine = new Oe(g67), this.add(this.edgeLine), t43 && h66 && n72 && this.setPoints({ normal: t43, radius: h66, center: n72 });
  }
  setPoints(...e48) {
    super.setPoints(...e48);
    const t43 = this.meshFont.geometry.vertices.slice(1);
    this.edgeLine.setPoints(t43.concat(t43[0]));
  }
  setStyle(e48) {
    super.setStyle(e48), this.edgeLine.setStyle(e48);
  }
  highlight() {
    super.highlight(), this.edgeLine.highlight();
  }
  unhighlight() {
    super.unhighlight(), this.edgeLine.unhighlight();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Circle/index.js
var x46 = Object.defineProperty;
var _29 = Object.defineProperties;
var T34 = Object.getOwnPropertyDescriptors;
var u66 = Object.getOwnPropertySymbols;
var A57 = Object.prototype.hasOwnProperty;
var H35 = Object.prototype.propertyIsEnumerable;
var m60 = (r66, i65, e48) => i65 in r66 ? x46(r66, i65, { enumerable: true, configurable: true, writable: true, value: e48 }) : r66[i65] = e48;
var d67 = (r66, i65) => {
  for (var e48 in i65 || (i65 = {}))
    A57.call(i65, e48) && m60(r66, e48, i65[e48]);
  if (u66)
    for (var e48 of u66(i65))
      H35.call(i65, e48) && m60(r66, e48, i65[e48]);
  return r66;
};
var g60 = (r66, i65) => _29(r66, T34(i65));
var f74 = (r66, i65, e48) => (m60(r66, typeof i65 != "symbol" ? i65 + "" : i65, e48), e48);
var y49 = (r66, i65, e48) => new Promise((o71, t43) => {
  var a62 = (n72) => {
    try {
      c85(e48.next(n72));
    } catch (h66) {
      t43(h66);
    }
  }, s60 = (n72) => {
    try {
      c85(e48.throw(n72));
    } catch (h66) {
      t43(h66);
    }
  }, c85 = (n72) => n72.done ? o71(n72.value) : Promise.resolve(n72.value).then(a62, s60);
  c85((e48 = e48.apply(r66, i65)).next());
});
var L37 = class extends M42 {
  constructor(e48, o71) {
    super(e48, o71);
    f74(this, "type", "Circle");
    f74(this, "circleMesh");
    f74(this, "_editor");
    e48 && (this.circleMesh = new S51(d67(d67({}, e48.style), e48)), this.add(this.circleMesh));
  }
  get editor() {
    return this._editor || (this._editor = new s53(this.circleMesh)), this._editor;
  }
  get data() {
    return g60(d67({}, this.baseData), {
      center: a52(this.applyObjectMatrixWorld(this.circleMesh.center, this.circleMesh)),
      normal: a52(this.circleMesh.normal.clone().applyQuaternion(this.circleMesh.quaternion)),
      radius: this.circleMesh.radius,
      style: {
        color: this.circleMesh.color.getHex()
      }
    });
  }
  setData(e48) {
    this.circleMesh.setPoints({
      center: e48.center ? this.applyObjectReversalMatrixWorld(t2(e48.center), this.circleMesh) : void 0,
      normal: e48.normal ? t2(e48.normal) : void 0,
      radius: e48.radius
    }), this.circleMesh.setStyle(e48.style), this._editor && this._editor.initialHelperMatrix();
  }
  highlight() {
    var e48;
    (e48 = this.circleMesh) == null || e48.highlight();
  }
  unhighlight() {
    var e48;
    (e48 = this.circleMesh) == null || e48.unhighlight();
  }
  create(e48) {
    return y49(this, null, function* () {
      this.children.forEach((t43) => {
        t43.parent === this && this.remove(t43);
      }), this.children.length = 0;
      const o71 = new S51(e48);
      this.circleMesh = o71, this.add(this.circleMesh), yield D50(this.circleMesh, this.pointSelector), this.config.defaultAction && this.editor.enable();
    });
  }
};
function D50(r66, i65) {
  return new Promise((e48, o71) => {
    const t43 = r66.parent;
    if (!t43) {
      o71(new Error("No container"));
      return;
    }
    const a62 = new j31({ dashed: true });
    t43.add(a62), i65.enable();
    let s60, c85;
    const n72 = (l63) => {
      if (l63) {
        if (!s60) {
          s60 = {
            point: l63.point,
            normal: l63.face.normal
          };
          return;
        }
        s60 && c85 && (p66(), e48());
      }
    }, h66 = (l63) => {
      if (!l63 || !s60)
        return;
      const E53 = new Plane().setFromNormalAndCoplanarPoint(s60.normal, s60.point);
      if (c85 = l63.raycaster.ray.intersectPlane(E53, new Vector3()), c85) {
        const C52 = s60.point.distanceTo(c85);
        r66.setPoints({ center: s60.point, normal: s60.normal, radius: C52 });
      }
    }, p66 = () => {
      i65.off("select", n72), i65.off("intersectionUpdate", h66), i65.off("disable", M48), i65.disable(), t43 == null || t43.remove(a62);
    }, M48 = () => {
      p66(), t43 == null || t43.remove(r66, a62), o71(new Error("Cancelled"));
    };
    i65.on("select", n72), i65.on("intersectionUpdate", h66), i65.on("disable", M48);
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Cylinder.js
var g61 = Object.defineProperty;
var d68 = Object.getOwnPropertySymbols;
var u67 = Object.prototype.hasOwnProperty;
var p54 = Object.prototype.propertyIsEnumerable;
var n64 = (i65, e48, t43) => e48 in i65 ? g61(i65, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : i65[e48] = t43;
var l58 = (i65, e48) => {
  for (var t43 in e48 || (e48 = {}))
    u67.call(e48, t43) && n64(i65, t43, e48[t43]);
  if (d68)
    for (var t43 of d68(e48))
      p54.call(e48, t43) && n64(i65, t43, e48[t43]);
  return i65;
};
var o69 = (i65, e48, t43) => (n64(i65, typeof e48 != "symbol" ? e48 + "" : e48, t43), t43);
var H36 = class extends c16 {
  constructor(t43) {
    super();
    o69(this, "bottomCircle");
    o69(this, "topCircle");
    o69(this, "edgeMesh");
    o69(this, "highlighted", false);
    o69(this, "params");
    o69(this, "_topCenter");
    o69(this, "_bottomCenter");
    o69(this, "_radius");
    this.params = t43, this.bottomCircle = new S51(t43), this.bottomCircle.name = "bottomCircle", this.topCircle = new S51(t43), this.topCircle.name = "topCircle", this.edgeMesh = new A29(t43), t43 != null && t43.bottomCenter && (t43 != null && t43.topCenter) && (t43 != null && t43.radius) && this.setPoints(t43), this.addIfNotExists(this.bottomCircle);
  }
  get bottomCenter() {
    return this.bottomCircle.center;
  }
  get topCenter() {
    return this.topCircle.center;
  }
  get normal() {
    return this.bottomCircle.normal;
  }
  get radius() {
    return this.bottomCircle.radius;
  }
  get color() {
    return this.bottomCircle.color;
  }
  setPoints(t43) {
    var s60, r66;
    if (this._topCenter = (s60 = t2(t43.topCenter)) != null ? s60 : this.topCenter, this._bottomCenter = (r66 = t2(t43.bottomCenter)) != null ? r66 : this.bottomCenter, this._radius = i7(t43.radius) ? t43.radius : this.radius, this._topCenter && this._bottomCenter) {
      const c85 = this._topCenter.clone().sub(this._bottomCenter).normalize();
      this.bottomCircle.setPoints({ center: this._bottomCenter, normal: c85, radius: this._radius }), this.setTopCenter(this._topCenter);
    }
    this.needsRender = true;
  }
  setTopCenter(t43) {
    this.addIfNotExists(this.topCircle), this.topCircle.setPoints({ center: t43, normal: this.normal, radius: this.radius }), this.setEdgeMesh();
  }
  setBottomCenter(t43) {
    this.addIfNotExists(this.bottomCircle), this.bottomCircle.setPoints({ center: t43, normal: this.normal, radius: this.radius }), this.setEdgeMesh();
  }
  setStyle(t43) {
    this.params = l58(l58({}, this.params), t43), this.bottomCircle.setStyle(this.params), this.topCircle.setStyle(this.params);
  }
  highlight() {
    this.highlighted || (this.highlighted = true, this.edgeMesh.highlight(), this.bottomCircle.highlight(), this.topCircle.highlight(), this.needsRender = true);
  }
  unhighlight() {
    this.highlighted && (this.highlighted = false, this.edgeMesh.unhighlight(), this.bottomCircle.unhighlight(), this.topCircle.unhighlight(), this.needsRender = true);
  }
  setEdgeMesh() {
    this.addIfNotExists(this.edgeMesh);
    const t43 = this.topCircle.center, s60 = this.bottomCircle.center;
    this.edgeMesh.geometry.dispose(), this.edgeMesh.geometry = new CylinderGeometry(
      this.radius,
      this.radius,
      t43.distanceTo(s60),
      n63(this.radius),
      1,
      true
    );
    const r66 = new Quaternion().setFromUnitVectors(new Vector3(0, 1, 0), this.normal.clone().normalize());
    this.edgeMesh.position.copy(new Vector3().lerpVectors(s60, t43, 0.5)), this.edgeMesh.quaternion.copy(r66);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Editors/CylinderMeshEditor.js
var c80 = class extends u60 {
  constructor(o71) {
    super(o71, () => {
      const s60 = () => {
        const t43 = o71.topCenter, e48 = o71.bottomCenter, n72 = new Vector3().lerpVectors(t43, e48, 0.5);
        return { topCenter: t43, bottomCenter: e48, boxCenter: n72 };
      };
      return {
        positionFrom: "boundingBox",
        yAxis: () => o71.normal,
        scaleHelper: {
          enable: true,
          positions: () => {
            const t43 = s60();
            return [
              {
                id: "top",
                handlePosition: t43.topCenter,
                basePosition: t43.bottomCenter
              },
              {
                id: "bottom",
                handlePosition: t43.bottomCenter,
                basePosition: t43.topCenter
              }
            ];
          },
          scaleCallback: (t43) => {
            const { intersectPoint: e48, scalePosition: n72 } = t43, { id: r66 } = n72;
            r66 === "top" ? o71.setTopCenter(e48) : r66 === "bottom" && o71.setBottomCenter(e48);
          }
        }
      };
    });
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Cylinder/index.js
var E51 = Object.defineProperty;
var L38 = Object.defineProperties;
var T35 = Object.getOwnPropertyDescriptors;
var g62 = Object.getOwnPropertySymbols;
var W23 = Object.prototype.hasOwnProperty;
var A58 = Object.prototype.propertyIsEnumerable;
var p55 = (i65, t43, e48) => t43 in i65 ? E51(i65, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : i65[t43] = e48;
var d69 = (i65, t43) => {
  for (var e48 in t43 || (t43 = {}))
    W23.call(t43, e48) && p55(i65, e48, t43[e48]);
  if (g62)
    for (var e48 of g62(t43))
      A58.call(t43, e48) && p55(i65, e48, t43[e48]);
  return i65;
};
var w44 = (i65, t43) => L38(i65, T35(t43));
var m61 = (i65, t43, e48) => (p55(i65, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var f75 = (i65, t43, e48) => new Promise((o71, s60) => {
  var c85 = (r66) => {
    try {
      n72(e48.next(r66));
    } catch (l63) {
      s60(l63);
    }
  }, h66 = (r66) => {
    try {
      n72(e48.throw(r66));
    } catch (l63) {
      s60(l63);
    }
  }, n72 = (r66) => r66.done ? o71(r66.value) : Promise.resolve(r66.value).then(c85, h66);
  n72((e48 = e48.apply(i65, t43)).next());
});
var Y22 = class extends M42 {
  constructor(e48, o71) {
    super(e48, o71);
    m61(this, "type", "Cylinder");
    m61(this, "cylinderMesh");
    m61(this, "_editor");
    e48 && (this.cylinderMesh = new H36(d69(d69({}, e48.style), e48)), this.add(this.cylinderMesh));
  }
  get editor() {
    return this._editor || (this._editor = new c80(this.cylinderMesh)), this._editor;
  }
  get data() {
    return w44(d69({}, this.baseData), {
      bottomCenter: a52(this.applyObjectMatrixWorld(this.cylinderMesh.bottomCenter, this.cylinderMesh)),
      topCenter: a52(this.applyObjectMatrixWorld(this.cylinderMesh.topCenter, this.cylinderMesh)),
      radius: this.cylinderMesh.radius,
      style: {
        color: this.cylinderMesh.color.getHex()
      }
    });
  }
  setData(e48) {
    this.cylinderMesh.setPoints({
      bottomCenter: e48.bottomCenter ? this.applyObjectReversalMatrixWorld(t2(e48.bottomCenter), this.cylinderMesh) : void 0,
      topCenter: e48.topCenter ? this.applyObjectReversalMatrixWorld(t2(e48.topCenter), this.cylinderMesh) : void 0
    }), this.cylinderMesh.setStyle(e48.style), this._editor && this._editor.initialHelperMatrix();
  }
  highlight() {
    var e48;
    (e48 = this.cylinderMesh) == null || e48.highlight();
  }
  unhighlight() {
    var e48;
    (e48 = this.cylinderMesh) == null || e48.unhighlight();
  }
  create(e48) {
    return f75(this, null, function* () {
      this.cylinderMesh = new H36(e48), this.add(this.cylinderMesh), yield B39(this.cylinderMesh, this.pointSelector), this.config.defaultAction && this.editor.enable();
    });
  }
};
function B39(i65, t43) {
  return f75(this, null, function* () {
    const e48 = i65.parent;
    yield D50(i65.bottomCircle, t43);
    const o71 = new Oe();
    o71.name = "LineHelper", e48.add(o71);
    const s60 = t43.position.point, c85 = i65.normal.clone().normalize(), h66 = s60.clone().add(c85.clone().multiplyScalar(100)), n72 = s60.clone().sub(c85.clone().multiplyScalar(100));
    return o71.setPoints([h66, n72]), t43.enable(), new Promise((r66, l63) => {
      const C52 = (a62) => {
        u72(), r66();
      }, M48 = (a62) => {
        if (!(a62 != null && a62.raycaster))
          return;
        const y51 = w5({
          raycaster: a62.raycaster,
          line: new Line3(h66, n72)
        }), j37 = new Plane().setFromNormalAndCoplanarPoint(i65.normal, i65.bottomCenter).projectPoint(y51, new Vector3()), H39 = y51.clone().sub(j37), _32 = i65.bottomCenter.clone().add(H39);
        y51 && i65.setTopCenter(_32);
      }, u72 = () => {
        t43.off("select", C52), t43.off("intersectionUpdate", M48), t43.off("disable", P55), e48.remove(o71), t43.disable();
      }, P55 = () => {
        u72(), e48.remove(i65), l63(new Error("Cancelled"));
      };
      t43.on("select", C52), t43.on("intersectionUpdate", M48), t43.on("disable", P55);
    });
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Editors/BoxMeshEditor.js
var V22 = class extends u60 {
  constructor(e48) {
    super(e48, () => ({
      positionFrom: () => e48.worldCenter,
      yAxis: () => new Vector3().subVectors(e48.topPosition, e48.bottomPositions[0]).normalize(),
      zAxis: () => new Vector3().subVectors(e48.bottomPositions[0], e48.bottomPositions[1]).normalize(),
      scaleHelper: {
        enable: true,
        positions: () => {
          const l63 = e48.bottomPositions, c85 = e48.topPosition, a62 = new Vector3().subVectors(c85, l63[0]), s60 = new Vector3().subVectors(l63[1], l63[0]), i65 = new Vector3().subVectors(l63[2], l63[1]), o71 = e48.geometryInfo.center, f80 = o71.clone().sub(a62.clone().divideScalar(2)), d73 = o71.clone().add(a62.clone().divideScalar(2)), n72 = o71.clone().sub(s60.clone().divideScalar(2)), t43 = o71.clone().add(s60.clone().divideScalar(2)), P55 = o71.clone().sub(i65.clone().divideScalar(2)), b55 = o71.clone().add(i65.clone().divideScalar(2));
          return [
            {
              id: "top",
              handlePosition: d73,
              basePosition: f80
            },
            {
              id: "bottom",
              handlePosition: f80,
              basePosition: d73
            },
            {
              id: "left",
              handlePosition: n72,
              basePosition: t43
            },
            {
              id: "right",
              handlePosition: t43,
              basePosition: n72
            },
            {
              id: "front",
              handlePosition: P55,
              basePosition: b55
            },
            {
              id: "back",
              handlePosition: b55,
              basePosition: P55
            }
          ];
        },
        scaleCallback: (l63) => {
          const { intersectPoint: c85, scalePosition: a62 } = l63, { id: s60, basePosition: i65 } = a62, o71 = e48.bottomPositions, f80 = e48.topPositions;
          let d73 = new Vector3().subVectors(e48.topPosition, o71[0]), n72;
          if (s60 === "top")
            d73 = c85.clone().sub(i65), n72 = o71;
          else if (s60 === "bottom") {
            const t43 = c85.clone().sub(i65);
            n72 = f80.map((P55) => P55.clone().add(t43)), d73 = void 0;
          } else if (s60 === "left") {
            const t43 = c85.clone().sub(i65);
            n72 = [
              o71[1].clone().add(t43),
              o71[1],
              o71[2],
              o71[2].clone().add(t43)
            ];
          } else if (s60 === "right") {
            const t43 = c85.clone().sub(i65);
            n72 = [
              o71[0],
              o71[0].clone().add(t43),
              o71[3].clone().add(t43),
              o71[3]
            ];
          } else if (s60 === "front") {
            const t43 = c85.clone().sub(i65);
            n72 = [
              o71[3].clone().add(t43),
              o71[2].clone().add(t43),
              o71[2],
              o71[3]
            ];
          } else if (s60 === "back") {
            const t43 = c85.clone().sub(i65);
            n72 = [
              o71[0],
              o71[1],
              o71[1].clone().add(t43),
              o71[0].clone().add(t43)
            ];
          }
          e48.setPoints({
            points: n72,
            heightPoint: d73 ? n72[0].clone().add(d73) : void 0
          });
        }
      }
    }));
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Meshes/Box.js
var m62 = Object.defineProperty;
var h58 = (e48, t43, o71) => t43 in e48 ? m62(e48, t43, { enumerable: true, configurable: true, writable: true, value: o71 }) : e48[t43] = o71;
var n65 = (e48, t43, o71) => (h58(e48, typeof t43 != "symbol" ? t43 + "" : t43, o71), o71);
var p56 = class extends H34 {
  constructor() {
    super(...arguments);
    n65(this, "name", "BoxMesh");
  }
  get geometryInfo() {
    if (this.geometryInfoNeedUpdate) {
      this.geometryInfoNeedUpdate = false;
      const o71 = this.bottomPositions, s60 = this.topPosition;
      if (!o71 || o71.length < 3 || !s60) {
        this._geometryInfoCache = void 0;
        return;
      }
      const i65 = c9(...o71), r66 = s60.clone().sub(o71[0]), c85 = i65.clone().add(r66.clone().divideScalar(2));
      this._geometryInfoCache = { center: c85 };
    }
    return this._geometryInfoCache;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Box/index.js
var H37 = Object.defineProperty;
var R40 = Object.defineProperties;
var _30 = Object.getOwnPropertyDescriptors;
var w45 = Object.getOwnPropertySymbols;
var C50 = Object.prototype.hasOwnProperty;
var j35 = Object.prototype.propertyIsEnumerable;
var b54 = (e48, o71, t43) => o71 in e48 ? H37(e48, o71, { enumerable: true, configurable: true, writable: true, value: t43 }) : e48[o71] = t43;
var m63 = (e48, o71) => {
  for (var t43 in o71 || (o71 = {}))
    C50.call(o71, t43) && b54(e48, t43, o71[t43]);
  if (w45)
    for (var t43 of w45(o71))
      j35.call(o71, t43) && b54(e48, t43, o71[t43]);
  return e48;
};
var v55 = (e48, o71) => R40(e48, _30(o71));
var d70 = (e48, o71, t43) => (b54(e48, typeof o71 != "symbol" ? o71 + "" : o71, t43), t43);
var p57 = (e48, o71, t43) => new Promise((l63, a62) => {
  var i65 = (s60) => {
    try {
      n72(t43.next(s60));
    } catch (r66) {
      a62(r66);
    }
  }, h66 = (s60) => {
    try {
      n72(t43.throw(s60));
    } catch (r66) {
      a62(r66);
    }
  }, n72 = (s60) => s60.done ? l63(s60.value) : Promise.resolve(s60.value).then(i65, h66);
  n72((t43 = t43.apply(e48, o71)).next());
});
var ot6 = class extends M42 {
  constructor(t43, l63) {
    super(t43, l63);
    d70(this, "type", "Box");
    d70(this, "boxMesh");
    d70(this, "_editor");
    t43 && (this.boxMesh = new p56(m63(m63({}, t43.style), t43)), this.add(this.boxMesh));
  }
  get editor() {
    return this._editor || (this._editor = new V22(this.boxMesh)), this._editor;
  }
  get data() {
    return v55(m63({}, this.baseData), {
      points: a52(this.applyObjectMatrixWorld(this.boxMesh.bottomPositions, this.boxMesh)),
      heightPoint: a52(this.applyObjectMatrixWorld(this.boxMesh.topPosition, this.boxMesh)),
      style: {
        color: this.boxMesh.color.getHex(),
        opacity: this.boxMesh.opacity,
        lineWidth: this.boxMesh.lineWidth,
        lineColor: this.boxMesh.lineColor.getHex()
      }
    });
  }
  setData(t43) {
    this.boxMesh.setPoints({
      points: t43.points ? this.applyObjectReversalMatrixWorld(t43.points.map(t2), this.boxMesh) : void 0,
      heightPoint: t43.heightPoint ? this.applyObjectReversalMatrixWorld(t2(t43.heightPoint), this.boxMesh) : void 0
    }), this.boxMesh.setStyle(t43.style), this._editor && this._editor.initialHelperMatrix();
  }
  highlight() {
    var t43;
    (t43 = this.boxMesh) == null || t43.highlight();
  }
  unhighlight() {
    var t43;
    (t43 = this.boxMesh) == null || t43.unhighlight();
  }
  create(t43) {
    return p57(this, null, function* () {
      this.removeChildren(), this.boxMesh = new p56(t43), this.add(this.boxMesh), yield z26(this.boxMesh, this.pointSelector, t43), this.config.defaultAction && this.editor.enable();
    });
  }
};
function z26(e48, o71, t43) {
  return p57(this, null, function* () {
    return new Promise((l63, a62) => p57(this, null, function* () {
      const i65 = e48.parent;
      if (!i65) {
        a62(new Error("No container"));
        return;
      }
      const h66 = new W21(e48.style);
      i65.add(h66), yield te9(h66, o71, t43), i65.remove(h66), e48.setPoints({ points: h66.points });
      const n72 = new Oe(), s60 = l22(e48.bottomPositions), r66 = c9(...e48.bottomPositions), f80 = r66.clone().add(s60.clone().multiplyScalar(100)), x49 = r66.clone().sub(s60.clone().multiplyScalar(100));
      n72.setPoints([f80, x49]), i65.add(n72), o71.enable();
      const g67 = (c85) => {
        M48(), l63();
      }, y51 = (c85) => {
        if (!(c85 != null && c85.raycaster))
          return;
        const u72 = w5({
          raycaster: c85.raycaster,
          line: new Line3(f80, x49)
        });
        if (u72) {
          const B42 = u72.clone().sub(r66);
          e48.setPoints({ heightPoint: e48.bottomPositions[0].clone().add(B42) });
        }
      }, M48 = () => {
        o71.off("select", g67), o71.off("intersectionUpdate", y51), o71.off("disable", P55), o71.disable(), i65 == null || i65.remove(n72);
      }, P55 = () => {
        M48(), i65 == null || i65.remove(e48), a62(new Error("Cancelled"));
      };
      o71.on("select", g67), o71.on("intersectionUpdate", y51), o71.on("disable", P55);
    }));
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/forReverseEach.js
function f76(o71, t43) {
  for (let e48 = o71.length - 1; e48 >= 0; e48--)
    t43(o71[e48]);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/Objects/Line/index.js
var A59 = Object.defineProperty;
var D51 = Object.defineProperties;
var k45 = Object.getOwnPropertyDescriptors;
var R41 = Object.getOwnPropertySymbols;
var z27 = Object.prototype.hasOwnProperty;
var B40 = Object.prototype.propertyIsEnumerable;
var j36 = (n72, t43, e48) => t43 in n72 ? A59(n72, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : n72[t43] = e48;
var f77 = (n72, t43) => {
  for (var e48 in t43 || (t43 = {}))
    z27.call(t43, e48) && j36(n72, e48, t43[e48]);
  if (R41)
    for (var e48 of R41(t43))
      B40.call(t43, e48) && j36(n72, e48, t43[e48]);
  return n72;
};
var v56 = (n72, t43) => D51(n72, k45(t43));
var p58 = (n72, t43, e48) => (j36(n72, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var U29 = (n72, t43, e48) => new Promise((s60, m66) => {
  var P55 = (o71) => {
    try {
      c85(e48.next(o71));
    } catch (l63) {
      m66(l63);
    }
  }, b55 = (o71) => {
    try {
      c85(e48.throw(o71));
    } catch (l63) {
      m66(l63);
    }
  }, c85 = (o71) => o71.done ? s60(o71.value) : Promise.resolve(o71.value).then(P55, b55);
  c85((e48 = e48.apply(n72, t43)).next());
});
var ne13 = class extends M42 {
  constructor(e48, s60) {
    super(e48, s60);
    p58(this, "type", "Line");
    p58(this, "lineMesh");
    p58(this, "_editor");
    p58(this, "creatingObject");
    e48 && (this.lineMesh = new z10(f77(f77({}, e48.style), e48)), this.add(this.lineMesh));
  }
  get editor() {
    return this._editor || (this._editor = new H32(this)), this._editor;
  }
  get data() {
    return v56(f77({}, this.baseData), {
      points: a52(this.applyObjectMatrixWorld(this.lineMesh.points)),
      style: {
        lineColor: new Color(this.lineMesh.color).getHex(),
        lineWidth: this.lineMesh.lineWidth,
        dashed: this.lineMesh.dashed
      }
    });
  }
  setData(e48) {
    e48.points && this.lineMesh.setPoints(e48.points), this.lineMesh.setStyle(e48.style);
  }
  highlight() {
    var e48;
    (e48 = this.lineMesh) == null || e48.highlight();
  }
  unhighlight() {
    var e48;
    (e48 = this.lineMesh) == null || e48.unhighlight();
  }
  canUndo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.canUndo();
  }
  canRedo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.canRedo();
  }
  undo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.undo();
  }
  redo() {
    var e48;
    (e48 = this.creatingObject) == null || e48.redo();
  }
  create(e48) {
    return U29(this, null, function* () {
      this.removeChildren();
      const s60 = new z10(e48);
      this.lineMesh = s60, this.add(this.lineMesh), this.creatingObject = J32(s60, this.pointSelector, e48), yield this.creatingObject.finished, this.config.defaultAction && this.editor.enable();
    });
  }
};
function J32(n72, t43, e48) {
  var C52;
  const s60 = n72.parent;
  if (!s60)
    return;
  const { promise: m66, resolve: P55, reject: b55 } = i42(), c85 = (C52 = e48 == null ? void 0 : e48.limit) != null ? C52 : "none", o71 = new Oe(n72.style);
  s60.add(o71);
  const l63 = new Oe(v56(f77({}, n72.style), { dashed: true, lengthEnable: false }));
  s60.add(l63), t43.enable();
  const i65 = [];
  let h66, d73, y51;
  const g67 = [], M48 = () => i65.length > 0, O40 = () => g67.length > 0, W25 = () => {
    M48() && (g67.push(i65.pop()), n72.setPoints(i65), u72(y51), t43.pointSelectorHelper.magnifier.render());
  }, _32 = () => {
    O40() && (i65.push(g67.pop()), n72.setPoints(i65), u72(y51), t43.pointSelectorHelper.magnifier.render());
  }, E53 = (r66) => {
    if (!r66)
      return;
    g67.length = 0;
    const w49 = i65.length === 0 ? r66.point : h66.clone();
    i65.push(w49), n72.setPoints(i65), i65.length === 2 && (V25(), P55());
  }, u72 = (r66) => {
    const w49 = () => {
      o71.setPoints([]), l63.setPoints([]), t43.pointSelectorHelper.magnifier.render();
    };
    if (!(i65 != null && i65.length) || !r66)
      return w49();
    y51 = r66;
    const L40 = i65.at(-1).clone();
    c85 === "none" ? (h66 = r66.point, o71.setPoints([L40, h66])) : c85 === "xoz" ? (t43.plane = d73, d73 = d73 != null ? d73 : new Plane().setFromNormalAndCoplanarPoint(new Vector3(0, 1, 0), i65[0]), h66 = d73.projectPoint(r66.point, new Vector3()), o71.setPoints([L40, h66]), l63.setPoints([h66, r66.point])) : c85 === "y" && (r66.isVirtual ? (h66 = w5({
      raycaster: r66.raycaster,
      line: new Line3(i65[0].clone(), new Vector3(0, 1, 0).add(i65[0])),
      clampToLine: false
    }), l63.setPoints([])) : (h66 = new Line3(i65[0].clone(), new Vector3(0, 1, 0).add(i65[0])).closestPointToPoint(r66.point, false, new Vector3()), l63.setPoints([h66, r66.point])), o71.setPoints([L40, h66]));
  }, V25 = () => {
    t43.off("select", E53), t43.off("intersectionUpdate", u72), t43.off("disable", x49), t43.plane = null, t43.disable(), s60 == null || s60.remove(o71, l63);
  }, x49 = () => {
    V25(), i65.length !== 2 && (s60 == null || s60.remove(n72)), b55(new Error("Cancelled"));
  };
  return t43.on("select", E53), t43.on("intersectionUpdate", u72), t43.on("disable", x49), {
    finished: m66,
    canUndo: M48,
    canRedo: O40,
    undo: W25,
    redo: _32
  };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/index.js
var L39 = Object.defineProperty;
var B41 = Object.defineProperties;
var U30 = Object.getOwnPropertyDescriptors;
var y50 = Object.getOwnPropertySymbols;
var _31 = Object.prototype.hasOwnProperty;
var x47 = Object.prototype.propertyIsEnumerable;
var g63 = (c85, i65, e48) => i65 in c85 ? L39(c85, i65, { enumerable: true, configurable: true, writable: true, value: e48 }) : c85[i65] = e48;
var a58 = (c85, i65) => {
  for (var e48 in i65 || (i65 = {}))
    _31.call(i65, e48) && g63(c85, e48, i65[e48]);
  if (y50)
    for (var e48 of y50(i65))
      x47.call(i65, e48) && g63(c85, e48, i65[e48]);
  return c85;
};
var f78 = (c85, i65) => B41(c85, U30(i65));
var h59 = (c85, i65, e48) => (g63(c85, typeof i65 != "symbol" ? i65 + "" : i65, e48), e48);
var m64 = (c85, i65, e48) => new Promise((t43, r66) => {
  var l63 = (s60) => {
    try {
      o71(e48.next(s60));
    } catch (d73) {
      r66(d73);
    }
  }, n72 = (s60) => {
    try {
      o71(e48.throw(s60));
    } catch (d73) {
      r66(d73);
    }
  }, o71 = (s60) => s60.done ? t43(s60.value) : Promise.resolve(s60.value).then(l63, n72);
  o71((e48 = e48.apply(c85, i65)).next());
});
var u68 = class extends E3 {
  constructor(e48, t43) {
    super();
    h59(this, "group");
    h59(this, "theme");
    h59(this, "five");
    h59(this, "creatingItem", null);
    h59(this, "undo", () => {
      var e49;
      console.log("undo"), (e49 = this.creatingItem) == null || e49.undo(), this.five.needsRender = true;
    });
    h59(this, "redo", () => {
      var e49;
      console.log("redo"), (e49 = this.creatingItem) == null || e49.redo(), this.five.needsRender = true;
    });
    this.five = e48, this.theme = t43, this.group = new c16(), this.group.name = "Sculpt", e48.scene.add(this.group), u68.modules.init(e48), K14("ctrl+z, command+z", this.undo), K14("ctrl+shift+z, command+shift+z", this.redo), u68.modules.fiveDomEvents.addEventListener(this.group, "click", ({ intersects: r66, origDomEvent: l63 }) => {
      var o71;
      const n72 = u59((o71 = r66 == null ? void 0 : r66[0]) == null ? void 0 : o71.object, (s60) => s60.isSculptObject);
      return n72 && !n72.editing ? this.emit("click", l63, n72) : false;
    }), window.__SCULPT_DEBUG__ = this, window.__SCULPT_MODULES_DEBUG__ = u68.modules;
  }
  get data() {
    return {
      items: this.items.map((e48) => {
        try {
          return e48.data;
        } catch (t43) {
          return console.error(t43), null;
        }
      }).filter(i7)
    };
  }
  get items() {
    return this.group.children;
  }
  /**
   * @description: 加载数据 展示
   */
  load(e48, t43) {
    var l63;
    this.clear();
    const r66 = (l63 = e48 == null ? void 0 : e48.items) == null ? void 0 : l63.map((n72) => {
      var s60;
      const o71 = f78(a58({}, n72), {
        style: a58(a58({}, (s60 = this.theme) == null ? void 0 : s60[n72.type.toLowerCase()]), n72.style)
      });
      return n72.type === "Point" ? new B38(o71, t43) : n72.type === "line" ? new ne13(o71, t43) : n72.type === "Polyline" ? new $22(o71, t43) : n72.type === "Polygon" ? new ie9(o71, t43) : n72.type === "Prism" ? new Z17(o71, t43) : n72.type === "Rectangle" ? new ge9(o71, t43) : n72.type === "Circle" ? new L37(o71, t43) : n72.type === "Cylinder" ? new Y22(o71, t43) : n72.type === "Box" ? new ot6(o71, t43) : null;
    });
    this.group.add(...r66), this.five.needsRender = true;
  }
  /**
   * @description: 获取物体实例
   */
  getItemById(e48) {
    return this.items.find((t43) => t43.uuid === e48);
  }
  /**
   * @description: 放置物体
   */
  putObject(e48) {
    var l63;
    this.group.add(e48);
    const t43 = u68.modules.object3DHelper, r66 = t43.addObject3DHelper(e48);
    return (l63 = r66 == null ? void 0 : r66.moveController) == null || l63.moveByMouse(), t43;
  }
  /**
   * @description: 开始绘制点
   */
  createPoint(...e48) {
    return m64(this, null, function* () {
      var t43, r66;
      return Object.assign((t43 = e48[0]) != null ? t43 : {}, (r66 = this.theme) == null ? void 0 : r66.point, e48[0]), this.createItem(B38, ...e48);
    });
  }
  /**
   * @description: 开始绘制线段
   */
  createLine(...e48) {
    return m64(this, null, function* () {
      var t43, r66;
      return Object.assign((t43 = e48[0]) != null ? t43 : {}, (r66 = this.theme) == null ? void 0 : r66.line, e48[0]), this.createItem(ne13, ...e48);
    });
  }
  /**
   * @deprecated use createLine instead
   */
  createline(...e48) {
    return m64(this, null, function* () {
      this.createLine(...e48);
    });
  }
  /**
   * @description: 开始绘制空间折线
   */
  createPolyline(...e48) {
    return m64(this, null, function* () {
      var t43, r66;
      return Object.assign((t43 = e48[0]) != null ? t43 : {}, (r66 = this.theme) == null ? void 0 : r66.polyline, e48[0]), this.createItem($22, ...e48);
    });
  }
  /**
   * @description: 开始绘制平面多边形
   */
  createPolygon(...e48) {
    return m64(this, null, function* () {
      var t43, r66;
      return Object.assign((t43 = e48[0]) != null ? t43 : {}, (r66 = this.theme) == null ? void 0 : r66.polygon, e48[0]), this.createItem(ie9, ...e48);
    });
  }
  /**
   * @description: 开始绘制多棱柱
   */
  createPrism(...e48) {
    return m64(this, null, function* () {
      var t43, r66;
      return Object.assign((t43 = e48[0]) != null ? t43 : {}, (r66 = this.theme) == null ? void 0 : r66.prism, e48[0]), this.createItem(Z17, ...e48);
    });
  }
  /**
   * @description: 开始绘制矩形
   */
  createRectangle(...e48) {
    return m64(this, null, function* () {
      var t43, r66;
      return Object.assign((t43 = e48[0]) != null ? t43 : {}, (r66 = this.theme) == null ? void 0 : r66.rectangle, e48[0]), this.createItem(ge9, ...e48);
    });
  }
  /**
   * @description: 开始绘制圆形
   */
  createCircle(...e48) {
    return m64(this, null, function* () {
      var t43, r66;
      return Object.assign((t43 = e48[0]) != null ? t43 : {}, (r66 = this.theme) == null ? void 0 : r66.circle, e48[0]), this.createItem(L37, ...e48);
    });
  }
  /**
   * @description: 开始绘制圆柱
   */
  createCylinder(...e48) {
    return m64(this, null, function* () {
      var t43, r66;
      return Object.assign((t43 = e48[0]) != null ? t43 : {}, (r66 = this.theme) == null ? void 0 : r66.cylinder, e48[0]), this.createItem(Y22, ...e48);
    });
  }
  /**
   * @description: 开始绘制 Box
   */
  createBox(...e48) {
    return m64(this, null, function* () {
      var t43, r66;
      return Object.assign((t43 = e48[0]) != null ? t43 : {}, (r66 = this.theme) == null ? void 0 : r66.box, e48[0]), this.createItem(ot6, ...e48);
    });
  }
  canUndo() {
    var e48;
    return this.creatingItem ? (e48 = this.creatingItem) == null ? void 0 : e48.canUndo() : false;
  }
  canRedo() {
    var e48;
    return this.creatingItem ? (e48 = this.creatingItem) == null ? void 0 : e48.canRedo() : false;
  }
  /**
   * @description: 清空数据
   */
  clear() {
    f76(this.items, (e48) => e48.delete()), this.five.needsRender = true;
  }
  createItem(e48, ...t43) {
    return m64(this, null, function* () {
      this.creatingItem && (this.creatingItem.stopCreating(), this.creatingItem = null);
      const r66 = new e48();
      this.creatingItem = r66, this.group.add(r66);
      const { promise: l63, resolve: n72, reject: o71 } = i42();
      return yield r66.create(...t43).then((...s60) => (this.creatingItem = null, n72(r66), s60)).catch((s60) => {
        o71(s60), this.group.remove(r66);
      }), l63;
    });
  }
};
var p43 = u68;
h59(p43, "modules", v50);
var fe9 = (c85, i65) => new p43(c85, i65);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/addIfNotExists.js
function n66(i65, ...f80) {
  f80.forEach((d73) => {
    i65.children.includes(d73) || d73 && i65.add(d73);
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelMakerPlugin/item/baseItem.js
var p59 = Object.defineProperty;
var h60 = (o71, e48, i65) => e48 in o71 ? p59(o71, e48, { enumerable: true, configurable: true, writable: true, value: i65 }) : o71[e48] = i65;
var t42 = (o71, e48, i65) => (h60(o71, typeof e48 != "symbol" ? e48 + "" : e48, i65), i65);
var Mi = class extends E3 {
  constructor(i65) {
    var s60, m66;
    super();
    t42(this, "__renderer");
    t42(this, "__disposeRenderer");
    t42(this, "type");
    t42(this, "tag");
    t42(this, "rawData");
    t42(this, "model");
    t42(this, "visibles", []);
    t42(this, "five");
    t42(this, "group");
    t42(this, "fiveDomEvents");
    t42(this, "disposers", []);
    this.five = i65.five, this.model = i65.model, this.group = i65.group, this.type = i65.type, this.rawData = i65.rawData, this.fiveDomEvents = i65.fiveDomEvents;
    const r66 = (m66 = (s60 = i65.position) != null ? s60 : this.model.center) != null ? m66 : R7(this.model).getCenter(new Vector3());
    this.tag = Q3(this.five, r66, { wrapper: i65.tagWrapper, disableOpacityTransition: this.type === "prism" }), this.tag.extraObjectsForIntersectCheck.push(this.group);
  }
  get container() {
    return this.tag.container;
  }
  get state() {
    return {
      visible: this.model.visible,
      enabled: this.group.children.includes(this.model)
    };
  }
  show() {
    this.visibles[0] = true, this.updateVisible(), this.emit("show");
  }
  hide() {
    this.visibles[0] = false, this.updateVisible(), this.emit("hide");
  }
  enable() {
    n66(this.group, this.model), this.five.needsRender = true, this.model.updateMatrixWorld(true), this.tag.setTransformMatrix(this.model.matrixWorld), this.tag.enable();
    const i65 = this.onClick.bind(this);
    this.fiveDomEvents.removeEventListener(this.model, "click"), this.fiveDomEvents.addEventListener(this.model, "click", i65, { skipPano: true }), this.disposers.push(() => {
      this.fiveDomEvents.removeEventListener(this.model, "click");
    }), this.updateVisible(), this.emit("enable");
  }
  disable() {
    this.group.remove(this.model), this.five.needsRender = true, this.tag.disable(), this.disposers.forEach((i65) => i65()), this.disposers = [], this.emit("disable");
  }
  updateVisible() {
    !this.visibles.some((r66) => r66 === false) ? (this.tag.show(), this.model.visible = true) : (this.tag.hide(), this.model.visible = false), this.five.needsRender = true;
  }
  onClick() {
    return this.emit("click", this);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelMakerPlugin/item/boxItem.js
var p60 = Object.defineProperty;
var m65 = (o71, i65, t43) => i65 in o71 ? p60(o71, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[i65] = t43;
var r62 = (o71, i65, t43) => (m65(o71, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var Mi2 = class extends Mi {
  constructor(...t43) {
    super(...t43);
    r62(this, "hideTag", () => {
      this.tag.hide();
    });
    this.enable(), this.tag.hide(), this.updateVisible();
  }
  enable() {
    super.enable(), this.five.on("mode.change.request", this.hideTag), this.five.on("pano.request", this.hideTag);
  }
  disable() {
    super.disable(), this.five.needsRender = true, this.five.off("mode.change.request", this.hideTag), this.five.off("pano.request", this.hideTag);
  }
  show() {
    super.show(), this.tag.hide();
  }
  updateVisible() {
    !this.visibles.some((e48) => e48 === false) ? this.model.visible = true : (this.tag.hide(), this.model.visible = false), this.five.needsRender = true;
  }
  onClick() {
    return this.tag.visible ? this.tag.hide() : this.tag.show({ force: true }), super.onClick(), true;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelMakerPlugin/utils/Text.js
function h61(i65) {
  Qt2(i65, "svelte-1q9fx3x", ".model-maker-tag.svelte-1q9fx3x{position:absolute;width:-moz-max-content;width:max-content;left:50%;top:50%;transform:translate(-50%, -50%);color:#fff;font-size:0.875rem;font-weight:bold;text-shadow:0.125rem 0 0.5rem rgba(0, 0, 0, 0.15)}");
}
function l59(i65) {
  let n72, t43;
  return {
    c() {
      n72 = K4("div"), t43 = gt(
        /*text*/
        i65[0]
      ), te2(n72, "class", "model-maker-tag svelte-1q9fx3x");
    },
    m(e48, o71) {
      Nt(e48, n72, o71), pt(n72, t43);
    },
    p(e48, o71) {
      o71 & /*text*/
      1 && ee2(
        t43,
        /*text*/
        e48[0]
      );
    },
    d(e48) {
      e48 && J4(n72);
    }
  };
}
function k46(i65) {
  let n72, t43 = (
    /*text*/
    i65[0] && l59(i65)
  );
  return {
    c() {
      t43 && t43.c(), n72 = Yt();
    },
    m(e48, o71) {
      t43 && t43.m(e48, o71), Nt(e48, n72, o71);
    },
    p(e48, [o71]) {
      e48[0] ? t43 ? t43.p(e48, o71) : (t43 = l59(e48), t43.c(), t43.m(n72.parentNode, n72)) : t43 && (t43.d(1), t43 = null);
    },
    i: N4,
    o: N4,
    d(e48) {
      t43 && t43.d(e48), e48 && J4(n72);
    }
  };
}
function q37(i65, n72, t43) {
  let { text: e48 } = n72;
  return i65.$$set = (o71) => {
    "text" in o71 && t43(0, e48 = o71.text);
  }, [e48];
}
var g64 = class extends Ce {
  constructor(n72) {
    super(), Te(this, n72, q37, k46, Ft, { text: 0 }, h61);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelMakerPlugin/utils/tagRenderer.js
var n67 = (e48, r66) => {
  var t43;
  const o71 = new g64({
    target: e48,
    props: { text: (t43 = r66.rawData) == null ? void 0 : t43.name }
  });
  return () => o71.$destroy();
};
var s54 = (e48, r66, o71) => {
  var a62;
  const t43 = new ne11({
    target: e48,
    props: { content: (a62 = r66.rawData) == null ? void 0 : a62.name, five: o71 }
  });
  return () => t43.$destroy();
};
var l60 = {
  box: n67,
  triangles: n67,
  prism: s54
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelMakerPlugin/item/prismItem.js
var d71 = Object.defineProperty;
var u69 = Object.defineProperties;
var F42 = Object.getOwnPropertyDescriptors;
var l61 = Object.getOwnPropertySymbols;
var c81 = Object.prototype.hasOwnProperty;
var w46 = Object.prototype.propertyIsEnumerable;
var e45 = (i65, t43, o71) => t43 in i65 ? d71(i65, t43, { enumerable: true, configurable: true, writable: true, value: o71 }) : i65[t43] = o71;
var n68 = (i65, t43) => {
  for (var o71 in t43 || (t43 = {}))
    c81.call(t43, o71) && e45(i65, o71, t43[o71]);
  if (l61)
    for (var o71 of l61(t43))
      w46.call(t43, o71) && e45(i65, o71, t43[o71]);
  return i65;
};
var h62 = (i65, t43) => u69(i65, F42(t43));
var s55 = (i65, t43, o71) => (e45(i65, typeof t43 != "symbol" ? t43 + "" : t43, o71), o71);
var Ro2 = class extends Mi {
  constructor(...o71) {
    const r66 = o71[0], p66 = R7(r66.model), m66 = new Vector3().lerpVectors(P6(p66, 0), P6(p66, 5), 0.5);
    super(h62(n68({}, r66), { position: m66 }));
    s55(this, "onModelShownFloorChange", (o72) => {
      this.updateFiveCurrentFloorState(o72), this.updateVisible();
    });
    s55(this, "updateFiveCurrentFloorState", (o72) => {
      var p67, m67;
      const r67 = (m67 = (p67 = this.rawData) == null ? void 0 : p67.object_data) == null ? void 0 : m67.floorIndex;
      t7(r67) ? this.visibles[1] = true : this.visibles[1] = o72 === null ? true : r67 === o72;
    });
    this.enable(), this.updateVisible(), this.five.on("modelShownFloorChange", this.onModelShownFloorChange), this.disposers.push(() => {
      this.five.off("modelShownFloorChange", this.onModelShownFloorChange);
    });
  }
  show() {
    this.updateFiveCurrentFloorState(this.five.model.shownFloor), super.show();
  }
  hide() {
    super.hide();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelMakerPlugin/item/polygonItem.js
var e46 = Object.defineProperty;
var s56 = (o71, i65, t43) => i65 in o71 ? e46(o71, i65, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[i65] = t43;
var p61 = (o71, i65, t43) => (s56(o71, typeof i65 != "symbol" ? i65 + "" : i65, t43), t43);
var Ct3 = class extends Mi {
  constructor(...t43) {
    super(...t43);
    p61(this, "onPanoArrived", (t44) => {
      this.updatePanoIndex(t44), this.updateVisible();
    });
    p61(this, "onModeChange", (t44) => {
      this.updateMode(t44), this.updateVisible();
    });
    p61(this, "updatePanoIndex", (t44) => {
      var r66, m66;
      this.visibles[1] = ((m66 = (r66 = this.rawData) == null ? void 0 : r66.object_data) == null ? void 0 : m66.panoIndex) === t44;
    });
    p61(this, "updateMode", (t44) => {
      this.visibles[2] = t44 === "Panorama";
    });
    this.updatePanoIndex(this.five.state.panoIndex), this.updateMode(this.five.state.mode), this.enable(), this.updateVisible(), this.five.on("panoArrived", this.onPanoArrived), this.five.on("modeChange", this.onModeChange), this.disposers.push(() => {
      this.five.off("panoArrived", this.onPanoArrived), this.five.off("modeChange", this.onModeChange);
    });
  }
  show() {
    this.updatePanoIndex(this.five.state.panoIndex), this.updateMode(this.five.state.mode), super.show();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelMakerPlugin/Controller.js
var W24 = Object.defineProperty;
var T36 = Object.getOwnPropertySymbols;
var A60 = Object.prototype.hasOwnProperty;
var P54 = Object.prototype.propertyIsEnumerable;
var E52 = (h66, l63, t43) => l63 in h66 ? W24(h66, l63, { enumerable: true, configurable: true, writable: true, value: t43 }) : h66[l63] = t43;
var w47 = (h66, l63) => {
  for (var t43 in l63 || (l63 = {}))
    A60.call(l63, t43) && E52(h66, t43, l63[t43]);
  if (T36)
    for (var t43 of T36(l63))
      P54.call(l63, t43) && E52(h66, t43, l63[t43]);
  return h66;
};
var p62 = (h66, l63, t43) => (E52(h66, typeof l63 != "symbol" ? l63 + "" : l63, t43), t43);
var M46 = (h66, l63, t43) => new Promise((s60, e48) => {
  var r66 = (i65) => {
    try {
      n72(t43.next(i65));
    } catch (a62) {
      e48(a62);
    }
  }, o71 = (i65) => {
    try {
      n72(t43.throw(i65));
    } catch (a62) {
      e48(a62);
    }
  }, n72 = (i65) => i65.done ? s60(i65.value) : Promise.resolve(i65.value).then(r66, o71);
  n72((t43 = t43.apply(h66, l63)).next());
});
var ze5 = class extends e9 {
  constructor(t43, s60) {
    var e48, r66;
    super(t43);
    p62(this, "state");
    p62(this, "items", []);
    p62(this, "group", new Group());
    p62(this, "data");
    p62(this, "tagRendererMap", {});
    p62(this, "fiveDomEvents");
    p62(this, "zFightingOffset", 0);
    p62(this, "tagWrapper");
    p62(this, "occlusionVisibility");
    p62(this, "occlusionMode");
    p62(this, "fiveEveryReadyListenerDisposer");
    p62(this, "originalOpacities", /* @__PURE__ */ new Map());
    p62(this, "originalTagOpacities", /* @__PURE__ */ new Map());
    p62(this, "onFiveModeChange", (t44) => {
      const s61 = this.occlusionVisibility;
      Array.isArray(s61) && [...this.getPrismItems(), ...this.getBoxItems()].forEach((r67) => {
        (r67.model instanceof H34 || r67.model instanceof m59) && r67.model.setStyle({ occlusionVisibility: s61.includes(t44) });
      });
    });
    p62(this, "handleEnable", () => {
      var t44, s61;
      this.five.scene.add(this.group), (s61 = (t44 = this.five.getElement()) == null ? void 0 : t44.parentElement) == null || s61.appendChild(this.tagWrapper), this.five.needsRender = true, this.onFiveModeChange(this.five.getCurrentState().mode), this.onFiveEveryReady(), this.five.on("modeChange", this.onFiveModeChange), this.fiveEveryReadyListenerDisposer = i6(this.five, this.onFiveEveryReady);
    });
    p62(this, "handleDisable", () => {
      this.five.scene.remove(this.group), this.tagWrapper.remove(), this.five.needsRender = true, this.five.off("modeChange", this.onFiveModeChange), this.fiveEveryReadyListenerDisposer();
    });
    p62(this, "onFiveEveryReady", () => M46(this, null, function* () {
      if (this.five.state.mode === "Panorama")
        return;
      const t44 = this.items.filter((i65) => i65 instanceof Ro2).map((i65) => i65.tag), s61 = t44.filter((i65) => i65.position && i65.visible && i65.enabled);
      yield n49(0);
      const e49 = this.five.camera.position.clone(), r67 = s61.sort((i65, a62) => e49.distanceTo(i65.position) - e49.distanceTo(a62.position)), o71 = [], n72 = (i65, a62) => !(i65.right < a62.left || i65.left > a62.right || i65.bottom < a62.top || i65.top > a62.bottom);
      t44.forEach((i65) => {
        i65.visibles[2] = void 0;
      }), r67.forEach((i65) => {
        if (i65.visibles[1] === false)
          return;
        const a62 = i65.container.getElementsByClassName("room-label-item__text")[0];
        if (!a62)
          return;
        const d73 = a62.getBoundingClientRect();
        o71.every((c85) => !n72(c85.boundingClientRect, d73)) ? (o71.push({ tag: i65, boundingClientRect: d73 }), i65.visibles[2] = true) : i65.visibles[2] = false, i65.needsRender = true;
      });
    }));
    p62(this, "updateTagRenderer", () => {
      this.items.forEach((t44) => {
        var e49;
        const s61 = (e49 = this.tagRendererMap[t44.type]) != null ? e49 : l60[t44.type];
        s61 && t44.__renderer !== s61 && (t44.__renderer = s61, typeof t44.__disposeRenderer == "function" && t44.__disposeRenderer(), t44.tag.container.innerHTML = "", t44.__disposeRenderer = s61(t44.tag.container, t44, this.five));
      });
    });
    this.group.name = "ModelMakerPluginGroup", this.state = { enabled: true, visible: true }, this.occlusionVisibility = (e48 = s60 == null ? void 0 : s60.occlusionVisibility) != null ? e48 : false, this.occlusionMode = (r66 = s60 == null ? void 0 : s60.occlusionMode) != null ? r66 : "translucence", this.fiveDomEvents = new Q15(t43, { noEmitWhenHide: true, noEmitWhenNotInScene: true }), this.tagWrapper = (() => {
      var n72;
      const o71 = document.createElement("div");
      return o71.style.position = "absolute", o71.style.top = "0", o71.style.left = "0", o71.style.width = "100%", o71.style.height = "100%", o71.style.pointerEvents = "none", o71.style.zIndex = `${(n72 = s60 == null ? void 0 : s60.tagContainerZIndex) != null ? n72 : ""}`, o71;
    })(), t43.scene.add(this.group), this.handleEnable(), window.__MODELMAKER_DEBUG__ = this;
  }
  load(t43) {
    return M46(this, null, function* () {
      if (this.clear(), this.data = t43, this.originalOpacities.clear(), yield M2(this.five), this.data !== t43)
        return;
      this.clear();
      const s60 = (e48) => {
        var a62;
        const r66 = e48.object_data.color ? new Color().setHex(parseInt(e48.object_data.color.slice(1), 16)) : new Color(1, 1, 1);
        let o71 = typeof this.occlusionVisibility == "boolean" ? this.occlusionVisibility : false, n72 = this.occlusionMode;
        e48.type === "triangles" && (o71 = true, n72 = "depthTest");
        const i65 = ((a62 = e48.object_data.opacity) != null ? a62 : 0.4) / 2;
        return e48.id && this.originalOpacities.set(e48.id.toString(), {
          opacity: i65,
          lineOpacity: 1
        }), {
          color: r66,
          lineColor: r66,
          opacity: i65,
          lineOpacity: 1,
          lineWidth: 1,
          occlusionVisibility: o71,
          occlusionMode: n72
        };
      };
      this.items = t43.list.map((e48) => {
        var r66;
        switch (e48.type) {
          case "triangles": {
            const o71 = new m59();
            return i7(e48.id) && (o71.uuid = e48.id.toString()), o71.setPoints(e48.object_data.points, { checkLinesIntersect: false }), o71.setStyle(s60(e48)), this.fiveDomEvents.addEventListener(o71, "hover", () => o71.highlight()), this.fiveDomEvents.addEventListener(o71, "unHover", () => o71.unhighlight()), new Ct3({
              five: this.five,
              tagWrapper: this.tagWrapper,
              model: o71,
              group: this.group,
              type: e48.type,
              rawData: e48,
              fiveDomEvents: this.fiveDomEvents
            });
          }
          case "prism": {
            const o71 = new H34();
            i7(e48.id) && (o71.uuid = e48.id.toString()), this.zFightingOffset += F25.Z_FIGHTING_OFFSET;
            const n72 = e48.object_data.points.map((m66) => {
              var c85;
              return [m66[0], m66[1] + ((c85 = e48.object_data.fixedY) != null ? c85 : 0), m66[2]];
            });
            n72.push(n72[0]);
            const i65 = e48.object_data.height + ((r66 = e48.object_data.fixedHeight) != null ? r66 : 0) + this.zFightingOffset, a62 = t2(n72[0]).add(new Vector3().setY(i65));
            return o71.setPoints({ points: n72, heightPoint: a62 }), o71.setStyle(s60(e48)), new Ro2({
              five: this.five,
              tagWrapper: this.tagWrapper,
              model: o71,
              group: this.group,
              type: e48.type,
              rawData: e48,
              fiveDomEvents: this.fiveDomEvents
            });
          }
          case "box": {
            const o71 = new H34();
            i7(e48.id) && (o71.uuid = e48.id.toString());
            const { start: n72, end: i65, rotation: a62 = [0, 0, 0, 0] } = e48.object_data, d73 = new Vector3().fromArray(n72), m66 = new Vector3().fromArray(i65), c85 = new Euler().fromArray(a62), f80 = new Quaternion().setFromEuler(c85), v58 = f80.clone().inverse(), I49 = new Vector3().lerpVectors(d73, m66, 0.5), _32 = I49.clone().negate(), D52 = d73.clone().add(_32).applyQuaternion(v58), x49 = m66.clone().add(_32).applyQuaternion(v58), g67 = new Box3(D52.clone().max(x49), D52.clone().min(x49));
            return o71.setPoints({
              points: [P6(g67, 2), P6(g67, 3), P6(g67, 7), P6(g67, 6)],
              heightPoint: P6(g67, 1)
            }), o71.position.copy(I49), o71.quaternion.copy(f80), o71.setStyle(s60(e48)), new Mi2({
              five: this.five,
              tagWrapper: this.tagWrapper,
              model: o71,
              group: this.group,
              type: e48.type,
              rawData: e48,
              fiveDomEvents: this.fiveDomEvents
            });
          }
          default:
            return null;
        }
      }).filter(Boolean), this.state.enabled ? this.handleEnable() : this.handleDisable(), this.state.visible ? this.handleShow() : this.handleHide(), this.updateTagRenderer(), this.hooks.emit("dataLoaded", t43), this.five.needsRender = true;
    });
  }
  setState(t43) {
    i7(t43.enabled) && this.state.enabled !== t43.enabled && (this.state.enabled = t43.enabled, t43.enabled ? this.handleEnable() : this.handleDisable(), this.hooks.emit(t43.enabled ? "enable" : "disable", { userAction: "我不知道捏" }), this.hooks.emit("stateChange", { state: this.state, userAction: "我不知道捏" })), i7(t43.visible) && this.state.visible !== t43.visible && (this.state.visible = t43.visible, t43.visible ? this.handleShow() : this.handleHide(), this.hooks.emit(t43.visible ? "show" : "hide", { userAction: "我不知道捏" }), this.hooks.emit("stateChange", { state: this.state, userAction: "我不知道捏" }));
  }
  getItemById(t43) {
    return this.items.find((s60) => s60.rawData.id === t43);
  }
  registerTagRenderer(t43) {
    this.tagRendererMap = w47(w47({}, this.tagRendererMap), t43), this.updateTagRenderer();
  }
  hasCustomTagRenderer(t43) {
    return !!this.tagRendererMap[t43];
  }
  enable() {
    this.setState({ enabled: true });
  }
  disable() {
    this.setState({ enabled: false });
  }
  show() {
    this.setState({ visible: true });
  }
  hide() {
    this.setState({ visible: false });
  }
  clear() {
    this.zFightingOffset = 0, this.handleDisable(), this.group.children.length = 0, this.five.needsRender = true, this.items = [], this.tagWrapper.innerHTML = "", this.fiveDomEvents.clear(), this.originalOpacities.clear(), this.originalTagOpacities.clear();
  }
  /**
   * 设置所有模型的透明度
   * @param opacityPercent 透明度系数，范围0-1，1表示保持原始透明度，0表示完全透明
   * @param options 可选参数
   * @param options.type 模型类型，可选值为'box'、'prism'、'triangles'
   * @param options.id 模型id
   */
  setModelsOpacity(t43, s60) {
    if (!this.state.enabled)
      return;
    const { type: e48, id: r66 } = s60 || {}, o71 = e48 ? Array.isArray(e48) ? e48 : [e48] : [], n72 = t43 === 1;
    for (const i65 of this.items)
      if (!e48 || o71.includes(i65.type) || i65.rawData.id === r66) {
        switch (i65.type) {
          case "box":
          case "prism": {
            this.setPrismModelOpacity(i65.rawData.id, i65.model, t43);
            break;
          }
          case "triangles": {
            this.setPolygonModelOpacity(i65.rawData.id, i65.model, t43);
            break;
          }
        }
        if (i65.tag) {
          if (!i65.tag.visible)
            continue;
          const d73 = i65.rawData.id.toString();
          if (n72) {
            const c85 = this.originalTagOpacities.get(d73);
            c85 !== void 0 && (i65.tag.container.style.opacity = c85.toString());
          } else {
            if (!this.originalTagOpacities.has(d73)) {
              const v58 = parseFloat(i65.tag.container.style.opacity) || 1;
              this.originalTagOpacities.set(d73, v58);
            }
            const f80 = (this.originalTagOpacities.get(d73) || 1) * t43;
            i65.tag.container.style.opacity = f80.toString();
          }
          (parseFloat(i65.tag.container.style.opacity) || 0) < 0.01 ? i65.tag.container.style.pointerEvents = "none" : i65.tag.container.style.pointerEvents = "auto";
        }
      }
    this.five.needsRender = true;
  }
  /**
   * 隐藏指定类型的模型
   * @param itemTypes 模型类型数组
   */
  hideItemsByType(t43) {
    const s60 = Array.isArray(t43) ? t43 : [t43];
    this.items.forEach((e48) => {
      s60.includes(e48.type) && e48.hide();
    });
  }
  /**
   * 显示指定类型的模型
   * @param itemTypes 模型类型数组
   */
  showItemsByType(t43) {
    const s60 = Array.isArray(t43) ? t43 : [t43];
    this.items.forEach((e48) => {
      s60.includes(e48.type) && e48.show();
    });
  }
  dispose() {
    this.hooks.emit("dispose"), this.clear();
  }
  onWorkCodeChange() {
    this.group.matrix.copy(this.workUtil.transform.clone()), this.group.matrix.decompose(this.group.position, this.group.quaternion, this.group.scale), this.group.updateMatrixWorld();
  }
  /**
   * 设置棱柱体模型的透明度
   * @param id 模型id
   * @param model 模型对象
   * @param opacityPercent 透明度系数，范围0-1
   */
  setPrismModelOpacity(t43, s60, e48) {
    let { opacity: r66, lineOpacity: o71 } = this.originalOpacities.get(t43.toString()) || { opacity: 0.2, lineOpacity: 1 };
    r66 = r66 * e48, o71 = o71 * e48, s60.setStyle({ opacity: r66, lineOpacity: o71 });
  }
  /**
   * 设置多边形模型的透明度
   * @param id 模型id
   * @param model 模型对象
   * @param opacityPercent 透明度系数，范围0-1
   */
  setPolygonModelOpacity(t43, s60, e48) {
    let { opacity: r66, lineOpacity: o71 } = this.originalOpacities.get(t43.toString()) || { opacity: 0.2, lineOpacity: 1 };
    r66 = r66 * e48, o71 = o71 * e48, s60.setStyle({ opacity: r66, lineOpacity: o71 });
  }
  handleShow() {
    this.group.visible = true, this.tagWrapper.style.display = "block", this.five.needsRender = true;
  }
  handleHide() {
    this.group.visible = false, this.tagWrapper.style.display = "none", this.five.needsRender = true;
  }
  getPrismItems() {
    return this.items.filter((t43) => t43 instanceof Ro2);
  }
  getPolygonItems() {
    return this.items.filter((t43) => t43 instanceof Ct3);
  }
  getBoxItems() {
    return this.items.filter((t43) => t43 instanceof Mi2);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/ModelMakerPlugin/index.js
var Xo = (...o71) => new ze5(...o71);

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/Sculpt/utils/export.js
var U31 = Object.freeze(Object.defineProperty({
  __proto__: null,
  BaseEditor: O38,
  BoxMesh: p56,
  BoxMeshEditor: V22,
  CircleMesh: N31,
  CircleMeshEditor: s53,
  CircleWithEdgeMesh: S51,
  CylinderMesh: H36,
  CylinderMeshEditor: c80,
  LineMesh: Oe,
  PointMesh: ot2,
  PolygonMesh: j13,
  PrismMesh: H34,
  PrismMeshEditor: f71,
  RectangleMesh: j34,
  RectangleMeshEditor: b53,
  RectangleWithEdgeMesh: W21,
  createBox: z26,
  createCircle: D50,
  createCylinder: B39,
  createLine: J32,
  createPoint: U28,
  createPolygon: X23,
  createPrism: V21,
  createRectangle: te9
}, Symbol.toStringTag, { value: "Module" }));

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/math/Interval.js
var s57 = Object.defineProperty;
var a59 = (t43, i65, m66) => i65 in t43 ? s57(t43, i65, { enumerable: true, configurable: true, writable: true, value: m66 }) : t43[i65] = m66;
var n69 = (t43, i65, m66) => (a59(t43, typeof i65 != "symbol" ? i65 + "" : i65, m66), m66);
var h63 = class {
  constructor(i65 = 0, m66 = 0) {
    n69(this, "min");
    n69(this, "max");
    n69(this, "isInterval", true);
    this.min = i65, this.max = m66;
  }
  fromArray(i65) {
    return this.min = i65[0], this.max = i65[1], this;
  }
  /** 两个区间是否重叠 */
  isOverlap(i65) {
    return Math.min(this.max, i65.max) < Math.max(this.min, i65.min);
  }
  /** 是否包含区间 */
  contains(i65) {
    return this.min < i65.min && this.max > i65.max;
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/math/Rectangle.js
var r63 = Object.defineProperty;
var s58 = (e48, t43, n72) => t43 in e48 ? r63(e48, t43, { enumerable: true, configurable: true, writable: true, value: n72 }) : e48[t43] = n72;
var a60 = (e48, t43, n72) => (s58(e48, typeof t43 != "symbol" ? t43 + "" : t43, n72), n72);
var h64 = class {
  constructor(t43, n72) {
    a60(this, "min");
    a60(this, "max");
    a60(this, "xInterval");
    a60(this, "yInterval");
    a60(this, "isRectangle", true);
    this.min = t43, this.max = n72, this.xInterval = new h63(this.min.x, this.max.x), this.yInterval = new h63(this.min.y, this.max.y);
  }
  /** 是否与矩形是否重叠 */
  isOverlapWithRectangle(t43) {
    return !this.xInterval.isOverlap(t43.xInterval) && !this.yInterval.isOverlap(t43.yInterval);
  }
  /** 是否包含目标矩形 */
  containsRect(t43) {
    return this.xInterval.contains(t43.xInterval) && this.yInterval.contains(t43.yInterval);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/math/convexHull.js
function r64(o71) {
  o71.sort(function(e48, x49) {
    return e48.x != x49.x ? e48.x - x49.x : e48.y - x49.y;
  });
  const t43 = o71.length, n72 = [];
  for (let e48 = 0; e48 < 2 * t43; e48++) {
    const x49 = e48 < t43 ? e48 : 2 * t43 - 1 - e48;
    for (; n72.length >= 2 && l62(n72[n72.length - 2], n72[n72.length - 1], o71[x49]); )
      n72.pop();
    n72.push(o71[x49]);
  }
  return n72.pop(), n72;
}
function l62(o71, t43, n72) {
  const e48 = (o71.x - t43.x) * (n72.y - t43.y) - (o71.y - t43.y) * (n72.x - t43.x), x49 = (o71.x - t43.x) * (n72.x - t43.x) + (o71.y - t43.y) * (n72.y - t43.y);
  return e48 < 0 || e48 == 0 && x49 <= 0;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/math/inside.js
function u70(r66, t43) {
  const j37 = r66[0], s60 = r66[1];
  let c85 = false;
  for (let e48 = 0, i65 = t43.length - 1; e48 < t43.length; i65 = e48++) {
    const f80 = t43[e48][0], n72 = t43[e48][1], d73 = t43[i65][0], x49 = t43[i65][1];
    n72 > s60 != x49 > s60 && j37 < (d73 - f80) * (s60 - n72) / (x49 - n72) + f80 && (c85 = !c85);
  }
  return c85;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/index.js
function g65(e48) {
  return e48.model ? e48.work ? e48.model.loaded ? e48.model.name !== e48.work.model.file ? { result: false, msg: "five.model.name 与 five.work.model.file 不一致" } : { result: true, msg: "" } : { result: false, msg: "five.model 未加载完成" } : { result: false, msg: "five 数据未加载" } : { result: false, msg: "five.model 不存在" };
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/getCoords.js
function i62(t43, e48) {
  const { offsetWidth: o71, offsetHeight: n72 } = e48, { top: f80, left: h66 } = e48.getBoundingClientRect();
  return new Vector2().set((t43.x - h66) / o71 * 2 - 1, -(t43.y - f80) / n72 * 2 + 1);
}
function s59(t43, e48) {
  const { offsetWidth: o71, offsetHeight: n72 } = e48;
  return new Vector2().set(t43.x / o71 * 2 - 1, -t43.y / n72 * 2 + 1);
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/getIntersect.js
var p63 = Object.defineProperty;
var R42 = Object.defineProperties;
var u71 = Object.getOwnPropertyDescriptors;
var c82 = Object.getOwnPropertySymbols;
var x48 = Object.prototype.hasOwnProperty;
var F43 = Object.prototype.propertyIsEnumerable;
var n70 = (e48, t43, s60) => t43 in e48 ? p63(e48, t43, { enumerable: true, configurable: true, writable: true, value: s60 }) : e48[t43] = s60;
var a61 = (e48, t43) => {
  for (var s60 in t43 || (t43 = {}))
    x48.call(t43, s60) && n70(e48, s60, t43[s60]);
  if (c82)
    for (var s60 of c82(t43))
      F43.call(t43, s60) && n70(e48, s60, t43[s60]);
  return e48;
};
var i63 = (e48, t43) => R42(e48, u71(t43));
function C51(e48, t43) {
  const s60 = l2(e48), { x: m66, y: l63 } = t43, f80 = m66 * 2 - 1, y51 = l63 * 2 - 1, r66 = new Raycaster();
  r66.setFromCamera({ x: f80, y: y51 }, e48.camera);
  const o71 = s60.intersectRaycaster(r66)[0];
  if (o71)
    return i63(a61({}, o71), { raycaster: r66, isVirtual: false });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/getRaycaster.js
function c83(e48, o71) {
  const r66 = e48.getElement();
  if (!r66)
    return;
  const m66 = s59(o71, r66), t43 = new Raycaster();
  return t43.setFromCamera(m66, e48.camera), t43;
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/PanoMeasurePlugin/Modules/rangePiece/html.js
var A61 = "data:image/png;base64,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";
var e47 = "data:image/png;base64,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";
var f79 = `
  <style>
  .range-piece__container {
    position: absolute;
    top: 39%;
    left: 50%;
    margin-left: -54px;
    width: 108px;
    height: 108px;
    display: flex;
    align-items: center;
    justify-content: center;
    animation: pieceContainer 0.3s ease-in-out;
    animation-fill-mode: forwards;
  }
  .range-piece__content {
    width: 100%;
    height: 100%;
    background-image: url(${A61});
    opacity: 0.4;
    background-size: 100%;
    background-repeat: no-repeat;
    transition: linear transform 0.1s;
  }
  .range-piece__content--active {
    animation: dotting ease-in-out 0.5s;
  }
  .range-piece__aim {
    width: 100%;
    height: 100%;
    opacity: 1;
    position: absolute;
    background: url(${e47}) center / contain no-repeat;
  }
  @keyframes dotting {
    0% {
      opacity: 0.4;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(0.8);
    }
    100% {
      opacity: 0.4;
      transform: scale(1);
    }
  }
  @keyframes pieceContainer {
    from {
      top: 49%;
    }
    to {
      top: 39%;
    }
  }
  </style>
  <div class="range-piece__container">
    <div class='range-piece__content'></div>
    <div class="range-piece__aim"></div>
  </div>
`;

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/PointDomHelper.js
var p64 = Object.defineProperty;
var d72 = (o71, t43, e48) => t43 in o71 ? p64(o71, t43, { enumerable: true, configurable: true, writable: true, value: e48 }) : o71[t43] = e48;
var n71 = (o71, t43, e48) => (d72(o71, typeof t43 != "symbol" ? t43 + "" : t43, e48), e48);
var V23 = class {
  constructor(t43) {
    n71(this, "five");
    n71(this, "contentElement", document.createElement("div"));
    n71(this, "animeIns");
    n71(this, "container");
    n71(this, "css3DObject");
    n71(this, "disposeCss3DObject");
    n71(this, "state", { enabled: false });
    this.five = t43;
    const s60 = 0.4 / 2, r66 = ar2(t43).create3DDomContainer(
      [
        [-s60, s60, 0],
        [-s60, -s60, 0],
        [s60, -s60, 0],
        [s60, s60, 0]
      ].map((i65) => new Vector3().fromArray(i65))
    );
    if (r66) {
      const { container: i65, dispose: a62, css3DObject: m66 } = r66;
      this.container = i65, this.css3DObject = m66, this.disposeCss3DObject = a62;
    }
    this.contentElement.style.width = "100%", this.contentElement.style.height = "100%", this.contentElement.style.backgroundImage = `url(${A61})`, this.contentElement.style.backgroundSize = "100%", this.contentElement.style.backgroundRepeat = "no-repeat";
  }
  enable() {
    var t43;
    this.state.enabled || (this.state.enabled = true, (t43 = this.container) == null || t43.appendChild(this.contentElement));
  }
  disable() {
    this.state.enabled && (this.state.enabled = false, this.contentElement.remove());
  }
  updateWithIntersect(t43) {
    if (!t43.face || !this.css3DObject)
      return;
    const e48 = new Vector3().addVectors(t43.point, t43.face.normal);
    this.css3DObject.position.copy(t43.point), this.css3DObject.lookAt(e48), this.five.needsRender = true;
  }
  /** 缩放动画 */
  doAnimation() {
    var t43;
    (t43 = this.animeIns) == null || t43.dispose(), new d18({ progress: 0 }).to({ progress: [1, 0] }).duration(500).easing(y2.Quadratic.InOut).onUpdate(({ progress: e48 }) => {
    }).play();
  }
  dispose() {
    var t43;
    (t43 = this.disposeCss3DObject) == null || t43.call(this);
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/three/LegacyPointHelper.js
var r65 = Object.defineProperty;
var i64 = (a62, n72, e48) => n72 in a62 ? r65(a62, n72, { enumerable: true, configurable: true, writable: true, value: e48 }) : a62[n72] = e48;
var o70 = (a62, n72, e48) => (i64(a62, typeof n72 != "symbol" ? n72 + "" : n72, e48), e48);
var c84 = `
varying vec2 vUv;
void main() {
  vUv = uv;
  vec4 mvPosition = modelViewMatrix * vec4(position, 1);
  gl_Position = projectionMatrix * mvPosition;
}
`;
var h65 = `
varying vec2 vUv;
void main() {
  vec2 uv = vec2(vUv.x, vUv.y);
  float a = 1.0;
  float match = 1.0 - uv.x;
  gl_FragColor = vec4(1.0,1.0,1.0,match);
}
`;
function p65() {
  const a62 = new PlaneGeometry(0.4, 0.4), n72 = A3, e48 = new TextureLoader().load(n72);
  e48.encoding = sRGBEncoding, e48.minFilter = LinearFilter;
  const s60 = new MeshBasicMaterial({
    map: e48,
    transparent: true,
    depthTest: false
  });
  return new Mesh(a62, s60);
}
function M47() {
  const a62 = new CurvePath();
  a62.add(new LineCurve3(new Vector3(0, 0, 0), new Vector3(0, 0, 0.1)));
  const n72 = new TubeGeometry(a62, 8, 3e-3), e48 = new ShaderMaterial({
    vertexShader: c84,
    fragmentShader: h65,
    depthTest: false,
    transparent: true
  });
  return new Mesh(n72, e48);
}
function v57() {
  const a62 = new SphereGeometry(0.01, 20, 20), n72 = new MeshBasicMaterial({
    color: 10349931,
    depthTest: false,
    transparent: true,
    side: DoubleSide
  }), e48 = new Mesh(a62, n72);
  return e48.position.set(0, 0, 0.1), e48;
}
var w48 = class extends Object3D {
  constructor() {
    super();
    o70(this, "planeMesh");
    o70(this, "lineMesh");
    o70(this, "ballMesh");
    this.planeMesh = p65(), this.lineMesh = M47(), this.ballMesh = v57(), this.add(this.planeMesh, this.lineMesh, this.ballMesh);
  }
  updateWithIntersect(e48) {
    if (!e48.face)
      return;
    const s60 = new Vector3().addVectors(e48.point, e48.face.normal);
    this.position.copy(e48.point), this.lookAt(s60);
  }
  dispose() {
    var e48;
    (e48 = this.planeMesh.material.map) == null || e48.dispose();
  }
};

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/five/lookObject.js
var F44 = Object.defineProperty;
var U32 = Object.getOwnPropertySymbols;
var H38 = Object.prototype.hasOwnProperty;
var N32 = Object.prototype.propertyIsEnumerable;
var V24 = (o71, e48, t43) => e48 in o71 ? F44(o71, e48, { enumerable: true, configurable: true, writable: true, value: t43 }) : o71[e48] = t43;
var T37 = (o71, e48) => {
  for (var t43 in e48 || (e48 = {}))
    H38.call(e48, t43) && V24(o71, t43, e48[t43]);
  if (U32)
    for (var t43 of U32(e48))
      N32.call(e48, t43) && V24(o71, t43, e48[t43]);
  return o71;
};
var g66 = (o71, e48, t43) => new Promise((c85, d73) => {
  var f80 = (a62) => {
    try {
      m66(t43.next(a62));
    } catch (u72) {
      d73(u72);
    }
  }, s60 = (a62) => {
    try {
      m66(t43.throw(a62));
    } catch (u72) {
      d73(u72);
    }
  }, m66 = (a62) => a62.done ? c85(a62.value) : Promise.resolve(a62.value).then(f80, s60);
  m66((t43 = t43.apply(o71, e48)).next());
});
function rt6(o71, e48, t43) {
  return g66(this, null, function* () {
    var P55, x49, z28;
    if (!e48)
      return;
    const c85 = I4(e48);
    if (!c85)
      return;
    const d73 = new c6(o71), f80 = (P55 = t43 == null ? void 0 : t43.scale) != null ? P55 : 1.4, s60 = c85.center, m66 = o71.camera.position.clone().sub(s60).setY(0).normalize(), a62 = o71.state.mode === "Mapview" ? o71.state.fov : 60, C52 = Math.max(1.5, c85.radius * f80), A62 = C52 * (1 / Math.tan(MathUtils.degToRad(a62 / 2)));
    let l63 = 0;
    const p66 = [], M48 = (r66) => {
      const i65 = MathUtils.degToRad(r66);
      return m66.clone().applyAxisAngle(new Vector3(0, 1, 0), i65).clone().multiplyScalar(A62).add(new Vector3(0, C52, 0)).add(s60);
    };
    for (; l63 !== 360; ) {
      let r66 = 0;
      const i65 = M48(l63), w49 = (y51) => {
        const _32 = y51.distanceTo(i65), B42 = new Raycaster(y51, i65.clone().sub(y51).normalize()), h66 = d73.model.intersectRaycaster(B42, void 0, true)[0], S52 = h66 == null ? void 0 : h66.distance;
        i7(S52) ? S52 > _32 && (r66 += 1) : r66 += 1;
      }, E53 = c85.clampPoint(i65, new Vector3());
      w49(E53);
      const I49 = new Vector3(s60.x, i65.y, s60.z);
      if (w49(I49), i7(p66[r66]) && l63 > p66[r66] || (p66[r66] = l63), r66 === 2)
        break;
      l63 += 30;
    }
    const R43 = M48((z28 = (x49 = p66[2]) != null ? x49 : p66[1]) != null ? z28 : 0), v58 = R43.distanceTo(s60), b55 = n42(s60.clone().sub(R43).normalize());
    if (o71.state.mode === "Mapview")
      return o71.updateCamera(
        T37({
          offset: s60,
          distance: v58
        }, b55),
        800
      );
    o71.setState(T37({
      mode: "Mapview",
      offset: s60,
      distance: v58
    }, b55)), yield o71.ready();
  });
}

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/shared-utils/exports.js
var ho = Object.freeze(Object.defineProperty({
  __proto__: null,
  BetterTween: d18,
  FiveDomEvents: Q15,
  FivePuppet: u4,
  Interval: h63,
  LegacyPointHelper: w48,
  LightTag: R4,
  LineSegments: m57,
  Magnifier: S,
  Object3D: y43,
  PointDomHelper: V23,
  PointHelper: T4,
  PointSelector: se,
  PointSelectorHelper: T5,
  Rectangle: h64,
  absoluteUrl: s9,
  animeMap: v24,
  awaitNextFrame: A19,
  blink: k23,
  bounding: M7,
  boundingBox: R7,
  boundingSphere: T6,
  boxVertex: P6,
  boxVertexes: O5,
  checkFiveModelLoaded: g65,
  convexHull: r64,
  equal: b6,
  fiveModelIsLoaded: s3,
  getCoordsFromClient: i62,
  getCoordsFromElement: s59,
  getFrameTime: p14,
  getIntersectFromRelativePosition: C51,
  getRaycasterFromFivePointer: c83,
  initialCSS3DRender: E4,
  inside: u70,
  isAbsoluteURL: n11,
  isModelLike: o40,
  isNil: t7,
  isPanoramaLike: n37,
  lookObject: rt6,
  lookPoint: j17,
  nextFrame: T13,
  notNil: i7,
  pointInPolygon: u70,
  reblink: q17,
  requestAnimationFrameInterval: l18,
  sculpt: U31,
  tag: Q3,
  tweenProgress: F14,
  uuid: r2,
  waitFiveModelLoaded: M2,
  worldBounding: h8,
  worldBoundingBox: A7,
  worldBoundingSphere: I4
}, Symbol.toStringTag, { value: "Module" }));

// ../../node_modules/.pnpm/@realsee+dnalogel@3.67.2/node_modules/@realsee/dnalogel/libs/index.js
c();
A();
export {
  zr3 as AreaMakerPlugin,
  y5 as CSS3DRender,
  ar2 as CSS3DRenderPlugin,
  e13 as CameraMovementEffect,
  O15 as CameraMovementPlugin,
  r45 as ContentType,
  ji as CruisePlugin,
  so2 as CruisePluginController,
  e39 as CruisePluginTypes,
  br3 as CurrentPanoImagePlugin,
  o38 as DIRECTION,
  e25 as DISPLAY_STRATEGY_TYPE,
  d49 as DimensionType,
  r13 as FLOOR_PLAN_ATTACHED_TO,
  e11 as FLOOR_TYPE_MAP,
  q33 as GuideLineItem,
  fe8 as GuideLineModeItem,
  r44 as GuideLinePlugin,
  e27 as ITEM_LABEL_PLUGIN_DISPLAY_STRATEGY_TYPE,
  O24 as ItemLabelPlugin,
  S as Magnifier,
  ur2 as MapviewFloorplanPlugin,
  Fr2 as MeasurePlugin,
  X11 as ModelChassisCompassPlugin,
  W10 as ModelEntryDoorGuidePlugin,
  ar3 as ModelFloorplanPlugin,
  C33 as ModelItemLabelPlugin,
  Xo as ModelMakerPlugin,
  s11 as ModelRoomLabelPlugin,
  Qe as ModelTVVideoPlugin,
  me as ModelViewPlugin,
  pe6 as MoveController,
  qi as MovePlugin,
  Tr2 as Object3DHelperController,
  Yr2 as Object3DHelperPlugin,
  O36 as PLUGIN,
  h as PaintBrush,
  o2 as PaintBrushTypeEnum,
  vo as PanoCompassPlugin,
  U3 as PanoCursorRaycasterPlugin,
  wo as PanoDoorLabelPlugin,
  Io as PanoFloorplanRadarPlugin,
  Lr2 as PanoMeasurePlugin,
  r20 as PanoMeasurePluginLine,
  x14 as PanoMeasurePluginModel,
  s20 as PanoMeasurePluginPoint,
  R17 as PanoMeasurePluginPolyline,
  Pe as PanoRulerPlugin,
  br2 as PanoRulerProPlugin,
  qt2 as PanoSpatialTagPlugin,
  Wr2 as PanoTagPlugin,
  No as PanoTagPluginController,
  wo2 as PanoVideoPlugin,
  e43 as PanoVideoPluginType,
  zr2 as PipelinePlugin,
  i52 as PointType,
  o22 as ROOM_FETILE_TYPE_MAP,
  p11 as ROOM_TYPE_MAP,
  r15 as Rotation,
  p43 as Sculpt,
  fe9 as SculptPlugin,
  lr2 as TopviewFloorplanPlugin,
  ho as Util,
  so2 as WalkController,
  z26 as createBox,
  D50 as createCircle,
  B39 as createCylinder,
  J32 as createLine,
  U28 as createPoint,
  X23 as createPolygon,
  q35 as createPolyline,
  V21 as createPrism,
  te9 as createRectangle,
  e31 as defaultGlobalConfig,
  I26 as itemLabelPluginServerParams,
  P23 as modelItemLabelPluginServerParams,
  u10 as modelRoomLabelPluginServerParams,
  Ro as pluginFlag
};
/*! Bundled license information:

@realsee/dnalogel/libs/vendor/hammerjs/hammer.js:
  (*! Hammer.JS - v2.0.7 - 2016-04-22
   * http://hammerjs.github.io/
   *
   * Copyright (c) 2016 Jorik Tangelder;
   * Licensed under the MIT license *)

@realsee/dnalogel/libs/shared-utils/three/libs/inflate.js:
  (** @license zlib.js 2012 - imaya [ https://github.com/imaya/zlib.js ] The MIT License *)

@realsee/dnalogel/libs/vendor/classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

@realsee/five/gltf-loader/index.mjs:
  (**
   * @license
   * @realsee/five
   * Generated: 6/5/2025
   * Version: 6.4.0-alpha.40
   * Terms:
   * Realsee SDK License Agreement
   * Update: July 28, 2021
   * THIS LICENSE AGREEMENT BETWEEN YOU AND 【BEIKE REALSEE TECHNOLOGY (HK) 
   * LIMITED】(“Realsee”) FORMS A LEGALLY BINDING CONTRACT BETWEEN YOU AND REALSEE IN 
   * RELATION TO YOUR USE OF THE SDK. This License Agreement accompanies the Realsee 
   * Software Development Kit(s) for the software and related explanatory materials 
   * (the "SDK") and includes any upgrades, modified versions, updates, additions, 
   * and copies of the SDK licensed to You by Realsee.
   * BY DOWNLOADING, INSTALLING, OR OTHERWISE ACCESSING OR USING THE SDK, YOU AGREE 
   * THAT YOU HAVE READ, UNDERSTOOD, AND AGREE TO BE BOUND BY THIS AGREEMENT. YOU ARE 
   * AGREEING ON YOUR OWN BEHALF AND/OR ON BEHALF OF YOUR COMPANY OR ORGANIZATION TO 
   * THE TERMS AND CONDITIONS STATED BELOW.
   * This Agreement applies to Your use of the SDK in the country in which You 
   * legally install it (“Territory”) and is subject to the laws of such Territory 
   * and further subject to Section 12 below. Different terms, conditions, and 
   * limitations may apply to the use of the SDK in any additional countries.
   * 1. DEFINITIONS.
   * “Agreement” means this Realsee SDK License Agreement.
   * “Developer”, “You” and “Your” means the person(s) or entity acquiring or using 
   * the SDK or otherwise exercising rights under the terms of this Agreement.
   * “Documentation” means the technical or other specifications or documentation 
   * that Realsee may provide to You for use in connection with the SDK.
   * “Integrated Product” means any software, website, or on-line service developed 
   * by You based on or using the SDK (collectively, the “Integrated Product”).
   * “Intellectual Property” means any patents, patent rights, trademarks, service 
   * marks, registered and unregistered designs, applications for any of the 
   * foregoing, copyright, and any other similar protected rights in any country and 
   * to the extent recognised by any relevant jurisdiction as intellectual property, 
   * trade secrets, know-how and confidential information. Realsee reserves all 
   * rights not expressly granted to You.
   * “Realsee” means [Beike Realsee Technology (HK) Limited, a company incorporated 
   * and validly existing under the laws of Hong Kong].
   * “SDK” means the Realsee-proprietary Software Development Kits (SDK) provided 
   * hereunder, includes all development tools (including any compiler and debugger), 
   * application programming interfaces (“APIs”), libraries, binary utilities, header 
   * files, Documentation, content, data, code samples, and other materials provided 
   * to You in connection with this Agreement, whether delivered through a download, 
   * or any other media or form, and is licensed, not sold, to You by Realsee for use 
   * only under the terms of this Agreement. The terms of this Agreement will govern 
   * any updates provided by Realsee that replace and/or supplement the original SDK 
   * delivered to You, unless such update is accompanied by a separate license, in 
   * which case the terms of such license will govern.
   * 2. LICENSED USES AND RESTRICTIONS.
   * 2.1 Subject to the restrictions contained in this Section 2, Realsee grants to 
   * You during the term, a limited, non-exclusive, revocable, non-sublicensable, 
   * non-transferable license to install and use the SDK within the Territory only 
   * for the purpose of internal development.
   * 2.2 Restrictions. You acknowledge and agree that, You shall not, and shall 
   * ensure that Your affiliates, employees, agents, representatives, officers, 
   * representatives, and subcontractors do not (directly or indirectly):
   * 2.2.1 decompile, reverse engineer, disassemble or attempt to derive the source 
   * code of, those components of the SDK provided in object code form, or any part 
   * thereof;
   * 2.2.2 remove, alter, or obscure any copyright notice or other proprietary rights 
   * notice on any part of the SDK;
   * 2.2.3 sell, assign, pledge, rent, lease, lend, upload to or host on any website 
   * or server for use by any third party except You, redistribute, or sublicense the 
   * SDK (or any part thereof), or operate the SDK (or any part thereof) in the 
   * capacity of a service bureau or other hosted services provider, in whole or in 
   * part, nor may You enable others to do so;
   * 2.2.4 or alter, modify, customize or improve the SDK, or any part thereof;
   * 2.2.5 use the SDK (or any part thereof) for any illegal purpose, in any manner 
   * that is inconsistent with the terms of this Agreement, or to engage in any 
   * illegal activity;
   * 2.2.6 use the SDK (or any part thereof) in any manner that may damage the 
   * operation of Realsee’s products or services; or
   * 2.2.7 use the SDK or any information contained therein or otherwise provided by 
   * Realsee for the purpose of developing, or having developed, any product 
   * competitive with any Realsee product or service, as determined by Realsee in its 
   * sole discretion;
   * 2.2.8 include any portion of the SDK in Your Developer products.
   * 2.3 Realsee has the right to impose reasonable conditions such as a reasonable 
   * fee for use of the SDK in Integrated Product in the future.
   * 2.4 You may make a limited number of copies of the SDK to be used by Your 
   * employees or consultants as provided herein, and not for general business 
   * purposes, and such employees or consultants shall be subject to the obligations 
   * and restrictions in this Agreement.
   * 2.5 All licenses not expressly granted in this Agreement are reserved and no 
   * other licenses, immunity, or rights, express or implied, are granted by Realsee, 
   * by implication, estoppel, or otherwise.
   * 3. CONFIDENTIALITY.
   * The SDK and all source code, Documentation, specifications, engineering details, 
   * and related information pertaining to the SDK, whether in oral, written, 
   * graphic, or electronic form, are and shall remain the confidential and 
   * proprietary information of Realsee or its licensors (collectively, the 
   * “Confidential Information”). You shall (i) disclose Confidential Information to 
   * only those directors and employees (collectively, “Affiliates”) whose duties 
   * justify their need to know such information and who have been clearly informed 
   * of their obligation to maintain the confidential, proprietary, and/or trade 
   * secret status of such Confidential Information; and (ii) use Confidential 
   * Information solely in accordance with the license granted hereunder. In any 
   * event, You and Your Affiliates shall treat Confidential Information as strictly 
   * confidential and shall use the same care to prevent disclosure of such 
   * information as You use with respect to Your own similar confidential and/or 
   * proprietary information, which shall not be less than the care a reasonable 
   * person would use under similar circumstances. All Confidential Information, and 
   * any copies thereof, shall be returned promptly to Realsee upon request. You 
   * shall ensure that Your Affiliates comply with the provisions of this Section 3, 
   * and You shall be liable for any breach of this Section 3 resulting from the act 
   * or omission of any of Your Affiliates. You shall not disclose Confidential 
   * Information to any third party, including, without limitation, any of Your 
   * subcontractors.
   * 4. PROPRIETARY RIGHTS.
   * 4.1 As between You and Realsee, Realsee and/or its licensors retain ownership of 
   * all right, title, and interest in, to, and under the SDK, including, without 
   * limitation, all patents, copyrights, trade secrets, trademarks and other 
   * intellectual property and other proprietary rights therein, and reserve all 
   * rights not expressly granted to You.
   * 4.2 The items contained in the SDK are the intellectual property of Realsee and 
   * its licensors and are protected by PRC copyright and patent law, international 
   * treaty provisions and applicable laws of the country in which it is being used. 
   * You agree to protect all copyright and other ownership interests of Realsee 
   * and/or its licensors in all items in the SDK supplied under this License 
   * Agreement. You agree that all copies of the items in the SDK, reproduced for any 
   * reason by You, contain the same copyright notices, and other proprietary notices 
   * as appropriate, as appear on or in the original items delivered by Realsee in 
   * the SDK. Realsee and/or its licensors retain title and ownership of the items in 
   * the SDK, the media on which it is loaded, and all subsequent copies, regardless 
   * of the form or media in or on which the original and other copies may exist. 
   * Except as stated above, this Agreement does not grant You any rights to patents, 
   * copyrights, trade secrets, trademarks or any other rights in respect to the 
   * items in the SDK.
   * 5. TERM AND TERMINATION.
   * 5.1 This Agreement is effective until terminated. Realsee has the right to 
   * terminate this Agreement immediately, without judicial intervention, if You fail 
   * to comply with any term herein. Upon any such termination You must remove all 
   * full and partial copies of the items in the SDK from Your computer and 
   * discontinue the use of the items in the SDK.
   * 5.2 Realsee may at any time, terminate the Agreement with You if: (A) You have 
   * breached any provision of the Agreement; or (B) Realsee is required to do so by 
   * law; or (C) Realsee decides to no longer provide the SDK or certain parts of the 
   * SDK to users in the country in which You are resident or from which You use the 
   * service, or the provision of the SDK or certain SDK services to You by Realsee 
   * is, in Realsee's sole discretion, no longer legally or commercially viable.
   * 5.3 When the Agreement comes to an end, all of the legal rights, obligations and 
   * liabilities that You and Realsee have benefited from, been subject to (or which 
   * have accrued over time whilst the Agreement has been in force) or which are 
   * expressed to continue indefinitely, shall be unaffected by this cessation, and 
   * the provisions of Section 3, 4, 6, 7 and 8 shall continue to apply to such 
   * rights, obligations and liabilities indefinitely.
   * 6. DISCLAIMER OF WARRANTY.
   * YOU EXPRESSLY ACKNOWLEDGE AND AGREE THAT, TO THE EXTENT PERMITTED BY APPLICABLE 
   * LAW, USE OF THE SDK (OR ANY PART THEREOF) IS AT YOUR SOLE RISK AND THAT THE 
   * ENTIRE RISK AS TO SATISFACTORY QUALITY, PERFORMANCE, ACCURACY, AND EFFORT IS 
   * WITH YOU. REALSEE LICENSES THE SDK TO YOU ONLY ON AN "AS-IS" BASIS. REALSEE 
   * MAKES NO REPRESENTATION WITH RESPECT TO THE ADEQUACY OF ANY ITEMS IN THE SDK, 
   * WHETHER OR NOT USED BY YOU IN THE DEVELOPMENT OF INTEGRATED PRODUCT, FOR ANY 
   * PARTICULAR PURPOSE OR WITH RESPECT TO THEIR ADEQUACY TO PRODUCE ANY PARTICULAR 
   * RESULT. REALSEE AND ITS LICENSORS SHALL NOT BE LIABLE FOR LOSS OR DAMAGE ARISING 
   * OUT OF THIS AGREEMENT OR FROM THE DISTRIBUTION OR USE OF INTEGRATED PRODUCT 
   * CONTAINING PORTIONS OF THE SDK. REALSEE AND ITS LICENSORS DISCLAIM ALL 
   * WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED 
   * CONDITIONS OR WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE 
   * OR NONINFRINGEMENT OF ANY THIRD PARTY RIGHT IN RESPECT OF THE ITEMS IN THE SDK 
   * OR ANY SERVICES RELATED TO THE SDK.
   * REALSEE IS UNDER NO OBLIGATION TO PROVIDE ANY SUPPORT UNDER THIS LICENSE 
   * AGREEMENT, INCLUDING UPGRADES OR FUTURE VERSIONS OF THE SDK OR ANY PORTIONS 
   * THEREOF, TO YOU, END USER OR TO ANY OTHER PARTY.
   * 7. LIMITATION OF LIABILITY.
   * TO THE EXTENT NOT PROHIBITED BY APPLICABLE LAW, IN NO EVENT WILL REALSEE OR ITS 
   * LICENSORS BE LIABLE FOR ANY DIRECT, INCIDENTAL, SPECIAL, INDIRECT, OR 
   * CONSEQUENTIAL DAMAGES, INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF USE, 
   * LOSS OF BUSINESS, REVENUE, OR PROFITS, LOSS OF OPPORTUNITY (WHETHER DIRECT OR 
   * INDIRECT), CORRUPTION OR LOSS OF DATA, LOSS OF REPUTATION OR SAVINGS, DOWNTIME, 
   * OR DAMAGE TO, LOSS OF OR REPLACEMENT OF DATA OR TRANSACTIONS, COST OF 
   * PROCUREMENT OF SUBSTITUTE SERVICES, BUSINESS INTERRUPTION, OR ANY OTHER 
   * COMMERCIAL DAMAGES OR LOSSES, ARISING OUT OF OR RELATED TO YOUR USE OR INABILITY 
   * TO USE THE SDK (OR ANY PART THEREOF), ANY INTEGRATED PRODUCT, OR ANY THIRD PARTY 
   * SOFTWARE, APPLICATIONS, OR SERVICES IN CONJUNCTION WITH THE SDK (OR ANY PART 
   * THEREOF), HOWEVER CAUSED, REGARDLESS OF THE THEORY OF LIABILITY (CONTRACT, TORT, 
   * OR OTHERWISE) AND EVEN IF REALSEE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH 
   * DAMAGES. IN NO EVENT WILL REALSEE’S TOTAL LIABILITY TO YOU FOR ALL DAMAGES 
   * EXCEED ONE HUNDRED DOLLARS ($100.00). THE FOREGOING LIMITATIONS WILL APPLY EVEN 
   * IF THE ABOVE STATED REMEDY FAILS OF ITS ESSENTIAL PURPOSE. THE LIMITATIONS 
   * CONTAINED IN SECTIONS 6 AND THIS SECTION 7 ARE A FUNDAMENTAL PART OF THE BASIS 
   * OF REALSEE’S BARGAIN HEREUNDER, AND REALSEE WOULD NOT ENTER INTO THIS AGREEMENT 
   * OR PROVIDE YOU WITH ACCESS TO THE SDK ABSENT SUCH LIMITATIONS.
   * 8. INDEMNIFICATION.
   * To the extent permitted by applicable law, You agree to indemnify, defend and 
   * hold harmless Realsee, its affiliates and each of their directors, officers, 
   * employees, independent contractors, and agents (each a “Realsee Indemnified 
   * Party”) from any and all claims, losses, liabilities, damages, expenses, and 
   * costs (including without limitation attorneys’ fees and court costs) incurred by 
   * a Realsee Indemnified Party as a result of: (i) Your non-compliance with any 
   * terms of this Agreement; (ii) Your use of the SDK (or any part thereof); or 
   * (iii) Your use of any Integrated Product, including any claim that Integrated 
   * Product infringes the copyright, trademark, trade secret or other intellectual 
   * property right of a third party.
   * 9. ACKNOWLEDGEMENTS.
   * Portions of the SDK may utilize or include third party software and other 
   * copyrighted material. Acknowledgments, licensing terms, and disclaimers for such 
   * material are contained in Documentation for the SDK or may otherwise accompany 
   * such material, and Your use of such materials governed by their respective 
   * terms. In the event of conflict between the terms of this Agreement and an 
   * applicable open source or third party agreement, the open source or third party 
   * agreement will control solely with respect to the open source software or third 
   * party software. Moreover, You shall not subject any items (including not limited 
   * to source code, object code, and any software)  included in the SDK to any open 
   * source license.
   * 10. NON-BLOCKING OF REALSEE DEVELOPMENT.
   * You acknowledge that Realsee is currently developing or may develop technologies 
   * and products in the future that have or may have design and/or functionality 
   * similar to Integrated Product that You may develop based on Your license herein. 
   * Nothing in this Agreement shall impair, limit or curtail Realsee's right to 
   * continue with its development, maintenance and/or distribution of Realsee's 
   * technology or products.
   * 11. GENERAL.
   * 11.1 Export Control. You may not use or otherwise export or re-export the SDK 
   * (or any part thereof) except as authorized by United States law and the laws of 
   * the jurisdiction(s) in which the SDK (or any part thereof) was obtained. In 
   * particular, but without limitation, the SDK may not be exported or re-exported 
   * (i) into any U.S. embargoed countries or (ii) to anyone on the U.S. Treasury 
   * Department's list of Specially Designated Nationals or the U.S. Department of 
   * Commerce Denied Person's List or Entity List. By using the SDK (or any part 
   * thereof), You represent and warrant that You are not located in any such country 
   * or on any such list.
   * 11.2 Governing Law. This Agreement and the rights of the parties hereunder shall 
   * be governed by and construed in accordance with the laws of People’s Republic of 
   * China (for purpose of this Agreement, excluding Hong Kong, Taiwan, and Macau), 
   * without reference to its conflict of laws principles. Any dispute, controversy 
   * or claim arising from or in connection with this Agreement, or the breach, 
   * termination or invalidity thereof, shall be submitted to China International 
   * Economic and Trade Arbitration Commission (“CIETAC”) for arbitration in Beijing 
   * which shall be conducted in accordance with the CIETAC's arbitration rules in 
   * effect at the time of applying for arbitration. The arbitral award is final and 
   * binding upon both parties.
   * 11.3 Severability. If any provision of this Agreement is held by a court of 
   * competent jurisdiction to be unenforceable for any reason, the remaining 
   * provisions hereof will be unaffected and remain in full force and effect.
   * 11.4. Modifications. Realsee reserves the right, from time to time, with or 
   * without notice to You, to make revisions to this Agreement in our sole and 
   * absolute discretion.  The most current version of this Agreement will supersede 
   * all previous versions and shall be made available on the website where the SDK 
   * is made available, or by such other means as Realsee may determine in its 
   * discretion. Any modified versions of this Agreement hereto shall take effect 
   * from the time that it is made available. You shall be responsible for regularly 
   * checking for notice of any such modifications. You agree that Your continued use 
   * of the SDK constitutes Your agreement to the modified Agreement.
   * 11.5 Relationship of the Parties. This Agreement will not be construed as 
   * creating an agency, partnership, joint venture, fiduciary duty, or any other 
   * form of legal association between You and Realsee, and You will not represent to 
   * the contrary, whether expressly, by implication, appearance, or otherwise.
   * 11.6 Entire Agreement; Governing Language. This Agreement constitutes the entire 
   * agreement between You and Realsee with respect to the use of the SDK licensed 
   * hereunder and supersedes all prior understandings regarding such subject matter. 
   * No amendment to or modification of this Agreement will be binding unless in 
   * writing and signed by Realsee. You and Realsee hereto confirm that this 
   * Agreement and all related documents shall be drafted in English.
  *)
*/
//# sourceMappingURL=@realsee_dnalogel.js.map
