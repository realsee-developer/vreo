import {
  require_react
} from "./chunk-TOMGVNQP.js";
import {
  Five,
  getViewportScale
} from "./chunk-3FKD32UE.js";
import {
  Raycaster,
  Vector3,
  WebGLRenderer,
  sRGBEncoding
} from "./chunk-P7TF6BZ5.js";
import {
  __toESM
} from "./chunk-G3PMV62Z.js";

// ../../node_modules/.pnpm/@realsee+five@6.4.0-alpha.40_@types+react@18.3.23_react@18.3.1_three@0.117.1/node_modules/@realsee/five/react/index.mjs
var u = __toESM(require_react(), 1);
var k = function(e, n) {
  return k = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, r) {
    t.__proto__ = r;
  } || function(t, r) {
    for (var o in r) Object.prototype.hasOwnProperty.call(r, o) && (t[o] = r[o]);
  }, k(e, n);
};
function B(e, n) {
  if (typeof n != "function" && n !== null)
    throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");
  k(e, n);
  function t() {
    this.constructor = e;
  }
  e.prototype = n === null ? Object.create(n) : (t.prototype = n.prototype, new t());
}
var g = function() {
  return g = Object.assign || function(n) {
    for (var t, r = 1, o = arguments.length; r < o; r++) {
      t = arguments[r];
      for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (n[a] = t[a]);
    }
    return n;
  }, g.apply(this, arguments);
};
function b(e, n, t) {
  if (t || arguments.length === 2) for (var r = 0, o = n.length, a; r < o; r++)
    (a || !(r in n)) && (a || (a = Array.prototype.slice.call(n, 0, r)), a[r] = n[r]);
  return e.concat(a || Array.prototype.slice.call(n));
}
var E = [];
var R = [];
function ie(e) {
  var n = e === void 0 ? {} : e, t = n.backgroundColor, r = t === void 0 ? 1579548 : t, o = n.backgroundAlpha, a = o === void 0 ? 1 : o, i = n.preserveDrawingBuffer, s = i === void 0 ? true : i, c = n.pixelRatio, l = c === void 0 ? 1 : c, v = n.webgl2, m = v === void 0 ? false : v;
  if (typeof window != "undefined") {
    var d = null;
    if (m ? d = E.shift() : d = R.shift(), !d) {
      if (m) {
        var y = document.createElement("canvas"), S = y.getContext("webgl2");
        S ? d = new WebGLRenderer({ preserveDrawingBuffer: s, antialias: true, alpha: true, stencil: true, canvas: y, context: S }) : (console.error("error occurred when getting webgl2 canvas context, mybe webgl2 not support, fallback to webgl."), d = new WebGLRenderer({ preserveDrawingBuffer: s, antialias: false, alpha: true, stencil: true }));
      } else
        d = new WebGLRenderer({ preserveDrawingBuffer: s, antialias: false, alpha: true, stencil: true });
      d.outputEncoding = sRGBEncoding;
    }
    return d.setPixelRatio(l), d.setClearColor(r, a), d.autoClear = true, d;
  }
}
function se(e) {
  if (e) {
    var n = e.capabilities.isWebGL2;
    n ? R.indexOf(e) === -1 && R.push(e) : E.indexOf(e) === -1 && E.push(e);
  }
}
var L = u.createContext(null);
function p() {
  var e = u.useContext(L);
  if (!e)
    throw new Error("FiveProvider never found.");
  return e.five;
}
function H() {
  var e = u.useContext(L);
  if (!e)
    throw new Error("FiveProvider never found.");
  return e.loadWork;
}
function ce(e, n) {
  var t = Array.isArray(e) ? e : [e], r = Array.isArray(n) ? n : [n];
  if (t.length !== r.length)
    return false;
  for (var o = 0; o < t.length; o++)
    if (t[o].workCode !== r[o].workCode)
      return false;
  return true;
}
function Ge(e) {
  return e === void 0 && (e = {}), /** @class */
  function(n) {
    B(t, n);
    function t(r) {
      var o = n.call(this, r) || this;
      return o.__fiveEventDisposers = [], o.__fiveDisposeTimer = null, o.five = new Five(g(g({}, e), { renderer: void 0 })), o.loadWork = o.loadWork.bind(o), o.state = {}, o;
    }
    return t.prototype.loadWork = function(r, o, a, i) {
      if (i === void 0 && (i = true), this.props.work)
        throw new Error("props 'works' is set in fiveProvider, if you need modify work internal, use 'initialWork' instead.");
      return this.five.load(r, o, a, i);
    }, t.prototype.shouldComponentUpdate = function(r) {
      return this.five.renderer && this.five && r.work && !ce(r.work, this.five.works) && this.five.load(r.work, r.initialState, r.initialOptions), true;
    }, t.prototype.componentDidMount = function() {
      var r = this, o;
      clearTimeout(this.__fiveDisposeTimer), this.__fiveDisposeTimer = null;
      var a;
      if (typeof window != "undefined") {
        var i = getViewportScale(), s = i === 1 ? window.devicePixelRatio : 1;
        a = ie({
          pixelRatio: s,
          backgroundAlpha: e.backgroundAlpha,
          backgroundColor: e.backgroundColor,
          webgl2: e == null ? void 0 : e.webgl2,
          preserveDrawingBuffer: e == null ? void 0 : e.preserveDrawingBuffer
        });
      }
      this.five.renderer = a, this.setState({ renderer: a }), this.__fiveEventDisposers.push(this.five.on("load", function() {
        r.props.onWorksChange && r.props.onWorksChange(r.five.works);
      })), this.__fiveEventDisposers.push(this.five.on("stateChange", function(l, v) {
        r.props.onStateChange && r.props.onStateChange(l, v);
      })), this.__fiveEventDisposers.push(this.five.on("currentStateChange", function(l, v) {
        r.props.onCurrentStateChange && r.props.onCurrentStateChange(l, v);
      })), this.__fiveEventDisposers.push(this.five.on("error", function(l) {
        r.props.onError ? r.props.onError(l) : console.warn(l.message);
      }));
      var c = this.props.work || this.props.initialWork;
      c && this.five.load(c, this.props.initialState, this.props.initialOptions, (o = this.props.initialUserAction) !== null && o !== void 0 ? o : true);
    }, t.prototype.componentWillUnmount = function() {
      var r = this, o;
      (o = this.five.controller) === null || o === void 0 || o.destroy();
      var a = this.five.renderer;
      this.five.renderer = void 0, se(a), this.setState({ renderer: void 0 }), this.__fiveDisposeTimer = setTimeout(function() {
        r.__fiveDisposeTimer = null, r.five.dispose();
      }, 1e3);
    }, t.prototype.render = function() {
      var r = this.five, o = this.loadWork, a = this.state.renderer;
      return u.createElement(L.Provider, {
        value: { renderer: a, five: r, loadWork: o }
      }, this.props.children);
    }, t;
  }(u.Component);
}
var fe = typeof window != "undefined" ? u.useLayoutEffect : u.useEffect;
var le = {
  display: "inline-block",
  overflow: "hidden"
};
var Ae = function(e) {
  var n = e.width, t = e.height, r = p(), o = u.createRef(), a = g({ width: n, height: t }, le);
  return fe(function() {
    var i = o.current;
    if (i && r.renderer) {
      var s = r.renderer.domElement;
      if (s.parentNode !== null && s.parentNode !== i)
        throw new Error("There are more than 2 fiveCanvas in this context.");
      return s.parentNode !== i && i.appendChild(s), r.camera.aspect = n / t, r.camera.updateProjectionMatrix(), r.renderer.setSize(n, t), r.refresh({ width: n, height: t }), r.needsRender = true, function() {
        s.parentNode === i && i.removeChild(s);
      };
    }
  }, [r, r.renderer, n, t, o.current]), u.createElement("div", { ref: o, style: a });
};
function Ie() {
  return p();
}
function de(e, n) {
  var t = p(), r = [t];
  n !== void 0 && (r = r.concat(n)), u.useLayoutEffect(function() {
    return e(t.scene);
  }, r);
}
var qe = de;
function ze() {
  var e = p(), n = H(), t = u.useState(function() {
    return e.works;
  }), r = t[0], o = t[1];
  return u.useLayoutEffect(function() {
    return e.on("load", function() {
      return o(e.works);
    });
  }, [e]), [r, n];
}
function U(e) {
  return g({}, e.state);
}
function Je() {
  var e = p(), n = u.useState(function() {
    return U(e);
  }), t = n[0], r = n[1], o = u.useCallback(function(a, i, s) {
    i === void 0 && (i = false), s === void 0 && (s = true);
    var c = typeof a == "function" ? a(e.getCurrentState()) : a;
    e.setState(c, i, s);
  }, [e]);
  return u.useLayoutEffect(function() {
    return e.on("stateChange", function() {
      return r(U(e));
    });
  }, [e]), [t, o];
}
function Ke() {
  var e = p(), n = u.useState(function() {
    return e.getCurrentState();
  }), t = n[0], r = n[1], o = u.useCallback(function(a, i, s) {
    i === void 0 && (i = false), s === void 0 && (s = true);
    var c = typeof a == "function" ? a(e.getCurrentState()) : a;
    e.setState(c, i, s);
  }, [e]);
  return u.useLayoutEffect(function() {
    return e.on("currentStateChange", function() {
      return r(e.getCurrentState());
    });
  }, [e]), [t, o];
}
function Qe() {
  var e = p(), n = u.useState(function() {
    return e.getCurrentState();
  }), t = n[0], r = n[1];
  return u.useLayoutEffect(function() {
    return e.on("currentStateChange", function() {
      return r(e.getCurrentState());
    });
  }, [e]), e.works.getResolvedObserver(t);
}
function Xe(e, n, t) {
  var r = p(), o = [r, e];
  t !== void 0 && (o = o.concat(t)), u.useLayoutEffect(function() {
    return r.on(e, n);
  }, o);
}
function Ye() {
  var e = p(), n = u.useCallback(function(i, s) {
    return e.updateCamera(i, s);
  }, [e]), t = u.useCallback(e.getPixels.bind(e), [e]), r = u.useCallback(function(i) {
    return e.render(i);
  }, [e]), o = u.useCallback(function() {
    return e.needsRender = true;
  }, [e]), a = u.useCallback(function(i, s) {
    return e.preloadPano(i, s);
  }, [e]);
  return { updateCamera: n, getPixels: t, render: r, needsRender: o, preloadPano: a };
}
function Ze() {
  var e = p(), n = u.useState(function() {
    return Symbol();
  });
  n[0];
  var t = n[1];
  u.useLayoutEffect(function() {
    return e.on("cameraUpdate", function() {
      return t(Symbol());
    });
  }, [e]);
  var r = u.useCallback(function(o, a) {
    return e.project2d(o, a);
  }, [e]);
  return r;
}
function j(e) {
  var n = e.camera.getWorldDirection(new Vector3()), t = new Raycaster(e.camera.position, n);
  return t;
}
function er() {
  var e = p(), n = u.useState(function() {
    return j(e);
  }), t = n[0], r = n[1];
  return u.useLayoutEffect(function() {
    return e.on("cameraUpdate", function() {
      return r(j(e));
    });
  }, [e]), t;
}
function T(e) {
  return e.camera.getWorldDirection(new Vector3());
}
function rr() {
  var e = p(), n = u.useState(function() {
    return T(e);
  }), t = n[0], r = n[1];
  return u.useLayoutEffect(function() {
    return e.on("cameraUpdate", function() {
      return r(T(e));
    });
  }, [e]), t;
}
function tr() {
  var e = p(), n = u.useCallback(function(t) {
    return e.model.intersectRaycaster(t);
  }, [e]);
  return n;
}
function N(e) {
  return e.model.empty ? "Empty" : "Loaded";
}
function nr() {
  var e = p(), n = u.useState(function() {
    return N(e);
  }), t = n[0], r = n[1];
  return u.useLayoutEffect(function() {
    return e.on("modelLoaded", function() {
      return r(N(e));
    });
  }, [e]), t;
}
function or() {
  var e = p(), n = u.useState(e.model.shownFloor), t = n[0], r = n[1], o = u.useState(e.model.floorLength), a = o[0], i = o[1], s = u.useCallback(function(c) {
    typeof c == "number" ? e.model.show(c) : e.model.show();
  }, [e]);
  return u.useLayoutEffect(function() {
    var c = [];
    return c.push(e.on("modelShownFloorChange", function() {
      return r(e.model.shownFloor);
    })), c.push(e.on("modelLoaded", function() {
      return i(e.model.floorLength);
    })), function() {
      for (var l; l = c.shift(); )
        l();
    };
  }, [e]), [t, a, s];
}
function ar() {
  var e = p(), n = u.useState(e.helperVisible), t = n[0], r = n[1], o = u.useCallback(function(a) {
    e.helperVisible = a;
  }, [e]);
  return u.useLayoutEffect(function() {
    return e.on("helpersVisibleChange", function(a) {
      return r(a);
    });
  }, [e]), [t, o];
}
var ur = "$five";
function f(e, n) {
  return n.indexOf(e) >= 0;
}
function $(e, n) {
  for (var t = 0, r = Object.keys(n); t < r.length; t++) {
    var o = r[t];
    n[o] !== void 0 && (e[o] = n[o]);
  }
}
function ve(e, n) {
  var t = f("state", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t)
      return g({}, e.state);
  }, [e, o]);
  return u.useLayoutEffect(function() {
    if (t)
      return e.on("stateChange", function() {
        return a(Symbol());
      });
  }, [e]), [i, o];
}
function pe(e, n) {
  var t = f("currentState", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t)
      return e.getCurrentState();
  }, [e, o]);
  return u.useLayoutEffect(function() {
    if (t)
      return e.on("currentStateChange", function() {
        return a(Symbol());
      });
  }, [e]), [i, o];
}
function he(e, n) {
  var t = f("currentObserver", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t)
      return e.getCurrentState();
  }, [e, o]);
  u.useLayoutEffect(function() {
    if (t)
      return e.on("currentStateChange", function() {
        return a(Symbol());
      });
  }, [e]);
  var s = void 0;
  return i && (s = e.works.getResolvedObserver(i)), [s, o];
}
function ge(e, n) {
  var t = f("unsafe__fiveInstance", n);
  return [t ? e : void 0];
}
function me(e, n) {
  var t = f("works", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t)
      return e.works;
  }, [e, o]);
  return u.useLayoutEffect(function() {
    if (t)
      return e.on("load", function() {
        return a(Symbol());
      });
  }, [e]), [i, o];
}
function ye(e, n) {
  var t = f("model", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t)
      return e.model;
  }, [e, o]);
  return u.useLayoutEffect(function() {
    if (t)
      return e.on("modelLoaded", function() {
        return a(Symbol());
      });
  }, [e]), [i, o];
}
function Se(e, n) {
  var t = f("scene", n);
  return [t ? e.scene : void 0];
}
function we(e, n) {
  var t = f("cameraDirection", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t)
      return e.camera.getWorldDirection(new Vector3());
  }, [e, o]);
  return u.useLayoutEffect(function() {
    if (t)
      return e.on("cameraUpdate", function() {
        return a(Symbol());
      });
  }, [e]), [i, o];
}
function be(e, n) {
  var t = f("cameraRaycaster", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t) {
      var s = e.camera.getWorldDirection(new Vector3()), c = new Raycaster(e.camera.position, s);
      return c;
    }
  }, [e, o]);
  return u.useLayoutEffect(function() {
    if (t)
      return e.on("cameraUpdate", function() {
        return a(Symbol());
      });
  }, [e]), [i, o];
}
function Ce(e, n) {
  var t = f("modelReadyState", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t)
      return e.model.empty ? "Empty" : "Loaded";
  }, [e, o]);
  return u.useLayoutEffect(function() {
    if (t)
      return e.on("modelLoaded", function() {
        return a(Symbol());
      });
  }, [e]), [i, o];
}
function Fe(e, n) {
  var t = f("shownFloor", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t)
      return e.model.shownFloor;
  }, [e, o]);
  return u.useLayoutEffect(function() {
    if (t)
      return e.on("modelShownFloorChange", function() {
        return a(Symbol());
      });
  }, [e]), [i, o];
}
function ke(e, n) {
  var t = f("helperVisible", n), r = u.useState(Symbol()), o = r[0], a = r[1], i = u.useMemo(function() {
    if (t)
      return e.helperVisible;
  }, [e, o]);
  return u.useLayoutEffect(function() {
    if (t)
      return e.on("helpersVisibleChange", function() {
        return a(Symbol());
      });
  }, [e]), [i, o];
}
function Ee(e, n) {
  if (f("loadWork", n))
    return e;
}
function Re(e, n) {
  if (f("setState", n))
    return function() {
      for (var t = [], r = 0; r < arguments.length; r++)
        t[r] = arguments[r];
      return e.setState.apply(e, t);
    };
}
function Le(e, n) {
  if (f("on", n))
    return function() {
      for (var t = [], r = 0; r < arguments.length; r++)
        t[r] = arguments[r];
      return e.on.apply(e, t);
    };
}
function Ve(e, n) {
  if (f("on", n))
    return function() {
      for (var t = [], r = 0; r < arguments.length; r++)
        t[r] = arguments[r];
      return e.once.apply(e, t);
    };
}
function _e(e, n) {
  if (f("off", n))
    return function() {
      for (var t = [], r = 0; r < arguments.length; r++)
        t[r] = arguments[r];
      return e.off.apply(e, t);
    };
}
function Pe(e, n) {
  if (f("intersectRaycaster", n))
    return function() {
      for (var t, r = [], o = 0; o < arguments.length; o++)
        r[o] = arguments[o];
      return (t = e.model).intersectRaycaster.apply(t, r);
    };
}
function xe(e, n) {
  if (f("project2d", n))
    return function() {
      for (var t = [], r = 0; r < arguments.length; r++)
        t[r] = arguments[r];
      return e.project2d.apply(e, t);
    };
}
function De(e, n) {
  if (f("updateCamera", n))
    return function() {
      for (var t = [], r = 0; r < arguments.length; r++)
        t[r] = arguments[r];
      return e.updateCamera.apply(e, t);
    };
}
function We(e, n) {
  if (f("getPixels", n))
    return e.getPixels.bind(e);
}
function Oe(e, n) {
  if (f("render", n))
    return function() {
      for (var t = [], r = 0; r < arguments.length; r++)
        t[r] = arguments[r];
      return e.render.apply(e, t);
    };
}
function Me(e, n) {
  if (f("needsRender", n))
    return function() {
      e.needsRender = true;
    };
}
function Ue(e, n) {
  if (f("preloadPano", n))
    return function() {
      for (var t = [], r = 0; r < arguments.length; r++)
        t[r] = arguments[r];
      return e.preloadPano.apply(e, t);
    };
}
function je(e, n) {
  if (f("showFloor", n))
    return function(t) {
      typeof t == "number" ? e.model.show(t) : e.model.show();
    };
}
function Te(e, n) {
  if (f("toggleHelperVisible", n))
    return function(t) {
      e.helperVisible = t;
    };
}
function ir(e) {
  return function(n) {
    return u.forwardRef(function(t, r) {
      var o = p(), a = H(), i = ge(o, e)[0], s = ve(o, e), c = s[0], l = s[1], v = pe(o, e), m = v[0], d = v[1], y = he(o, e), S = y[0], C = y[1], V = me(o, e), G = V[0], A = V[1], _ = ye(o, e), I = _[0], q = _[1], z = Se(o, e)[0], P = we(o, e), J = P[0], K = P[1], x = be(o, e), Q = x[0], X = x[1], D = Ce(o, e), Y = D[0], Z = D[1], W = Fe(o, e), ee = W[0], re = W[1], O = ke(o, e), te = O[0], ne = O[1], M = u.useMemo(function() {
        var w = {};
        return $(w, {
          setState: Re(o, e),
          loadWork: Ee(a, e),
          on: Le(o, e),
          once: Ve(o, e),
          off: _e(o, e),
          intersectRaycaster: Pe(o, e),
          project2d: xe(o, e),
          updateCamera: De(o, e),
          getPixels: We(o, e),
          render: Oe(o, e),
          needsRender: Me(o, e),
          preloadPano: Ue(o, e),
          showFloor: je(o, e),
          toggleHelperVisible: Te(o, e)
        }), w;
      }, [o, a]), oe = u.useMemo(function() {
        var w = g({}, M);
        return $(w, {
          unsafe__fiveInstance: i,
          state: c,
          currentState: m,
          currentObserver: S,
          work: G,
          model: I,
          scene: z,
          cameraDirection: J,
          cameraRaycaster: Q,
          modelReadyState: Y,
          shownFloor: ee,
          helperVisible: te
        }), w;
      }, [
        o,
        M,
        l,
        d,
        C,
        A,
        q,
        K,
        X,
        Z,
        re,
        ne
      ]);
      return u.createElement(n, g({ ref: r, $five: oe }, t));
    });
  };
}
function sr() {
  for (var e = [], n = 0; n < arguments.length; n++)
    e[n] = arguments[n];
  return e;
}
function F(e, n) {
  for (var t = {}, r = n.length, o = -1; ++o < r; ) {
    var a = n[o];
    a in e && (t[a] = e[a]);
  }
  return t;
}
function Ne(e, n) {
  return typeof e == "number" && typeof n == "number" && isNaN(e) && isNaN(n) ? true : e === n;
}
function $e(e, n) {
  for (var t = 0; t < e.length; t++)
    for (var r = 0; r < n.length; r++)
      if (e[t] === n[r])
        return true;
  return false;
}
var Be = (
  /** @class */
  function() {
    function e(n, t) {
      this.values = n, this.listeners = [], this.onValuesChange = t;
    }
    return e.prototype.on = function(n, t) {
      var r = this, o = [n, t];
      return this.listeners.push(o), function() {
        var a = r.listeners.indexOf(o);
        a >= 0 && r.listeners.splice(a, 1);
      };
    }, e.prototype.getValues = function(n) {
      return F(this.values, n);
    }, e.prototype.setValues = function(n, t) {
      var r = [];
      for (var o in t)
        n.indexOf(o) >= 0 && !Ne(t[o], this.values[o]) && r.push(o);
      if (r.length !== 0) {
        for (var a = g({}, this.values), i = 0, s = r; i < s.length; i++) {
          var c = s[i];
          this.values[c] = t[c];
        }
        this.onValuesChange && this.onValuesChange(this.values, a);
        for (var l = 0, v = this.listeners; l < v.length; l++) {
          var m = v[l], d = m[0], y = m[1];
          if ($e(d, r)) {
            var S = F(a, d), C = F(this.values, d);
            y(C, S);
          }
        }
      }
    }, e;
  }()
);
function cr(e) {
  var n = u.createContext(null);
  return {
    /**
     * 使用 Store
     * @param names - 获取的 Store 字段
     * @returns [值, 修改值方法]
     */
    useStore: function(t) {
      var r = u.useContext(n);
      if (r === null)
        throw new Error("StoreProvider never found.");
      var o = u.useRef(true), a = u.useState(r.getValues(t)), i = a[0], s = a[1], c = b([r], t, true);
      u.useLayoutEffect(function() {
        return o.current ? o.current = false : s(r.getValues(t)), r.on(t, function(v) {
          return s(v);
        });
      }, c);
      var l = u.useCallback(function(v) {
        return r.setValues(t, v);
      }, c);
      return [i, l];
    },
    /**
     * 使用 Store (仅设置值)
     * @param names - 获取的 Store 字段
     * @returns 修改值方法
     */
    useStoreSetter: function(t) {
      var r = u.useContext(n);
      if (r === null)
        throw new Error("StoreProvider never found.");
      var o = u.useCallback(function(a) {
        return r.setValues(t, a);
      }, b([r], t, true));
      return o;
    },
    /**
     * 监听 Store 变化
     * @param names - Store 字段
     * @param callback - 监听变化的回调函数
     * @param deps - 依赖对象
     */
    watchStore: function(t, r, o) {
      var a = u.useContext(n);
      if (a === null)
        throw new Error("StoreProvider never found.");
      var i = b([a], t, true);
      o !== void 0 && (i = i.concat(o)), u.useLayoutEffect(function() {
        return a.on(t, r);
      }, i);
    },
    useStoreAction: function(t) {
      var r = u.useContext(n);
      if (r === null)
        throw new Error("StoreProvider never found.");
      var o = u.useCallback(function() {
        for (var a = [], i = 0; i < arguments.length; i++)
          a[i] = arguments[i];
        var s = e[t], c = s[0], l = s.slice(1), v = function() {
          return r.getValues(l);
        }, m = function(d) {
          return r.setValues(l, d);
        };
        return c.apply(void 0, b([v, m], a, false));
      }, []);
      return o;
    },
    /**
     * Store Provider.
     * 内部组件均可和 store 交互
     */
    StoreProvider: (
      /** @class */
      function(t) {
        B(r, t);
        function r(o) {
          var a = t.call(this, o) || this;
          return a.store = new Be(o.initialValue, function() {
            for (var i, s = [], c = 0; c < arguments.length; c++)
              s[c] = arguments[c];
            a.props.onValuesChange && (i = a.props).onValuesChange.apply(i, s);
          }), a;
        }
        return r.prototype.shouldComponentUpdate = function(o) {
          return o.children !== this.props.children;
        }, r.prototype.render = function() {
          return u.createElement(n.Provider, { value: this.store }, this.props.children);
        }, r;
      }(u.Component)
    )
  };
}
export {
  Ae as FiveCanvas,
  ur as INJECTION_PROPNAME,
  Be as Store,
  sr as createFiveFeature,
  Ge as createFiveProvider,
  cr as createStore,
  Ie as unsafe__useFiveInstance,
  Ye as useFiveAction,
  rr as useFiveCameraDirection,
  er as useFiveCameraRaycaster,
  Qe as useFiveCurrentObserver,
  Ke as useFiveCurrentState,
  Xe as useFiveEventCallback,
  or as useFiveFloor,
  ar as useFiveHelper,
  tr as useFiveModelIntersectRaycaster,
  nr as useFiveModelReadyState,
  Ze as useFiveProject2d,
  qe as useFiveScene,
  de as useFiveSceneEffect,
  Je as useFiveState,
  ze as useFiveWork,
  ir as withFive
};
/*! Bundled license information:

@realsee/five/react/index.mjs:
  (**
   * @license
   * @realsee/five
   * Generated: 6/5/2025
   * Version: 6.4.0-alpha.40
   * Terms:
   * Realsee SDK License Agreement
   * Update: July 28, 2021
   * THIS LICENSE AGREEMENT BETWEEN YOU AND 【BEIKE REALSEE TECHNOLOGY (HK) 
   * LIMITED】(“Realsee”) FORMS A LEGALLY BINDING CONTRACT BETWEEN YOU AND REALSEE IN 
   * RELATION TO YOUR USE OF THE SDK. This License Agreement accompanies the Realsee 
   * Software Development Kit(s) for the software and related explanatory materials 
   * (the "SDK") and includes any upgrades, modified versions, updates, additions, 
   * and copies of the SDK licensed to You by Realsee.
   * BY DOWNLOADING, INSTALLING, OR OTHERWISE ACCESSING OR USING THE SDK, YOU AGREE 
   * THAT YOU HAVE READ, UNDERSTOOD, AND AGREE TO BE BOUND BY THIS AGREEMENT. YOU ARE 
   * AGREEING ON YOUR OWN BEHALF AND/OR ON BEHALF OF YOUR COMPANY OR ORGANIZATION TO 
   * THE TERMS AND CONDITIONS STATED BELOW.
   * This Agreement applies to Your use of the SDK in the country in which You 
   * legally install it (“Territory”) and is subject to the laws of such Territory 
   * and further subject to Section 12 below. Different terms, conditions, and 
   * limitations may apply to the use of the SDK in any additional countries.
   * 1. DEFINITIONS.
   * “Agreement” means this Realsee SDK License Agreement.
   * “Developer”, “You” and “Your” means the person(s) or entity acquiring or using 
   * the SDK or otherwise exercising rights under the terms of this Agreement.
   * “Documentation” means the technical or other specifications or documentation 
   * that Realsee may provide to You for use in connection with the SDK.
   * “Integrated Product” means any software, website, or on-line service developed 
   * by You based on or using the SDK (collectively, the “Integrated Product”).
   * “Intellectual Property” means any patents, patent rights, trademarks, service 
   * marks, registered and unregistered designs, applications for any of the 
   * foregoing, copyright, and any other similar protected rights in any country and 
   * to the extent recognised by any relevant jurisdiction as intellectual property, 
   * trade secrets, know-how and confidential information. Realsee reserves all 
   * rights not expressly granted to You.
   * “Realsee” means [Beike Realsee Technology (HK) Limited, a company incorporated 
   * and validly existing under the laws of Hong Kong].
   * “SDK” means the Realsee-proprietary Software Development Kits (SDK) provided 
   * hereunder, includes all development tools (including any compiler and debugger), 
   * application programming interfaces (“APIs”), libraries, binary utilities, header 
   * files, Documentation, content, data, code samples, and other materials provided 
   * to You in connection with this Agreement, whether delivered through a download, 
   * or any other media or form, and is licensed, not sold, to You by Realsee for use 
   * only under the terms of this Agreement. The terms of this Agreement will govern 
   * any updates provided by Realsee that replace and/or supplement the original SDK 
   * delivered to You, unless such update is accompanied by a separate license, in 
   * which case the terms of such license will govern.
   * 2. LICENSED USES AND RESTRICTIONS.
   * 2.1 Subject to the restrictions contained in this Section 2, Realsee grants to 
   * You during the term, a limited, non-exclusive, revocable, non-sublicensable, 
   * non-transferable license to install and use the SDK within the Territory only 
   * for the purpose of internal development.
   * 2.2 Restrictions. You acknowledge and agree that, You shall not, and shall 
   * ensure that Your affiliates, employees, agents, representatives, officers, 
   * representatives, and subcontractors do not (directly or indirectly):
   * 2.2.1 decompile, reverse engineer, disassemble or attempt to derive the source 
   * code of, those components of the SDK provided in object code form, or any part 
   * thereof;
   * 2.2.2 remove, alter, or obscure any copyright notice or other proprietary rights 
   * notice on any part of the SDK;
   * 2.2.3 sell, assign, pledge, rent, lease, lend, upload to or host on any website 
   * or server for use by any third party except You, redistribute, or sublicense the 
   * SDK (or any part thereof), or operate the SDK (or any part thereof) in the 
   * capacity of a service bureau or other hosted services provider, in whole or in 
   * part, nor may You enable others to do so;
   * 2.2.4 or alter, modify, customize or improve the SDK, or any part thereof;
   * 2.2.5 use the SDK (or any part thereof) for any illegal purpose, in any manner 
   * that is inconsistent with the terms of this Agreement, or to engage in any 
   * illegal activity;
   * 2.2.6 use the SDK (or any part thereof) in any manner that may damage the 
   * operation of Realsee’s products or services; or
   * 2.2.7 use the SDK or any information contained therein or otherwise provided by 
   * Realsee for the purpose of developing, or having developed, any product 
   * competitive with any Realsee product or service, as determined by Realsee in its 
   * sole discretion;
   * 2.2.8 include any portion of the SDK in Your Developer products.
   * 2.3 Realsee has the right to impose reasonable conditions such as a reasonable 
   * fee for use of the SDK in Integrated Product in the future.
   * 2.4 You may make a limited number of copies of the SDK to be used by Your 
   * employees or consultants as provided herein, and not for general business 
   * purposes, and such employees or consultants shall be subject to the obligations 
   * and restrictions in this Agreement.
   * 2.5 All licenses not expressly granted in this Agreement are reserved and no 
   * other licenses, immunity, or rights, express or implied, are granted by Realsee, 
   * by implication, estoppel, or otherwise.
   * 3. CONFIDENTIALITY.
   * The SDK and all source code, Documentation, specifications, engineering details, 
   * and related information pertaining to the SDK, whether in oral, written, 
   * graphic, or electronic form, are and shall remain the confidential and 
   * proprietary information of Realsee or its licensors (collectively, the 
   * “Confidential Information”). You shall (i) disclose Confidential Information to 
   * only those directors and employees (collectively, “Affiliates”) whose duties 
   * justify their need to know such information and who have been clearly informed 
   * of their obligation to maintain the confidential, proprietary, and/or trade 
   * secret status of such Confidential Information; and (ii) use Confidential 
   * Information solely in accordance with the license granted hereunder. In any 
   * event, You and Your Affiliates shall treat Confidential Information as strictly 
   * confidential and shall use the same care to prevent disclosure of such 
   * information as You use with respect to Your own similar confidential and/or 
   * proprietary information, which shall not be less than the care a reasonable 
   * person would use under similar circumstances. All Confidential Information, and 
   * any copies thereof, shall be returned promptly to Realsee upon request. You 
   * shall ensure that Your Affiliates comply with the provisions of this Section 3, 
   * and You shall be liable for any breach of this Section 3 resulting from the act 
   * or omission of any of Your Affiliates. You shall not disclose Confidential 
   * Information to any third party, including, without limitation, any of Your 
   * subcontractors.
   * 4. PROPRIETARY RIGHTS.
   * 4.1 As between You and Realsee, Realsee and/or its licensors retain ownership of 
   * all right, title, and interest in, to, and under the SDK, including, without 
   * limitation, all patents, copyrights, trade secrets, trademarks and other 
   * intellectual property and other proprietary rights therein, and reserve all 
   * rights not expressly granted to You.
   * 4.2 The items contained in the SDK are the intellectual property of Realsee and 
   * its licensors and are protected by PRC copyright and patent law, international 
   * treaty provisions and applicable laws of the country in which it is being used. 
   * You agree to protect all copyright and other ownership interests of Realsee 
   * and/or its licensors in all items in the SDK supplied under this License 
   * Agreement. You agree that all copies of the items in the SDK, reproduced for any 
   * reason by You, contain the same copyright notices, and other proprietary notices 
   * as appropriate, as appear on or in the original items delivered by Realsee in 
   * the SDK. Realsee and/or its licensors retain title and ownership of the items in 
   * the SDK, the media on which it is loaded, and all subsequent copies, regardless 
   * of the form or media in or on which the original and other copies may exist. 
   * Except as stated above, this Agreement does not grant You any rights to patents, 
   * copyrights, trade secrets, trademarks or any other rights in respect to the 
   * items in the SDK.
   * 5. TERM AND TERMINATION.
   * 5.1 This Agreement is effective until terminated. Realsee has the right to 
   * terminate this Agreement immediately, without judicial intervention, if You fail 
   * to comply with any term herein. Upon any such termination You must remove all 
   * full and partial copies of the items in the SDK from Your computer and 
   * discontinue the use of the items in the SDK.
   * 5.2 Realsee may at any time, terminate the Agreement with You if: (A) You have 
   * breached any provision of the Agreement; or (B) Realsee is required to do so by 
   * law; or (C) Realsee decides to no longer provide the SDK or certain parts of the 
   * SDK to users in the country in which You are resident or from which You use the 
   * service, or the provision of the SDK or certain SDK services to You by Realsee 
   * is, in Realsee's sole discretion, no longer legally or commercially viable.
   * 5.3 When the Agreement comes to an end, all of the legal rights, obligations and 
   * liabilities that You and Realsee have benefited from, been subject to (or which 
   * have accrued over time whilst the Agreement has been in force) or which are 
   * expressed to continue indefinitely, shall be unaffected by this cessation, and 
   * the provisions of Section 3, 4, 6, 7 and 8 shall continue to apply to such 
   * rights, obligations and liabilities indefinitely.
   * 6. DISCLAIMER OF WARRANTY.
   * YOU EXPRESSLY ACKNOWLEDGE AND AGREE THAT, TO THE EXTENT PERMITTED BY APPLICABLE 
   * LAW, USE OF THE SDK (OR ANY PART THEREOF) IS AT YOUR SOLE RISK AND THAT THE 
   * ENTIRE RISK AS TO SATISFACTORY QUALITY, PERFORMANCE, ACCURACY, AND EFFORT IS 
   * WITH YOU. REALSEE LICENSES THE SDK TO YOU ONLY ON AN "AS-IS" BASIS. REALSEE 
   * MAKES NO REPRESENTATION WITH RESPECT TO THE ADEQUACY OF ANY ITEMS IN THE SDK, 
   * WHETHER OR NOT USED BY YOU IN THE DEVELOPMENT OF INTEGRATED PRODUCT, FOR ANY 
   * PARTICULAR PURPOSE OR WITH RESPECT TO THEIR ADEQUACY TO PRODUCE ANY PARTICULAR 
   * RESULT. REALSEE AND ITS LICENSORS SHALL NOT BE LIABLE FOR LOSS OR DAMAGE ARISING 
   * OUT OF THIS AGREEMENT OR FROM THE DISTRIBUTION OR USE OF INTEGRATED PRODUCT 
   * CONTAINING PORTIONS OF THE SDK. REALSEE AND ITS LICENSORS DISCLAIM ALL 
   * WARRANTIES, EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO IMPLIED 
   * CONDITIONS OR WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE 
   * OR NONINFRINGEMENT OF ANY THIRD PARTY RIGHT IN RESPECT OF THE ITEMS IN THE SDK 
   * OR ANY SERVICES RELATED TO THE SDK.
   * REALSEE IS UNDER NO OBLIGATION TO PROVIDE ANY SUPPORT UNDER THIS LICENSE 
   * AGREEMENT, INCLUDING UPGRADES OR FUTURE VERSIONS OF THE SDK OR ANY PORTIONS 
   * THEREOF, TO YOU, END USER OR TO ANY OTHER PARTY.
   * 7. LIMITATION OF LIABILITY.
   * TO THE EXTENT NOT PROHIBITED BY APPLICABLE LAW, IN NO EVENT WILL REALSEE OR ITS 
   * LICENSORS BE LIABLE FOR ANY DIRECT, INCIDENTAL, SPECIAL, INDIRECT, OR 
   * CONSEQUENTIAL DAMAGES, INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF USE, 
   * LOSS OF BUSINESS, REVENUE, OR PROFITS, LOSS OF OPPORTUNITY (WHETHER DIRECT OR 
   * INDIRECT), CORRUPTION OR LOSS OF DATA, LOSS OF REPUTATION OR SAVINGS, DOWNTIME, 
   * OR DAMAGE TO, LOSS OF OR REPLACEMENT OF DATA OR TRANSACTIONS, COST OF 
   * PROCUREMENT OF SUBSTITUTE SERVICES, BUSINESS INTERRUPTION, OR ANY OTHER 
   * COMMERCIAL DAMAGES OR LOSSES, ARISING OUT OF OR RELATED TO YOUR USE OR INABILITY 
   * TO USE THE SDK (OR ANY PART THEREOF), ANY INTEGRATED PRODUCT, OR ANY THIRD PARTY 
   * SOFTWARE, APPLICATIONS, OR SERVICES IN CONJUNCTION WITH THE SDK (OR ANY PART 
   * THEREOF), HOWEVER CAUSED, REGARDLESS OF THE THEORY OF LIABILITY (CONTRACT, TORT, 
   * OR OTHERWISE) AND EVEN IF REALSEE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH 
   * DAMAGES. IN NO EVENT WILL REALSEE’S TOTAL LIABILITY TO YOU FOR ALL DAMAGES 
   * EXCEED ONE HUNDRED DOLLARS ($100.00). THE FOREGOING LIMITATIONS WILL APPLY EVEN 
   * IF THE ABOVE STATED REMEDY FAILS OF ITS ESSENTIAL PURPOSE. THE LIMITATIONS 
   * CONTAINED IN SECTIONS 6 AND THIS SECTION 7 ARE A FUNDAMENTAL PART OF THE BASIS 
   * OF REALSEE’S BARGAIN HEREUNDER, AND REALSEE WOULD NOT ENTER INTO THIS AGREEMENT 
   * OR PROVIDE YOU WITH ACCESS TO THE SDK ABSENT SUCH LIMITATIONS.
   * 8. INDEMNIFICATION.
   * To the extent permitted by applicable law, You agree to indemnify, defend and 
   * hold harmless Realsee, its affiliates and each of their directors, officers, 
   * employees, independent contractors, and agents (each a “Realsee Indemnified 
   * Party”) from any and all claims, losses, liabilities, damages, expenses, and 
   * costs (including without limitation attorneys’ fees and court costs) incurred by 
   * a Realsee Indemnified Party as a result of: (i) Your non-compliance with any 
   * terms of this Agreement; (ii) Your use of the SDK (or any part thereof); or 
   * (iii) Your use of any Integrated Product, including any claim that Integrated 
   * Product infringes the copyright, trademark, trade secret or other intellectual 
   * property right of a third party.
   * 9. ACKNOWLEDGEMENTS.
   * Portions of the SDK may utilize or include third party software and other 
   * copyrighted material. Acknowledgments, licensing terms, and disclaimers for such 
   * material are contained in Documentation for the SDK or may otherwise accompany 
   * such material, and Your use of such materials governed by their respective 
   * terms. In the event of conflict between the terms of this Agreement and an 
   * applicable open source or third party agreement, the open source or third party 
   * agreement will control solely with respect to the open source software or third 
   * party software. Moreover, You shall not subject any items (including not limited 
   * to source code, object code, and any software)  included in the SDK to any open 
   * source license.
   * 10. NON-BLOCKING OF REALSEE DEVELOPMENT.
   * You acknowledge that Realsee is currently developing or may develop technologies 
   * and products in the future that have or may have design and/or functionality 
   * similar to Integrated Product that You may develop based on Your license herein. 
   * Nothing in this Agreement shall impair, limit or curtail Realsee's right to 
   * continue with its development, maintenance and/or distribution of Realsee's 
   * technology or products.
   * 11. GENERAL.
   * 11.1 Export Control. You may not use or otherwise export or re-export the SDK 
   * (or any part thereof) except as authorized by United States law and the laws of 
   * the jurisdiction(s) in which the SDK (or any part thereof) was obtained. In 
   * particular, but without limitation, the SDK may not be exported or re-exported 
   * (i) into any U.S. embargoed countries or (ii) to anyone on the U.S. Treasury 
   * Department's list of Specially Designated Nationals or the U.S. Department of 
   * Commerce Denied Person's List or Entity List. By using the SDK (or any part 
   * thereof), You represent and warrant that You are not located in any such country 
   * or on any such list.
   * 11.2 Governing Law. This Agreement and the rights of the parties hereunder shall 
   * be governed by and construed in accordance with the laws of People’s Republic of 
   * China (for purpose of this Agreement, excluding Hong Kong, Taiwan, and Macau), 
   * without reference to its conflict of laws principles. Any dispute, controversy 
   * or claim arising from or in connection with this Agreement, or the breach, 
   * termination or invalidity thereof, shall be submitted to China International 
   * Economic and Trade Arbitration Commission (“CIETAC”) for arbitration in Beijing 
   * which shall be conducted in accordance with the CIETAC's arbitration rules in 
   * effect at the time of applying for arbitration. The arbitral award is final and 
   * binding upon both parties.
   * 11.3 Severability. If any provision of this Agreement is held by a court of 
   * competent jurisdiction to be unenforceable for any reason, the remaining 
   * provisions hereof will be unaffected and remain in full force and effect.
   * 11.4. Modifications. Realsee reserves the right, from time to time, with or 
   * without notice to You, to make revisions to this Agreement in our sole and 
   * absolute discretion.  The most current version of this Agreement will supersede 
   * all previous versions and shall be made available on the website where the SDK 
   * is made available, or by such other means as Realsee may determine in its 
   * discretion. Any modified versions of this Agreement hereto shall take effect 
   * from the time that it is made available. You shall be responsible for regularly 
   * checking for notice of any such modifications. You agree that Your continued use 
   * of the SDK constitutes Your agreement to the modified Agreement.
   * 11.5 Relationship of the Parties. This Agreement will not be construed as 
   * creating an agency, partnership, joint venture, fiduciary duty, or any other 
   * form of legal association between You and Realsee, and You will not represent to 
   * the contrary, whether expressly, by implication, appearance, or otherwise.
   * 11.6 Entire Agreement; Governing Language. This Agreement constitutes the entire 
   * agreement between You and Realsee with respect to the use of the SDK licensed 
   * hereunder and supersedes all prior understandings regarding such subject matter. 
   * No amendment to or modification of this Agreement will be binding unless in 
   * writing and signed by Realsee. You and Realsee hereto confirm that this 
   * Agreement and all related documents shall be drafted in English.
  *)
*/
//# sourceMappingURL=@realsee_five_react.js.map
